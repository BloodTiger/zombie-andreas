const
SUNDUK_X_POS = 3@
SUNDUK_Y_POS = 4@
SUNDUK_Z_POS = 5@
end

const
SUNDUK_BANKA_COUNT = $SNDK_BAN_CNT
SUNDUK_HEAL_COUNT = $SNDK_HEL_CNT
SUNDUK_BINT_COUNT = $SNDK_BNT_CNT
SUNDUK_RADIO_COUNT = $SNDK_RAD_CNT
SUNDUK_JIMMY_COUNT = $SNDK_JIM_CNT
SUNDUK_REPAIR_COUNT = $SNDK_RPR_CNT 
SUNDUK_GASOLINE_COUNT = $SNDK_GSLN_CNT
SUNDUK_GASOLINE_COUNT2 = $SNDK_GSLN_CNT2
SUNDUK_ACTOR = $BUYER_ACTOR
SUNDUK_PLAYER = $BUYER_PLAYER
end

const
SUNDUK_WEP_SLOT1_ID = $SNDK_WP1_ID
SUNDUK_WEP_SLOT1_AMMO = $SNDK_WP1_AMM
SUNDUK_WEP_SLOT2_ID = $SNDK_WP2_ID
SUNDUK_WEP_SLOT2_AMMO = $SNDK_WP2_AMM
SUNDUK_WEP_SLOT3_ID = $SNDK_WP3_ID
SUNDUK_WEP_SLOT3_AMMO = $SNDK_WP3_AMM
SUNDUK_WEP_SLOT4_ID = $SNDK_WP4_ID
SUNDUK_WEP_SLOT4_AMMO = $SNDK_WP4_AMM
SUNDUK_WEP_SLOT5_ID = $SNDK_WP5_ID
SUNDUK_WEP_SLOT5_AMMO = $SNDK_WP5_AMM
SUNDUK_WEP_SLOT6_ID = $SNDK_WP6_ID
SUNDUK_WEP_SLOT6_AMMO = $SNDK_WP6_AMM
SUNDUK_WEP_SLOT7_ID = $SNDK_WP7_ID
SUNDUK_WEP_SLOT7_AMMO = $SNDK_WP7_AMM
SUNDUK_WEP_SLOT8_ID = $SNDK_WP8_ID
SUNDUK_WEP_SLOT8_AMMO = $SNDK_WP8_AMM
SUNDUK_WEP_SLOT9_ID = $SNDK_WP9_ID
SUNDUK_WEP_SLOT9_AMMO = $SNDK_WP9_AMM
SUNDUK_WEP_SLOT10_ID = $SNDK_WP10_ID
SUNDUK_WEP_SLOT10_AMMO = $SNDK_WP10_AMM
SUNDUK_WEP_SLOT11_ID = $SNDK_WP11_ID
SUNDUK_WEP_SLOT11_AMMO = $SNDK_WP11_AMM
SUNDUK_WEP_SLOT12_ID = $SNDK_WP12_ID
SUNDUK_WEP_SLOT12_AMMO = $SNDK_WP12_AMM
SUNDUK_WEP_SLOT1_STRING = 4@s
SUNDUK_WEP_SLOT2_STRING = v$SNDK_WP2_ST
SUNDUK_WEP_SLOT3_STRING = 8@s
SUNDUK_WEP_SLOT4_STRING = v$SNDK_WP4_ST
SUNDUK_WEP_SLOT5_STRING = 12@s
SUNDUK_WEP_SLOT6_STRING = v$SNDK_WP6_ST
SUNDUK_WEP_SLOT7_STRING = 16@s
SUNDUK_WEP_SLOT8_STRING = v$SNDK_WP8_ST
SUNDUK_WEP_SLOT9_STRING = 20@s
SUNDUK_WEP_SLOT10_STRING = v$SNDK_WP10_ST
SUNDUK_WEP_SLOT11_STRING = 24@s
SUNDUK_WEP_SLOT12_STRING = v$SNDK_WP11_ST
end

const
SND_SYS_ARRAY_STRUCT = $SND_SYS_ARR_STR
end

:SUNDUKS
thread 'SUNDUKS'

SUNDUK_BANKA_COUNT = 0
SUNDUK_HEAL_COUNT = 0
SUNDUK_BINT_COUNT = 0
SUNDUK_RADIO_COUNT = 0
SUNDUK_JIMMY_COUNT = 0
SUNDUK_REPAIR_COUNT = 0
SUNDUK_GASOLINE_COUNT = 0.0
SUNDUK_GASOLINE_COUNT2 = 0
0084: SUNDUK_ACTOR = PLAYER_ACTOR
0084: SUNDUK_PLAYER = PLAYER_CHAR

gosub @SND_SYS_WRITE_ARRAY  

:SUNDUK_IDLE

////////////////////////////////////////////////////////////////////

if and
$SAVESTATUS_TRUE == 1
$SAVING_DELAY == 1
then

while $SAVESTATUS_TRUE == 1
wait 0
end

while $SAVING_DELAY == 1
wait 0
end

gosub @SND_SYS_WRITE_ARRAY

end

////////////////////////////////////////////////////////////////////

wait 500   

if or
0A2A:   text_box 'GME1229' displayed
0A2A:   text_box 'GME1230' displayed
0A2A:   text_box 'GME1231' displayed
    then
    text.RemoveTextBox()
    end    

for 0@ = 0 to 27

0085: 31@ = 0@
31@ *= 12 //size of xyz
0EE2: read_struct_offset_multi SND_SYS_ARRAY_STRUCT offset 31@ count 3 size 4 SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS

if
0E45: frame_mod 60
then

if
UNITED_MAP == 0
then
7@ = 27
else
7@ = 21
end

if
801D: not  0@ > 7@  // (int)
    then
    0087: 6@ = SUNDUK_X_POS // (float)
    0095: make 6@ absolute_integer
    if
    6@ == 0
        then
        gosub @SND_SYS_WRITE_ARRAY
        end
    end
    
end

if or
0@ == 23
0@ == 24
0@ == 25
    then
    if
    $MIKE_STORY == 1
        then        
        if and
        0@ == 25
        DONT_DO_BURGLARY == 0
            then
            jump to @SUNDUK_SKIP_STORY_SUNDUKS
            end        
        else
        jump to @SUNDUK_SKIP_STORY_SUNDUKS
        end    
    end
    
if or
0@ == 26
0@ == 27
    then
    if
    $CARL_STORY == 1
        then
        //ass
        else
        jump to @SUNDUK_SKIP_STORY_SUNDUKS
        end    
    end
    
//////////////////////////////////SKIP SUNDUKS IN DEAD CAMPS//////////////////////////////////    

if or
CARMA_VERY_BAD_FLAG == 0
CARMA_OUTCAST_FLAG == 1
then

for 31@ = 0 to $CAMPS_COUNT2

if
00FE:   actor PLAYER_ACTOR sphere 0 in_sphere $CAMP_X[31@] $CAMP_Y[31@] $CAMP_Z[31@] radius 100.0 100.0 100.0
    then
        
    if and
    $CAMP_DEAD_FLAG[31@] == 1
    not $GAMEMODE_WAR == 1
    then
    jump to @SUNDUK_SKIP_STORY_SUNDUKS
    end
    
    if
    $ALLOW_SURVIVERS_CAMP == 0
    then
    jump to @SUNDUK_SKIP_STORY_SUNDUKS
    end
    
    if
    $CAMP_DEAD_FLAG[31@] == 2
    then
    jump to @SUNDUK_SKIP_STORY_SUNDUKS
    end    
    
    end

end 

if
$CAMP_DEAD_FLAG[14] == 2
    then
    if
    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere -2116.9656 -2413.5027 31.2345 radius 100.0 100.0 100.0
        then
        jump to @SUNDUK_SKIP_STORY_SUNDUKS
        end
    end
    
if
$CAMPS_COUNT == 15
    then
    if and
    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere -2116.9656 -2413.5027 31.2345 radius 100.0 100.0 100.0
    $CAMP_DEAD_FLAG[14] == 1
        then
        jump to @SUNDUK_SKIP_STORY_SUNDUKS
        end
    end      

end

if and
0154:   actor PLAYER_ACTOR in_zone 'ARMYZN'
$ALLOW_ARMY_CAMPS == 0
    then
    jump to @SUNDUK_SKIP_STORY_SUNDUKS
    end  
    
if and
0154:   actor PLAYER_ACTOR in_zone 'BNTDZN'
$ALLOW_BANDITS_CAMPS == 0
    then
    jump to @SUNDUK_SKIP_STORY_SUNDUKS
    end       

if and
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 100.0
PLAYER_IN_NEST_FLAG == 0
$SAVESTATUS_TRUE == 0
ZONE_SIREN_FLAG == 0
$CAMP_AGRED_FLAG2 == 0
BCAMP_AGRED_FLAG == 0
$FIST_HUD_ALWAYS == 0
$CHEAT_TYPE_FLAG == 0
then

018A: 28@ = create_checkpoint_at SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS
marker.SetIconSize(28@,2)
marker.SetColor(28@,3)

while 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 100.0
wait 0

//////////////////////////////////SKIP SUNDUKS IN DEAD CAMPS//////////////////////////////////    

if or
CARMA_VERY_BAD_FLAG == 0
CARMA_OUTCAST_FLAG == 1
then

for 31@ = 0 to $CAMPS_COUNT2
    
if and
00FE:   actor PLAYER_ACTOR sphere 0 in_sphere $CAMP_X[31@] $CAMP_Y[31@] $CAMP_Z[31@] radius 100.0 100.0 100.0
$CAMP_DEAD_FLAG[31@] == 1
not $GAMEMODE_WAR == 1
then
jump to @SUNDUK_SKIP_GOVNO
end

if and
$CAMPS_COUNT == 15
not $GAMEMODE_WAR == 1
    then
    if and
    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere -2116.9656 -2413.5027 31.2345 radius 100.0 100.0 100.0
    $CAMP_DEAD_FLAG[14] == 1
        then
        jump to @SUNDUK_SKIP_GOVNO
        end
    end

end

end

if or
PLAYER_IN_NEST_FLAG == 1
$SAVESTATUS_TRUE == 1
ZONE_SIREN_FLAG == 1
$CAMP_AGRED_FLAG2 == 1
BCAMP_AGRED_FLAG == 1
LADDER_ON_MARKER_FLAG == 1
$FIST_HUD_ALWAYS == 1
$CHEAT_TYPE_FLAG == 1
    then
    break
    end

if and
$PANEL_OPEN == 0
$PANEL_OPEN2P == 0
$KANISTRA_USING == 0
$JIMMY_USING == 0
not actor.Dead(PLAYER_ACTOR)
not actor.Driving(PLAYER_ACTOR)
8A32: not actor PLAYER_ACTOR on_turret_of_car
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 2.5
    then        
        
    if and
    $KEY_USE == 69
    8A4B: not  controls_set_to_joystick
    then                
    0512: show_permanent_text_box 'GME1229'
    else
        
    if
    0A4B:   controls_set_to_joystick
    then
    0512: show_permanent_text_box 'GME1231'
    else
    0512: show_permanent_text_box 'GME1230'
    end
        
    end
    
    LADDER_ON_MARKER_FLAG = 1
        
    while 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 2.5
    wait 0
    if and
    0AB0:   key_pressed $KEY_USE
    $PANEL_OPEN == 0
    $PANEL_OPEN2P == 0
    $KANISTRA_USING == 0
    $JIMMY_USING == 0
    not actor.Dead(PLAYER_ACTOR)
    816B: not  fading
        then
        0084: SUNDUK_ACTOR = PLAYER_ACTOR
        0084: SUNDUK_PLAYER = PLAYER_CHAR 
        0E69: set_player_control_pad_movement 0 0
        text.RemoveTextBox()
        0581: enable_radar 0
        gosub @SUNDUK_START_MENU   
        $PHRASES_OFF_FLAG = 0
        0581: enable_radar 1
        0E69: set_player_control_pad_movement 0 1
        $PANEL_OPEN = 0
        break                             
        end
    end
    
    LADDER_ON_MARKER_FLAG = 0
        
    text.RemoveTextBox()
        
    end
    
if and
056D:   actor COOP_ACTOR defined
not COOP_ACTOR == -69
    then
    if and
    $SAVESTATUS_TRUE == 0
    ZONE_SIREN_FLAG == 0
    $CAMP_AGRED_FLAG2 == 0
    BCAMP_AGRED_FLAG == 0
    LADDER_ON_MARKER_FLAG == 0
    not actor.Dead(COOP_ACTOR)
    not actor.Driving(COOP_ACTOR)    
    0EEA: locate_char_distance_to_coordinates COOP_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 2.5
        then
        
        if
        0A32:  actor COOP_ACTOR on_turret_of_car
        then
        jump to @SUNDUK_SKIP_GOVNO
        end        
            
        0512: show_permanent_text_box 'GME1231'
        
        LADDER_ON_MARKER_FLAG = 1
            
        while 0EEA: locate_char_distance_to_coordinates COOP_ACTOR pos SUNDUK_X_POS SUNDUK_Y_POS SUNDUK_Z_POS radius 2.5
        wait 0
        if and
        0E3E: is_button_just_pressed 1 button 11
        $PANEL_OPEN == 0
        $PANEL_OPEN2P == 0
        $KANISTRA_USING == 0
        $JIMMY_USING == 0
        not actor.Dead(PLAYER_ACTOR)
        816B: not  fading
            then
            0084: SUNDUK_ACTOR = COOP_ACTOR
            SUNDUK_PLAYER = 1 
            0E69: set_player_control_pad_movement 1 0
            text.RemoveTextBox()
            0581: enable_radar 0
            gosub @SUNDUK_START_MENU  
            $PHRASES_OFF_FLAG = 0
            0581: enable_radar 1
            0E69: set_player_control_pad_movement 1 1
            $PANEL_OPEN2P = 0
            break                             
            end
        end
        
        LADDER_ON_MARKER_FLAG = 0
            
        text.RemoveTextBox()
            
        end
    end    
    
end

:SUNDUK_SKIP_GOVNO

marker.Disable(28@)

end

:SUNDUK_SKIP_STORY_SUNDUKS

end

jump to @SUNDUK_IDLE

:SUNDUK_START_MENU

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PHRASES_OFF_FLAG = 1

if
$GAMEMODE_WAR == 1
then
jump to @SUNDUK_WEAPONS_MENU
end

0512: show_permanent_text_box 'GAME331'
$PANEL = 0
08D4: $PANEL = create_panel_with_title 'GME1232' position $X_MENU_SELECT_GAMEMODE $Y_MENU_SELECT_GAMEMODE width $WIDTH_MENU_SELECT_GAMEMODE columns 1 interactive 1 background 1 alignment 0  
08DB: set_panel $PANEL column 0 header 'DUMMY' data 'INV347' 'INV348' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'    

090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW 
//wait 100

:SUNDUK_START_MENU_IDLE
wait 0

if
8A2A: not  text_box 'GAME331' displayed
then
0512: show_permanent_text_box 'GAME331' 
end      

08D7: $PANEL22_ACTIVE_ROW = panel $PANEL active_row
if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $PANEL22_ACTIVE_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW > 1
        then
        $PANEL22_ACTIVE_ROW = 0
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $PANEL22_ACTIVE_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW < 0
        then
        $PANEL22_ACTIVE_ROW = 1
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end        

if
$PANEL22_ACTIVE_ROW == 0 
    then     
    text.ShowH('GMD_176',10,1)  
    if
    0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                
        jump to @SUNDUK_CHECK_INV_SHOW_START
        end
    end     
    
if
$PANEL22_ACTIVE_ROW == 1 
    then     
    text.ShowH('GMD_177',10,1)  
    if
    0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all               
        jump to @SUNDUK_WEAPONS_MENU
        end
    end         

if or
0E3E: is_just player SUNDUK_PLAYER pressed_key 15 
actor.Dead(SUNDUK_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor SUNDUK_ACTOR in_air
then
03E6: remove_text_box
08DA: remove_panel $PANEL  
00BE: text_clear_all
:GAMEMODE_WAR_ONLY_WEAP_SUNDUK_JUMP1
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
0992: set_player SUNDUK_PLAYER weapons_scrollable 1    
return
else
jump @SUNDUK_START_MENU_IDLE
end        

jump to @SUNDUK_START_MENU_IDLE
      
////////////////////////////////////////////////////////        

:SND_SYS_WRITE_ARRAY

0AC6: SND_SYS_ARRAY_STRUCT = label @SUNUDKS_POSITIONS_ARRAY offset

if
CUSTOM_MAP_FLAG == 1
then

for 13@ = 0 to 29

0AD3: v$SND_FILE = format "sn%d" 13@
if
0AF2: 21@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\SUNDUKS.ini" section v$SND_FILE key "SNX"
    then
    0AF2: 21@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\SUNDUKS.ini" section v$SND_FILE key "SNX" 
    0AF2: 22@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\SUNDUKS.ini" section v$SND_FILE key "SNY" 
    0AF2: 23@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\SUNDUKS.ini" section v$SND_FILE key "SNZ" 
    0085: 31@ = 13@
    31@ *= 12 //size of xyz
    0EE3: write_struct_offset_multi SND_SYS_ARRAY_STRUCT offset 31@ count 3 size 4 21@ 22@ 23@
    end
    
end

return
end

if
UNITED_MAP == 0
then

for 13@ = 0 to 29

0AD3: v$SND_FILE = format "sn%d" 13@
if
USHER_STORY_FLAG == 1
    then
    if or
    13@ == 7
    13@ == 8
    13@ == 9
        then
        0AD3: v$SND_FILE = format "snX%d" 13@
        end
    end

if
0AF2: 21@ = get_float_from_ini_file "data/sunduks.ini" section v$SND_FILE key "SNX"
    then
    0AF2: 21@ = get_float_from_ini_file "data/sunduks.ini" section v$SND_FILE key "SNX" 
    0AF2: 22@ = get_float_from_ini_file "data/sunduks.ini" section v$SND_FILE key "SNY" 
    0AF2: 23@ = get_float_from_ini_file "data/sunduks.ini" section v$SND_FILE key "SNZ" 
    0085: 31@ = 13@
    31@ *= 12 //size of xyz
    0EE3: write_struct_offset_multi SND_SYS_ARRAY_STRUCT offset 31@ count 3 size 4 21@ 22@ 23@
    end
end

else

if
STORIES_MAP == 0
then

for 13@ = 0 to 21
0AD3: v$SND_FILE = format "sn%d" 13@
if
0AF2: 21@ = get_float_from_ini_file "data/sunduks2.ini" section v$SND_FILE key "SNX"
    then
    0AF2: 21@ = get_float_from_ini_file "data/sunduks2.ini" section v$SND_FILE key "SNX" 
    0AF2: 22@ = get_float_from_ini_file "data/sunduks2.ini" section v$SND_FILE key "SNY" 
    0AF2: 23@ = get_float_from_ini_file "data/sunduks2.ini" section v$SND_FILE key "SNZ" 
    0085: 31@ = 13@
    31@ *= 12 //size of xyz
    0EE3: write_struct_offset_multi SND_SYS_ARRAY_STRUCT offset 31@ count 3 size 4 21@ 22@ 23@
    end
end

else

for 13@ = 0 to 21
0AD3: v$SND_FILE = format "sn%d" 13@
if
0AF2: 21@ = get_float_from_ini_file "data/sunduks3.ini" section v$SND_FILE key "SNX"
    then
    0AF2: 21@ = get_float_from_ini_file "data/sunduks3.ini" section v$SND_FILE key "SNX" 
    0AF2: 22@ = get_float_from_ini_file "data/sunduks3.ini" section v$SND_FILE key "SNY" 
    0AF2: 23@ = get_float_from_ini_file "data/sunduks3.ini" section v$SND_FILE key "SNZ" 
    0085: 31@ = 13@
    31@ *= 12 //size of xyz
    0EE3: write_struct_offset_multi SND_SYS_ARRAY_STRUCT offset 31@ count 3 size 4 21@ 22@ 23@
    end
end

end

end

return

:SUNDUK_CHECK_INV_SHOW_START    
if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if and
$ONMISSION == 0
DED_THIEF_FLAG == 2
not $ENTERED_CAMP_NUMBER == -1
then
DED_THIEF_FLAG = 1
0084: DED_THIEF_CAMP = $ENTERED_CAMP_NUMBER // (int)
//0087: 2@ = SUNDUK_Z_POS // (float)
//2@ -= 1.0
//06BA: AS_actor PLAYER_ACTOR turn_to_and_look_at SUNDUK_X_POS SUNDUK_Y_POS 2@

$QUEST_TYPE = 11169111

v$ST_DIALOG[0] = "DEDTF"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

repeat
wait 0

if
00E1: key_pressed BUYER_PLAYER 17
    then
    $END_DIALOG_INST = 1
    wait 0
    break
    end

until $DIALOG_END == 1

$QUEST_TYPE = -1
$NOTSPAWN_ETC = 0
$SURVIVORS_DONT_SPAWN_FLAG = 0

end

06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 1
0992: set_player SUNDUK_PLAYER weapons_scrollable 0
03BF: set_player SUNDUK_PLAYER ignored_by_everyone 0
015D: set_gamespeed 0.1

$MAX_WEIGHT2 = 60

gosub @WEIGHT_SET_SND_INV
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end 

$PANEL = 0
08D4: $PANEL = create_panel_with_title 'INV373' position 71.0 130.0 width 300.0 columns 2 interactive 1 background 1 alignment 1 
08DB: set_panel $PANEL column 0 header 'DUMMY' data 'INV1' 'INV5' 'INV9' 'INV349' 'INV35' 'INV90' 'INV196' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
 
if and
8A4B: not  controls_set_to_joystick
BUYER_PLAYER == 0
then
0512: show_permanent_text_box 'INV70B'  
else
0512: show_permanent_text_box 'INV70C'
end

08D6: set_panel $PANEL column 1 alignment 1 
08EE: set_panel $PANEL column 1 row 0 text_1number GXT 'INV3' number SUNDUK_BANKA_COUNT 
08EE: set_panel $PANEL column 1 row 1 text_1number GXT 'INV3' number SUNDUK_HEAL_COUNT
08EE: set_panel $PANEL column 1 row 2 text_1number GXT 'INV3' number SUNDUK_BINT_COUNT
08EE: set_panel $PANEL column 1 row 3 text_1number GXT 'INV3B' number SUNDUK_GASOLINE_COUNT2  
08EE: set_panel $PANEL column 1 row 4 text_1number GXT 'INV3' number SUNDUK_RADIO_COUNT
08EE: set_panel $PANEL column 1 row 5 text_1number GXT 'INV3' number SUNDUK_JIMMY_COUNT
08EE: set_panel $PANEL column 1 row 6 text_1number GXT 'INV3' number SUNDUK_REPAIR_COUNT
09DB: set_panel $PANEL column 0 width 142 
09DB: set_panel $PANEL column 1 width 25

008B: 1@ = $MINUTES_PLAYED // (int)
008B: 2@ = $HOURS_PLAYED // (int)
2@ *= 60
005A: 1@ += 2@  // (int)

$INVENTORY_PANEL = 0
08D4: $INVENTORY_PANEL = create_panel_with_title 'INV2' position 352.0 130.0 width 100.0 columns 2 interactive 0 background 1 alignment 1 
08DB: set_panel $INVENTORY_PANEL column 0 header 'DUMMY' data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY' 
08D6: set_panel $INVENTORY_PANEL column 1 alignment 1
if
BUYER_PLAYER == 0
then 

if
$KANISTRA > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
$KANISTRA_FUEL2 = 0
end

08EE: set_panel $INVENTORY_PANEL column 1 row 0 text_1number GXT 'INV3' number $BANKA 
08EE: set_panel $INVENTORY_PANEL column 1 row 1 text_1number GXT 'INV3' number $HEAL 
08EE: set_panel $INVENTORY_PANEL column 1 row 2 text_1number GXT 'INV3' number $BINT 
if
$KANISTRA > 0
then
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel $INVENTORY_PANEL column 1 row 4 text_1number GXT 'INV3' number $RADIO
08EE: set_panel $INVENTORY_PANEL column 1 row 5 text_1number GXT 'INV3' number $JIMMY
08EE: set_panel $INVENTORY_PANEL column 1 row 6 text_1number GXT 'INV3' number $REPAIR_KIT
else

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
else
$KANISTRA_FUEL2 = 0
end

08EE: set_panel $INVENTORY_PANEL column 1 row 0 text_1number GXT 'INV3' number $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $INVENTORY_PANEL column 1 row 1 text_1number GXT 'INV3' number $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $INVENTORY_PANEL column 1 row 2 text_1number GXT 'INV3' number $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM]

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then 
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel $INVENTORY_PANEL column 1 row 4 text_1number GXT 'INV3' number $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $INVENTORY_PANEL column 1 row 5 text_1number GXT 'INV3' number $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $INVENTORY_PANEL column 1 row 6 text_1number GXT 'INV3' number $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM]
end
08EE: set_panel $INVENTORY_PANEL column 1 row 8 text_1number GXT s$WEIGHT_STRING number $ITEMS_WEIGHT3  
08EE: set_panel $INVENTORY_PANEL column 1 row 9 text_1number GXT s$TIME_STRING number 1@
08EE: set_panel $INVENTORY_PANEL column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY
09DB: set_panel $INVENTORY_PANEL column 0 width 142 
09DB: set_panel $INVENTORY_PANEL column 1 width 25
090E: set_panel $PANEL active_row $ROW_INV
090E: set_panel $INVENTORY_PANEL active_row $ROW_INV 
wait 10
//cinema.Widescreen(1)
jump @SUNDUK_CHECK_INV_CHECK1

//Проверка инвертаря//

:2SNDGIVE_MENU

if or
0A4B:   controls_set_to_joystick
BUYER_PLAYER == 1
then
1@ = 10
32@ = 51
else
1@ = 11
end
 
if 
00E1:   player SUNDUK_PLAYER pressed_key 1@ 
jf @2SNDTAKE_MENU
08D7: $ROW_INV = panel $PANEL active_row 
08DA: remove_panel $PANEL
08DA: remove_panel $INVENTORY_PANEL 
//$PANEL_OPEN = 0
03E6: remove_text_box
0871: init_jump_table $ROW_INV total_jumps 7 default_jump 0 @SUNDUK_CHECK_INV_CHECK1 jumps 0 @2SNDGIVE_EAT 1 @2SNDGIVE_HEAL 2 @2SNDGIVE_BINT 3 @2SNDGIVE_GASOLINE 4 @2SNDGIVE_RADIO 5 @2SNDGIVE_JIMMY 6 @2SNDGIVE_REPAIR
0872: jump_table_jumps 7 @2SNDGIVE_REPAIR 8 @2SNDGIVE_REPAIR 9 @2SNDGIVE_REPAIR 10 @2SNDGIVE_REPAIR 11 @2SNDGIVE_REPAIR 12 @2SNDGIVE_REPAIR 13 @2SNDGIVE_REPAIR 14 @2SNDGIVE_REPAIR 15 @2SNDGIVE_REPAIR

:2SNDTAKE_MENU

if or
0A4B:   controls_set_to_joystick
BUYER_PLAYER == 1
then
1@ = 11
32@ = 51
else
1@ = 10
end
 
if 
00E1:   player SUNDUK_PLAYER pressed_key 1@ 
jf @SUNDUK_CHECK_INV_CHECK1
08D7: $ROW_INV = panel $PANEL active_row 
08DA: remove_panel $PANEL
08DA: remove_panel $INVENTORY_PANEL 
//$PANEL_OPEN = 0
03E6: remove_text_box
0871: init_jump_table $ROW_INV total_jumps 7 default_jump 0 @SUNDUK_CHECK_INV_CHECK1 jumps 0 @2SNDTAKE_EAT 1 @2SNDTAKE_HEAL 2 @2SNDTAKE_BINT 3 @2SNDTAKE_GASOLINE 4 @2SNDTAKE_RADIO 5 @2SNDTAKE_JIMMY 6 @2SNDTAKE_REPAIR
0872: jump_table_jumps 7 @2SNDTAKE_REPAIR 8 @2SNDTAKE_REPAIR 9 @2SNDTAKE_REPAIR 10 @2SNDTAKE_REPAIR 11 @2SNDTAKE_REPAIR 12 @2SNDTAKE_REPAIR 13 @2SNDTAKE_REPAIR 14 @2SNDTAKE_REPAIR 15 @2SNDTAKE_REPAIR

:SUNDUK_CHECK_INV_CHECK1
wait 0
08D7: $ROW_INV = panel $PANEL active_row
090E: set_panel $INVENTORY_PANEL active_row $ROW_INV

if
BUYER_PLAYER == 1
then

if
0E3E: is_button_just_pressed 1 button 9
    then
    $ROW_INV += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $ROW_INV > 6
        then
        $ROW_INV = 0        
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV        
        090E: set_panel $PANEL active_row $ROW_INV
        else        
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV        
        090E: set_panel $PANEL active_row $ROW_INV
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $ROW_INV -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $ROW_INV < 0
        then
        $ROW_INV = 6        
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV        
        090E: set_panel $PANEL active_row $ROW_INV
        else
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV        
        090E: set_panel $PANEL active_row $ROW_INV
        end
    end
end

if or
00E1:   player SUNDUK_PLAYER pressed_key 15
actor.Dead(SUNDUK_ACTOR) 
jf @2SNDGIVE_MENU 
03E6: remove_text_box 
08DA: remove_panel $PANEL
08DA: remove_panel $INVENTORY_PANEL
015D: set_gamespeed 1.0
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
0992: set_player SUNDUK_PLAYER weapons_scrollable 1
//$PANEL_OPEN = 0
//0792: SUNDUK_ACTOR
//0792: SUNDUK_ACTOR     
//$INV_CLOSED = 1
//cinema.Widescreen(0)
//07CC: set_player SUNDUK_PLAYER can_enter_exit_vehicles 0
//wait 100
//07CC: set_player SUNDUK_PLAYER can_enter_exit_vehicles 1
//$INV_CLOSED = 0
jump @SUNDUK_CHECK_RETURN

:SUNDUK_CHECK_RETURN
jump to @SUNDUK_START_MENU

//Давание вещей//

:2SNDGIVE_EAT
if
BUYER_PLAYER == 0
then
if
$BANKA > 0
jf @2SNDGIVE_DONT_HAVE
$BANKA -= 1
SUNDUK_BANKA_COUNT += 1
else
if
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_BANKA_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV72C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_HEAL
if
BUYER_PLAYER == 0
then
if
$HEAL > 0
jf @2SNDGIVE_DONT_HAVE
$HEAL -= 1
SUNDUK_HEAL_COUNT += 1
else
if
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_HEAL_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV73C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_BINT
if
BUYER_PLAYER == 0
then
if
$BINT > 0
jf @2SNDGIVE_DONT_HAVE
$BINT -= 1
SUNDUK_BINT_COUNT += 1
else
if
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_BINT_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV74C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_RADIO
if
BUYER_PLAYER == 0
then
if
$RADIO > 0
jf @2SNDGIVE_DONT_HAVE
if
$RADIO > 1
jf @2SNDGIVE_RADIO_LAST
$RADIO -= 1
SUNDUK_RADIO_COUNT += 1
else
if
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
if
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 1
jf @2SNDGIVE_RADIO_LAST
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_RADIO_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV76C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_JIMMY
if
BUYER_PLAYER == 0
then
if
$JIMMY > 0
jf @2SNDGIVE_DONT_HAVE
$JIMMY -= 1
SUNDUK_JIMMY_COUNT += 1
else
if
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_JIMMY_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV120C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_REPAIR
if
BUYER_PLAYER == 0
then
if
$REPAIR_KIT > 0
jf @2SNDGIVE_DONT_HAVE
$REPAIR_KIT -= 1
SUNDUK_REPAIR_COUNT += 1
else
if
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @2SNDGIVE_DONT_HAVE
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] -= 1
SUNDUK_REPAIR_COUNT += 1
end
00BC: show_text_highpriority GXT 'INV201C' time 200 flag 1
gosub @PLAY_DROP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_GASOLINE
if
BUYER_PLAYER == 0
then
if
not $KANISTRA == 0
jf @2SNDGIVE_DONT_HAVE2
if
not $KANISTRA_FUEL < 0.1
jf @2SNDGIVE_DONT_HAVE3
else
if
not $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
jf @2SNDGIVE_DONT_HAVE2
if
not $KANISTRA_FUEL_2P < 0.1
jf @2SNDGIVE_DONT_HAVE3
end

015D: set_gamespeed 1.0
cinema.Radar(1)

while not animation.Available("CAR_CHECKS")
wait 0
animation.Load("CAR_CHECKS")
end

0470: $PLAYER_PREV_WEAP = actor SUNDUK_ACTOR current_weapon
01B9: set_actor SUNDUK_ACTOR armed_weapon_to 0
0992: set_player SUNDUK_PLAYER weapons_scrollable 0
if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then
repeat
wait 0
until 82D8: not  actor SUNDUK_ACTOR current_weapon == $PLAYER_PREV_WEAP
end 
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY)
gosub @BENZIN_SUNDUK_MINUS2
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 0)
Audiostream.PerformAction($GASCAN_USE_SOUND, STOP)
animation.Release("CAR_CHECKS")
015D: set_gamespeed 0.1
cinema.Radar(0)
jump @SUNDUK_CHECK_INV_SHOW_START

:BENZIN_SUNDUK_MINUS2
wait 20

gosub @BENZIN_SUNDUK_SHOW_TEXT

if
BUYER_PLAYER == 0
then

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1
else
$KANISTRA_FUEL -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1

$KANISTRA_FUEL -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1

$KANISTRA_FUEL -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1
end

if
PERK_RUNSPEED == 2
then
$KANISTRA_FUEL -= 0.05
SUNDUK_GASOLINE_COUNT += 0.05
end

else

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL_2P -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1
else
$KANISTRA_FUEL_2P -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1

$KANISTRA_FUEL_2P -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1

$KANISTRA_FUEL_2P -= 0.1
SUNDUK_GASOLINE_COUNT += 0.1
end

if
PERK_RUNSPEED == 2
then
$KANISTRA_FUEL_2P -= 0.05
SUNDUK_GASOLINE_COUNT += 0.05
end

end

if and
80E1: not player SUNDUK_PLAYER pressed_key 15
0184:   actor SUNDUK_ACTOR health >= 1
$HUNTER_ON_PLAYER == 0
not actor.Dead(SUNDUK_ACTOR)
jf @BENZIN_SUNDUK_IN
if
actor.Animation(SUNDUK_ACTOR) == "car_check"
jf @BENZIN_SUNDUK_IN

23@ = 32546.0

if
BUYER_PLAYER == 0
then
if
not $KANISTRA_FUEL < 0.1
jf @KANISTRA_PUSTA2_SUNDUK
else
if
not $KANISTRA_FUEL_2P < 0.1
jf @KANISTRA_PUSTA2_SUNDUK
end

jump @BENZIN_SUNDUK_MINUS2

:BENZIN_SUNDUK_IN
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1  
//0792: disembark_instantly_actor SUNDUK_ACTOR
0151: remove_status_text SUNDUK_GASOLINE_COUNT2
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
01B9: set_actor SUNDUK_ACTOR armed_weapon_to $PLAYER_PREV_WEAP 
0992: set_player SUNDUK_PLAYER weapons_scrollable 1                                                               
return

:KANISTRA_PUSTA2_SUNDUK
00BC: show_text_highpriority GXT 'INV29C' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1  
//0792: disembark_instantly_actor SUNDUK_ACTOR
0151: remove_status_text SUNDUK_GASOLINE_COUNT2
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
01B9: set_actor SUNDUK_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player SUNDUK_PLAYER weapons_scrollable 1                                                             
return

:BENZIN_SUNDUK_SHOW_TEXT

008C: SUNDUK_GASOLINE_COUNT2 = float SUNDUK_GASOLINE_COUNT to_integer
if and
not $QUEST_TYPE == 5
not SUPPLY_TEXT_FLAG == 1
then 
04F7: vagina_text SUNDUK_GASOLINE_COUNT2 type 0 line 1 GXT 'INV113'
else

if and
$QUEST_TYPE == 5
not RQUEST_TIMER_STOPPED_FLAG == 1
then
04F7: vagina_text SUNDUK_GASOLINE_COUNT2 type 0 line 2 GXT 'INV113'
else

if
SUPPLY_TEXT_FLAG == 0
then
04F7: vagina_text SUNDUK_GASOLINE_COUNT2 type 0 line 1 GXT 'INV113'
else
04F7: vagina_text SUNDUK_GASOLINE_COUNT2 type 0 line 2 GXT 'INV113'
end

end

end

return

//Взятие вещей//

:2SNDTAKE_EAT
if
SUNDUK_BANKA_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$BANKA += 1
else
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_BANKA_COUNT -= 1
00BC: show_text_highpriority GXT 'INV79C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_HEAL
if
SUNDUK_HEAL_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$HEAL += 1
else
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_HEAL_COUNT -= 1
00BC: show_text_highpriority GXT 'INV80C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_BINT
if
SUNDUK_BINT_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$BINT += 1
else
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_BINT_COUNT -= 1
00BC: show_text_highpriority GXT 'INV81C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_RADIO
if
SUNDUK_RADIO_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$RADIO += 1
else
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_RADIO_COUNT -= 1
00BC: show_text_highpriority GXT 'INV83C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_JIMMY
if
SUNDUK_JIMMY_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$JIMMY += 1
else
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_JIMMY_COUNT -= 1
00BC: show_text_highpriority GXT 'INV121C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_REPAIR
if
SUNDUK_REPAIR_COUNT > 0
jf @2SNDTAKE_DONT_HAVE
if
BUYER_PLAYER == 0
then
$REPAIR_KIT += 1
else
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] += 1
end
SUNDUK_REPAIR_COUNT -= 1
00BC: show_text_highpriority GXT 'INV202C' time 200 flag 1
gosub @PLAY_PICKUP_SOUND_CORPSE
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_GASOLINE

if
BUYER_PLAYER == 0
then
if
not $KANISTRA == 0
jf @2SNDGIVE_DONT_HAVE2
if
not $KANISTRA_FUEL >= 25.0
jf @2SNDKANISTRA_IS_FULL
else
if
not $KANISTRA_FUEL_2P >= 25.0
jf @2SNDKANISTRA_IS_FULL
if
not $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
jf @2SNDGIVE_DONT_HAVE2
end

if
not SUNDUK_GASOLINE_COUNT < 0.1
jf @2SNDGIVE_DONT_HAVE4

015D: set_gamespeed 1.0
cinema.Radar(1)

while not animation.Available("CAR_CHECKS")
wait 0
animation.Load("CAR_CHECKS")
end

0470: $PLAYER_PREV_WEAP = actor SUNDUK_ACTOR current_weapon
01B9: set_actor SUNDUK_ACTOR armed_weapon_to 0
0992: set_player SUNDUK_PLAYER weapons_scrollable 0
if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then
repeat
wait 0
until 82D8: not  actor SUNDUK_ACTOR current_weapon == $PLAYER_PREV_WEAP
end 
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY)
gosub @BENZIN_SUNDUK_PLUS2
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 0)
Audiostream.PerformAction($GASCAN_USE_SOUND, STOP)
animation.Release("CAR_CHECKS")
015D: set_gamespeed 0.1
cinema.Radar(0)
jump @SUNDUK_CHECK_INV_SHOW_START

:BENZIN_SUNDUK_PLUS2
wait 20

gosub @BENZIN_SUNDUK_SHOW_TEXT

if
BUYER_PLAYER == 0
then

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1
else
$KANISTRA_FUEL += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1

$KANISTRA_FUEL += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1

$KANISTRA_FUEL += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1
end

if
PERK_RUNSPEED == 2
then
$KANISTRA_FUEL += 0.05
SUNDUK_GASOLINE_COUNT -= 0.05
end

else

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL_2P += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1
else
$KANISTRA_FUEL_2P += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1

$KANISTRA_FUEL_2P += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1

$KANISTRA_FUEL_2P += 0.1
SUNDUK_GASOLINE_COUNT -= 0.1
end


if
PERK_RUNSPEED == 2
then
$KANISTRA_FUEL_2P += 0.05
SUNDUK_GASOLINE_COUNT -= 0.05
end

end

if and
80E1: not player SUNDUK_PLAYER pressed_key 15
0184:   actor SUNDUK_ACTOR health >= 1
$HUNTER_ON_PLAYER == 0
not actor.Dead(SUNDUK_ACTOR)
jf @BENZIN_SUNDUK_OUT
if
actor.Animation(SUNDUK_ACTOR) == "car_check"
jf @BENZIN_SUNDUK_OUT
if 
SUNDUK_GASOLINE_COUNT >= 0.1
jf @BAK_PUST_SUNDUK
if
BUYER_PLAYER == 0
then
if
not $KANISTRA_FUEL >= 25.0
jf @KANISTRA_FULL2_SUNDUK
else
if
not $KANISTRA_FUEL_2P >= 25.0
jf @KANISTRA_FULL2_SUNDUK
end
jump @BENZIN_SUNDUK_PLUS2

:BENZIN_SUNDUK_OUT
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1  
//0792: disembark_instantly_actor SUNDUK_ACTOR
0151: remove_status_text SUNDUK_GASOLINE_COUNT2
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
01B9: set_actor SUNDUK_ACTOR armed_weapon_to $PLAYER_PREV_WEAP 
0992: set_player SUNDUK_PLAYER weapons_scrollable 1                                                               
return

:KANISTRA_FULL2_SUNDUK
00BC: show_text_highpriority GXT 'INV26' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor SUNDUK_ACTOR
0151: remove_status_text SUNDUK_GASOLINE_COUNT2
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
01B9: set_actor SUNDUK_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player SUNDUK_PLAYER weapons_scrollable 1
return

:BAK_PUST_SUNDUK
00BC: show_text_highpriority GXT 'INV28C' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor SUNDUK_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor SUNDUK_ACTOR
0151: remove_status_text SUNDUK_GASOLINE_COUNT2
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
01B9: set_actor SUNDUK_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player SUNDUK_PLAYER weapons_scrollable 1 
return

//Текстовые сообщения//

:2SNDGIVE_DONT_HAVE
00BC: show_text_highpriority GXT 'INV7' time 200 flag 1
05C1: AS_actor SUNDUK_ACTOR speak_from_audio_table 101
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_DONT_HAVE2
00BC: show_text_highpriority GXT 'INV350' time 200 flag 1
05C1: AS_actor SUNDUK_ACTOR speak_from_audio_table 101
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_DONT_HAVE3
00BC: show_text_highpriority GXT 'INV351' time 200 flag 1
05C1: AS_actor SUNDUK_ACTOR speak_from_audio_table 101
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_DONT_HAVE4
00BC: show_text_highpriority GXT 'INV352' time 200 flag 1
05C1: AS_actor SUNDUK_ACTOR speak_from_audio_table 101
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_RADIO_HAVE
00BC: show_text_highpriority GXT 'INV78С' time 200 flag 1
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDGIVE_RADIO_LAST
00BC: show_text_highpriority GXT 'INV279B' time 200 flag 1
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDTAKE_DONT_HAVE
00BC: show_text_highpriority GXT 'INV84C' time 200 flag 1
jump @SUNDUK_CHECK_INV_SHOW_START

:2SNDKANISTRA_IS_FULL
00BC: show_text_highpriority GXT 'INV26' time 200 flag 1
jump @SUNDUK_CHECK_INV_SHOW_START

:WEIGHT_SET_SND_INV

$TEMP_WEIGHT = 0.0

0089: BANKA_WEIGHT2 = $BANKA_WEIGHT // (float)
0089: HEAL_WEIGHT2 = $HEAL_WEIGHT // (float)
0089: BINT_WEIGHT2 = $BINT_WEIGHT // (float)
0089: RADIO_WEIGHT2 = $RADIO_WEIGHT // (float)
0089: KANISTRA_WEIGHT2 = $KANISTRA_WEIGHT // (float)
0089: JIMMY_WEIGHT2 = $JIMMY_WEIGHT // (float)
0089: REPAIR_KIT_WEIGHT2 = $REPAIR_KIT_WEIGHT // (float)

if
BUYER_PLAYER == 0
then
008B: BANKA2 = $BANKA // (int)
008B: HEAL2 = $HEAL // (int)
008B: BINT2 = $BINT // (int)
008B: RADIO2 = $RADIO // (int)
008B: JIMMY2 = $JIMMY // (int)
008B: REPAIR_KIT2 = $REPAIR_KIT // (int)
else
008B: BANKA2 = $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: HEAL2 = $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: BINT2 = $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: RADIO2 = $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: JIMMY2 = $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: REPAIR_KIT2 = $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] // (int)
end

0093: BANKA2 = integer BANKA2 to_float
0093: HEAL2 = integer HEAL2 to_float
0093: BINT2 = integer BINT2 to_float
0093: RADIO2 = integer RADIO2 to_float
0093: JIMMY2 = integer JIMMY2 to_float
0093: REPAIR_KIT2 = integer REPAIR_KIT2 to_float
         
006B: BANKA_WEIGHT2 *= BANKA2 // (float)
006B: HEAL_WEIGHT2 *= HEAL2 // (float)
006B: BINT_WEIGHT2 *= BINT2 // (float)
006B: RADIO_WEIGHT2 *= RADIO2 // (float)
if
BUYER_PLAYER == 0
then
006F: KANISTRA_WEIGHT2 *= $KANISTRA_FUEL // (float)
else
006F: KANISTRA_WEIGHT2 *= $KANISTRA_FUEL_2P // (float)
end
006B: JIMMY_WEIGHT2 *= JIMMY2 // (float)
006B: REPAIR_KIT_WEIGHT2 *= REPAIR_KIT2 // (float)

005F: $TEMP_WEIGHT += BANKA_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += HEAL_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += BINT_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += RADIO_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += JIMMY_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += REPAIR_KIT_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += KANISTRA_WEIGHT2 // (float)

0059: $TEMP_WEIGHT += EXTRA_WEIGHT // (float)

010B: 0@ = player 0 money
0093: 0@ = integer 0@ to_float
0@ /= 10000.0
if
0@ < 0.0
then
0@ = 0.0
end
005F: $TEMP_WEIGHT += 0@  // (float)

04DD: 0@ = actor SUNDUK_ACTOR armour
if
0@ > 0
    then
    $TEMP_WEIGHT += 1.5
    end
    
if
not $ALLOW_BACKPACK_WEIGHT == 0    
then
0086: $ITEMS_WEIGHT = $TEMP_WEIGHT // (float)
else
$ITEMS_WEIGHT = 0.0
return
end

gosub @WEAPON_WEIGHT_SET_SND_INV

return

:WEAPON_WEIGHT_SET_SND_INV

if or
0491:   actor SUNDUK_ACTOR has_weapon 22
0491:   actor SUNDUK_ACTOR has_weapon 111
0491:   actor SUNDUK_ACTOR has_weapon 136
0491:   actor SUNDUK_ACTOR has_weapon 165
0491:   actor SUNDUK_ACTOR has_weapon 195 
    then   
    041A: 0@ = actor SUNDUK_ACTOR weapon 22 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 111 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 136 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 165 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 195 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COLT_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 23
    then
    
    041A: 0@ = actor SUNDUK_ACTOR weapon 23 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COLT_SILENCED_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 24
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 24 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $HPISTOL_AMMO_WEIGHT // (float) 
    0059: $ITEMS_WEIGHT += $DESERT_EAGLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 25
0491:   actor SUNDUK_ACTOR has_weapon 138
0491:   actor SUNDUK_ACTOR has_weapon 113
0491:   actor SUNDUK_ACTOR has_weapon 172
0491:   actor SUNDUK_ACTOR has_weapon 202
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 25 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 138 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 113 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 172 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 202 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SHOTGUN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 26
0491:   actor SUNDUK_ACTOR has_weapon 140
0491:   actor SUNDUK_ACTOR has_weapon 174
0491:   actor SUNDUK_ACTOR has_weapon 204
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 26 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 140 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 174 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 204 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SAWNOFF_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 27
0491:   actor SUNDUK_ACTOR has_weapon 139
0491:   actor SUNDUK_ACTOR has_weapon 173
0491:   actor SUNDUK_ACTOR has_weapon 203
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 27 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 139 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 173 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 203 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SHOTGSPA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 28
0491:   actor SUNDUK_ACTOR has_weapon 117
0491:   actor SUNDUK_ACTOR has_weapon 142
0491:   actor SUNDUK_ACTOR has_weapon 168
0491:   actor SUNDUK_ACTOR has_weapon 198
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 28 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 117 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 142 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 168 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 198 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MICRO_UZI_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 29
0491:   actor SUNDUK_ACTOR has_weapon 143
0491:   actor SUNDUK_ACTOR has_weapon 169
0491:   actor SUNDUK_ACTOR has_weapon 199
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 29 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 143 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 169 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 199 ammo 
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MP5_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 32
0491:   actor SUNDUK_ACTOR has_weapon 141
0491:   actor SUNDUK_ACTOR has_weapon 167
0491:   actor SUNDUK_ACTOR has_weapon 197
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 32 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 141 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 167 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 197 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $TEC9_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 30
0491:   actor SUNDUK_ACTOR has_weapon 112
0491:   actor SUNDUK_ACTOR has_weapon 145
0491:   actor SUNDUK_ACTOR has_weapon 171
0491:   actor SUNDUK_ACTOR has_weapon 201
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 30 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 112 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 145 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 171 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 201 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then    
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AK47_WEIGHT // (float)
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)    
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 31
0491:   actor SUNDUK_ACTOR has_weapon 116
0491:   actor SUNDUK_ACTOR has_weapon 144
0491:   actor SUNDUK_ACTOR has_weapon 170
0491:   actor SUNDUK_ACTOR has_weapon 200
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 31 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 116 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 144 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 170 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 200 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)    
    0059: $ITEMS_WEIGHT += $M4_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)    
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 33
0491:   actor SUNDUK_ACTOR has_weapon 120
0491:   actor SUNDUK_ACTOR has_weapon 146
0491:   actor SUNDUK_ACTOR has_weapon 175
0491:   actor SUNDUK_ACTOR has_weapon 205
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 33 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 120 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 146 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 175 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 205 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COUNTRY_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 34
0491:   actor SUNDUK_ACTOR has_weapon 147
0491:   actor SUNDUK_ACTOR has_weapon 176
0491:   actor SUNDUK_ACTOR has_weapon 206
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 34 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 147 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 176 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 206 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SNIPER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 35
0491:   actor SUNDUK_ACTOR has_weapon 119
0491:   actor SUNDUK_ACTOR has_weapon 135
0491:   actor SUNDUK_ACTOR has_weapon 183
0491:   actor SUNDUK_ACTOR has_weapon 213
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 35 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 119 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 135 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 183 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 213 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $ROCKET_LAUNCHER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end 

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 36
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 36 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $ROCKET_LAUNCHER2_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 37
0491:   actor SUNDUK_ACTOR has_weapon 114
0491:   actor SUNDUK_ACTOR has_weapon 148
0491:   actor SUNDUK_ACTOR has_weapon 180
0491:   actor SUNDUK_ACTOR has_weapon 210
    then   
    041A: 0@ = actor SUNDUK_ACTOR weapon 37 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 114 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 148 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 180 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 210 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $FLAME_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FLAME_THROWER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end   

//////////////////

if or
0491:   actor SUNDUK_ACTOR has_weapon 38
0491:   actor SUNDUK_ACTOR has_weapon 150
0491:   actor SUNDUK_ACTOR has_weapon 182
0491:   actor SUNDUK_ACTOR has_weapon 212
    then   
    041A: 0@ = actor SUNDUK_ACTOR weapon 38 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 150 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 182 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 212 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MINIGUN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)  
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 70
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 70 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $M60_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if or
0491:   actor SUNDUK_ACTOR has_weapon 71
0491:   actor SUNDUK_ACTOR has_weapon 137
0491:   actor SUNDUK_ACTOR has_weapon 166
0491:   actor SUNDUK_ACTOR has_weapon 196
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 71 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 137 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 166 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 196 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $REVOLVER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor SUNDUK_ACTOR has_weapon 72
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 72 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FAMAS_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

////////////////// 

if
0491:   actor SUNDUK_ACTOR has_weapon 73
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 73 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SSG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

////////////////// 

if
0491:   actor SUNDUK_ACTOR has_weapon 74
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 74 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $THOMPSON_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor SUNDUK_ACTOR has_weapon 75
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 75 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $IA2_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor SUNDUK_ACTOR has_weapon 76
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 76 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FIVESEVEN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor SUNDUK_ACTOR has_weapon 77
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 77 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BIZON_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 78
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 78 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AA12_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 79
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 79 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $UMP45_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 80
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 80 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HSNIPER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 81
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 81 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $GROZA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 82
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 82 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SCAR_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 83
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 83 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AUG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 84
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 84 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MP9_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 85
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 85 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HKMP5_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 86
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 86 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $P90_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 87
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 87 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SCORPION_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor SUNDUK_ACTOR has_weapon 88
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 88 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $CAR15_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 89
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 89 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BERETTA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 90
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 90 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $WIDMAG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 91
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 91 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $STUBBY_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 93
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 93 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $QUADROCK_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 94
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 94 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $M249_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 95
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 95 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AR15_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 96
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 96 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SVD_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 97
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 97 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BOLT308_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 98
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 98 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $CZ75_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 99
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 99 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $G36C_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 100
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 100 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SAIGA12_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 101
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 101 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SIG550_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 102
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 102 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $STRIKER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 103
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 103 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $XM1014_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 104
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 104 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $GALIL_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor SUNDUK_ACTOR has_weapon 105
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 105 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HK416_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 16
0491:   actor SUNDUK_ACTOR has_weapon 115
0491:   actor SUNDUK_ACTOR has_weapon 132
0491:   actor SUNDUK_ACTOR has_weapon 177
0491:   actor SUNDUK_ACTOR has_weapon 207
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 16 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 115 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 132 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 177 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 207 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $GRENADE_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $GRENADE_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $GRENADE_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $GRENADE_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $GRENADE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 18
0491:   actor SUNDUK_ACTOR has_weapon 118
0491:   actor SUNDUK_ACTOR has_weapon 134
0491:   actor SUNDUK_ACTOR has_weapon 179
0491:   actor SUNDUK_ACTOR has_weapon 209
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 18 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 118 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 134 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 179 ammo
    041A: 4@ = actor SUNDUK_ACTOR weapon 209 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MOLOTOV_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $MOLOTOV_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $MOLOTOV_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $MOLOTOV_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $MOLOTOV_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 17
0491:   actor SUNDUK_ACTOR has_weapon 133
0491:   actor SUNDUK_ACTOR has_weapon 178
0491:   actor SUNDUK_ACTOR has_weapon 208
    then
    041A: 0@ = actor SUNDUK_ACTOR weapon 17 ammo
    041A: 1@ = actor SUNDUK_ACTOR weapon 133 ammo
    041A: 2@ = actor SUNDUK_ACTOR weapon 178 ammo
    041A: 3@ = actor SUNDUK_ACTOR weapon 208 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $GAS_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $GAS_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $GAS_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $GAS_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 3
0491:   actor SUNDUK_ACTOR has_weapon 124
0491:   actor SUNDUK_ACTOR has_weapon 160
0491:   actor SUNDUK_ACTOR has_weapon 190
    then
    0059: $ITEMS_WEIGHT += $NITESTICK_WEIGHT // (float)
    end
    
//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 4
0491:   actor SUNDUK_ACTOR has_weapon 10
0491:   actor SUNDUK_ACTOR has_weapon 11
0491:   actor SUNDUK_ACTOR has_weapon 12
0491:   actor SUNDUK_ACTOR has_weapon 13
0491:   actor SUNDUK_ACTOR has_weapon 125
0491:   actor SUNDUK_ACTOR has_weapon 156
0491:   actor SUNDUK_ACTOR has_weapon 186
    then
    0059: $ITEMS_WEIGHT += $KNIFE_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor SUNDUK_ACTOR has_weapon 122
0491:   actor SUNDUK_ACTOR has_weapon 127
0491:   actor SUNDUK_ACTOR has_weapon 128
0491:   actor SUNDUK_ACTOR has_weapon 129
0491:   actor SUNDUK_ACTOR has_weapon 155
0491:   actor SUNDUK_ACTOR has_weapon 158
0491:   actor SUNDUK_ACTOR has_weapon 162
    then
    0059: $ITEMS_WEIGHT += $KNIFE_WEIGHT // (float)
    end
    
//////////////////        

if or
0491:   actor SUNDUK_ACTOR has_weapon 5
0491:   actor SUNDUK_ACTOR has_weapon 7
0491:   actor SUNDUK_ACTOR has_weapon 110
0491:   actor SUNDUK_ACTOR has_weapon 126
0491:   actor SUNDUK_ACTOR has_weapon 161
0491:   actor SUNDUK_ACTOR has_weapon 191
    then
    0059: $ITEMS_WEIGHT += $BAT_WEIGHT // (float)
    end
    
//////////////////    

if
0491:   actor SUNDUK_ACTOR has_weapon 6
    then
    0059: $ITEMS_WEIGHT += $SHOVEL_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor SUNDUK_ACTOR has_weapon 2
0491:   actor SUNDUK_ACTOR has_weapon 123
0491:   actor SUNDUK_ACTOR has_weapon 189
    then
    0059: $ITEMS_WEIGHT += $GOLF_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor SUNDUK_ACTOR has_weapon 15
0491:   actor SUNDUK_ACTOR has_weapon 157
0491:   actor SUNDUK_ACTOR has_weapon 187
    then
    0059: $ITEMS_WEIGHT += $CANE_WEIGHT // (float)
    end
    
//////////////////            

if or
0491:   actor SUNDUK_ACTOR has_weapon 8
0491:   actor SUNDUK_ACTOR has_weapon 130
0491:   actor SUNDUK_ACTOR has_weapon 163
0491:   actor SUNDUK_ACTOR has_weapon 193
    then
    0059: $ITEMS_WEIGHT += $CATANA_WEIGHT // (float)
    end
    
//////////////////    

if or
0491:   actor SUNDUK_ACTOR has_weapon 9
0491:   actor SUNDUK_ACTOR has_weapon 131
0491:   actor SUNDUK_ACTOR has_weapon 164
0491:   actor SUNDUK_ACTOR has_weapon 194
    then
    0059: $ITEMS_WEIGHT += $CHAINSAW_WEIGHT // (float)
    end
     
jump @WEAPON_WEIGHT_SET_RETURN_SND_INV

:WEAPON_WEIGHT_SET_RETURN_SND_INV
0086: $ITEMS_WEIGHT2 = $ITEMS_WEIGHT // (float)
$ITEMS_WEIGHT2 *= 0.25
$ITEMS_WEIGHT2 *= 0.25

if
PERK_ATHLET == 0
then
$FATIGUE_PLUS_EXTRA = 1.2
end

if
PERK_ATHLET == 1
then
$FATIGUE_PLUS_EXTRA = 1.02
end

if
PERK_ATHLET == 2
then
$FATIGUE_PLUS_EXTRA = 0.84
end

if
PERK_ATHLET == 3
then
$FATIGUE_PLUS_EXTRA = 0.66
end

if
$FREEMODE == 0
then
$FATIGUE_PLUS_EXTRA *= 0.75
end

if
SURVIVAL_CUSTOM_WEAPON_NABOR == 1
then
$FATIGUE_PLUS_EXTRA *= 0.55
end

if or
0491:   actor SUNDUK_ACTOR has_weapon 70
0491:   actor SUNDUK_ACTOR has_weapon 94
0491:   actor SUNDUK_ACTOR has_weapon 149
0491:   actor SUNDUK_ACTOR has_weapon 181
0491:   actor SUNDUK_ACTOR has_weapon 211
then
$FATIGUE_PLUS_EXTRA += 0.35
end
     
$HUNGRY_MINUS_EXTRA = 0.1

0089: 2@ = $ITEMS_WEIGHT2 // (float)

if
PERK_WEIGHT == 1
then
2@ *= 0.8 
end

if
PERK_WEIGHT == 2
then
2@ *= 0.6 
end

if
PERK_WEIGHT == 3
then
2@ *= 0.4 
end
          
006D: $FATIGUE_PLUS_EXTRA *= 2@ // (float)
006D: $HUNGRY_MINUS_EXTRA *= 2@ // (float) 
return

//////////////////////////////////////////////////////////////////////////////////  

:SUNDUK_WEAPONS_MENU

0792: disembark_instantly_actor SUNDUK_ACTOR
05B9: AS_actor SUNDUK_ACTOR stay_idle 999999 ms
015D: set_gamespeed 0.1 

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

gosub @SUNDUK_WEAPONS_STRINGS_CHECK

0512: show_permanent_text_box 'INV354'

$PANEL_TRADE = 0 
08D4: $PANEL_TRADE = create_panel_with_title 'TRDR61' position 230.0 140.0 width 130.0 columns 2 interactive 1 background 1 alignment 1 //220.0                                                                             
08DB: set_panel $PANEL_TRADE column 0 header 'DUMMY' data SUNDUK_WEP_SLOT1_STRING SUNDUK_WEP_SLOT2_STRING SUNDUK_WEP_SLOT3_STRING SUNDUK_WEP_SLOT4_STRING SUNDUK_WEP_SLOT5_STRING SUNDUK_WEP_SLOT6_STRING SUNDUK_WEP_SLOT7_STRING SUNDUK_WEP_SLOT8_STRING SUNDUK_WEP_SLOT9_STRING SUNDUK_WEP_SLOT10_STRING SUNDUK_WEP_SLOT11_STRING SUNDUK_WEP_SLOT12_STRING  
08D6: set_panel $PANEL_TRADE column 1 alignment 1           

if
$SNDK_WP1_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 0 text_1number GXT 'INV3' number $SNDK_WP1_AMM
end

if
$SNDK_WP2_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 1 text_1number GXT 'INV3' number $SNDK_WP2_AMM
end

if
$SNDK_WP3_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 2 text_1number GXT 'INV3' number $SNDK_WP3_AMM
end

if
$SNDK_WP4_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 3 text_1number GXT 'INV3' number $SNDK_WP4_AMM
end

if
$SNDK_WP5_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 4 text_1number GXT 'INV3' number $SNDK_WP5_AMM
end

if
$SNDK_WP6_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 5 text_1number GXT 'INV3' number $SNDK_WP6_AMM
end

if
$SNDK_WP7_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 6 text_1number GXT 'INV3' number $SNDK_WP7_AMM
end

if
$SNDK_WP8_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 7 text_1number GXT 'INV3' number $SNDK_WP8_AMM
end

if
$SNDK_WP9_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 8 text_1number GXT 'INV3' number $SNDK_WP9_AMM
end

if
$SNDK_WP10_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 9 text_1number GXT 'INV3' number $SNDK_WP10_AMM
end

if
$SNDK_WP11_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 10 text_1number GXT 'INV3' number $SNDK_WP11_AMM
end

if
$SNDK_WP12_AMM > 0
then
08EE: set_panel $PANEL_TRADE column 1 row 11 text_1number GXT 'INV3' number $SNDK_WP12_AMM
end

09DB: set_panel $PANEL_TRADE column 0 width 130 //130 
09DB: set_panel $PANEL_TRADE column 1 width 50
090E: set_panel $PANEL_TRADE active_row $SUNDUK_WEP_ROW

//wait 100
cinema.Widescreen(1)

:SUNDUK_WEAPONS_MENU_IDLE
wait 0

0E69: set_player_control_pad_movement SUNDUK_PLAYER 1
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 0
0992: set_player SUNDUK_PLAYER weapons_scrollable 1

if
8A2A: not  text_box 'INV354' displayed
then
0512: show_permanent_text_box 'INV354' 
end

08D7: $SUNDUK_WEP_ROW = panel $PANEL_TRADE active_row

if
BUYER_PLAYER == 1
then
if
0E3E: is_button_just_pressed 1 button 9
    then
    $SUNDUK_WEP_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $SUNDUK_WEP_ROW > 11
        then
        $SUNDUK_WEP_ROW = 0        
        090E: set_panel $PANEL_TRADE active_row $SUNDUK_WEP_ROW        
        else        
        090E: set_panel $PANEL_TRADE active_row $SUNDUK_WEP_ROW        
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $SUNDUK_WEP_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $SUNDUK_WEP_ROW < 0
        then
        $SUNDUK_WEP_ROW = 11        
        090E: set_panel $PANEL_TRADE active_row $SUNDUK_WEP_ROW        
        else
        090E: set_panel $PANEL_TRADE active_row $SUNDUK_WEP_ROW        
        end
    end
end

if
$SUNDUK_WEP_ROW == 0 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT1_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 1 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT2_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 2 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT3_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 3 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT4_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 4 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT5_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 5 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT6_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 6 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT7_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 7 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT8_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 8 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT9_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 9 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT10_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 10 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT11_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE  
            else
            gosub @SUNDUK_WEAPON_TAKE     
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if
$SUNDUK_WEP_ROW == 11 
    then     
        if
        0E3E: is_justplayer SUNDUK_PLAYER pressed_key 16
        then
        if
        0D49: 0@ = compare_strings SUNDUK_WEP_SLOT12_STRING "TRDR59" // IF and SET
            then        
            gosub @SUNDUK_WEAPON_GIVE
            jump to @SUNDUK_WEAPONS_MENU  
            else
            gosub @SUNDUK_WEAPON_TAKE    
            end
        jump to @SUNDUK_WEAPONS_MENU    
        end
    end
    
if or
0E3E: is_just player SUNDUK_PLAYER pressed_key 15 
actor.Dead(SUNDUK_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor SUNDUK_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE
015D: set_gamespeed 1.0    
00BE: text_clear_all    
cinema.Widescreen(0)
0E69: set_player_control_pad_movement SUNDUK_PLAYER 0
06AB: set_actor SUNDUK_ACTOR all_weapons_hidden 1
0992: set_player SUNDUK_PLAYER weapons_scrollable 0
0792: SUNDUK_ACTOR
0792: SUNDUK_ACTOR
$INV_CLOSED = 1
//cinema.Widescreen(0)
07CC: set_player SUNDUK_PLAYER can_enter_exit_vehicles 0
wait 100
07CC: set_player SUNDUK_PLAYER can_enter_exit_vehicles 1
$INV_CLOSED = 0

if
$GAMEMODE_WAR == 1
then
jump to @GAMEMODE_WAR_ONLY_WEAP_SUNDUK_JUMP1 
end
    
jump to @SUNDUK_START_MENU
else
jump @SUNDUK_WEAPONS_MENU_IDLE
end     

jump to @SUNDUK_WEAPONS_MENU_IDLE

:SUNDUK_WEAPON_GIVE

if
$SUNDUK_WEP_ROW == 0
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT1_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT1_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT1_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT1_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 1
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT2_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT2_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT2_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT2_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 2
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT3_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT3_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT3_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT3_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 3
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT4_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT4_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT4_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT4_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 4
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT5_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT5_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT5_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT5_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 5
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT6_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT6_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT6_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT6_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 6
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT7_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT7_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT7_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT7_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 7
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT8_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT8_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT8_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT8_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 8
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT9_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT9_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT9_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT9_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 9
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT10_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT10_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT10_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT10_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 10
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT11_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT11_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT11_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT11_AMMO = 3@ // (int)
    end
    
    end
    
if
$SUNDUK_WEP_ROW == 11
    then
    
    0470: 0@ = actor SUNDUK_ACTOR current_weapon        
    gosub @SUNDUK_MELEE_CHECK            
    if and
    82D8: not actor SUNDUK_ACTOR current_weapon == 0
    82D8: not actor SUNDUK_ACTOR current_weapon == 9
    82D8: not actor SUNDUK_ACTOR current_weapon == 46
    82D8: not actor SUNDUK_ACTOR current_weapon == 110     
    82D8: not actor SUNDUK_ACTOR current_weapon == 151
    0@ > 15
    2@ == 0
    then
    0470: 0@ = actor SUNDUK_ACTOR current_weapon
    else
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE    
    00BE: text_clear_all
    return
    end
        
    041A: 1@ = actor SUNDUK_ACTOR weapon 0@ ammo        
    gosub @SUNDUK_WEAPON_GIVE_PROCESS
    if
    not 1@ == 999666
    then
    008A: SUNDUK_WEP_SLOT12_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT12_AMMO = 1@ // (int)
    0555: remove_weapon 0@ from_actor SUNDUK_ACTOR
    else
    008A: SUNDUK_WEP_SLOT12_ID = 0@ // (int)
    008A: SUNDUK_WEP_SLOT12_AMMO = 3@ // (int)
    end
    
    end                                            
    
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE    
00BE: text_clear_all

Audiostream.Volume($DROP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($DROP_ITEM_SOUND, 0)
Audiostream.PerformAction($DROP_ITEM_SOUND, PLAY)    

return

:SUNDUK_WEAPON_TAKE

if
$SUNDUK_WEP_ROW == 0
    then
    008B: 0@ = SUNDUK_WEP_SLOT1_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT1_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT1_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT1_ID = 0
            SUNDUK_WEP_SLOT1_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT1_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 1
    then
    008B: 0@ = SUNDUK_WEP_SLOT2_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT2_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT2_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT2_ID = 0
            SUNDUK_WEP_SLOT2_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT2_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 2
    then
    008B: 0@ = SUNDUK_WEP_SLOT3_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT3_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT3_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT3_ID = 0
            SUNDUK_WEP_SLOT3_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT3_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 3
    then
    008B: 0@ = SUNDUK_WEP_SLOT4_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT4_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT4_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT4_ID = 0
            SUNDUK_WEP_SLOT4_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT4_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 4
    then
    008B: 0@ = SUNDUK_WEP_SLOT5_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT5_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT5_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT5_ID = 0
            SUNDUK_WEP_SLOT5_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT5_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 5
    then
    008B: 0@ = SUNDUK_WEP_SLOT6_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT6_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT6_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT6_ID = 0
            SUNDUK_WEP_SLOT6_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT6_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 6
    then
    008B: 0@ = SUNDUK_WEP_SLOT7_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT7_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT7_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT7_ID = 0
            SUNDUK_WEP_SLOT7_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT7_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 7
    then
    008B: 0@ = SUNDUK_WEP_SLOT8_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT8_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT8_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT8_ID = 0
            SUNDUK_WEP_SLOT8_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT8_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 8
    then
    008B: 0@ = SUNDUK_WEP_SLOT9_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT9_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT9_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT9_ID = 0
            SUNDUK_WEP_SLOT9_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT9_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 9
    then
    008B: 0@ = SUNDUK_WEP_SLOT10_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT10_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT10_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT10_ID = 0
            SUNDUK_WEP_SLOT10_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT10_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 10
    then
    008B: 0@ = SUNDUK_WEP_SLOT11_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT11_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT11_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT11_ID = 0
            SUNDUK_WEP_SLOT11_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT11_AMMO = 3@ // (int)
            end
        end    
    end
    
if
$SUNDUK_WEP_ROW == 11
    then
    008B: 0@ = SUNDUK_WEP_SLOT12_ID // (int)
    008B: 1@ = SUNDUK_WEP_SLOT12_AMMO // (int)
    0470: 2@ = actor SUNDUK_ACTOR current_weapon
    if
    003B:   2@ == 0@  // (int)
        then
        041A: 3@ = actor SUNDUK_ACTOR weapon 2@ ammo
        005E: SUNDUK_WEP_SLOT12_AMMO += 3@  // (int)
        0555: remove_weapon 2@ from_actor SUNDUK_ACTOR
        else
        gosub @SUNDUK_WEAPON_TAKE_PROCESS
        if
        not 1@ == 999666
            then
            SUNDUK_WEP_SLOT12_ID = 0
            SUNDUK_WEP_SLOT12_AMMO = 0
            else
            008A: SUNDUK_WEP_SLOT12_AMMO = 3@ // (int)
            end
        end    
    end                                            
    
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE    
00BE: text_clear_all

Audiostream.Volume($PICKUP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($PICKUP_ITEM_SOUND, 0)
Audiostream.PerformAction($PICKUP_ITEM_SOUND, PLAY)    

return

:SUNDUK_WEAPON_GIVE_PROCESS

if
1@ == 1
then
jump to @JUST_REMOVE_DO_NOT_DUPE
end

if and
80E1: not  player SUNDUK_PLAYER pressed_key 4
80E1: not  player SUNDUK_PLAYER pressed_key 14
then
:JUST_REMOVE_DO_NOT_DUPE
//just remove
else

if
80E1: not  player 0 pressed_key 14
    then
    //половина
    
    0085: 3@ = 1@ // (int)
    
    1@ /= 2
    
    017B: set_actor SUNDUK_ACTOR weapon 0@ ammo_to 1@
    
    0062: 3@ -= 1@  // (int)
    1@ = 999666
    
    else
    //четверть
        
    0085: 3@ = 1@ // (int)    
    3@ /= 4
    0062: 1@ -= 3@  // (int)
    
    017B: set_actor SUNDUK_ACTOR weapon 0@ ammo_to 1@
    
    1@ = 999666
    
    end

end

return          

:SUNDUK_WEAPON_TAKE_PROCESS

if and
80E1: not  player SUNDUK_PLAYER pressed_key 4
80E1: not  player SUNDUK_PLAYER pressed_key 14
then

:SUNDUK_WEAPON_TAKE_PROCESS_ALL
0781: get_weapon_with_ID 0@ model_to 2@  

while not model.Available(2@)
wait 0
model.Load(2@)
mload
end

Actor.GiveWeaponAndAmmo(SUNDUK_ACTOR, 0@, 1@)

else

if
1@ < 4
then
jump to @SUNDUK_WEAPON_TAKE_PROCESS_ALL
end

if
80E1: not  player 0 pressed_key 14
    then
    //половина
    
    0781: get_weapon_with_ID 0@ model_to 2@  

    while not model.Available(2@)
    wait 0
    model.Load(2@)
    mload
    end
    
    0085: 3@ = 1@ // (int)
    
    1@ /= 2
    
    Actor.GiveWeaponAndAmmo(SUNDUK_ACTOR, 0@, 1@)
    
    0062: 3@ -= 1@  // (int)
    1@ = 999666
    
    else
    //четверть
    
    0781: get_weapon_with_ID 0@ model_to 2@  

    while not model.Available(2@)
    wait 0
    model.Load(2@)
    mload
    end
    
    0085: 3@ = 1@ // (int)
    
    1@ /= 4
    
    Actor.GiveWeaponAndAmmo(SUNDUK_ACTOR, 0@, 1@)
    
    0062: 3@ -= 1@  // (int)
    1@ = 999666
    
    end

end

return                                                

:SUNDUK_WEAPONS_STRINGS_CHECK

SUNDUK_WEP_SLOT1_STRING = 'TRDR59'
SUNDUK_WEP_SLOT2_STRING = "TRDR59"
SUNDUK_WEP_SLOT3_STRING = 'TRDR59'
SUNDUK_WEP_SLOT4_STRING = "TRDR59"
SUNDUK_WEP_SLOT5_STRING = 'TRDR59'
SUNDUK_WEP_SLOT6_STRING = "TRDR59"
SUNDUK_WEP_SLOT7_STRING = 'TRDR59'
SUNDUK_WEP_SLOT8_STRING = "TRDR59"
SUNDUK_WEP_SLOT9_STRING = 'TRDR59'
SUNDUK_WEP_SLOT10_STRING = "TRDR59"
SUNDUK_WEP_SLOT11_STRING = 'TRDR59'
SUNDUK_WEP_SLOT12_STRING = "TRDR59"

if
SUNDUK_WEP_SLOT1_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT1_ID

if
SUNDUK_WEP_SLOT1_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT1_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT1_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT2_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT2_ID

if
SUNDUK_WEP_SLOT2_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT2_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT2_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT3_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT3_ID

if
SUNDUK_WEP_SLOT3_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT3_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT3_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT4_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT4_ID

if
SUNDUK_WEP_SLOT4_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT4_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT4_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT5_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT5_ID

if
SUNDUK_WEP_SLOT5_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT5_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT5_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT6_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT6_ID

if
SUNDUK_WEP_SLOT6_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT6_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT6_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT7_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT7_ID

if
SUNDUK_WEP_SLOT7_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT7_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT7_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT8_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT8_ID

if
SUNDUK_WEP_SLOT8_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT8_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT8_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT9_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT9_ID

if
SUNDUK_WEP_SLOT9_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT9_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT9_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT10_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT10_ID

if
SUNDUK_WEP_SLOT10_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT10_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT10_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT11_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT11_ID

if
SUNDUK_WEP_SLOT11_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT11_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT11_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

if
SUNDUK_WEP_SLOT12_AMMO > 0
then
0AD3: v$SND2_FILE = format "%d" SUNDUK_WEP_SLOT12_ID

if
SUNDUK_WEP_SLOT12_ID >= 225
then
0AF4: SUNDUK_WEP_SLOT12_STRING = read_string_from_ini_file "modloader\ZA COMPLETE USER MODS FOLDER\ExtraWeaponsPack\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
else
0AF4: SUNDUK_WEP_SLOT12_STRING = read_string_from_ini_file "data\wepnames.ini" section "WEPNAMES" key v$SND2_FILE
end

end

return 

:SUNDUK_MELEE_CHECK

2@ = 0

if and
PLAYER_USING_MELEE_FLAG == 1
UNITED_MAP == 0
82D8: not  actor SUNDUK_ACTOR current_weapon == 16
82D8: not  actor SUNDUK_ACTOR current_weapon == 17
82D8: not  actor SUNDUK_ACTOR current_weapon == 18
82D8: not  actor SUNDUK_ACTOR current_weapon == 44
82D8: not  actor SUNDUK_ACTOR current_weapon == 45
then
2@ = 1
end

if
UNITED_MAP == 0
then
return
end

/////////////////////////////////////////////////

for 0@ = 121 to 131

if
02D8:   actor SUNDUK_ACTOR current_weapon == 0@
then
2@ = 1
end

end

/////////////////////////////////////////////////

for 0@ = 154 to 164

if
02D8:   actor SUNDUK_ACTOR current_weapon == 0@
then
2@ = 1
end

end

/////////////////////////////////////////////////

for 0@ = 184 to 194

if
02D8:   actor SUNDUK_ACTOR current_weapon == 0@
then
2@ = 1
end

end

///////////////////////////////////////////////// 

return    