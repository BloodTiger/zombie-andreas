const
ZA_OFFICE_QUIZ_SCORE = 20@
ZA_OFFICE_QUIZ_CURRENT_ANSWER = 13@
ZA_OFFICE_LIFT_SPHERE = 14@
ZA_OFFICE_TRAPDOOR_OBJECT = 15@
ZA_OFFICE_LIFT_OBJECT = $ZA_OFFICE_LIFT_OBJECT
ZA_OFFICE_LIFT_DOOR1 = 16@
ZA_OFFICE_LIFT_DOOR2 = 17@
ZA_OFFICE_LADMARK1_OBJECT = 18@
ZA_OFFICE_LADMARK2_OBJECT = 19@
ZA_OFFICE_LIFT_DOORS_OPEN_SPEED = 0.02
ZA_OFFICE_LIFT_SPEED = 0.18
ZA_OFFICE_TREASURE_DETECTOR = 10@
ZA_OFFICE_SKATEBOARD_HINT_FLAG = 9@
end

:OFFICE
thread 'OFFICE'

random_int ZA_OFFICE_QUIZ_CURRENT_ANSWER 0 15

repeat
wait 250

if and
$FREEMODE == 1
$GAMEMODE_STORYLINE == 0
    then
    break
    end
    
if
$EXPE_FLAG == 1
    then
    break
    end    

until false

if or
UNITED_MAP == 1
CLASSIC_CARMA_MAP >= 1
CUSTOM_MAP_FLAG == 1
8AAB: not  file_exists "modloader\MODLOADER SA FILES\office.ipl"
then
end_thread
end

create_thread @SKTBRD 

032B: 0@ = create_weapon_pickup #FLOWERA type 3 ammo 1 at 1834.0337 -1309.88 120.2586
if
COOP_ACTIVE_FLAG == 1
then
032B: 0@ = create_weapon_pickup #FLOWERA type 3 ammo 1 at 1834.1019 -1312.522 120.2656
end

0@ = Object.Init(3109,1800.7,-1308.45,13.8312)
Object.Angle(0@) = 270.0
07F7: set_object 0@ destructible 0
09CA: set_object 0@ immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object 0@ health_to 999999
object.KeepInMemory(0@) = true

0@ = Object.Init(2957,1806.12,-1308.45,14.3313)
Object.Angle(0@) = 0.0
07F7: set_object 0@ destructible 0
09CA: set_object 0@ immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object 0@ health_to 999999
object.KeepInMemory(0@) = true

0@ = Object.Init(2957,1811.72,-1308.45,14.3313)
Object.Angle(0@) = 0.0
07F7: set_object 0@ destructible 0
09CA: set_object 0@ immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object 0@ health_to 999999
object.KeepInMemory(0@) = true

ZA_OFFICE_LIFT_OBJECT = Object.Init(16846,1786.95,-1303.62,14.657)
Object.Angle(ZA_OFFICE_LIFT_OBJECT) = 270.0
0392: make_object ZA_OFFICE_LIFT_OBJECT moveable 1
07F7: set_object ZA_OFFICE_LIFT_OBJECT destructible 1
09CA: set_object ZA_OFFICE_LIFT_OBJECT immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_LIFT_OBJECT health_to 999999
object.KeepInMemory(ZA_OFFICE_LIFT_OBJECT) = true

ZA_OFFICE_LIFT_DOOR1 = Object.Init(16845,1786.95,-1303.59,14.69)
Object.Angle(ZA_OFFICE_LIFT_DOOR1) = 270.0
0392: make_object ZA_OFFICE_LIFT_DOOR1 moveable 1
07F7: set_object ZA_OFFICE_LIFT_DOOR1 destructible 1
09CA: set_object ZA_OFFICE_LIFT_DOOR1 immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_LIFT_DOOR1 health_to 999999
object.KeepInMemory(ZA_OFFICE_LIFT_DOOR1) = true

ZA_OFFICE_LIFT_DOOR2 = Object.Init(16844,1786.96,-1303.59,14.69)
Object.Angle(ZA_OFFICE_LIFT_DOOR2) = 270.0
0392: make_object ZA_OFFICE_LIFT_DOOR2 moveable 1
07F7: set_object ZA_OFFICE_LIFT_DOOR2 destructible 1
09CA: set_object ZA_OFFICE_LIFT_DOOR2 immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_LIFT_DOOR2 health_to 999999
object.KeepInMemory(ZA_OFFICE_LIFT_DOOR2) = true

ZA_OFFICE_TRAPDOOR_OBJECT = Object.Init(2978,1813.99,-1311.25,130.79)
0453: set_object ZA_OFFICE_TRAPDOOR_OBJECT XY_rotation 0.0 180.0 angle 0.0
0392: make_object ZA_OFFICE_TRAPDOOR_OBJECT moveable 1
07F7: set_object ZA_OFFICE_TRAPDOOR_OBJECT destructible 1
09CA: set_object ZA_OFFICE_TRAPDOOR_OBJECT immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_TRAPDOOR_OBJECT health_to 999999
object.KeepInMemory(ZA_OFFICE_TRAPDOOR_OBJECT) = true
0750: set_object ZA_OFFICE_TRAPDOOR_OBJECT visibility 0

ZA_OFFICE_LADMARK1_OBJECT = Object.Init(18161,1813.9445, -1311.2275, 132.2836)
09CA: set_object ZA_OFFICE_LADMARK1_OBJECT immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_LADMARK1_OBJECT health_to 999999
object.KeepInMemory(ZA_OFFICE_LADMARK1_OBJECT) = true
0750: set_object ZA_OFFICE_LADMARK1_OBJECT visibility 0

ZA_OFFICE_LADMARK2_OBJECT = Object.Init(18161,1813.9899, -1311.7500, 120.7659)
09CA: set_object ZA_OFFICE_LADMARK2_OBJECT immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_LADMARK2_OBJECT health_to 999999
object.KeepInMemory(ZA_OFFICE_LADMARK2_OBJECT) = true
0750: set_object ZA_OFFICE_LADMARK2_OBJECT visibility 0

ZA_OFFICE_TREASURE_DETECTOR = Object.Init(6562,1790.78, -1303.15, 119.631)
09CA: set_object ZA_OFFICE_TREASURE_DETECTOR immunities BP 1 FP 1 EP 1 CP 1 MP 1
071F: set_object ZA_OFFICE_TREASURE_DETECTOR health_to 999999
object.KeepInMemory(ZA_OFFICE_TREASURE_DETECTOR) = true
0750: set_object ZA_OFFICE_TREASURE_DETECTOR visibility 0
object.Angle(ZA_OFFICE_TREASURE_DETECTOR) = 294.0

:OFFICE_START

while true
wait 250

if and
0AB0:   key_pressed 36
$CHEATS_ON == 1
$DEBUG_MENU_ON == 1
$ONMISSION == 0
    then    
    actor.PutAtNoOffset(PLAYER_ACTOR,1813.7036, -1311.4302, 120.2656)
    actor.Angle(PLAYER_ACTOR) = 73.7095
    camera.Restore_WithJumpCut()
    create_thread @REFR_3D    
    end

if and
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 1813.8734 -1311.7561 120.2656 radius 5.0
$ONMISSION == 0
    then
    
    if and
    $CHEATS_ON == 1
    $DEBUG_MENU_ON == 1
    then
    ZA_OFFICE_QUIZ_SCORE = 15
    end
    
    if
    ZA_OFFICE_QUIZ_SCORE >= 15
        then        
        $SAVESTATUS = 1
        object.PutAt(ZA_OFFICE_LIFT_OBJECT,1786.95, -1303.62, 121.157)
        object.PutAt(ZA_OFFICE_LIFT_DOOR1,1786.95, -1303.59, 121.131)
        object.PutAt(ZA_OFFICE_LIFT_DOOR2,1786.96 -1303.59 121.131)
        create_thread @OFC_MUS
        fade 0 0
        wait 0
        0776: create_objects_in_object_group "office"
        
        00BA: show_text_styled GXT "GAME951" time 100 style 5
        MAIN_QUEST_MUSIC_FLAG = 1
        PLAYER_IN_OFFICE_FLAG = 1
        if
        ADVENTURE_MODE_ON == 0
        then
        ADVENTURE_MODE_ON = 1
        create_thread @ADV_MOD
        end
        
        0A0B: set_rendering_origin_at_3D_coord 1776.4802 -1306.5902 120.2656 angle 287.6935
            
        wait 100
            
        repeat
        wait 0
        until 0E45: frame_mod 5
                    
        03D6: remove_styled_text "GAME951"  // Boxville
        
        jump to @ZA_OFFICE_INITIALIZE
        end
    end

if and
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 1801.4381 -1309.3337 13.7063 radius 5.0
$SAVESTATUS == 0
$ONMISSION == 0
    then
    03BC: ZA_OFFICE_LIFT_SPHERE = create_sphere_at 1801.4381 -1309.3337 13.7063 radius 1.25    
    break
    end

end

repeat
wait 0

if and
0EEA:  locate_char_distance_to_coordinates PLAYER_ACTOR pos 1801.4381 -1309.3337 13.7063 radius 5.0
$SAVESTATUS == 0
$ONMISSION == 0
    then
    else
    03BD: destroy_sphere ZA_OFFICE_LIFT_SPHERE
    jump to @OFFICE_START
    end

until 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1801.4381 -1309.3337 radius 1.25 1.25 stopped

03BD: destroy_sphere ZA_OFFICE_LIFT_SPHERE

object.PutAt(ZA_OFFICE_LIFT_OBJECT,1786.95,-1303.62,14.657)
object.PutAt(ZA_OFFICE_LIFT_DOOR1,1786.95,-1303.59,14.69)
object.PutAt(ZA_OFFICE_LIFT_DOOR2,1786.96,-1303.59,14.69)

jump to @ZA_OFFICE_QUIZ_SUCCSESS

0B00: delete_file "za\OF\0.suc"  // IF and SET
0B00: delete_file "za\OF\1.suc"  // IF and SET
0B00: delete_file "za\OF\2.suc"  // IF and SET
0B00: delete_file "za\OF\3.suc"  // IF and SET
0B00: delete_file "za\OF\4.suc"  // IF and SET
0B00: delete_file "za\OF\5.suc"  // IF and SET
0B00: delete_file "za\OF\6.suc"  // IF and SET
0B00: delete_file "za\OF\7.suc"  // IF and SET
0B00: delete_file "za\OF\8.suc"  // IF and SET
0B00: delete_file "za\OF\9.suc"  // IF and SET
0B00: delete_file "za\OF\10.suc"  // IF and SET
0B00: delete_file "za\OF\11.suc"  // IF and SET
0B00: delete_file "za\OF\12.suc"  // IF and SET
0B00: delete_file "za\OF\13.suc"  // IF and SET
0B00: delete_file "za\OF\14.suc"  // IF and SET

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ALL_ACH_UNLOCKED" 
if
0@ == 1
    then
    ZA_OFFICE_QUIZ_SCORE = 15
    jump to @ZA_OFFICE_QUIZ_SUCCSESS
    end 

repeat
wait 0

if
not $CHEAT_CODE_ON == 1
then
if or
HARDCORE_MODE == 1
$DEBUG_MENU_ON == 1
    then
    else
    0ACE: show_formatted_text_box "COME BACK WHEN YOU WILL HAVE SOME HARDCORE BALLZ, PUSSY!"
    wait 2000
    text.RemoveTextBox()
    jump to @OFFICE_START
    end
end

if
ZA_OFFICE_QUIZ_SCORE >= 15
    then
    jump to @ZA_OFFICE_QUIZ_SUCCSESS
    end

if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1780.6851 -1296.2242 radius 1.0 1.0 stopped
then

if
$CHEAT_CODE_ON == 1
    then        
    0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
    0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
    0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
    0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
    0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
    05BE: AS_actor PLAYER_ACTOR die
    wait 1000
    0ACE: show_formatted_text_box "GAY DETECTED!"    
    end_thread
    end

if
0A4B:   controls_set_to_joystick
then
0AD3: 0@v = format "OFFIJ%d" ZA_OFFICE_QUIZ_CURRENT_ANSWER
else
0AD3: 0@v = format "OFFIC%d" ZA_OFFICE_QUIZ_CURRENT_ANSWER
end

text.ShowH(0@v,10,1)

for 29@ = 0 to 14

0AD3: 0@v = format "za\OF\%d.ass" 29@

if
003B:   ZA_OFFICE_QUIZ_CURRENT_ANSWER == 29@  // (int)
    then
    if
    28@ = File.Open(0@v, "rb")
        then
        
        0A9D: readfile 28@ size 4 to 0@
        0A9B: closefile 28@                
        
        1@ = 0
        
        if
        0A4B:   controls_set_to_joystick
        then
        
        if
        0E3E: is_button_just_pressed 0 button 15
        then
        1@ = 4343376 //1
        end
        
        if
        0E3E: is_button_just_pressed 0 button 16
        then
        1@ = 7918794 //2
        end
        
        if
        0E3E: is_button_just_pressed 0 button 14
        then
        1@ = 6339281 //3
        end
        
        if
        0E3E: is_button_just_pressed 0 button 17
        then
        1@ = 1851684 //4
        end
        
        else
        
        if
        0AB0:   key_pressed 49
        then
        1@ = 4343376 //1
        end
        
        if
        0AB0:   key_pressed 50
        then
        1@ = 7918794 //2
        end
        
        if
        0AB0:   key_pressed 51
        then
        1@ = 6339281 //3
        end
        
        if
        0AB0:   key_pressed 52
        then
        1@ = 1851684 //4
        end
        
        end
        
        if and
        0@ == 4343376
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 105
        then
        0ACE: show_formatted_text_box "RIGHT ANSWER IS 1"
        end
        
        if and
        0@ == 7918794
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 105
        then
        0ACE: show_formatted_text_box "RIGHT ANSWER IS 2"
        end
        
        if and
        0@ == 6339281
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 105
        then
        0ACE: show_formatted_text_box "RIGHT ANSWER IS 3"
        end
        
        if and
        0@ == 1851684
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 105
        then
        0ACE: show_formatted_text_box "RIGHT ANSWER IS 4"
        end                
        
        if
        not 1@ == 0
            then            
            Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($RADIO_SWITCH_SOUND, 0)
            Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
            gosub @DISEMB_JETP_CHECK
            0792: disembark_instantly_actor PLAYER_ACTOR
            0812: AS_actor PLAYER_ACTOR perform_animation "bomber" IFP "PED" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 time -1  // versionB
            wait 250                                
            if
            003B:   0@ == 1@  // (int)
                then
                ZA_OFFICE_QUIZ_SCORE += 1                
                0AD3: 0@v = format "za\OF\%d.suc" ZA_OFFICE_QUIZ_CURRENT_ANSWER
                0AF1: write_int 1 to_ini_file 0@v section "FUCK" key "ASS"                                
                0ACE: show_formatted_text_box "%d/15" ZA_OFFICE_QUIZ_SCORE
                if
                ZA_OFFICE_QUIZ_SCORE >= 15
                    then                     
                    
                    for 2@ = 0 to 7
                    random_int 3@ 100 350
                    wait 3@
                    Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME 
                    Audiostream.Loop($RADIO_SWITCH_SOUND, 0)
                    Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
                    gosub @DISEMB_JETP_CHECK
                    0792: disembark_instantly_actor PLAYER_ACTOR
                    0812: AS_actor PLAYER_ACTOR perform_animation "bomber" IFP "PED" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 time -1  // versionB
                    end
                    
                    text.ClearAll()                                    
                    jump to @ZA_OFFICE_QUIZ_SUCCSESS
                    else
                    
                    0085: 5@ = ZA_OFFICE_QUIZ_CURRENT_ANSWER // (int)                                        
                    
                    //////////////////////////////////////////////////////////////////////
                    
                    repeat
                    wait 0
                    
                    random_int ZA_OFFICE_QUIZ_CURRENT_ANSWER 0 15
                    0AD3: 0@v = format "za\OF\%d.suc" ZA_OFFICE_QUIZ_CURRENT_ANSWER                    
                    if and
                    8AAB: not  file_exists 0@v
                    803B: not  ZA_OFFICE_QUIZ_CURRENT_ANSWER == 5@  // (int)
                        then                        
                        break
                        end
                                            
                    until false
                    
                    //////////////////////////////////////////////////////////////////////
                                        
                    end
                else                
                0B00: delete_file "za\OF\0.suc"  // IF and SET
                0B00: delete_file "za\OF\1.suc"  // IF and SET
                0B00: delete_file "za\OF\2.suc"  // IF and SET
                0B00: delete_file "za\OF\3.suc"  // IF and SET
                0B00: delete_file "za\OF\4.suc"  // IF and SET
                0B00: delete_file "za\OF\5.suc"  // IF and SET
                0B00: delete_file "za\OF\6.suc"  // IF and SET
                0B00: delete_file "za\OF\7.suc"  // IF and SET
                0B00: delete_file "za\OF\8.suc"  // IF and SET
                0B00: delete_file "za\OF\9.suc"  // IF and SET
                0B00: delete_file "za\OF\10.suc"  // IF and SET
                0B00: delete_file "za\OF\11.suc"  // IF and SET
                0B00: delete_file "za\OF\12.suc"  // IF and SET
                0B00: delete_file "za\OF\13.suc"  // IF and SET
                0B00: delete_file "za\OF\14.suc"  // IF and SET
                ZA_OFFICE_QUIZ_SCORE = 0
                text.ClearAll()
                random_int ZA_OFFICE_QUIZ_CURRENT_ANSWER 0 15
                0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
                0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
                0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
                0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
                0948: create_explosion_at 1801.4381 -1309.3337 13.7063 type 10 camera_shake 5.0
                05BE: AS_actor PLAYER_ACTOR die                
                wait 1000
                0ACE: show_formatted_text_box "YOU FAILED!"                                    
                jump to @OFFICE_START            
                end
            end        
        end
    end

end            

if and
$DEBUG_MENU_ON == 1
$CHEATS_ON == 1
    then
    :ZA_OFFICE_QUIZ_SUCCSESS
    
    text.RemoveTextBox()
    MAIN_QUEST_MUSIC_FLAG = 1
    PLAYER_IN_OFFICE_FLAG = 1
    if
    ADVENTURE_MODE_ON == 0
    then
    ADVENTURE_MODE_ON = 1
    create_thread @ADV_MOD
    end
    
    player.CanMove(PLAYER_CHAR) = false
    $HUD_REMOVE = 1
    fade 0 500
    wait 500
    $SAVESTATUS = 1    
    actor.PutAtNoOffset(PLAYER_ACTOR,1786.8624, -1304.0137, 13.857)        
            
    gosub @OFFICE_OLDZA_SAVE_SET
    0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_GAME"
    
    actor.Angle(PLAYER_ACTOR) = 359.6271
    camera.Restore_WithJumpCut()                       
    
    0776: create_objects_in_object_group "office"
        
    wait 1000    
    fade 1 500
    player.CanMove(PLAYER_CHAR) = true
    $HUD_REMOVE = 0
    wait 500
    
    21@ = Audiostream.Load3D("audio\sounds\other\office\lift_moving.mp3")
    Audiostream.Volume(21@) = $SOUNDS_VOLUME
    Audiostream.Loop(21@, 1)
    Audiostream.PerformAction(21@, PLAY)
    Audiostream.LinkToObject(21@,ZA_OFFICE_LIFT_OBJECT)
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
    $SAVESTATUS = 1
    
    $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_SPEED
    0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)    
    034E: move_object ZA_OFFICE_LIFT_OBJECT to 1786.95 -1303.62 121.157 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
    034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1786.95 -1303.59 121.131 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
    034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1786.96 -1303.59 121.131 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
    
    01BB: store_object ZA_OFFICE_LIFT_OBJECT position_to 1@ 2@ 3@    
    
    if
    04E6:   object ZA_OFFICE_LIFT_OBJECT near_point 1786.95 -1303.62 121.156 radius 10.0 10.0 0.001 flag 0
        then
        
        00BA: show_text_styled GXT "GAME951" time 100 style 5
        wait 50
        0A0B: set_rendering_origin_at_3D_coord 1776.4802 -1306.5902 120.2656 angle 287.6935
        
        wait 100
        
        repeat
        wait 0
        until 0E45: frame_mod 5
        
        03D6: remove_styled_text "GAME951"  // Boxville
                
        break
        else
//        0AD1: show_formatted_text_highpriority "LIFT IS GOING UP, %f\121.157" time 2000 3@
        end
    
    until false
    
    0E68: set_player_control_pad 0 1 
    0E69: set_player_control_pad_movement 0 0
    
    Audiostream.PerformAction(21@, STOP)
    Audiostream.Release(21@)
    
    21@ = Audiostream.Load3D("audio\sounds\other\office\lift_door_open.mp3")
    Audiostream.Volume(21@) = $SOUNDS_VOLUME
    Audiostream.Loop(21@, 0)
    Audiostream.PerformAction(21@, PLAY)
    Audiostream.LinkToObject(21@,ZA_OFFICE_LIFT_DOOR1)
    
    22@ = Audiostream.Load3D("audio\sounds\other\office\lift_door_open.mp3")
    Audiostream.Volume(22@) = $SOUNDS_VOLUME
    Audiostream.Loop(22@, 0)
    Audiostream.PerformAction(22@, PLAY)
    Audiostream.LinkToObject(22@,ZA_OFFICE_LIFT_DOOR2)
    
    0615: define_AS_pack_begin 0@
    05D3: AS_actor -1 goto_point 1786.8665 -1302.172 120.357 mode 4 time 5000 ms // versionA
    05D4: AS_actor -1 rotate_angle 0.083
    0616: define_AS_pack_end 0@
    0618: assign_actor PLAYER_ACTOR to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    create_thread @OFC_MUS
    
    wait 500
    camera.Restore()
    0AF1: write_int 0 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_GAME"
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
    $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_DOORS_OPEN_SPEED
    0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
    034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1788.65 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
    034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1785.26 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
    
    if and
    04E6:   object ZA_OFFICE_LIFT_DOOR1 near_point 1788.65 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
    04E6:   object ZA_OFFICE_LIFT_DOOR2 near_point 1785.26 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
        then
        
        23@ = Audiostream.Load3D("audio\sounds\other\office\lift_dzyn.mp3")
        Audiostream.Volume(23@) = $SOUNDS_VOLUME
        Audiostream.Loop(23@, 0)
        Audiostream.PerformAction(23@, PLAY)
        Audiostream.LinkToObject(23@,ZA_OFFICE_LIFT_OBJECT)
        
        0615: define_AS_pack_begin 0@
        05D3: AS_actor -1 goto_point 1786.9259 -1300.7245 120.2656 mode 4 time 5000 ms // versionA
        05D4: AS_actor -1 rotate_angle 359.406
        0616: define_AS_pack_end 0@
        0618: assign_actor PLAYER_ACTOR to_AS_pack 0@
        061B: remove_references_to_AS_pack 0@        

        repeat
        wait 0
        until 00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 1783.4608 -1301.2163 120.2586 cornerB 1790.5045 -1298.8232 125.2656                
        
        Audiostream.PerformAction(21@, PLAY)
        Audiostream.PerformAction(22@, PLAY)
        
        repeat
        wait 0
        
        $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_DOORS_OPEN_SPEED
        0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
        034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1786.95 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1786.96 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        
        if and
        04E6:   object ZA_OFFICE_LIFT_DOOR1 near_point 1786.95 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
        04E6:   object ZA_OFFICE_LIFT_DOOR2 near_point 1786.96 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
            then                        
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 1    
            break
            end
        
        until false
        
        break
        
        end
    
    until false
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    Audiostream.PerformAction(21@, STOP)
    Audiostream.Release(21@)
    Audiostream.PerformAction(22@, STOP)
    Audiostream.Release(22@)
    Audiostream.PerformAction(23@, STOP)
    Audiostream.Release(23@)
    
    jump to @ZA_OFFICE_INITIALIZE
    
    end
else

if
ZA_OFFICE_QUIZ_SCORE < 15
then
ZA_OFFICE_QUIZ_SCORE = 0
end

text.RemoveTextBox()
jump to @OFFICE_START
end

until false

:ZA_OFFICE_INITIALIZE

0750: set_object ZA_OFFICE_TRAPDOOR_OBJECT visibility 1
0750: set_object ZA_OFFICE_LADMARK1_OBJECT visibility 1
0750: set_object ZA_OFFICE_LADMARK2_OBJECT visibility 1
if
TREASURE_DETECTOR == 0
then
0750: set_object ZA_OFFICE_TREASURE_DETECTOR visibility 1
end                    

gosub @CAR_CREATE_FREEWAYMK2
gosub @CAR_CREATE_NCR125
gosub @CAR_CREATE_DIO
gosub @CAR_CREATE_AF400
gosub @CAR_CREATE_ROMEO
gosub @CAR_CREATE_VEDRO
gosub @CAR_CREATE_BOOMER
gosub @CAR_CREATE_MUSTANG
gosub @CAR_CREATE_INTERCEPTOR
gosub @CAR_CREATE_BEETLE
gosub @CAR_CREATE_300SL
gosub @CAR_CREATE_GELENVAGEN
gosub @CAR_CREATE_CAMRY
gosub @CAR_CREATE_911TURBO
gosub @CAR_CREATE_AIRMAX
gosub @CAR_CREATE_DELOREAN
gosub @CAR_CREATE_STARWING
gosub @CAR_CREATE_KARTING 

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT126_GOT"
if and
0@ == 0
$CHEATED_FLAG == 0
    then                            
    v$ACHIEVEMNT = "ACH126"
    $ACHIEVEMENT_GOT_FLAG = 1                                    
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT126_GOT"
    end

while true
wait 0

//Skateboard Hint
if and
ZA_OFFICE_SKATEBOARD_HINT_FLAG == 0
02D8:   actor PLAYER_ACTOR current_weapon == 14
    then
//    text.ShowTextBox('STBRDH')
    00BA: show_text_styled GXT "STBRDH" time 5000 style 5
    ZA_OFFICE_SKATEBOARD_HINT_FLAG = 1
    end

if
TREASURE_DETECTOR == 0
    then
    if
    0EE6: locate_char_distance_to_object PLAYER_ACTOR object ZA_OFFICE_TREASURE_DETECTOR radius 3.0
        then
        
        while 0EE6: locate_char_distance_to_object PLAYER_ACTOR object ZA_OFFICE_TREASURE_DETECTOR radius 3.0
        wait 0
        
        if
        8A2A: not  text_box 'GME1177' displayed
        then
        0512: show_permanent_text_box 'GME1177' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            object.Destroy(ZA_OFFICE_TREASURE_DETECTOR)
            TREASURE_DETECTOR = 1
            00BA: show_text_styled GXT "GME1178" time 5000 style 5
            Audiostream.Volume($MENU_MISC42_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($MENU_MISC42_SOUND, 0)
            Audiostream.PerformAction($MENU_MISC42_SOUND, PLAY)
            break
            end
        
        end
        
        if
        0A2A:  text_box 'GME1177' displayed
        then
        text.RemoveTextBox() 
        end                
        
        end
    end

if and
$ONMISSION == 0             
$STATE_DESTRUCTION_FLAG == 0   
    then
    if         
    not $NOTSAVE_MODE == 1
        then
        if
        875C: not  marker $SURV_CMP_SAVE_MARKER enabled
            then
            $SURV_CMP_SAVE = pickup.Create(#PICKUPSAVE,15,1815.7184, -1307.391, 120.2656)
            $SURV_CMP_SAVE_MARKER = marker.CreateIconWithoutSphere(35,1815.7184, -1307.391, 120.2656)                                        
            end                                               
        end                        
    end
    
if
075C:   marker $SURV_CMP_SAVE_MARKER enabled
    then
    
    if or
    $ONMISSION == 1             
    $STATE_DESTRUCTION_FLAG == 1
    $NOTSAVE_MODE == 1
        then        
        
        if
        09D1:   pickup $SURV_CMP_SAVE created
        then    
        pickup.Destroy($SURV_CMP_SAVE) 
        end
        
        if
        075C:   marker $SURV_CMP_SAVE_MARKER enabled
        then
        marker.Disable($SURV_CMP_SAVE_MARKER)
        $SURV_CMP_SAVE_MARKER = 0
        end        
        
        end
    end

if and    
$ONMISSION == 0
$STATE_DESTRUCTION_FLAG == 0
not $NOTSAVE_MODE == 1
075C:   marker $SURV_CMP_SAVE_MARKER enabled
    then
    if
    09D1:   pickup $SURV_CMP_SAVE created
        then
        if
        pickup.Picked_up($SURV_CMP_SAVE)
            then   
            if
            00EC:   actor PLAYER_ACTOR sphere 0 near_point 1815.7184 -1307.391 radius 3.0 3.0
                then
                player.CanMove(PLAYER_CHAR) = false
                Pickup.Destroy($SURV_CMP_SAVE)
                
                $CARMA_GLOB_RACE_LENGHT = 6991
                
                if
                075C:   marker $SURV_CMP_SAVE_MARKER enabled
                then
                marker.Disable($SURV_CMP_SAVE_MARKER)
                $SURV_CMP_SAVE_MARKER = 0
                end
                
                fade 0 1000
                $HUD_REMOVE = 1
                wait 1000
                
                0777: delete_objects_in_object_group "office"
                
                gosub @OFFICE_SAVE_SET
                                                                
                $CARMA_GLOB_RACE_LENGHT = 0
                $SAVESTATUS = 1                
                
                create_thread @OFC_MUS
                
                gosub @CAR_CREATE_ROMEO
                gosub @CAR_CREATE_VEDRO
                gosub @CAR_CREATE_BOOMER
                gosub @CAR_CREATE_MUSTANG
                gosub @CAR_CREATE_INTERCEPTOR
                gosub @CAR_CREATE_BEETLE
                gosub @CAR_CREATE_300SL
                gosub @CAR_CREATE_GELENVAGEN
                gosub @CAR_CREATE_CAMRY
                gosub @CAR_CREATE_911TURBO
                gosub @CAR_CREATE_AIRMAX
                gosub @CAR_CREATE_DELOREAN
                gosub @CAR_CREATE_STARWING
                gosub @CAR_CREATE_KARTING
                
                while $SAVESTATUS_TRUE == 1
                wait 0
                end
                
                while $SAVING_DELAY == 1
                wait 0
                end
                
                0776: create_objects_in_object_group "office"
                mload
                
                end
            end
        end
    end

if or
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 1839.8806 -1325.6731 128.7836 cornerB 1767.3181 -1266.6575 145.7836
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 1800.2953 -1308.8032 10.0 cornerB 1815.681 -1314.174 23.5758
    then
//    03BD: destroy_sphere ZA_OFFICE_LIFT_SPHERE
    $CARMA_GLOB_RACE_LENGHT = 699
    MAIN_QUEST_MUSIC_FLAG = 0
    $SAVESTATUS = 0
    0777: delete_objects_in_object_group "office"
    gosub @OFFICE_PAINTINGS_DELOAD
    jump to @OFFICE_START
    end
    
if and
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1821.3142 -1312.535 radius 1.0 1.0 stopped
not actor.Driving(PLAYER_ACTOR)
    then    
    
    player.CanMove(PLAYER_CHAR) = false                
                
    if
    075C:   marker $SURV_CMP_SAVE_MARKER enabled
    then
    marker.Disable($SURV_CMP_SAVE_MARKER)
    $SURV_CMP_SAVE_MARKER = 0
    end
                
    fade 0 1000
    $HUD_REMOVE = 1
    wait 1000    
    
    00BF: $TIME_HOURS = current_time_hours, $TIME_MINS = current_time_minutes
    00C0: set_current_time 0 0
    actor.PutAtNoOffset(PLAYER_ACTOR,1817.2247, -1306.1272, 4.0073)
    actor.Angle(PLAYER_ACTOR) = 90.0
    camera.Restore_WithJumpCut()    
    player.CanMove(PLAYER_CHAR) = true
    
    fade 1 1000
    $HUD_REMOVE = 0
    
    repeat
    wait 0
    
    ////////////////////////////////////////////////////////////
    
    if and
    00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 1817.2412 -1308.0087 0.0 cornerB 1808.9131 -1304.6274 10.0
    actor.Driving(PLAYER_ACTOR)
        then        
        
        0@ = actor.CurrentCar(PLAYER_ACTOR)
        car.SetSpeedInstantly(0@,0.0)        
        player.CanMove(PLAYER_CHAR) = false                                    
                    
        fade 0 1000
        $HUD_REMOVE = 1
        wait 1000
        
        00C0: set_current_time $TIME_HOURS $TIME_MINS
        0@ = actor.CurrentCar(PLAYER_ACTOR)
        0EB4: set_car_coordinates_simple 0@ position 1812.1021 -1312.4399 13.3566
        car.Angle(0@) = 180.0
        camera.Restore_WithJumpCut()
        player.CanMove(PLAYER_CHAR) = true
        
        fade 1 1000
        $HUD_REMOVE = 0
        break        
        end
        
    if and
    00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 1808.9131 -1308.0087 0.0 cornerB 1801.2982 -1304.6274 10.0
    actor.Driving(PLAYER_ACTOR)
        then        
        
        0@ = actor.CurrentCar(PLAYER_ACTOR)
        car.SetSpeedInstantly(0@,0.0)
        player.CanMove(PLAYER_CHAR) = false                                    
                    
        fade 0 1000
        $HUD_REMOVE = 1
        wait 1000
        
        00C0: set_current_time $TIME_HOURS $TIME_MINS
        0@ = actor.CurrentCar(PLAYER_ACTOR)
        0EB4: set_car_coordinates_simple 0@ position 1806.5533 -1312.4399 13.3753
        car.Angle(0@) = 180.0
        camera.Restore_WithJumpCut()
        player.CanMove(PLAYER_CHAR) = true
        
        fade 1 1000
        $HUD_REMOVE = 0
        break        
        end    
    
    if and
    00EF:   actor PLAYER_ACTOR sphere 0 near_point 1818.6775 -1306.1664 radius 1.0 1.0 stopped
    not actor.Driving(PLAYER_ACTOR)
        then        
        
        player.CanMove(PLAYER_CHAR) = false                                    
                    
        fade 0 1000
        $HUD_REMOVE = 1
        wait 1000    
        
        00C0: set_current_time $TIME_HOURS $TIME_MINS
        actor.PutAtNoOffset(PLAYER_ACTOR,1821.3199, -1314.8047, 120.2656)
        actor.Angle(PLAYER_ACTOR) = 180.6252
        camera.Restore_WithJumpCut()        
        wait 1000
        player.CanMove(PLAYER_CHAR) = true        
        
        fade 1 1000
        $HUD_REMOVE = 0
        break                
        end
        
    ////////////////////////////////////////////////////////////    
    
    until false
    
    end    

if and
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1784.2491 -1301.2096 radius 1.0 1.0 stopped
not actor.Driving(PLAYER_ACTOR)
    then
    
    while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1784.2491 -1301.2096 radius 1.0 1.0 stopped
    wait 0
    
    if
    8A2A: not  text_box 'GAME889' displayed
    then
    0512: show_permanent_text_box 'GAME889' 
    end
    
    if
    0AB0:   key_pressed $KEY_USE
        then
        
//        03BD: destroy_sphere ZA_OFFICE_LIFT_SPHERE        
        text.RemoveTextBox()
        
        0E68: set_player_control_pad 0 0 
        0E69: set_player_control_pad_movement 0 0
        
        0615: define_AS_pack_begin 0@
        05D3: AS_actor -1 goto_point 1786.984 -1301.2146 120.2656 mode 4 time 5000 ms // versionA
        05D4: AS_actor -1 rotate_angle 179.126
        0616: define_AS_pack_end 0@
        0618: assign_actor PLAYER_ACTOR to_AS_pack 0@
        061B: remove_references_to_AS_pack 0@
        
        repeat
        wait 0
        
        if
        00EF:   actor PLAYER_ACTOR sphere 0 near_point 1786.984 -1301.2146 radius 2.0 2.0 stopped
            then
            wait 500
            camera.Restore_WithJumpCut()
            break
            end
        
        until false
        
        21@ = Audiostream.Load3D("audio\sounds\other\office\lift_door_open.mp3")
        Audiostream.Volume(21@) = $SOUNDS_VOLUME
        Audiostream.Loop(21@, 0)
        Audiostream.PerformAction(21@, PLAY)
        Audiostream.LinkToObject(21@,ZA_OFFICE_LIFT_DOOR1)
        
        22@ = Audiostream.Load3D("audio\sounds\other\office\lift_door_open.mp3")
        Audiostream.Volume(22@) = $SOUNDS_VOLUME
        Audiostream.Loop(22@, 0)
        Audiostream.PerformAction(22@, PLAY)
        Audiostream.LinkToObject(22@,ZA_OFFICE_LIFT_DOOR2)
        
        repeat
        wait 0
        
        $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_DOORS_OPEN_SPEED
        0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
        034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1788.65 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1785.26 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        
        if and
        04E6:   object ZA_OFFICE_LIFT_DOOR1 near_point 1788.65 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
        04E6:   object ZA_OFFICE_LIFT_DOOR2 near_point 1785.26 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
            then                                        
            break
            end
        
        until false
        
        0615: define_AS_pack_begin 0@
        05D3: AS_actor -1 goto_point 1786.936 -1301.2163 120.2656 mode 4 time 5000 ms // versionA
        05D3: AS_actor -1 goto_point 1786.9473 -1303.2163 120.357 mode 4 time 5000 ms // versionA
        0616: define_AS_pack_end 0@
        0618: assign_actor PLAYER_ACTOR to_AS_pack 0@
        061B: remove_references_to_AS_pack 0@
        
        repeat
        wait 0
        until 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1786.9473 -1303.2163 radius 2.0 2.0 stopped                
        
        05D4: AS_actor PLAYER_ACTOR rotate_angle 359.3896
        wait 1000
        camera.Restore_WithJumpCut()
        
        Audiostream.PerformAction(21@, PLAY)
        Audiostream.PerformAction(22@, PLAY)
        
        repeat
        wait 0
        
        $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_DOORS_OPEN_SPEED
        0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
        034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1786.95 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1786.96 -1303.59 121.131 speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 0.0 collision_check 0
        
        if and
        04E6:   object ZA_OFFICE_LIFT_DOOR1 near_point 1786.95 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
        04E6:   object ZA_OFFICE_LIFT_DOOR2 near_point 1786.96 -1303.59 121.131 radius 0.001 0.001 0.001 flag 0
            then                                        
            break
            end
        
        until false
        
        0E68: set_player_control_pad 0 1 
        0E69: set_player_control_pad_movement 0 1
        
        21@ = Audiostream.Load3D("audio\sounds\other\office\lift_moving.mp3")
        Audiostream.Volume(21@) = $SOUNDS_VOLUME
        Audiostream.Loop(21@, 1)
        Audiostream.PerformAction(21@, PLAY)
        Audiostream.LinkToObject(21@,ZA_OFFICE_LIFT_OBJECT)
        $CARMA_GLOB_RACE_LENGHT = 69
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    
        repeat
        wait 0
        
        $TEMPVAR_FLOAT_1 = ZA_OFFICE_LIFT_SPEED
        0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
        034E: move_object ZA_OFFICE_LIFT_OBJECT to 1786.95 -1303.62 14.657 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
        034E: move_object ZA_OFFICE_LIFT_DOOR1 to 1786.95 -1303.59 14.69 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
        034E: move_object ZA_OFFICE_LIFT_DOOR2 to 1786.96 -1303.59 14.69 speed 0.0 0.0 $TEMPVAR_FLOAT_1 collision_check 0
        
        01BB: store_object ZA_OFFICE_LIFT_OBJECT position_to 1@ 2@ 3@    
        
        if
        04E6:   object ZA_OFFICE_LIFT_OBJECT near_point 1786.95 -1303.62 14.657 radius 10.0 10.0 0.001 flag 0
            then        
            break
            else
//            0AD1: show_formatted_text_highpriority "LIFT IS GOING DOWN, %f\14.657" time 2000 3@
            end
        
        until false
        
        Audiostream.PerformAction(21@, STOP)
        Audiostream.Release(21@)
        
        Audiostream.Release(22@)
        Audiostream.Release(23@)
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        MAIN_QUEST_MUSIC_FLAG = 0
        $CARMA_GLOB_RACE_LENGHT = 0
        
        0750: set_object ZA_OFFICE_TRAPDOOR_OBJECT visibility 0
        0750: set_object ZA_OFFICE_LADMARK1_OBJECT visibility 0
        0750: set_object ZA_OFFICE_LADMARK2_OBJECT visibility 0
        if
        TREASURE_DETECTOR == 0
        then
        0750: set_object ZA_OFFICE_TREASURE_DETECTOR visibility 0
        end 
        
        0777: delete_objects_in_object_group "office"
        gosub @OFFICE_PAINTINGS_DELOAD
        
        player.CanMove(PLAYER_CHAR) = false
        $HUD_REMOVE = 1
        fade 0 500
        wait 500
        $SAVESTATUS = 0    
        actor.PutAtNoOffset(PLAYER_ACTOR,1801.135 -1312.3679 13.6755)
        actor.Angle(PLAYER_ACTOR) = 177.4849
        camera.Restore_WithJumpCut()    
        wait 1000    
        fade 1 500
        player.CanMove(PLAYER_CHAR) = true
        $HUD_REMOVE = 0
        wait 500
        
        jump to @OFFICE_START
        
        end
    
    end
    
    if
    0A2A:   text_box 'GAME889' displayed
    then
    text.RemoveTextBox() 
    end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1812.7 -1278.26 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1812.7 -1278.26 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME890' displayed //1.0
        then
        0512: show_permanent_text_box 'GAME890' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 0 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za10\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"                    
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za10\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za10\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME890' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1823.09 -1270.87 radius 1.0 1.0 stopped
    then
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1823.09 -1270.87 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME891' displayed //1.1
        then
        0512: show_permanent_text_box 'GAME891' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za11\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"        
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za11\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za11\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME891' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1824.78 -1301.75 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1824.78 -1301.75 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME892' displayed //2.0
        then
        0512: show_permanent_text_box 'GAME892' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 2 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za20\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"        
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za20\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za20\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME892' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1834.58 -1300.95 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1834.58 -1300.95 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME893' displayed //2.1
        then
        0512: show_permanent_text_box 'GAME893' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET 
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za21\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"        
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za21\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za21\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME893' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1824.77 -1292.01 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1824.77 -1292.01 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME894' displayed //3.0
        then
        0512: show_permanent_text_box 'GAME894' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 4 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za30\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"        
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za30\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za30\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME894' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1813.8 -1301.03 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1813.8 -1301.03 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME895' displayed //4.0
        then
        0512: show_permanent_text_box 'GAME895' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 5 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 129 to_ini_file "za\za40\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"        
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int -1 to_ini_file "za\za40\III.VC.SA.SaveLoader.ini"  section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            0AF1: write_int 0 to_ini_file "za\za40\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                  
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME895' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end
    
if
00EF:   actor PLAYER_ACTOR sphere 0 near_point 1811.4 -1301.03 radius 1.0 1.0 stopped
    then
    
    if
    0AAB:   file_exists "modloader\ZA VERSION 11 FILES\gta3.img"
        then
    
        while 00EF:   actor PLAYER_ACTOR sphere 0 near_point 1811.4 -1301.03 radius 1.0 1.0 stopped
        wait 0
        
        if
        8A2A: not  text_box 'GAME896' displayed //4.1
        then
        0512: show_permanent_text_box 'GAME896' 
        end
        
        if
        0AB0:   key_pressed $KEY_USE
            then
            
            $CARMA_GLOB_RACE_LENGHT = 6991
            
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                
            
            fade 0 1000
            $HUD_REMOVE = 1
            wait 1000
            
            0777: delete_objects_in_object_group "office"
            
            gosub @OFFICE_OLDZA_SAVE_SET
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            if or
            0@ == 0
            0@ == 3
            then        
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_ERA"
            0AF1: write_int 6 to_ini_file "config.ini" section "LAUNCHER" key "CLASSIC_VER"
            0AF1: write_int 1 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            0E2C: get_current_save_slot 0@
            0AF1: write_int 0@ to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"  
            0AA2: 0@ = load_library "kernel32.dll" // IF and SET
            0AA4: 1@ = get_proc_address "ExitProcess" library 0@ // IF and SET
            0AA5: call 1@ num_params 1 pop 0 0
            else
            0AF1: write_int 3 to_ini_file "config.ini" section "LAUNCHER" key "RESTART_CLASSIC"
            end
            
            0AF0: 0@ = get_int_from_ini_file "config.ini" section "EXTRA" key "SAVES_AUTOLOAD"
            if
            0@ == 0
            then
            0AF1: write_int 129 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            else
            0AF1: write_int 0 to_ini_file "scripts\III.VC.SA.SaveLoader.ini" section "MAIN" key "LoadSlot"
            end                                    
            
            $CARMA_GLOB_RACE_LENGHT = 0
            $SAVESTATUS = 1            
            
            create_thread @OFC_MUS
            
            gosub @CAR_CREATE_ROMEO
            gosub @CAR_CREATE_VEDRO
            gosub @CAR_CREATE_BOOMER
            gosub @CAR_CREATE_MUSTANG
            gosub @CAR_CREATE_INTERCEPTOR
            gosub @CAR_CREATE_BEETLE
            gosub @CAR_CREATE_300SL
            gosub @CAR_CREATE_GELENVAGEN
            gosub @CAR_CREATE_CAMRY
            gosub @CAR_CREATE_911TURBO
            gosub @CAR_CREATE_AIRMAX
            gosub @CAR_CREATE_DELOREAN
            gosub @CAR_CREATE_STARWING
            gosub @CAR_CREATE_KARTING
            
            while $SAVESTATUS_TRUE == 1
            wait 0
            end
                
            while $SAVING_DELAY == 1
            wait 0
            end
                
            0776: create_objects_in_object_group "office"
            mload
            
            end
        
        end
        
        if
        0A2A:   text_box 'GAME896' displayed
        then
        text.RemoveTextBox() 
        end
        
        end
    
    end                            

end

end_thread

gosub @CAR_CREATE_FREEWAYMK2
gosub @CAR_CREATE_NCR125
gosub @CAR_CREATE_DIO
gosub @CAR_CREATE_AF400

:CAR_CREATE_FREEWAYMK2

if
0AE2:  0@ = random_vehicle_near_point 1801.6968 -1319.8245 13.2693 in_radius 0.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15494)
then
3@ = Car.Create(15494, 1801.6968, -1319.8245, 13.2693)
0EB4: set_car_coordinates_simple 3@ position 1801.6968 -1319.8245 13.2693
car.Angle(3@) = 275.496

if
model.Available(15494)
then
//model.Destroy(15494)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15494
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_FREEWAYMK2
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_NCR125

if
0AE2:  0@ = random_vehicle_near_point 1789.6445 -1317.4659 13.6741 in_radius 0.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15493)
then
3@ = Car.Create(15493, 1789.6445, -1317.4659, 13.6741)
0EB4: set_car_coordinates_simple 3@ position 1789.6445 -1317.4659 13.6741
car.Angle(3@) = 349.0289

if
model.Available(15493)
then
//model.Destroy(15493)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15493
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_NCR125
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_DIO

if
0AE2:  0@ = random_vehicle_near_point 1813.519 -1320.3408 13.5883 in_radius 0.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15492)
then
3@ = Car.Create(15492, 1813.519, -1320.3408, 13.5883)
0EB4: set_car_coordinates_simple 3@ position 1813.519 -1320.3408 13.5883
car.Angle(3@) = 280.4396

if
model.Available(15492)
then
//model.Destroy(15492)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15492
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_DIO
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_AF400

if
0AE2:  0@ = random_vehicle_near_point 1815.4958 -1309.7845 13.7513 in_radius 0.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15491)
then
3@ = Car.Create(15491, 1815.4958, -1309.7845, 13.7513)
0EB4: set_car_coordinates_simple 3@ position 1815.4958 -1309.7845 13.7513
car.Angle(3@) = 175.2675

if
model.Available(15491)
then
//model.Destroy(15491)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15491
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_AF400
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_ROMEO

if
0AE2:  0@ = random_vehicle_near_point 1804.0 -1302.2321 3.5997 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15483)
then
3@ = Car.Create(15483, 1804.0, -1302.2321, 3.5997)
0EB4: set_car_coordinates_simple 3@ position 1804.0 -1302.2321 3.5997
car.Angle(3@) = 270.0

if
model.Available(15483)
then
//model.Destroy(15483)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15483
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_ROMEO
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_VEDRO

if
0AE2:  0@ = random_vehicle_near_point 1814.2948 -1303.0984 3.6521 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15482)
then
3@ = Car.Create(15482, 1814.2948, -1303.0984, 3.6521)
0EB4: set_car_coordinates_simple 3@ position 1814.2948 -1303.0984 3.6521
car.Angle(3@) = 90.0

if
model.Available(15482)
then
//model.Destroy(15482)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15482
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_VEDRO
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_BOOMER

if
0AE2:  0@ = random_vehicle_near_point 1814.5754 -1297.9548 3.6322 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15481)
then
3@ = Car.Create(15481, 1814.5754, -1297.9548, 3.6322)
0EB4: set_car_coordinates_simple 3@ position 1814.5754 -1297.9548 3.6322
car.Angle(3@) = 90.0

if
model.Available(15481)
then
//model.Destroy(15481)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15481
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_BOOMER
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_MUSTANG

if
0AE2:  0@ = random_vehicle_near_point 1803.6892 -1297.1686 3.7146 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15480)
then
3@ = Car.Create(15480, 1803.6892, -1297.1686, 3.7146)
0EB4: set_car_coordinates_simple 3@ position 1803.6892 -1297.1686 3.7146
car.Angle(3@) = 270.0

if
model.Available(15480)
then
//model.Destroy(15480)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15480
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_MUSTANG
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_INTERCEPTOR

if
0AE2:  0@ = random_vehicle_near_point 1803.7228 -1292.0265 3.805 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15479)
then
3@ = Car.Create(15479, 1803.7228, -1292.0265, 3.805)
0EB4: set_car_coordinates_simple 3@ position 1803.7228 -1292.0265 3.805
car.Angle(3@) = 270.0

if
model.Available(15479)
then
//model.Destroy(15479)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15479
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_INTERCEPTOR
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_BEETLE

if
0AE2:  0@ = random_vehicle_near_point 1814.8097 -1292.8873 3.713 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15478)
then
3@ = Car.Create(15478, 1814.8097, -1292.8873, 3.713)
0EB4: set_car_coordinates_simple 3@ position 1814.8097 -1292.8873 3.713
car.Angle(3@) = 90.0

if
model.Available(15478)
then
//model.Destroy(15478)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15478
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_BEETLE
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_CAMRY

if
0AE2:  0@ = random_vehicle_near_point 1803.7255 -1287.6027 3.6667 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15477)
then
3@ = Car.Create(15477, 1803.7255, -1287.6027, 3.6667)
0EB4: set_car_coordinates_simple 3@ position 1803.7255 -1287.6027 3.6667
car.Angle(3@) = 270.0

if
model.Available(15477)
then
//model.Destroy(15477)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15477
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_CAMRY
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_GELENVAGEN

if
0AE2:  0@ = random_vehicle_near_point 1814.6962 -1288.2375 3.9532 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15475)
then
3@ = Car.Create(15475, 1814.6962, -1288.2375, 3.9532)
0EB4: set_car_coordinates_simple 3@ position 1814.6962 -1288.2375 3.9532
car.Angle(3@) = 90.0

if
model.Available(15475)
then
//model.Destroy(15475)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15475
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_GELENVAGEN
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_300SL

if
0AE2:  0@ = random_vehicle_near_point 1814.942 -1283.7762 3.5832 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15476)
then
3@ = Car.Create(15476, 1814.942, -1283.7762, 3.5832)
0EB4: set_car_coordinates_simple 3@ position 1814.942 -1283.7762 3.5832
car.Angle(3@) = 90.0

if
model.Available(15476)
then
//model.Destroy(15476)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15476
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_300SL
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_911TURBO

if
0AE2:  0@ = random_vehicle_near_point 1803.3389 -1282.6105 3.5974 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15474)
then
3@ = Car.Create(15474, 1803.3389, -1282.6105, 3.5974)
0EB4: set_car_coordinates_simple 3@ position 1803.3389 -1282.6105 3.5974
car.Angle(3@) = 270.0

if
model.Available(15474)
then
//model.Destroy(15474)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15474
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_911TURBO
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_AIRMAX

if
0AE2:  0@ = random_vehicle_near_point 1814.5365 -1278.2925 3.681 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15473)
then
3@ = Car.Create(15473, 1814.5365, -1278.2925, 3.681)
0EB4: set_car_coordinates_simple 3@ position 1814.5365 -1278.2925 3.681
car.Angle(3@) = 90.0

if
model.Available(15473)
then
//model.Destroy(15473)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15473
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_AIRMAX
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_DELOREAN

if
0AE2:  0@ = random_vehicle_near_point 1803.5132 -1278.2925 3.5945 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15468)
then
3@ = Car.Create(15468, 1803.5132, -1278.2925, 3.5945)
0EB4: set_car_coordinates_simple 3@ position 1803.5132 -1278.2925 3.5945
car.Angle(3@) = 270.0

if
model.Available(15468)
then
//model.Destroy(15468)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15468
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_DELOREAN
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_STARWING

if
0AE2:  0@ = random_vehicle_near_point 1823.5243 -1313.8811 133.4347 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(15469)
then
3@ = Car.Create(15469, 1823.5243, -1313.8811, 133.4347)
00AB: put_car 3@ at 1823.5243 -1313.8811 133.4347
car.Angle(3@) = 0.0

if
model.Available(15469)
then
//model.Destroy(15469)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model 15469
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_STARWING
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 0.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
Car.RemoveReferences(3@)

return

:CAR_CREATE_KARTING

if
0AE2:  0@ = random_vehicle_near_point 1815.39 -1316.6841 119.4464 in_radius 2.5 find_next 0 pass_wrecked 0
then
return
end

if
model.Available(#KART)
then
3@ = Car.Create(#KART, 1815.39, -1316.6841, 119.4464)
0EB4: set_car_coordinates_simple 3@ position 1815.39 -1316.6841 119.4464
car.Angle(3@) = 0.0

if
model.Available(#KART)
then
//model.Destroy(#KART)
end

else
//model.Load(5@)
//mload
0E98: request_priority_model #KART
0E99: load_all_priority_models_now
wait 0
jump to @CAR_CREATE_KARTING
end

0A97: 11@ = car 3@ struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car 3@ struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 50.0 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car 3@ struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 

return

:OFFICE_OLDZA_SAVE_SET

SAVE_PRE_TP_TEAMMATES_FLAG = 1

repeat
wait 0
until SAVE_PRE_TP_TEAMMATES_FLAG == 0

create_thread @DIFF_N

$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
create_thread @PTL_TXT
  
wait $GAME_SAVE_WAIT_TIME

while true
wait 0
$END_FADING_MUSIC_FAST = 1

if and
$MUSIC_FADE_ENDED[0] == 1
$MUSIC_FADE_ENDED[1] == 1
$MUSIC_FADE_ENDED[2] == 1
$MUSIC_FADE_ENDED[3] == 1
$MUSIC_FADE_ENDED[4] == 1
then
$END_FADING_MUSIC_FAST = 0
break
end

end

$PREPARING_TEXT_OFF = 1
wait 10
$PLAYER_HEALTH = actor.Health(PLAYER_ACTOR) 

wait 1

SKIP_6HOURS_AFTER_SAVE = 1
SKIP_6HOURS_AFTER_SAVE2 = 1
0A8D: 25@ = read_memory 0x61907A size 4 virtual_protect 1 
0A8D: 26@ = read_memory 0x61907E size 1 virtual_protect 1
0A8C: write_memory 0x61907A size 4 value -1869574000 virtual_protect 1 
0A8C: write_memory 0x61907E size 1 value 144 virtual_protect 1

065C: release_decision_maker $DEC_PEOPLE 
wait 10

if
UNITED_MAP == 1
then
03F0: enable_text_draw 0
end
03D8: show_save_screen   
  
:CHECKING_SAVE_OFFICE_OLDZA
wait 0
fade 0 0 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
if
03D9:   save_done
jf @CHECKING_SAVE_OFFICE_OLDZA
14@ = Actor.Angle(PLAYER_ACTOR)
14@ -= 180.0
Actor.Angle(PLAYER_ACTOR) = 14@
camera.Restore_WithJumpCut()

//if
//$FREEMODE == 0
//then
//$MINUTES_PLAYED += 6
//end         

0A8C: write_memory 0x61907A size 4 value 25@ virtual_protect 1 
0A8C: write_memory 0x61907E size 1 value 26@ virtual_protect 1

SKIP_6HOURS_AFTER_SAVE = 0

return

:OFFICE_SAVE_SET

SAVE_PRE_TP_TEAMMATES_FLAG = 1

repeat
wait 0
until SAVE_PRE_TP_TEAMMATES_FLAG == 0

create_thread @DIFF_N

$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
create_thread @PTL_TXT
  
wait $GAME_SAVE_WAIT_TIME

while true
wait 0
$END_FADING_MUSIC_FAST = 1

if and
$MUSIC_FADE_ENDED[0] == 1
$MUSIC_FADE_ENDED[1] == 1
$MUSIC_FADE_ENDED[2] == 1
$MUSIC_FADE_ENDED[3] == 1
$MUSIC_FADE_ENDED[4] == 1
then
$END_FADING_MUSIC_FAST = 0
break
end

end

$PREPARING_TEXT_OFF = 1
wait 10
$PLAYER_HEALTH = actor.Health(PLAYER_ACTOR) 

wait 1

SKIP_6HOURS_AFTER_SAVE = 1
SKIP_6HOURS_AFTER_SAVE2 = 1
0A8D: 25@ = read_memory 0x61907A size 4 virtual_protect 1 
0A8D: 26@ = read_memory 0x61907E size 1 virtual_protect 1
0A8C: write_memory 0x61907A size 4 value -1869574000 virtual_protect 1 
0A8C: write_memory 0x61907E size 1 value 144 virtual_protect 1

065C: release_decision_maker $DEC_PEOPLE 
wait 10

if
UNITED_MAP == 1
then
03F0: enable_text_draw 0
end
03D8: show_save_screen   
  
:CHECKING_SAVE_OFFICE
wait 0
fade 0 0 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
if
03D9:   save_done
jf @CHECKING_SAVE_OFFICE
Actor.PutAtNoOffset(PLAYER_ACTOR, 1814.0616, -1308.7682, 120.2656)
Actor.Angle(PLAYER_ACTOR) = 147.3308
camera.Restore_WithJumpCut()

//if
//$FREEMODE == 0
//then
//$MINUTES_PLAYED += 6
//end

0A8C: write_memory 0x61907A size 4 value 25@ virtual_protect 1 
0A8C: write_memory 0x61907E size 1 value 26@ virtual_protect 1

SKIP_6HOURS_AFTER_SAVE = 0

return

:OFFICE_PAINTINGS_DELOAD

if
09D1:   pickup $SURV_CMP_SAVE created
then    
pickup.Destroy($SURV_CMP_SAVE) 
end
        
if
075C:   marker $SURV_CMP_SAVE_MARKER enabled
then
marker.Disable($SURV_CMP_SAVE_MARKER)
$SURV_CMP_SAVE_MARKER = 0
end

for 0@ = 16847 to 16958
0EA3: remove_model_if_unused 0@
end

for 0@ = 16994 to 16996
0EA3: remove_model_if_unused 0@
end

for 0@ = 16959 to 16987
0EA3: remove_model_if_unused 0@
end

for 0@ = 14904 to 14972
0EA3: remove_model_if_unused 0@
end

for 0@ = 19183 to 19291
0EA3: remove_model_if_unused 0@
end

if
model.Available(18037)
then
//model.Destroy(18037)
end

for 0@ = 19292 to 19299
0EA3: remove_model_if_unused 0@
end

for 0@ = 18872 to 18877
0EA3: remove_model_if_unused 0@
end

for 0@ = 15505 to 15589
0EA3: remove_model_if_unused 0@
end

return  