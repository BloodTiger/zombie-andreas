:WTH_HRD
thread 'WTH_HRD'

if or
$QUEST_TYPE > 0
$FREEMODE == 0
PLAYER_IN_NEST_FLAG == 1
$EASY_MODE == 1
EASIER_SHIT_LEVEL == 2
then
end_thread
end

gosub @WTH_HRD_COORD_SET
32@ = 0

while true
wait 0

if
$SAVESTATUS == 1
then
audiostream.Release(22@)    
end_thread
end

0089: 31@ = $SOUNDS_VOLUME // (float)
31@ *= 2.0
Audiostream.Volume(22@) = 31@

if and
$WITCH_SPAWNED == 1
32@ > 2000
    then
    $SPAWN_WITCH_ON_COORD = 0
    SPEC_INF_ONLY_ONE_INSTANSE_SPAWN_FLAG = 0
    
    repeat
    wait 0
    
    if
    $SAVESTATUS == 1
    then
    break
    end
    
    0089: 31@ = $SOUNDS_VOLUME // (float)
    31@ *= 2.0
    Audiostream.Volume(22@) = 31@
    
    0AB9: get_mp3 22@ state_to 0@
    until 0@ == -1
    
    audiostream.Release(22@)
    
    end_thread
    end

end

end_thread

:WTH_HRD_COORD_SET
wait 0

while $SAVESTATUS == 1
wait 0
end

0208: 27@ = random_float_in_ranges 120.0 -120.0 
0208: 28@ = random_float_in_ranges -120.0 120.0   
 
04C4: store_coords_to 2@ 3@ 4@ from_actor PLAYER_ACTOR with_offset 27@ 28@ 0.0 
02CE: 4@ = ground_z_at 2@ 3@ 4@

if
UNITED_MAP == 0
then
if or
4@ > 0.25
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 860.55 1031.71 -100.0 cornerB 337.24 710.84 0.0
jf @WTH_HRD_COORD_SET
else
if
4@ > 0.25
jf @WTH_HRD_COORD_SET
end

Actor.StorePos(PLAYER_ACTOR, 27@, 28@, 29@)
050A: 30@ = distance_between_XYZ 2@ 3@ 4@ and_XYZ 27@ 28@ 29@ 
0092: 30@ = float 30@ to_integer
if and
30@ > 120 
not 30@ > 140
jf @WTH_HRD_COORD_SET
050A: 30@ = distance_between_XYZ 27@ 28@ 4@ and_XYZ 27@ 28@ 29@
0092: 30@ = float 30@ to_integer

gosub @WITCH_ZONE_CHECK
if 
0@ == 1
jf @WTH_HRD_COORD_SET  

if and
8AE2: 30@ = random_vehicle_near_point 2@ 3@ 4@ in_radius 10.0 find_next 0 pass_wrecked 0 //IF and SET
8AE1: 31@ = random_actor_near_point 2@ 3@ 4@ in_radius 5.0 find_next 0 pass_deads 0 //IF and SET 
jf @WTH_HRD_COORD_SET

22@ = Audiostream.Load3D("AUDIO\SOUNDS\EXTRA\witch_horde(FoxPoshelNahui).mp3")
Audiostream.SetPosition(22@,2@, 3@, 4@) //ZXY (old, XYZ new)
Audiostream.PerformAction(22@,PLAY)
Audiostream.Loop(22@,0)
0509: 23@ = distance_between_XY 2@ 3@ and_XY 27@ 28@
2506: SET_AUDIO_STREAM_SOURCE_SIZE 22@ 23@
//018A: 1@ = create_checkpoint_at 2@ 3@ 4@

4@ = -100.0

SPEC_INF_ONLY_ONE_INSTANSE_SPAWN_FLAG = 6
$SPAWN_WITCH_FLAG = 1
$SPAWN_WITCH_ON_COORD = 1
0088: $WITCH_X = 2@ // (float)
0088: $WITCH_Y = 3@ // (float)
0088: $WITCH_Z = 4@ // (float)

return  