const
COOP_2P_MENU_4VAR = $COOP_2P_MENU_4VAR
COOP_2P_MENU_5VAR = $COOP_2P_MENU_5VAR
COOP_2P_MENU_6VAR = $COOP_2P_MENU_6VAR
COOP_2P_MENU_18VAR = $COOP_2P_MENU_18VAR
COOP_2P_MENU_19VAR = $COOP_2P_MENU_19VAR
COOP_2P_MENU_20VAR = $COOP_2P_MENU_20VAR
COOP_2P_MENU_24VAR = $COOP_2P_MENU_24VAR
COOP_2P_MENU_25VAR = $COOP_2P_MENU_25VAR
COOP_2P_MENU_26VAR = $COOP_2P_MENU_26VAR
COOP_2P_MENU_29VAR = $COOP_2P_MENU_29VAR
COOP_2P_MENU_SVAR = v$COOP_2P_MENU_SVAR
end

//SURVIVOR_NUMBER = 18@
//SURVIVOR_THROW_MOLOTOV_TIMER = 7@
//SURVIVOR_THROW_MOLOTOV_TIMER2 = 8@
//SURVIVOR_THROW_MOLOTOV_FLAG = 6@
//SURVIVOR_THROW_PREV_WEAP = 4@
//SURVIVOR_PREV_BEFORE_PLAYER_GIVE_WEAPON_ID = 19@
//SURVIVOR_WEAPON_HAS_GIVEN_FLAG = 20@ 
//SURVIVOR_MARODER_FLAG = 5@ 
//SURVIVOR_FRIEND_HIMSELF = 29@ 
//SURVIVOR_ASKING_HELP_MARKER = 29@  
//SURVIVOR_HINT_FLAG = 25@
//SURVIVOR_2P_FLAG_WEP = 21@
//SURVIVOR_CLIMB_TIMER = 10@

:KANISTRA_USE_COOP
text.ClearAll()
0581: enable_radar 0
$PANEL_OPEN = 1
//0792: disembark_instantly_actor COOP_ACTOR
//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
gosub @INV_PLAYER_PAD_OFF_COOP
015D: set_gamespeed 0.1
COOP_2P_MENU_4VAR = 0
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV18' position 71.0 170.0 width 300.0 columns 2 interactive 1 background 1 alignment 1 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV20' 'INV21' 'INV15' 'INV22' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
0512: show_permanent_text_box 'INV286' 
08D6: set_panel COOP_2P_MENU_4VAR column 1 alignment 1
008C: $KANISTRA_FUEL_2P2 = float $KANISTRA_FUEL_2P to_integer 
08EE: set_panel COOP_2P_MENU_4VAR column 1 row 3 text_1number GXT 'INV3' number $KANISTRA_FUEL_2P2 
09DB: set_panel COOP_2P_MENU_4VAR column 0 width 142 
09DB: set_panel COOP_2P_MENU_4VAR column 1 width 25
08D9: set_panel COOP_2P_MENU_4VAR row 2 enable 0
08D9: set_panel COOP_2P_MENU_4VAR row 3 enable 0
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL8_ACTIVE_ROW_2P

Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY) 

07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1

:KANISTRA_USE_IDLE_COOP
wait 0            
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV286' displayed
then
0512: show_permanent_text_box 'INV286' 
end

08D7: $PANEL8_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL8_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL8_ACTIVE_ROW_2P > 1
        then
        $PANEL8_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL8_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL8_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL8_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL8_ACTIVE_ROW_2P < 0
        then
        $PANEL8_ACTIVE_ROW_2P = 1
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL8_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL8_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1

if
0E3E: player 1 pressed_key 14
    then
    if or    
    02D8:   actor COOP_ACTOR current_weapon == 9
    02D8:   actor COOP_ACTOR current_weapon == 131
    02D8:   actor COOP_ACTOR current_weapon == 164
    02D8:   actor COOP_ACTOR current_weapon == 194
        then
        if
        $KANISTRA_FUEL_2P > 0.1
            then    
            03E6: remove_text_box 
            08DA: remove_panel COOP_2P_MENU_4VAR  
            00BE: text_clear_all
            015D: set_gamespeed 1.0 
            cinema.Radar(1)
            gosub @INV_PLAYER_PAD_ON_BACK_COOP
            $PANEL_OPEN = 0
            
            while not animation.Available("CAR_CHECKS")
            wait 0
            animation.Load("CAR_CHECKS")
            end
            
            $KANISTRA_USING = 1               
                
            gosub @KANISTRA_IN_CHAINSAW_COOP
            015D: set_gamespeed 0.1                 
                
            Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_USE_SOUND, 0)
            Audiostream.PerformAction($GASCAN_USE_SOUND, STOP) 
                
            animation.Release("CAR_CHECKS") 
                
            $KANISTRA_USING = 0 
            07CC: set_player 1 can_enter_exit_vehicles 0        
            jump to @KANISTRA_USE_COOP
            else
            text.ShowH('INV29',100,1)
            wait 50  
            end    
        end
    end
    
if
0E3E: player 1 pressed_key 14
    then
    if or
    02D8:   actor COOP_ACTOR current_weapon == 37
    02D8:   actor COOP_ACTOR current_weapon == 114
    02D8:   actor COOP_ACTOR current_weapon == 148
    02D8:   actor COOP_ACTOR current_weapon == 180
    02D8:   actor COOP_ACTOR current_weapon == 210
        then
        if
        $KANISTRA_FUEL_2P > 0.1
            then    
            03E6: remove_text_box 
            08DA: remove_panel COOP_2P_MENU_4VAR  
            00BE: text_clear_all
            015D: set_gamespeed 1.0 
            cinema.Radar(1)
            gosub @INV_PLAYER_PAD_ON_BACK_COOP
            $PANEL_OPEN = 0
            
            while not animation.Available("CAR_CHECKS")
            wait 0
            animation.Load("CAR_CHECKS")
            end
            
            $KANISTRA_USING = 1               
                
            gosub @KANISTRA_IN_FLAMETHROWER_COOP
            015D: set_gamespeed 0.1                 
                
            Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_USE_SOUND, 0)
            Audiostream.PerformAction($GASCAN_USE_SOUND, STOP) 
                
            animation.Release("CAR_CHECKS") 
                
            $KANISTRA_USING = 0 
            07CC: set_player 1 can_enter_exit_vehicles 0        
            jump to @KANISTRA_USE
            else
            text.ShowH('INV29',100,1)
            wait 50    
            end
        end
    end    
 
if
$PANEL8_ACTIVE_ROW_2P == 0 
    then  
    if
    0E3E: player 1 pressed_key 16
        then
        if        
        $KANISTRA_FUEL_2P <= 25.1
            then
            03E6: remove_text_box 
            08DA: remove_panel COOP_2P_MENU_4VAR  
            00BE: text_clear_all
            015D: set_gamespeed 1.0 
            cinema.Radar(1)
            gosub @INV_PLAYER_PAD_ON_BACK_COOP
            $PANEL_OPEN = 0
            
            while not animation.Available("CAR_CHECKS")
            wait 0
            animation.Load("CAR_CHECKS")
            end
            
            0512: show_permanent_text_box 'INV24_3'
             
            $KANISTRA_USE += 1        
            
            0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"        
            
            if
            $CHEATED_FLAG == 0 
            then          
            0@ += 1
            end                
             
            0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"
            
            0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT92_GOT"
            0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"            
                
            if and
            0@ == 0
            1@ >= 1000
            $CHEATED_FLAG == 0
                then
                v$ACHIEVEMNT = "ACH92"
                $ACHIEVEMENT_GOT_FLAG = 1                
                0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT92_GOT"                
                end        
            
            $KANISTRA_USING = 1               
            
            gosub @KANISTRA_IN_COOP
                        
            015D: set_gamespeed 0.1                 
            
            Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_USE_SOUND, 0)
            Audiostream.PerformAction($GASCAN_USE_SOUND, STOP) 
            
            animation.Release("CAR_CHECKS") 
            
            $KANISTRA_USING = 0 
            07CC: set_player 1 can_enter_exit_vehicles 0        
            jump to @KANISTRA_USE_COOP
            else
            text.ShowH('INV26',100,1)
            wait 50 
            end
        end
    end
    
if
$PANEL8_ACTIVE_ROW_2P == 1 
    then  
    if
    0E3E: player 1 pressed_key 16
        then
        if
        $KANISTRA_FUEL_2P > 0.1
            then
            03E6: remove_text_box 
            08DA: remove_panel COOP_2P_MENU_4VAR  
            00BE: text_clear_all
            015D: set_gamespeed 1.0 
            cinema.Radar(1)
            gosub @INV_PLAYER_PAD_ON_BACK_COOP
            $PANEL_OPEN = 0
            
            while not animation.Available("CAR_CHECKS")
            wait 0
            animation.Load("CAR_CHECKS")
            end
            
            0512: show_permanent_text_box 'INV25_3'
             
            $KANISTRA_USE += 1        
            
            0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"        
            
            if
            $CHEATED_FLAG == 0 
            then          
            0@ += 1
            end                
             
            0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"
            
            0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT92_GOT"
            0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_USE"            
                
            if and
            0@ == 0
            1@ >= 1000
            $CHEATED_FLAG == 0
                then
                v$ACHIEVEMNT = "ACH92"
                $ACHIEVEMENT_GOT_FLAG = 1                
                0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT92_GOT"                
                end        
            
            $KANISTRA_USING = 1        
            
            gosub @KANISTRA_OUT_COOP            
            
            015D: set_gamespeed 0.1          
            
            Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_USE_SOUND, 0)
            Audiostream.PerformAction($GASCAN_USE_SOUND, STOP) 
            
            animation.Release("CAR_CHECKS") 
            
            $KANISTRA_USING = 0 
            07CC: set_player 1 can_enter_exit_vehicles 0        
            jump to @KANISTRA_USE_COOP
            else
            text.ShowH('INV29',100,1)
            wait 50  
            end
        end
    end
    
if or
0E3E: is_button_just_pressed 1 15 
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel COOP_2P_MENU_4VAR  
00BE: text_clear_all
//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1
return
else
jump @KANISTRA_USE_IDLE_COOP
end

:RADIO_MENU_START_COOP

text.ClearAll()

if
$EXPE_FLAG == 0
then

if or
$FREEMODE == 0
$GAMEMODE_WAR == 1
SURV_SECOND_WAVE_EVACUATION_STARTED == 1
MCS_FLAG == 1
$CARL_STORY == 1
then
jump to @RADIO_FM_MENU_START_COOP
end

end

//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
COOP_2P_MENU_4VAR = 0 
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV230' position 71.0 170.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
if and
UNITED_MAP == 0
not CUSTOM_MODE_TURN_OFF_STORY_THINGS == 1
then 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV226' 'INV227' 'INV228' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
else
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV226' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
end
0512: show_permanent_text_box 'INV229'
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71_ACTIVE_ROW_2P
RADIO_TEXTURE_RENDER_NUMBER = 214

if
$AIRDROP_FLAG == 1
then
08D9: set_panel COOP_2P_MENU_4VAR row 0 enable 0
end

if and
$FREEMODE == 1
UNITED_MAP == 1
not CUSTOM_MODE_TURN_OFF_STORY_THINGS == 1
then
08D9: set_panel COOP_2P_MENU_4VAR row 1 enable 0
08D9: set_panel COOP_2P_MENU_4VAR row 2 enable 0
08D9: set_panel COOP_2P_MENU_4VAR row 3 enable 0
end

//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1  

:RADIO_MENU_IDLE_COOP
wait 0
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV229' displayed
then
0512: show_permanent_text_box 'INV229' 
end

08D7: $PANEL71_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL71_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL71_ACTIVE_ROW_2P > 2
        then
        $PANEL71_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL71_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL71_ACTIVE_ROW_2P < 0
        then
        $PANEL71_ACTIVE_ROW_2P = 2
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1
 
if
$PANEL71_ACTIVE_ROW_2P == 0 
    then
    text.ShowH('GMD_120',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        Audiostream.Loop($RADIO_SWITCH_SOUND,0)
        Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
        Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME        
        jump @RADIO_FM_MENU_START_COOP
        end
    end
    
if
$PANEL71_ACTIVE_ROW_2P == 1 
    then
    text.ShowH('GMD_121',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        Audiostream.Loop($RADIO_SWITCH_SOUND,0)
        Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
        Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME
        jump @RADIO_AM_MENU_START_COOP
        end
    end
    
if
$PANEL71_ACTIVE_ROW_2P == 2 
    then
    text.ShowH('GMD_122',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        Audiostream.Loop($RADIO_SWITCH_SOUND,0)
        Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
        Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME
        jump @RADIO_SSB_MENU_START_COOP
        end
    end        
 
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
    then
    0581: enable_radar 1 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all
    RADIO_TEXTURE_RENDER_NUMBER = 0
    Audiostream.Loop($RADIO_OFF_SOUND,0)
    Audiostream.PerformAction($RADIO_OFF_SOUND, PLAY)
    Audiostream.Volume($RADIO_OFF_SOUND) = $SOUNDS_VOLUME     
    return    
    end

jump @RADIO_MENU_IDLE_COOP

//////////////////////////////Режим FM//////////////////////////////////////

:RADIO_FM_MENU_START_COOP
text.ClearAll()
//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
COOP_2P_MENU_4VAR = 0 
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV226' position 71.0 170.0 width 150.0 columns 1 interactive 1 background 1 alignment 1

if
SURV_SECOND_WAVE_EVACUATION_STARTED == 1
then
jump to @RADIO_FM_SALVATION_COOP
end

if and
$FREEMODE == 0
$GAMEMODE_WAR == 0
then
:RADIO_FM_SALVATION_COOP 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV231' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
else

if
$GAMEMODE_WAR == 0
then
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV232' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
else
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV232' 'INV332' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
end

end
0512: show_permanent_text_box 'INV234'
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL72_ACTIVE_ROW_2P
RADIO_TEXTURE_RENDER_NUMBER = 215

if
not $ACTIVE_INTERIOR == 0
then
08D9: set_panel COOP_2P_MENU_4VAR row 0 enable 0
end

//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1  

:RADIO_FM_MENU_IDLE_COOP
wait 0
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV234' displayed
then
0512: show_permanent_text_box 'INV234' 
end

08D7: $PANEL72_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL72_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL72_ACTIVE_ROW_2P > 1
        then
        $PANEL72_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL72_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL72_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL72_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL72_ACTIVE_ROW_2P < 0
        then
        $PANEL72_ACTIVE_ROW_2P = 1
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL72_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL72_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1

if and
$PANEL72_ACTIVE_ROW_2P == 0
SURV_SECOND_WAVE_EVACUATION_STARTED == 1 
    then
    text.ShowH('GMD_123',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        RADIO_TEXTURE_RENDER_NUMBER = 0
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP 
        $PANEL_OPEN = 0
        $RADIO_HELP_FLAG = 1
//        $INV_CLOSED = 1   
//        $INV_CLOSED = 0                
        jump @COOP_INV_CLOSE_JUMP
        end
    end
 
if and
$PANEL72_ACTIVE_ROW_2P == 0
$FREEMODE == 0
$GAMEMODE_WAR == 0 
    then
    text.ShowH('GMD_123',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        RADIO_TEXTURE_RENDER_NUMBER = 0
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP 
        $PANEL_OPEN = 0
        $RADIO_HELP_FLAG = 1
//        $INV_CLOSED = 1   
//        $INV_CLOSED = 0                
        jump @COOP_INV_CLOSE_JUMP
        end
    end
    
if and
$PANEL72_ACTIVE_ROW_2P == 0
SURV_SECOND_WAVE_EVACUATION_STARTED == 0 
    then
    if or
    $FREEMODE == 1
    $GAMEMODE_WAR == 1
        then
        text.ShowH('GMD_124',2,1)
        if
        0E3E:   player 1 pressed_key 16
            then
            gosub @INV_AIRDROP_NEAR_CAMP_CHECK_COOP
            if and
            COOP_2P_MENU_6VAR == 0
            PLAYER_IN_NEST_FLAG == 0
                then
                gosub @INV_RANDOM_AIRDROP_SPAWN_ZONE_CHECK_COOP
                if
                COOP_2P_MENU_6VAR == 1
                    then  
                    0581: enable_radar 1 
                    03E6: remove_text_box 
                    08DA: remove_panel COOP_2P_MENU_4VAR
                    00BE: text_clear_all
                    RADIO_TEXTURE_RENDER_NUMBER = 0
                    015D: set_gamespeed 1.0            
                    
        //            $INV_CLOSED = 1   
        //            $INV_CLOSED = 0
        
                    gosub @INV_PLAYER_PAD_ON_BACK_COOP 
                    $PANEL_OPEN = 0
                    
                    //////////////////////////////////////////////////////
        
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_TRIED_TO_CREATE_FLAG"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_TRIED_TO_DUBLICATE"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_TRIED_TO_FIND_POINT"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_POINT_SAVESTATUS"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_TRIED_TO_FIND_POINT"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_PLAYER_MISSED_AIRDROP"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_PLAYER_NEAR_CAMP"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_FAILED_TO_LOAD_MODEL"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_TIMER_NOT_GOOD"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_PLANE_DESTROYED"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_PLAYER_LEAVED_DROP"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_PLAYER_PICKED_UP"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_NOTRANDOM_WAITING_TIMER"
                    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_THREAD_CREATING_PLANE_FLAG"
                    
                    //////////////////////////////////////////////////////
                    
                    create_thread @HAB_DRP                                    
                    
                    jump @COOP_INV_CLOSE_JUMP
                    else
                    text.ShowH('INV302',100,1)
                    wait 50
                    end
                else
                text.ShowH('INV302',100,1)
                wait 50
                end            
            end
        end
    end
    
if
$PANEL72_ACTIVE_ROW_2P == 1 
    then
    if
    $GAMEMODE_WAR == 1
        then
        text.ShowH('GMD_158',2,1)
        if
        0E3E:   player 1 pressed_key 16
            then
            gosub @INV_AIRDROP_NEAR_CAMP_CHECK_COOP
            if
            0AB6: store_target_marker_coords_to 0@ 1@ 2@ // IF and SET
                then
                if
                00EC:   actor COOP_ACTOR sphere 0 near_point 0@ 1@ radius 280.0 280.0
                    then  
                    0581: enable_radar 1 
                    03E6: remove_text_box 
                    08DA: remove_panel COOP_2P_MENU_4VAR
                    00BE: text_clear_all
                    RADIO_TEXTURE_RENDER_NUMBER = 0
                    015D: set_gamespeed 1.0            
                        
//                    $INV_CLOSED = 1   
//                    $INV_CLOSED = 0
            
                    gosub @INV_PLAYER_PAD_ON_BACK_COOP 
                    $PANEL_OPEN = 0
                    
                    //////////////////////////////////////////////////////
                    
                    create_thread @AIR_STR
                    
                    //////////////////////////////////////////////////////                                                                                    
                        
                    jump @COOP_INV_CLOSE_JUMP
                    else
                    text.ShowH('INV338',100,1)
                    wait 50
                    end
                else
                text.ShowH('INV334',100,1)
                wait 50
                end            
            end
        end
    end                     
 
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
    then 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all
    
    if
    $EXPE_FLAG == 0
    then
    
    if or
    $FREEMODE == 0
    $GAMEMODE_WAR == 1
    SURV_SECOND_WAVE_EVACUATION_STARTED == 1
    MCS_FLAG == 1
    $CARL_STORY == 1        
    then
    
    if
    $GAMEMODE_WAR == 0
    then
    Audiostream.Loop($RADIO_OFF_SOUND,0)
    Audiostream.PerformAction($RADIO_OFF_SOUND, PLAY)
    Audiostream.Volume($RADIO_OFF_SOUND) = $SOUNDS_VOLUME
    RADIO_TEXTURE_RENDER_NUMBER = 0
    return
    else
    0581: enable_radar 1 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all
    015D: set_gamespeed 1.0
    gosub @INV_PLAYER_PAD_ON_BACK_COOP 
    $PANEL_OPEN = 0
//    $INV_CLOSED = 1   
//    $INV_CLOSED = 0
    Audiostream.Loop($RADIO_OFF_SOUND,0)
    Audiostream.PerformAction($RADIO_OFF_SOUND, PLAY)
    Audiostream.Volume($RADIO_OFF_SOUND) = $SOUNDS_VOLUME
    RADIO_TEXTURE_RENDER_NUMBER = 0
    jump to @COOP_INV_CLOSE_JUMP
    end
    
    end
    
    end
    
    Audiostream.Loop($RADIO_SWITCH_SOUND,0)
    Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
    Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME
     
    jump to @RADIO_MENU_START_COOP
    end

jump @RADIO_FM_MENU_IDLE_COOP

//////////////////////////////Режим AM//////////////////////////////////////

:RADIO_AM_MENU_START_COOP
text.ClearAll()
//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
COOP_2P_MENU_4VAR = 0 
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV227' position 71.0 170.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
if
$FREEMODE == 0
then 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV233' 'INV235' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
else
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV233' 'INV235' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
end
0512: show_permanent_text_box 'INV234'
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL73_ACTIVE_ROW_2P
RADIO_TEXTURE_RENDER_NUMBER = 216

//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1  

:RADIO_AM_MENU_IDLE_COOP
wait 0
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV234' displayed
then
0512: show_permanent_text_box 'INV234' 
end

08D7: $PANEL73_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL73_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL73_ACTIVE_ROW_2P > 1
        then
        $PANEL73_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL73_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL73_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL73_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL73_ACTIVE_ROW_2P < 0
        then
        $PANEL73_ACTIVE_ROW_2P = 1
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL73_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL73_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1
 
if
$PANEL73_ACTIVE_ROW_2P == 0 
    then
    text.ShowH('GMD_125',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP 
        $PANEL_OPEN = 0
//        $INV_CLOSED = 1   
//        $INV_CLOSED = 0
        2@ = 0
        $READING_NOTE_FLAG = 1
        $PHRASES_OFF_FLAG = 1
        gosub @MODULATE_FIND_AM_COOP
        $READING_NOTE_FLAG = 0
        $PHRASES_OFF_FLAG = 0        
        jump @RADIO_AM_MENU_START_COOP
        end
    end
    
if
$PANEL73_ACTIVE_ROW_2P == 1 
    then
    text.ShowH('GMD_126',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        $READING_NOTE_FLAG = 1
        gosub @RADIO_SHOW_HINT_COOP
        $READING_NOTE_FLAG = 0        
        jump @RADIO_AM_MENU_START_COOP
        end
    end                    
 
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
    then 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all
    Audiostream.Loop($RADIO_SWITCH_SOUND,0)
    Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
    Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME 
    jump to @RADIO_MENU_START_COOP
    end

jump @RADIO_AM_MENU_IDLE_COOP

//////////////////////////////Режим SSB//////////////////////////////////////

:RADIO_SSB_MENU_START_COOP
text.ClearAll()
//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
COOP_2P_MENU_4VAR = 0 
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV228' position 71.0 170.0 width 150.0 columns 1 interactive 1 background 1 alignment 1
if
$FREEMODE == 0
then 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV233' 'INV235' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
else
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV233' 'INV235' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
end

0512: show_permanent_text_box 'INV234'
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL74_ACTIVE_ROW_2P
RADIO_TEXTURE_RENDER_NUMBER = 217

//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1  

:RADIO_SSB_MENU_IDLE_COOP
wait 0
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV234' displayed
then
0512: show_permanent_text_box 'INV234' 
end

08D7: $PANEL74_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL74_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL74_ACTIVE_ROW_2P > 1
        then
        $PANEL74_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL74_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL74_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL74_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL74_ACTIVE_ROW_2P < 0
        then
        $PANEL74_ACTIVE_ROW_2P = 1
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL74_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL74_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1
 
if
$PANEL74_ACTIVE_ROW_2P == 0 
    then
    text.ShowH('GMD_125',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP 
        $PANEL_OPEN = 0
//        $INV_CLOSED = 1   
        $INV_CLOSED = 0
        2@ = 1
        $READING_NOTE_FLAG = 1
        $PHRASES_OFF_FLAG = 1
        gosub @MODULATE_FIND_SSB_COOP
        $READING_NOTE_FLAG = 0
        $PHRASES_OFF_FLAG = 0        
        jump @RADIO_SSB_MENU_START_COOP
        end
    end
    
if
$PANEL74_ACTIVE_ROW_2P == 1 
    then
    text.ShowH('GMD_126',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then  
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all
        $READING_NOTE_FLAG = 1
        gosub @RADIO_SHOW_HINT_COOP
        $READING_NOTE_FLAG = 0        
        jump @RADIO_SSB_MENU_START_COOP
        end
    end                    
 
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
    then 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all
    Audiostream.Loop($RADIO_SWITCH_SOUND,0)
    Audiostream.PerformAction($RADIO_SWITCH_SOUND, PLAY)
    Audiostream.Volume($RADIO_SWITCH_SOUND) = $SOUNDS_VOLUME 
    jump to @RADIO_MENU_START_COOP
    end

jump @RADIO_SSB_MENU_IDLE_COOP

:MODULATE_FIND_AM_COOP

0470: 9@ = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

0A8C: write_memory 0x0634DE2 size 4 value 330 virtual_protect 0

0A8D: 1@ = read_memory 0x0634DE2 size 4 virtual_protect 0
while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

0729: AS_actor COOP_ACTOR hold_cellphone 1

repeat
wait 0
until actor.Animation(COOP_ACTOR) == "phone_talk"

33@ = 0

random_int 1@ 10 1700
0093: 1@ = integer 1@ to_float
3@ = 0

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = 0.0
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

////////////////////////////////////////////////////////

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0               
end

gosub @CANALS_CHECK_RADIO_MUTE_TRACK

////////////////////////////////////////////////////////

while true
wait 0

if
1@ > 1700.0
then
1@ = 1700.0
end

if
1@ < 25.0
then
1@ = 25.0
end

gosub @AMPLITUDE_SHOW_COOP
gosub @AMPLITUDE_CHECK_COOP

if
COOP_ACTIVE_FLAG == 1
then

if and
0E45: frame_mod 5
00E1:   player 1 pressed_key 5
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ -= 0.1
else
1@ -= 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ -= 10.0
else
1@ -= 100.0
end

end

Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

if and
0E45: frame_mod 5
00E1:   player 1 pressed_key 7
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ += 0.1
else
1@ += 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ += 10.0
else
1@ += 100.0
end

end

$PANEL4_ACTIVE_ROW += 1
Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

else

if
0E11: is_mouse_wheel_down
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ -= 0.1
else
1@ -= 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ -= 10.0
else
1@ -= 100.0
end

end

Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

if
0E10: is_mouse_wheel_up
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ += 0.1
else
1@ += 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ += 10.0
else
1@ += 100.0
end

end

$PANEL4_ACTIVE_ROW += 1
Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

end

if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
not actor.Animation(COOP_ACTOR) == "phone_talk"
    then
    text.ClearAll()
    break
    end

end

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

//////////////////////////////////////////////////////////

0A8C: write_memory 0x06348F6 size 4 value 330 virtual_protect 0
0729: AS_actor COOP_ACTOR hold_cellphone 0

wait 50

while actor.Animation(COOP_ACTOR) == "phone_out"
wait 0
end

wait 150

01B9: set_actor COOP_ACTOR armed_weapon_to 9@
0992: set_player 1 weapons_scrollable 1

return

:MODULATE_FIND_SSB_COOP

0470: 9@ = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

0A8C: write_memory 0x0634DE2 size 4 value 330 virtual_protect 0

0A8D: 1@ = read_memory 0x0634DE2 size 4 virtual_protect 0
while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

0729: AS_actor COOP_ACTOR hold_cellphone 1

repeat
wait 0
until actor.Animation(COOP_ACTOR) == "phone_talk"

33@ = 0

random_int 1@ 1000 27000
0093: 1@ = integer 1@ to_float
3@ = 0

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = 0.0
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

////////////////////////////////////////////////////////

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0               
end

gosub @CANALS_CHECK_RADIO_MUTE_TRACK

////////////////////////////////////////////////////////

while true
wait 0

if
1@ > 27000.0
then
1@ = 27000.0
end

if
1@ < 1000.0
then
1@ = 1000.0
end

gosub @AMPLITUDE_SHOW_COOP
gosub @AMPLITUDE_CHECK_COOP

if
COOP_ACTIVE_FLAG == 1
then

if and
0E45: frame_mod 5
00E1:   player 1 pressed_key 5
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then     
1@ -= 0.1
else
1@ -= 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ -= 100.0
else
1@ -= 1000.0
end

end

Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

if and
0E45: frame_mod 5
00E1:   player 1 pressed_key 7
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ += 0.1
else
1@ += 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ += 100.0
else
1@ += 1000.0
end

end

$PANEL4_ACTIVE_ROW += 1
Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

else

if
0E11: is_mouse_wheel_down
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ -= 0.1
else
1@ -= 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ -= 100.0
else
1@ -= 1000.0
end

end

Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

if
0E10: is_mouse_wheel_up
then

if
80E1: not  player 1 pressed_key 6
then

if
80E1: not  player 1 pressed_key 14
then
1@ += 0.1
else
1@ += 1.0
end

else

if
80E1: not  player 1 pressed_key 14
then
1@ += 100.0
else
1@ += 1000.0
end

end

$PANEL4_ACTIVE_ROW += 1
Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
Audiostream.Loop($MENU_FOCUS_SOUND, 0)
Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
end

end

if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
not actor.Animation(COOP_ACTOR) == "phone_talk"
    then
    text.ClearAll()
    break
    end

end

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

//////////////////////////////////////////////////////////

0A8C: write_memory 0x06348F6 size 4 value 330 virtual_protect 0
0729: AS_actor COOP_ACTOR hold_cellphone 0

wait 50

while actor.Animation(COOP_ACTOR) == "phone_out"
wait 0
end

wait 150

01B9: set_actor COOP_ACTOR armed_weapon_to 9@
0992: set_player 1 weapons_scrollable 1

return

:RADIO_SHOW_HINT_COOP

$HUD_REMOVE = 1
fade 0 10
wait 10  

$SPEED_08_FLAG = 1

cinema.Widescreen(1)
0A48: enable_menu_access_in_widescreen_mode 0

wait 1
03F0: enable_text_draw 0
wait 1
0391: release_textures 

wait 1

0A0E: disable_text_with_style 1

05A9: s$NOTE_NAME1 = 'radio' // s$ // Sunday  

0390: load_txd_dictionary 'radio'

wait 1
038F: load_texture 'hint' as 1 // Load dictionary with 0390 first 
wait 1  

15@ = 0    

random_int 16@ 0 to 5 

if
16@ == 0
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll1.mp3") 
end

if
16@ == 1
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll2.mp3") 
end

if
16@ == 2
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll3.mp3") 
end

if
16@ == 3
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll4.mp3") 
end

if
16@ == 4
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll5.mp3") 
end
   
Audiostream.PerformAction(14@, PLAY)
Audiostream.Volume(14@) = $SOUNDS_VOLUME 

 repeat 
wait 0
03F0: enable_text_draw 1
038D: draw_texture 1 position 320.0 224.5 size 640.0 449.0 RGBA 255 255 255 15@
03E3: set_texture_to_be_drawn_antialiased 1 
 until 0E3E: key_pressed 0 17    
 
wait 1
03F0: enable_text_draw 0
wait 1
0391: release_textures 

wait 1  

0A0E: disable_text_with_style 0   

Audiostream.PerformAction(14@, STOP)
audiostream.Release(14@)

$SPEED_08_FLAG = 0

cinema.Widescreen(0)
0A48: enable_menu_access_in_widescreen_mode 1   

fade 1 10
$HUD_REMOVE = 0 

return

:AMPLITUDE_CHECK_COOP

if and
3@ == 1
87D7: not  1@ == COOP_2P_MENU_4VAR  // (float)
    then
    
    3@ = 0
    
    /////////////////////Плавное затухание/////////////////////
    
    $MUSIC_FADE_NUMBER += 1
    if
    $MUSIC_FADE_NUMBER > 4
        then
        $MUSIC_FADE_NUMBER = 0 
        end    
    
    0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
    $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
    
    $MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 90
    $MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
    $MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
    create_thread @MUS_FAD
    
    wait 1
    
    while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
    wait 0    
    gosub @AMPLITUDE_SHOW_COOP    
    end
    
    //////////////////////////////////////////////////////////
    
    $RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
    Audiostream.Loop($RADIO_SOUND, 1)  
    Audiostream.Volume($RADIO_SOUND) = 0.0
    Audiostream.PerformAction($RADIO_SOUND, PLAY)
    
    /////////////////////Плавное нарастание/////////////////////
    
    $MUSIC_FADE_NUMBER += 1
    if
    $MUSIC_FADE_NUMBER > 4
        then
        $MUSIC_FADE_NUMBER = 0 
        end    
    
    0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
    0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
    
    $MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 90
    $MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
    $MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
    create_thread @MUS_FAD
    
    wait 1
    
    while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
    wait 0    
    gosub @AMPLITUDE_SHOW    
    end 
    
    ////////////////////////////////////////////////////////
    
    end
    
{$INCLUDE Radio Stalking Stations Coop.txt}                                                       

return

:AMPLITUDE_SHOW_COOP

if
2@ == 0
then
0AED: COOP_2P_MENU_SVAR = float 1@ to_string_format "%.5g"
0AD1: show_formatted_text_highpriority "AM - %s" time 1000 COOP_2P_MENU_SVAR
else
0AED: COOP_2P_MENU_SVAR = float 1@ to_string_format "%.5g"
0AD1: show_formatted_text_highpriority "SSB - %s" time 1000 COOP_2P_MENU_SVAR
end

return

:AMPLITUDE1_COOP

3@ = 1
0088: COOP_2P_MENU_4VAR = 1@ // (float)
        
/////////////////////Плавное затухание/////////////////////
        
$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 90
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD
        
wait 1
        
while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0        
gosub @AMPLITUDE_SHOW_COOP        
end

return

:AMPLITUDE2_COOP

/////////////////////Плавное нарастание/////////////////////
        
$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 90
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD
        
wait 1
        
while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0        
gosub @AMPLITUDE_SHOW_COOP        
end 
        
////////////////////////////////////////////////////////

return

:TOOLS_MENU_START_COOP

text.ClearAll()

if
SURVIVOR_REPAIR_COUNT < 1
then
return
end

//05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
COOP_2P_MENU_4VAR = 0 
08D4: COOP_2P_MENU_4VAR = create_panel_with_title 'INV303' position 71.0 170.0 width 150.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel COOP_2P_MENU_4VAR column 0 header 'DUMMY' data 'INV304' 'INV305' 'INV320' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'
0512: show_permanent_text_box 'INV306'
090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71T_ACTIVE_ROW_2P

//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 10
//07CC: set_player 1 can_enter_exit_vehicles 1  

:TOOLS_MENU_IDLE_COOP
wait 0
07CC: set_player 1 can_enter_exit_vehicles 0

if
8A2A: not  text_box 'INV306' displayed
then
0512: show_permanent_text_box 'INV306' 
end

08D7: $PANEL71T_ACTIVE_ROW_2P = panel COOP_2P_MENU_4VAR active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL71T_ACTIVE_ROW_2P += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL71T_ACTIVE_ROW_2P > 2
        then
        $PANEL71T_ACTIVE_ROW_2P = 0
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71T_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71T_ACTIVE_ROW_2P
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL71T_ACTIVE_ROW_2P -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL71T_ACTIVE_ROW_2P < 0
        then
        $PANEL71T_ACTIVE_ROW_2P = 2
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71T_ACTIVE_ROW_2P
        else
        090E: set_panel COOP_2P_MENU_4VAR active_row $PANEL71T_ACTIVE_ROW_2P
        end
    end

015D: set_gamespeed 0.1
 
if
$PANEL71T_ACTIVE_ROW_2P == 0 
    then
    text.ShowH('GMD_146',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all 
        07CC: set_player 1 can_enter_exit_vehicles 0  
            
        while not animation.Available("CAR_CHECKS")
        wait 0
        animation.Load("CAR_CHECKS")
        end
            
        $PANEL_OPEN = 0                          
        gosub @REPAIR_START_COOP 
        $JIMMY_USING = 0
        gosub @INV_PLAYER_PAD_OFF_COOP
        jump to @TOOLS_MENU_START_COOP
        end
    end
    
if
$PANEL71T_ACTIVE_ROW_2P == 1 
    then
    text.ShowH('GMD_147',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all 
        07CC: set_player 1 can_enter_exit_vehicles 0  
            
        while not animation.Available("CAR_CHECKS")
        wait 0
        animation.Load("CAR_CHECKS")
        end
            
        $PANEL_OPEN = 0                          
        gosub @DOMKRAT_START_COOP 
        $JIMMY_USING = 0
        gosub @INV_PLAYER_PAD_OFF_COOP
        jump to @TOOLS_MENU_START_COOP
        end
    end
    
if
$PANEL71T_ACTIVE_ROW_2P == 2 
    then
    text.ShowH('GMD_149',2,1)
    if
    0E3E:   player 1 pressed_key 16
        then   
        015D: set_gamespeed 1.0
        gosub @INV_PLAYER_PAD_ON_BACK_COOP
        0581: enable_radar 1 
        03E6: remove_text_box 
        08DA: remove_panel COOP_2P_MENU_4VAR
        00BE: text_clear_all 
        07CC: set_player 1 can_enter_exit_vehicles 0  
            
        while not animation.Available("CAR_CHECKS")
        wait 0
        animation.Load("CAR_CHECKS")
        end
            
        $PANEL_OPEN = 0                          
        gosub @DINAMO_START_COOP 
        $JIMMY_USING = 0
        gosub @INV_PLAYER_PAD_OFF_COOP
        jump to @TOOLS_MENU_START_COOP
        end
    end                
 
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
    then 
    03E6: remove_text_box 
    08DA: remove_panel COOP_2P_MENU_4VAR
    00BE: text_clear_all     
    return    
    end

jump @TOOLS_MENU_IDLE_COOP

//////////////////////////////Выливание бензина из транспорта в канистру//////////////////////////////////////

:KANISTRA_IN_OUT_COOP 
wait 0
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
jf @KANISTRA_IN_COOP
wait 5
03E6: remove_text_box 
return

:KANISTRA_IN_REM_COOP
jump @KANISTRA_IN_COOP

:KANITRSA_FULL_COOP 
00BC: show_text_highpriority GXT 'INV26' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
return

:KANISTRA_FULL2_COOP
00BC: show_text_highpriority GXT 'INV26' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0   
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
return

:BAK_PUST_COOP
00BC: show_text_highpriority GXT 'INV28' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0  
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
gosub @GASOLINE_NONE_AFTERKANISTRA_COOP 
return

:GASOLINE_NONE_AFTERKANISTRA_COOP

0D5E: get_vehicle 3@ class_to 22@ subclass_to 23@
//0AD1: show_formatted_text_highpriority "class %d subclass %d" time 2000 22@ 23@
//wait 2000
if and
not 23@ == 3
not 23@ == 4
not 23@ == 7
not 23@ == 8
then
02D4: car 3@ turn_off_engine
else

if or
23@ == 4
23@ == 8
then
0ABF: set_vehicle 3@ engine_state_to false
end

end

return

:KANISTRA_IN_COOP
wait 0
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @KANISTRA_IN_OUT_COOP

if
8A2A: not  text_box 'INV24_3' displayed
    then
    0512: show_permanent_text_box 'INV24_3'
    end 

if
00E1: player 1 pressed_key 11 
jf @KANISTRA_IN_OUT_COOP
if
not $KANISTRA_FUEL_2P >= 25.0
jf @KANITRSA_FULL_COOP
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @KANISTRA_IN_COOP
if and
not car.Wrecked(3@)
not Car.Id(3@) == #BMX
not Car.Id(3@) == #BIKE
not Car.Id(3@) == #MTBIKE
jf @KANISTRA_IN_COOP
if
UNITED_MAP == 0
then
if and
not car.Id(3@) == #QUAD
not car.Id(3@) == 15426
jf @KANISTRA_IN_CHECK_NEAR_QUADBIKE_COOP
end 
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
jf @KANISTRA_IN_CHECK_NEAR_MOTO_COOP
jump @KANISTRA_IN_CHECK_NEAR_COOP

:KANISTRA_IN_CHECK_NEAR_COOP
wait 0
gosub @GASTANK_OFFSET_COOP
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset COOP_2P_MENU_24VAR COOP_2P_MENU_25VAR COOP_2P_MENU_26VAR 
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 0.75
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 0.65 0.65
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_IN_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET_COOP
jump @KANISTRA_IN_START_COOP

:KANISTRA_IN_CHECK_NEAR_MOTO_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 0.75 
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 0.85 0.85
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_IN_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET_COOP
jump @KANISTRA_IN_START_COOP

:KANISTRA_IN_CHECK_NEAR_QUADBIKE_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.05 
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.05 1.05
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_IN_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET_COOP
jump @KANISTRA_IN_START_COOP

:KANISTRA_IN_REM2_COOP
wait 200
03BD: destroy_sphere $CAR_SPHERE
jump @KANISTRA_IN_COOP 

:KANISTRA_IN_START_COOP
0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon

01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then

repeat
wait 0
until 82D8: not  actor COOP_ACTOR current_weapon == $PLAYER_PREV_WEAP

end 

08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 1
random_float $BENZIN $GASOLINE_MIN $GASOLINE_MAX

if
PERK_GASOLINEFIND == 1
then
$BENZIN *= 2.0
end

if
Car.Id(3@) == #PETROTR
then
$BENZIN += 15.0
end

gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP
    
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY) 
jump @BENZIN_KANISTRA_MINUS_COOP

:KANISTRA_BENZIN_OLD_CAR_SET_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 9000
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY)

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then

repeat
wait 0
until 82D8: not  actor COOP_ACTOR current_weapon == $PLAYER_PREV_WEAP

end
 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8D: $BENZIN = read_memory 23@ size 4 virtual_protect 0

gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP
   
if
not $BENZIN == 0
jf @BAK_PUST
jump @BENZIN_KANISTRA_MINUS_COOP

:BENZIN_KANISTRA_MINUS_COOP
wait 20
if 
$BENZIN >= 0.1
jf @BAK_PUST_COOP
if
not $KANISTRA_FUEL_2P >= 25.0
jf @KANISTRA_FULL2_COOP

gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP

if
$SLOWMODE_ACTIVE == 0
then
$BENZIN -= 0.1
$KANISTRA_FUEL_2P += 0.1
$KANISTRA_FUEL_2P_IN_TOTAL += 0.1
else
$BENZIN -= 0.1
$KANISTRA_FUEL_2P += 0.1
$KANISTRA_FUEL_2P_IN_TOTAL += 0.1

$BENZIN -= 0.1
$KANISTRA_FUEL_2P += 0.1
$KANISTRA_FUEL_2P_IN_TOTAL += 0.1

$BENZIN -= 0.1
$KANISTRA_FUEL_2P += 0.1
$KANISTRA_FUEL_2P_IN_TOTAL += 0.1
end

CAR_2P_UPDATE_GAS_INCAR = 1

02E3: 0@ = car 3@ speed
if and
0@ < 1.0
0185:  car 3@ health > 249
//8495: not  car 3@ burning
jf @BENZIN_KANISTRA_OUT_COOP
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
not car.Wrecked(3@)
jf @BENZIN_KANISTRA_OUT_COOP
if
actor.Animation(COOP_ACTOR) == "car_check"
jf @BENZIN_KANISTRA_OUT_COOP
jump @BENZIN_KANISTRA_MINUS_COOP

:BENZIN_KANISTRA_OUT_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0 
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1      
return

:GASTANK_OFFSET_COOP
0441: 15@ = car 3@ model

0AD3: v$GAS_TANK_X = format "X%d" 15@
0AD3: v$GAS_TANK_Y = format "Y%d" 15@
0AD3: v$GAS_TANK_Z = format "Z%d" 15@

0AF2: COOP_2P_MENU_24VAR = get_float_from_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_X
0AF2: COOP_2P_MENU_25VAR = get_float_from_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_Y
0AF2: COOP_2P_MENU_26VAR = get_float_from_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_Z

if and
COOP_2P_MENU_24VAR <= -100.0
COOP_2P_MENU_25VAR <= -100.0
COOP_2P_MENU_26VAR <= -100.0
    then
    0AF3: write_float -1.0 to_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_X
    0AF3: write_float -2.7 to_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_Y
    0AF3: write_float 0.0 to_ini_file "data/skins.ini" section "GASTANK" key v$GAS_TANK_Z        
    COOP_2P_MENU_24VAR = -1.0
    COOP_2P_MENU_25VAR = -2.7
    COOP_2P_MENU_26VAR = 0.0
    end        

return

//////////////////////////////Выливание бензина из канистры в машину//////////////////////////////////////

:KANISTRA_OUT_OUT_COOP 
wait 0
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
jf @KANISTRA_OUT_COOP
wait 5
03E6: remove_text_box 
return

:KANISTRA_OUT_REM_COOP
wait 200
03BD: destroy_sphere $CAR_SPHERE
jump @KANISTRA_OUT_COOP

:KANITRSA_PUSTA_COOP 
00BC: show_text_highpriority GXT 'INV29' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
return

:KANISTRA_PUSTA2_COOP
00BC: show_text_highpriority GXT 'INV29' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1  
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0   
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1                                                             
return

:BAK_FULL_COOP
00BC: show_text_highpriority GXT 'INV27' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0 
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1 
return

:KANISTRA_OUT_COOP
wait 0
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @KANISTRA_OUT_OUT_COOP

if
8A2A: not  text_box 'INV25_3' displayed
    then
    0512: show_permanent_text_box 'INV25_3'
    end 

if 
00E1: player 1 pressed_key 11 
jf @KANISTRA_OUT_OUT_COOP
if
not $KANISTRA_FUEL_2P <= 0.1
jf @KANITRSA_PUSTA_COOP
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @KANISTRA_OUT_COOP
if and
not car.Wrecked(3@)
not Car.Id(3@) == #BMX
not Car.Id(3@) == #BIKE
not Car.Id(3@) == #MTBIKE
jf @KANISTRA_OUT_COOP
if and
not car.Id(3@) == #QUAD
not car.Id(3@) == 15426
jf @KANISTRA_OUT_CHECK_NEAR_QUADBIKE_COOP 
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
jf @KANISTRA_OUT_CHECK_NEAR_MOTO_COOP
jump @KANISTRA_OUT_CHECK_NEAR_COOP

:KANISTRA_OUT_CHECK_NEAR_COOP
wait 0
gosub @GASTANK_OFFSET_COOP
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset COOP_2P_MENU_24VAR COOP_2P_MENU_25VAR COOP_2P_MENU_26VAR
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 0.75 
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 0.65 0.65
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_OUT_REM_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET2_COOP
jump @KANISTRA_OUT_START_COOP

:KANISTRA_OUT_CHECK_NEAR_MOTO_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 0.75 
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 0.85 0.85
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_OUT_REM_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET2_COOP
jump @KANISTRA_OUT_START_COOP

:KANISTRA_OUT_CHECK_NEAR_QUADBIKE_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.05 
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.05 1.05
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @KANISTRA_OUT_REM_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: 11@ = car 3@ struct 
11@ += 4   
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
if
88B7:   not test 12@ bit 1
jf @KANISTRA_BENZIN_OLD_CAR_SET2_COOP
jump @KANISTRA_OUT_START_COOP

:KANISTRA_OUT_START_COOP
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 1
if
not car.Id(3@) == #PETROTR
jf @CHECK_ANIM44_COOP
random_float $BENZIN $GASOLINE_MIN $GASOLINE_MAX

if
PERK_GASOLINEFIND == 1
then
$BENZIN *= 3.5
end

jump @CHECK_ANIM444_COOP

:CHECK_ANIM444_COOP
0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then

repeat
wait 0
until 82D8: not  actor COOP_ACTOR current_weapon == $PLAYER_PREV_WEAP

end

gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP

0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY) 
jump @BENZIN_KANISTRA_MINUS2_COOP

:CHECK_ANIM44_COOP
random_float $KANISTRA_FUEL_2P $KANISTRA_FUEL_MIN $KANISTRA_FUEL_MAX
0059: $KANISTRA_FUEL_2P += $KANISTRA_FUEL_2P // (float)
random_float $KANISTRA_FUEL_2P2 10.0 20.0
0059: $KANISTRA_FUEL_2P2 += $KANISTRA_FUEL_2P // (float)

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then

repeat
wait 0
until 82D8: not  actor COOP_ACTOR current_weapon == $PLAYER_PREV_WEAP

end

jump @BENZIN_KANISTRA_MINUS2_COOP

:KANISTRA_BENZIN_OLD_CAR_SET2_COOP

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if or
$PLAYER_PREV_WEAP == 9
$PLAYER_PREV_WEAP == 131
$PLAYER_PREV_WEAP == 164
$PLAYER_PREV_WEAP == 194
then

repeat
wait 0
until 82D8: not  actor COOP_ACTOR current_weapon == $PLAYER_PREV_WEAP

end

0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY)
 
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8D: $BENZIN = read_memory 23@ size 4 virtual_protect 0
 
gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP

{$INCLUDE Gasoline Max Coop.txt}

jump @BENZIN_KANISTRA_MINUS2_COOP

:BENZIN_KANISTRA_SHOW_TEXT_COOP

008C: $BENZIN2 = float $BENZIN to_integer
if and
not CAR_SEARCH_DO_NOT_GIVE == 1
not SUPPLY_TEXT_FLAG == 1
not CAMP_RAID_FLAG == 1
then 
04F7: vagina_text $BENZIN2 type 0 line 1 GXT 'INV113'
else

if and
CAR_SEARCH_DO_NOT_GIVE == 1
not RQUEST_TIMER_STOPPED_FLAG == 1
then
04F7: vagina_text $BENZIN2 type 0 line 2 GXT 'INV113'
else

if and
SUPPLY_TEXT_FLAG == 0
CAMP_RAID_FLAG == 0
then
04F7: vagina_text $BENZIN2 type 0 line 1 GXT 'INV113'
else
04F7: vagina_text $BENZIN2 type 0 line 2 GXT 'INV113'
end

end

end

return

:BENZIN_KANISTRA_MINUS2_COOP
wait 20

gosub @BENZIN_KANISTRA_SHOW_TEXT_COOP

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL_2P -= 0.1
$BENZIN += 0.1
$BENZIN_IN_CAR_TOTAL += 0.1
else
$KANISTRA_FUEL_2P -= 0.1
$BENZIN += 0.1
$BENZIN_IN_CAR_TOTAL += 0.1

$KANISTRA_FUEL_2P -= 0.1
$BENZIN += 0.1
$BENZIN_IN_CAR_TOTAL += 0.1

$KANISTRA_FUEL_2P -= 0.1
$BENZIN += 0.1
$BENZIN_IN_CAR_TOTAL += 0.1
end

CAR_2P_UPDATE_GAS_INCAR = 1

02E3: 0@ = car 3@ speed
if and
0@ < 1.0
0185:  car 3@ health > 249
//8495: not  car 3@ burning
jf @BENZIN_KANISTRA_IN_COOP
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
not car.Wrecked(3@)
jf @BENZIN_KANISTRA_IN_COOP
if
actor.Animation(COOP_ACTOR) == "car_check"
jf @BENZIN_KANISTRA_IN_COOP

{$INCLUDE Gasoline Max Coop.txt}

if
not $KANISTRA_FUEL_2P < 0.1
jf @KANISTRA_PUSTA2_COOP
jump @BENZIN_KANISTRA_MINUS2_COOP

:BENZIN_KANISTRA_IN_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1  
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
0A97: 22@ = car 3@ struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN virtual_protect 0 
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP 
0992: set_player 1 weapons_scrollable 1                                                               
return

//////////////////////////////Вливание бензина из канистры в бензопилу//////////////////////////////////////

:KANISTRA_IN_CHAINSAW_COOP
0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

if
0491:   actor COOP_ACTOR has_weapon 9
then
01B9: set_actor COOP_ACTOR armed_weapon_to 9
end

if
0491:   actor COOP_ACTOR has_weapon 131
then
01B9: set_actor COOP_ACTOR armed_weapon_to 131 
end

if
0491:   actor COOP_ACTOR has_weapon 164
then
01B9: set_actor COOP_ACTOR armed_weapon_to 164
end

if
0491:   actor COOP_ACTOR has_weapon 194
then
01B9: set_actor COOP_ACTOR armed_weapon_to 194
end
    
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY) 

while true
wait 0

for 0@ = 0 to 1

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL_2P -= 0.01
$CHAINSAW_GASOLINE2P += 1
0084: $CHAINSAW_GASOLINE2P2 = $CHAINSAW_GASOLINE2P
$CHAINSAW_GASOLINE2P2 /= 10
0084: $CHAINSAW_GASOLINE2P3 = $CHAINSAW_GASOLINE2P2
else
$KANISTRA_FUEL_2P -= 0.01
$CHAINSAW_GASOLINE2P += 1
0084: $CHAINSAW_GASOLINE2P2 = $CHAINSAW_GASOLINE2P
$CHAINSAW_GASOLINE2P2 /= 10
0084: $CHAINSAW_GASOLINE2P3 = $CHAINSAW_GASOLINE2P2
$KANISTRA_FUEL_2P -= 0.01
$CHAINSAW_GASOLINE2P += 1
0084: $CHAINSAW_GASOLINE2P2 = $CHAINSAW_GASOLINE2P
$CHAINSAW_GASOLINE2P2 /= 10
0084: $CHAINSAW_GASOLINE2P3 = $CHAINSAW_GASOLINE2P2
$KANISTRA_FUEL_2P -= 0.01
$CHAINSAW_GASOLINE2P += 1
0084: $CHAINSAW_GASOLINE2P2 = $CHAINSAW_GASOLINE2P
$CHAINSAW_GASOLINE2P2 /= 10
0084: $CHAINSAW_GASOLINE2P3 = $CHAINSAW_GASOLINE2P2
end

end

if
$CHAINSAW_GASOLINE2P >= 1000
    then
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    00BC: show_text_highpriority GXT 'INV287' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end

if
not $KANISTRA_FUEL_2P > 0.0
    then
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    00BC: show_text_highpriority GXT 'INV29' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end

if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
not actor.Animation(COOP_ACTOR) == "car_check"
    then
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end        

end

return

//////////////////////////////Вливание бензина из канистры в бензопилу//////////////////////////////////////

:KANISTRA_IN_FLAMETHROWER_COOP
0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

FLAMETHROWER_MAX_AMMO_FLAG = 0

if
0491:   actor COOP_ACTOR has_weapon 37
then
01B9: set_actor COOP_ACTOR armed_weapon_to 37
COOP_2P_MENU_5VAR = 37
end

if
0491:   actor COOP_ACTOR has_weapon 114
then
01B9: set_actor COOP_ACTOR armed_weapon_to 114
COOP_2P_MENU_5VAR = 114 
end

if
0491:   actor COOP_ACTOR has_weapon 148
then
01B9: set_actor COOP_ACTOR armed_weapon_to 148
COOP_2P_MENU_5VAR = 148
end

if
0491:   actor COOP_ACTOR has_weapon 180
then
01B9: set_actor COOP_ACTOR armed_weapon_to 180
COOP_2P_MENU_5VAR = 180
end

if
0491:   actor COOP_ACTOR has_weapon 210
then
01B9: set_actor COOP_ACTOR armed_weapon_to 210
COOP_2P_MENU_5VAR = 210
end
    
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($GASCAN_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_USE_SOUND, 1)
Audiostream.PerformAction($GASCAN_USE_SOUND, PLAY) 

while true
wait 0

for 0@ = 0 to 1

if
$SLOWMODE_ACTIVE == 0
then
$KANISTRA_FUEL_2P -= 0.05
0114: set_actor COOP_ACTOR weapon COOP_2P_MENU_5VAR add_ammo 1
else
$KANISTRA_FUEL_2P -= 0.05
0114: set_actor COOP_ACTOR weapon COOP_2P_MENU_5VAR add_ammo 1
$KANISTRA_FUEL_2P -= 0.05
0114: set_actor COOP_ACTOR weapon COOP_2P_MENU_5VAR add_ammo 1
$KANISTRA_FUEL_2P -= 0.05
0114: set_actor COOP_ACTOR weapon COOP_2P_MENU_5VAR add_ammo 1
end

end

if
FLAMETHROWER_MAX_AMMO_FLAG == 1
    then
    FLAMETHROWER_MAX_AMMO_FLAG = 0
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    00BC: show_text_highpriority GXT 'INV287' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end

if
not $KANISTRA_FUEL_2P > 0.0
    then
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    00BC: show_text_highpriority GXT 'INV29' time 2000 flag 1  // ~s~Come back between 9:00 and 17:00.
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end

if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR) 
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1
not actor.Animation(COOP_ACTOR) == "car_check"
    then
    wait 5
    03E6: remove_text_box 
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
    0992: set_player 1 weapons_scrollable 1
    0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//    0792: disembark_instantly_actor COOP_ACTOR
    break
    end        

end

return

:REPAIR_START_COOP
wait 0

$JIMMY_USING = 1

if
8A2A: not  text_box 'INV197C' displayed
    then
    0512: show_permanent_text_box 'INV197C'
    end  
    
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @REPAIR_START_OUT_COOP    
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @REPAIR_START_COOP 
if and
not car.Wrecked(3@)
not Car.Id(3@) == RHINO_MODEL_NUMBER
not Car.Id(3@) == ARMY_HUNTER_MODEL_NUMBER
not Car.Id(3@) == #HYDRA
not Car.Id(3@) == #BMX
not Car.Id(3@) == #BIKE
not Car.Id(3@) == #MTBIKE
jf @REPAIR_START_COOP
if
00E1: player 1 pressed_key 11 
jf @REPAIR_START_COOP
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
jf @REPAIR_START_CHECK_NEAR_MOTO_COOP
jump @REPAIR_START_CHECK_NEAR_COOP

:REPAIR_START_CHECK_NEAR_COOP
wait 0

gosub @GET_POS_FOR_REPAIR_SHIT_COOP
 
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.0
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.0 1.0
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching     
not car.Wrecked(3@)
jf @REPAIR_START_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0@ = car.Health(3@)
if
not 0@ >= CAR_HEALTH_MAX
jf @REPAIR_CAR_NOT_DAMAGED_COOP
COOP_2P_MENU_29VAR = car.Health(3@)
jump @REPAIR_START2_COOP

:REPAIR_START_CHECK_NEAR_MOTO_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0 
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.0
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.0 1.0
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching     
not car.Wrecked(3@)
jf @REPAIR_START_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0@ = car.Health(3@)
if
not 0@ >= CAR_HEALTH_MAX
jf @REPAIR_CAR_NOT_DAMAGED_COOP
COOP_2P_MENU_29VAR = car.Health(3@)
jump @REPAIR_START2_COOP

:REPAIR_START_REM2_COOP
wait 200
03BD: destroy_sphere $CAR_SPHERE
jump @REPAIR_START_COOP 

:REPAIR_START_OUT_COOP
text.ClearAll()
text.RemoveTextBox()
return

:REPAIR_CAR_NOT_DAMAGED_COOP
text.ClearAll()
text.RemoveTextBox()
text.ShowH('INV203',100,1)
return

:REPAIR_START2_COOP   
text.RemoveTextBox() 

gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 1.0
    else                                 
    08A6: set_car 3@ door 1 rotation_to 1.0 
    end
end

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0
$BENZIN = 10
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10

if and
not CAR_SEARCH_DO_NOT_GIVE == 1
not SUPPLY_TEXT_FLAG == 1
then        
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV200'
else

if and
CAR_SEARCH_DO_NOT_GIVE == 1
not RQUEST_TIMER_STOPPED_FLAG == 1
then
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV200'
else

if
SUPPLY_TEXT_FLAG == 0
then
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV200'
else
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV200'
end

end

end
    
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($CAR_SEARCH_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($CAR_SEARCH_SOUND, 1)
Audiostream.PerformAction($CAR_SEARCH_SOUND, PLAY) 
jump @REPAIR_IDLE_CHECK_COOP

:REPAIR_IDLE_CHECK_COOP
wait 20
30@ = car.Health(3@)

if
$SLOWMODE_ACTIVE == 0
then
$BENZIN += 1
else
$BENZIN += 1
$BENZIN += 1
$BENZIN += 1
$BENZIN += 1
end
  
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10
if
not $BENZIN >= 1000
jf @REPAIR_FINISHED_COOP
02E3: 0@ = car 3@ speed
if and
0@ < 1.0
0185:  car 3@ health > 249
//8495: not  car 3@ burning
jf @REPAIR_IDLE_OUT_COOP
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
003B:   COOP_2P_MENU_29VAR == 30@  // (int)
jf @REPAIR_IDLE_OUT_COOP
if
actor.Animation(COOP_ACTOR) == "car_check"
jf @REPAIR_IDLE_OUT_COOP
jump @REPAIR_IDLE_CHECK_COOP

:REPAIR_FINISHED_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2   

gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 0.0
    else
    08A6: set_car 3@ door 1 rotation_to 0.0
    end 
end 

Audiostream.PerformAction($CAR_SEARCH_SOUND, STOP)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
SURVIVOR_REPAIR_COUNT -= 1
0A30: repair_car 3@

////////////////////////////////////////////////////////////////
//0A97: COOP_2P_MENU_19VAR = car 3@ struct 
//COOP_2P_MENU_19VAR += 17 
//0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
//0A97: 11@ = car 3@ struct 
//11@ += 9
//0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
//08BD: set 12@ bit 2
//0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0
//08C3: clear 12@ bit 2
//0A97: COOP_2P_MENU_19VAR = car 3@ struct 
//COOP_2P_MENU_19VAR += 17 
//0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
//0A97: COOP_2P_MENU_19VAR = car 3@ struct 
//COOP_2P_MENU_19VAR += 17
//08C3: clear COOP_2P_MENU_24VAR bit 4 
//0A8C: write_memory COOP_2P_MENU_19VAR size 1 value COOP_2P_MENU_24VAR virtual_protect 0
////////////////////////////////////////////////////////////////

car.Health(3@) = CAR_HEALTH_MAX

$TEMP_XP = REPAIR_CAR_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)

text.ShowH('INV198',100,1)
return

:REPAIR_IDLE_OUT_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2

gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 0.0
    else
    08A6: set_car 3@ door 1 rotation_to 0.0
    end
end

Audiostream.PerformAction($CAR_SEARCH_SOUND, STOP)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
text.ShowH('INV199',100,1)           
return

:DINAMO_START_COOP
wait 0

$JIMMY_USING = 1

if
8A2A: not  text_box 'INV322C' displayed
    then
    0512: show_permanent_text_box 'INV322C'
    end   
    
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @DINAMO_START_OUT_COOP    
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @DINAMO_START_COOP 
if and
not car.Wrecked(3@)
not Car.Id(3@) == RHINO_MODEL_NUMBER
not Car.Id(3@) == ARMY_HUNTER_MODEL_NUMBER
not Car.Id(3@) == #HYDRA
not Car.Id(3@) == #BMX
not Car.Id(3@) == #BIKE
not Car.Id(3@) == #MTBIKE
jf @DINAMO_START_COOP
if
00E1: player 1 pressed_key 11 
jf @DINAMO_START_COOP
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
jf @DINAMO_START_CHECK_NEAR_MOTO_COOP
jump @DINAMO_START_CHECK_NEAR_COOP

:DINAMO_START_CHECK_NEAR_COOP
wait 0

gosub @GET_POS_FOR_REPAIR_SHIT_COOP
 
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.0
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.0 1.0
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching     
not car.Wrecked(3@)
jf @DINAMO_START_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: COOP_2P_MENU_19VAR = car 3@ struct 
COOP_2P_MENU_19VAR += 17 
0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
if
08B4:   test COOP_2P_MENU_24VAR bit 4
jf @DINAMO_CAR_NOT_DAMAGED_COOP
COOP_2P_MENU_29VAR = car.Health(3@)
jump @DINAMO_START2_COOP

:DINAMO_START_CHECK_NEAR_MOTO_COOP
wait 0
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0 
03BC: $CAR_SPHERE = create_sphere_at COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR radius 1.0
if and
00EC:   actor COOP_ACTOR sphere 0 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 1.0 1.0
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching     
not car.Wrecked(3@)
jf @DINAMO_START_REM2_COOP
03BD: destroy_sphere $CAR_SPHERE
0A97: COOP_2P_MENU_19VAR = car 3@ struct 
COOP_2P_MENU_19VAR += 17 
0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
if
08B4:   test COOP_2P_MENU_24VAR bit 4
jf @DINAMO_CAR_NOT_DAMAGED_COOP
COOP_2P_MENU_29VAR = car.Health(3@)
jump @DINAMO_START2_COOP

:DINAMO_START_REM2_COOP
wait 200
03BD: destroy_sphere $CAR_SPHERE
jump @DINAMO_START_COOP 

:DINAMO_START_OUT_COOP
text.ClearAll()
text.RemoveTextBox()
return

:DINAMO_CAR_NOT_DAMAGED_COOP
text.ClearAll()
text.RemoveTextBox()
text.ShowH('INV323',100,1)
return

:DINAMO_START2_COOP   
text.RemoveTextBox()
 
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 1.0
    else
    08A6: set_car 3@ door 1 rotation_to 1.0
    end
end

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0
$BENZIN = 10
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10

if and
not CAR_SEARCH_DO_NOT_GIVE == 1
not SUPPLY_TEXT_FLAG == 1
then        
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV324'
else

if and
CAR_SEARCH_DO_NOT_GIVE == 1
not RQUEST_TIMER_STOPPED_FLAG == 1
then
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV324'
else

if
SUPPLY_TEXT_FLAG == 0
then
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV324'
else
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV324'
end

end

end
    
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000 
Audiostream.Volume($DINAMO_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($DINAMO_SOUND, 1)
Audiostream.PerformAction($DINAMO_SOUND, PLAY) 
jump @DINAMO_IDLE_CHECK_COOP

:DINAMO_IDLE_CHECK_COOP
wait 20
30@ = car.Health(3@)

if
$SLOWMODE_ACTIVE == 0
then
$BENZIN += 1
else
$BENZIN += 1
$BENZIN += 1
$BENZIN += 1
$BENZIN += 1
end
  
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10
if
not $BENZIN >= 1000
jf @DINAMO_FINISHED_COOP
02E3: 0@ = car 3@ speed
if and
0@ < 1.0
0185:  car 3@ health > 249
//8495: not  car 3@ burning
jf @DINAMO_IDLE_OUT_COOP 
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
003B:   COOP_2P_MENU_29VAR == 30@  // (int)
jf @DINAMO_IDLE_OUT_COOP
if
actor.Animation(COOP_ACTOR) == "car_check"
jf @DINAMO_IDLE_OUT_COOP
jump @DINAMO_IDLE_CHECK_COOP

:DINAMO_FINISHED_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2   

gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 0.0
    else
    08A6: set_car 3@ door 1 rotation_to 0.0
    end
end

Audiostream.PerformAction($DINAMO_SOUND, STOP)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1

////////////////////////////////////////////////////////////////
0A97: COOP_2P_MENU_19VAR = car 3@ struct 
COOP_2P_MENU_19VAR += 17 
0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
0A97: 11@ = car 3@ struct 
11@ += 9
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
08BD: set 12@ bit 2
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0
08C3: clear 12@ bit 2
0A97: COOP_2P_MENU_19VAR = car 3@ struct 
COOP_2P_MENU_19VAR += 17 
0A8D: COOP_2P_MENU_24VAR = read_memory COOP_2P_MENU_19VAR size 1 virtual_protect 0
0A97: COOP_2P_MENU_19VAR = car 3@ struct 
COOP_2P_MENU_19VAR += 17
08C3: clear COOP_2P_MENU_24VAR bit 4 
0A8C: write_memory COOP_2P_MENU_19VAR size 1 value COOP_2P_MENU_24VAR virtual_protect 0
////////////////////////////////////////////////////////////////

$TEMP_XP = REPAIR_CAR_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)

text.ShowH('INV198',100,1)
return

:DINAMO_IDLE_OUT_COOP
0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2

gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
then
if and
not car.Id(3@) == #CHEETAH
not car.Id(3@) == #TURISMO
not car.Id(3@) == #BULLET
not car.Id(3@) == #CAMPER
not car.Id(3@) == #HOTDOG
not car.Id(3@) == 15468
not car.Id(3@) == 15502
not car.Id(3@) == 15307
    then
    08A6: set_car 3@ door 0 rotation_to 0.0
    else
    08A6: set_car 3@ door 1 rotation_to 0.0
    end
end

Audiostream.PerformAction($DINAMO_SOUND, STOP)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
text.ShowH('INV321',100,1)           
return

:DOMKRAT_START_COOP
wait 0

$JIMMY_USING = 1

if
8A2A: not  text_box 'INV307C' displayed
    then
    0512: show_permanent_text_box 'INV307C'
    end 
    
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @REPAIR_START_OUT_COOP    
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @DOMKRAT_START_COOP 
if and
not car.Wrecked(3@)
not Car.Id(3@) == RHINO_MODEL_NUMBER
not Car.Id(3@) == ARMY_HUNTER_MODEL_NUMBER
not Car.Id(3@) == #HYDRA
not Car.Id(3@) == #BMX
not Car.Id(3@) == #BIKE
not Car.Id(3@) == #MTBIKE
jf @DOMKRAT_START_COOP
if
00E1: player 1 pressed_key 11 
jf @DOMKRAT_START_COOP
gosub @BIKE_CHECK2_COOP
if
COOP_2P_MENU_19VAR == 0
jf @DOMKRAT_START_COOP
if and
0202:   actor COOP_ACTOR near_car 3@ radius 8.0 8.0 sphere 0
01C1:   car 3@ stopped
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching     
not car.Wrecked(3@)
01F4:   car 3@ flipped
jf @DOMKRAT_START_COOP
   
text.RemoveTextBox()
29@ = car.Health(3@) 

0470: $PLAYER_PREV_WEAP = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0
$BENZIN = 10
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10

if and
not CAR_SEARCH_DO_NOT_GIVE == 1
not SUPPLY_TEXT_FLAG == 1
then        
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV367'
else

if and
CAR_SEARCH_DO_NOT_GIVE == 1
not RQUEST_TIMER_STOPPED_FLAG == 1
then
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV367'
else

if
SUPPLY_TEXT_FLAG == 0
then
04F7: vagina_text $BENZIN2 type 1 line 1 GXT 'INV367'
else
04F7: vagina_text $BENZIN2 type 1 line 2 GXT 'INV367'
end

end

end
    
0605: actor COOP_ACTOR perform_animation "BOM_Plant_Loop" IFP "CAMERA" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 90000
Audiostream.LinkToCar($JACK_USE_SOUND,3@)
Audiostream.Volume($JACK_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JACK_USE_SOUND, 1)
Audiostream.PerformAction($JACK_USE_SOUND, PLAY) 

:JACK_IDLE_CHECK_COOP
wait 20
30@ = car.Health(3@)

if
$SLOWMODE_ACTIVE == 0
then
$BENZIN += 5
else
$BENZIN += 5
$BENZIN += 5
$BENZIN += 5
$BENZIN += 5
end
  
0084: $BENZIN2 = $BENZIN // (int)
$BENZIN2 /= 10
if
not $BENZIN >= 1000
jf @JACK_FINISHED_COOP
02E3: 0@ = car 3@ speed
if and
0@ < 1.0
0185:  car 3@ health > 249
//8495: not  car 3@ burning
jf @JACK_IDLE_OUT_COOP
if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
003B:   29@ == 30@  // (int)
jf @JACK_IDLE_OUT_COOP
if
actor.Animation(COOP_ACTOR) == "BOM_Plant_Loop"
jf @JACK_IDLE_OUT_COOP
jump @JACK_IDLE_CHECK_COOP

:JACK_FINISHED_COOP
0605: actor COOP_ACTOR perform_animation "BOM_Plant_Loop" IFP "CAMERA" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
Audiostream.PerformAction($JACK_USE_SOUND, STOP)      
text.RemoveTextBox()
0407: store_coords_to 0@ 1@ 2@ from_car 3@ with_offset 0.0 0.0 3.0
car.PutAt(3@,0@,1@,2@)
0840: link_car 3@ to_interior 0
return

:JACK_IDLE_OUT_COOP
0605: actor COOP_ACTOR perform_animation "BOM_Plant_Loop" IFP "CAMERA" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 0 time 1 
//0792: disembark_instantly_actor COOP_ACTOR
0151: remove_status_text $BENZIN2
Audiostream.PerformAction($JACK_USE_SOUND, STOP)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to $PLAYER_PREV_WEAP  
0992: set_player 1 weapons_scrollable 1
text.ShowH('INV366',100,1)           
return

:INV_PLAYER_PAD_OFF_COOP
0E68: set_player_control_pad 1 1 
0E69: set_player_control_pad_movement 1 0
return

:INV_PLAYER_PAD_ON_BACK_COOP
0E68: set_player_control_pad 1 1 
0E69: set_player_control_pad_movement 1 1
return

:INV_PLAYER_PAD_ON_BACK2_COOP
0E68: set_player_control_pad 1 1 
0E69: set_player_control_pad_movement 1 1
return

:BIKE_CHECK2_COOP
COOP_2P_MENU_19VAR = 0

COOP_2P_MENU_18VAR = car.Model(3@)

if or
COOP_2P_MENU_18VAR == #BF400
COOP_2P_MENU_18VAR == #FAGGIO
COOP_2P_MENU_18VAR == #FREEWAY
COOP_2P_MENU_18VAR == #FCR900
COOP_2P_MENU_18VAR == #PIZZABOY
COOP_2P_MENU_18VAR == #PCJ600
COOP_2P_MENU_18VAR == #SANCHEZ
COOP_2P_MENU_18VAR == #WAYFARER
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if or
COOP_2P_MENU_18VAR == #FCR900
COOP_2P_MENU_18VAR == #QUAD
COOP_2P_MENU_18VAR == #COPBIKE
COOP_2P_MENU_18VAR == #NRG500
    then
    COOP_2P_MENU_19VAR = 1
    end

if
UNITED_MAP == 0
then

if or
COOP_2P_MENU_18VAR == #RCCAM
COOP_2P_MENU_18VAR == 15403
COOP_2P_MENU_18VAR == 15404
COOP_2P_MENU_18VAR == 15420
COOP_2P_MENU_18VAR == 15491
COOP_2P_MENU_18VAR == 15492
COOP_2P_MENU_18VAR == 15493
COOP_2P_MENU_18VAR == 15494
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if
COOP_2P_MENU_18VAR == 15426
    then
    COOP_2P_MENU_19VAR = 1
    end    

else

if or
COOP_2P_MENU_18VAR == 15293
COOP_2P_MENU_18VAR == 15296
COOP_2P_MENU_18VAR == 15319
COOP_2P_MENU_18VAR == 15322
COOP_2P_MENU_18VAR == 15332
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if or
COOP_2P_MENU_18VAR == 15418
COOP_2P_MENU_18VAR == 15421
COOP_2P_MENU_18VAR == 15428
COOP_2P_MENU_18VAR == 15430
COOP_2P_MENU_18VAR == 15435
COOP_2P_MENU_18VAR == 15507
COOP_2P_MENU_18VAR == 15510
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if or
COOP_2P_MENU_18VAR == 15523
COOP_2P_MENU_18VAR == 15526
COOP_2P_MENU_18VAR == 15532
COOP_2P_MENU_18VAR == 15299 
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if or
COOP_2P_MENU_18VAR == 15454
COOP_2P_MENU_18VAR == 15455
COOP_2P_MENU_18VAR == 15456
COOP_2P_MENU_18VAR == 15457 
    then
    COOP_2P_MENU_19VAR = 1
    end
    
if or
COOP_2P_MENU_18VAR == 15550
COOP_2P_MENU_18VAR == 15552
COOP_2P_MENU_18VAR == 15565
COOP_2P_MENU_18VAR == 15556
COOP_2P_MENU_18VAR == 15558
COOP_2P_MENU_18VAR == 15566 
    then
    COOP_2P_MENU_19VAR = 1
    end    
    
end                    
    
return

:INV_AIRDROP_NEAR_CAMP_CHECK_COOP

COOP_2P_MENU_6VAR = 0

if
$GAMEMODE_WAR == 1
then
return
end

///////////////////////////////////////////////////////////////////////////

if
UNITED_MAP == 0
then
1@ = 14
else
1@ = 9
end

for 0@ = 0 to 1@

if
00EC:   actor COOP_ACTOR sphere 0 near_point $CAMP_X[0@] $CAMP_Y[0@] radius 250.0 250.0
then
COOP_2P_MENU_6VAR = 1
end

end

///////////////////////////////////////////////////////////////////////////

actor.StorePos(COOP_ACTOR,COOP_2P_MENU_25VAR,COOP_2P_MENU_26VAR,27@)

if
27@ > 250.0
then
COOP_2P_MENU_6VAR = 1
end

return

:INV_RANDOM_AIRDROP_SPAWN_ZONE_CHECK_COOP
COOP_2P_MENU_6VAR = 1

if
$GAMEMODE_WAR == 1
then
return
end

if or
0154:   actor COOP_ACTOR in_zone 'ARMYZN'
0154:   actor COOP_ACTOR in_zone 'DLRZONE'
0154:   actor COOP_ACTOR in_zone 'SRVZN'
0154:   actor COOP_ACTOR in_zone 'BNTDZN'
then
6@ = 0
end

if
UNITED_MAP == 0
then

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 85.9563 1789.6394 0.0 cornerB 395.747 1947.0049 200.0 //Army Zone 1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 395.747 1947.0049 0.0 cornerB 157.8393 2109.071 200.0 //Army Zone 1-2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2864.26 -2296.88 0.0 cornerB 2664.06 -2564.66 200.0 //Army Zone 2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -453.13 -460.94 0.0 cornerB -632.81 -570.31 200.0 //Army Zone 3
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1236.22 532.73 0.0 cornerB -1479.03 480.11 200.0 //Army Zone 4
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 788.54 -1327.47 0.0 cornerB 645.23 -1387.39 200.0 //Bandit Zone 1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1359.38 226.56 0.0 cornerB 1250.0 132.81 200.0 //Bandit Zone 2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1098.14 1365.52 0.0 cornerB 1015.68 1220.94 200.0 //Bandit Zone 3
    then
    COOP_2P_MENU_6VAR = 0
    end    

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1858.78 -1297.43 0.0 cornerB 1903.21 -1333.35 200.0 //Trader Zone 0
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -404.3865 -1476.689 0.0 cornerB -345.3865 -1394.689 200.0 //Trader Zone 1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 427.52 2548.39 0.0 cornerB 407.61 2526.03 200.0 //Trader Zone 2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2619.17 -1511.30 0.0 cornerB 2786.00 -1415.17 200.0 //Trader Zone 3
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1886.3972 -1690.2018 0.0 cornerB -1929.0323 -1650.1958 200.0 //Trader Zone 4
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2301.83 -20.72 0.0 cornerB 2335.90 23.12 200.0 //Trader Zone 5
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1755.02 926.82 0.0 cornerB 1718.80 891.51 200.0 //Trader Zone 6
    then
    COOP_2P_MENU_6VAR = 0
    end

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 751.20 -1432.56 0.0 cornerB 691.96 -1516.19 200.0 //Trader Zone 7
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1651.67 2606.63 0.0 cornerB -1682.51 2578.91 200.0 //Trader Zone 8
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2323.0 1710.1875 0.0 cornerB 2398.0 1612.1875 200.0 //Trader Zone 9
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2126.95 173.65 0.0 cornerB -2136.94 153.88 200.0 //Trader Zone 10
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1909.89 787.54 0.0 cornerB -1909.89 787.54 200.0 //Trader Zone 11
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -666.168 919.6441 0.0 cornerB -713.3187 950.6985 200.0 //Trader Zone 12
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2210.40 642.64 0.0 cornerB -2201.72 724.11 200.0 //Trader Zone 13  
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2159.8706 -77.9699 0.0 cornerB -2008.064 -194.9493 200.0 //Bandit Zone 4
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2008.064 -194.9493 0.0 cornerB -2206.4624 -284.2897 200.0 //Bandit Zone 5
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1357.4393 -850.5232 0.0 cornerB 1201.0028 -682.215 200.0 //OOS Zone
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1140.63 -265.63 0.0 cornerB 953.13 -421.88 200.0 //Survivors Zone 1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2697.67 225.09 0.0 cornerB -2653.78 246.99 200.0 //Survivors Zone 2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -750.8 1498.59 0.0 cornerB -711.96 1572.89 200.0 //Survivors Zone 3
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2053.71 -1759.78 0.0 cornerB 2019.05 -1805.22 200.0 //Survivors Zone 4
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2519.62 1080.73 0.0 cornerB 2472.25 1188.69 200.0 //Survivors Zone 5
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2786.9807 -1483.0641 0.0 cornerB 2822.3315 -1424.2843 200.0 //Survivors Zone 4B
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 359.38 -1453.13 0.0 cornerB 265.63 -1585.94 30.0 //Survivors Zone 4C
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2482.6663 -592.8055 0.0 cornerB -2543.678 -721.6879 200.0 //Survivors Zone 2B
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2237.1636 935.8976 0.0 cornerB -2162.6333 1076.9303 200.0 //Survivors Zone 2C
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -264.1352 2641.4204 0.0 cornerB -377.2627 2694.4468 200.0 //Survivors Zone 3B
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 143.3994 -201.4584 0.0 cornerB 173.7076 -151.1922 200.0 //Survivors Zone 1B
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1392.6833 -1604.0728 0.0 cornerB -1471.0334 -1436.6903 200.0 //Survivors Zone 1C
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2236.3337 2722.114 0.0 cornerB 2460.2527 2824.3809 200.0 //Survivors Zone 5B
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1016.7408 2205.6025 0.0 cornerB 1111.224 2062.55 30.0 //Survivors Zone 5C
    then
    COOP_2P_MENU_6VAR = 0
    end            
    
//////////////////////////////////////////////////////////////////////////////////////////////////                    
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1226.78 -1771.66 -90.0 -1820.64 -2643.68 200.0 //CREEK
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1820.64 -1771.66 -90.0 -2030.12 -2174.89 200.0 //CREEK1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2178.69 -1115.58 -90.0 -2994.49 -2189.91 560.0 //MTCHI1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1936.12 -1250.97 -90.0 -2178.69 -1771.66 560.0 //MTCHI2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2178.69 -971.91 -90.0 -2997.47 -1115.58 560.0 //MTCHI3
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2030.12 -1771.66 -90.0 -2178.69 -2189.91 560.0 //MTCHI4
    then
    COOP_2P_MENU_6VAR = 0
    end

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 435.99 2677.90 0.0 37.03 2337.18 200.0 //MEAD
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 421.23 2123.01 -50.0 -91.59 1655.05 250.0 //REST
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -908.16 -787.39 114.98 -1209.67 -1317.10 251.98 //FARM
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 //ARCO
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1457.46 2863.23 -89.08 1117.40 2723.23 110.92 //YBELL1
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1457.37 1883.11 -89.08 1236.63 1203.28 110.92 //VAIR1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1777.39 1883.11 -89.08 1457.37 1203.28 110.92 //VAIR2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1213.91 -50.10 0.0 -1794.92 -730.12 200.0 //SFAIR1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1213.91 578.40 0.0 -1242.98 -50.10 200.0 //SFAIR2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1242.98 249.90 0.0 -1499.89 -50.10 200.0 //SFAIR3
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1132.82 -50.10 0.0 -1213.91 -730.12 200.0 //SFAIR4
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -947.98 578.40 0.0 -1213.91 -50.10 200.0 //SFAIR5
    then
    COOP_2P_MENU_6VAR = 0
    end

if or    
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1852 -2179.25 -89.08 1249.62 -2394.33 110.92 //LAIR1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2201.82 -2394.33 -89.08 1382.73 -2730.88 110.92 //LAIR2b
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2089 -2179.25 -89.08 1852 -2394.33 110.92 //LAIR2a
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2616.40 2175.15 0.0 -2741.45 1659.68 200.0 //GANTB
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2616.40 1659.68 0.0 -2741.07 1490.47 200.0 //GANTB1
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 603.03 555.68 0.0 434.34 366.57 200.0 //FALLO
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -122.13 476.47 0.0 -222.18 293.32 200.0 //MART
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1785.14 567.20 0.0 1664.62 401.75 200.0 //MAKO
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 //ARCO
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 860.55 1031.71 -115.24 337.24 710.84 203.76 //QUARY
    then
    COOP_2P_MENU_6VAR = 0
    end

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1213.91 1057.04 -89.08 -1339.89 828.13 110.92 //GARV
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1087.93 1178.93 -89.08 -1213.91 9502 110.92 //GARV2
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1339.89 925.35 -179.62 -1499.89 696.44 20.38 //GARV3
    then
    COOP_2P_MENU_6VAR = 0
    end
    
//////////////////////////////////////////////////////////////////////////////////////////////////                  
    
else

if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 //BIG BILLS BOWLS TRACK VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1786.27 -1191.43 0.0 cornerB 2163.66 -152.395 200.0 //GOLF CLUB VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 //BEACH TRACK VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 92.1001 -1895.2 0.0 cornerB 792.1 -1265.2 200.0 //AIRPORT VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 77.7263 -2752.63 0.0 cornerB 792.246 -1895.2 200.0 //AIRPORT VC  
    then
    COOP_2P_MENU_6VAR = 0
    end
    
if or
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -277.7767 1109.5814 0.0 cornerB -232.4244 1162.0369 200.0 //Survivors Zone 1 LC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -1256.9427 1505.7239 0.0 cornerB -1339.8552 1401.7533 200.0 //Survivors Zone 2 LC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA -2421.9885 1909.3091 0.0 cornerB -2505.8318 1962.9353 200.0 //Survivors Zone 3 LC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1356.8033 245.7149 0.0 cornerB 1230.6315 357.2882 200.0 //Survivors Zone 4 VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 1010.0256 -1435.0776 0.0 cornerB 1159.0013 -1590.2578 200.0 //Survivors Zone 5 VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2406.4055 -99.8233 0.0 cornerB 2329.9165 -8.8584 200.0 //Survivors Zone 6 VC
00A4:   actor COOP_ACTOR sphere 0 in_cube_cornerA 2176.4023 -2087.9294 0.0 cornerB 2079.8772 -2214.2107 200.0 //Survivors Zone 7 VC
    then
    COOP_2P_MENU_6VAR = 0
    end       

end          
    
if 
04AD:   actor COOP_ACTOR in_water
    then
    COOP_2P_MENU_6VAR = 0
    end

return

:JIMMY_START3_COOP
$JIMMY_USING = 1

0512: show_permanent_text_box 'INV92_3'

:JIMMY3_CHECK_COOP
wait 0

if and
80E1: not player 1 pressed_key 15
0184:   actor COOP_ACTOR health > 0
$HUNTER_ON_PLAYER == 0
not actor.Dead(COOP_ACTOR)
jf @REPAIR_START_OUT_COOP

if
8A2A: not  text_box 'INV92_3' displayed
    then
    0512: show_permanent_text_box 'INV92_3'
    end   

if
00E1: player 1 pressed_key 11 
jf @JIMMY3_OUT_CHECK_COOP
0AB5: store_actor COOP_ACTOR closest_vehicle_to 3@ closest_ped_to 1@
if 
056E:   car 3@ defined 
jf @JIMMY3_CHECK_COOP
gosub @BIKE_CHECK2_COOP
if and
not COOP_2P_MENU_19VAR == 1
not car.Wrecked(3@)
not car.Model(3@) == RHINO_MODEL_NUMBER 
not Car.Model(3@) == ARMY_HUNTER_MODEL_NUMBER
not Car.Model(3@) == #HYDRA   
jf @JIMMY3_CHECK_COOP
jump @JIMMY3_IN_CHECK_NEAR_COOP

:JIMMY3_IN_CHECK_NEAR_COOP
wait 0

if
0D0C: get_car 3@ component "door_rf_dummy" matrix_pointer_to 0@ // IF and SET
then

///////////////////////////////////////////

if
0E4D: random_percent 50
    then
    
    if
    0D0C: get_car 3@ component "door_rf_dummy" matrix_pointer_to 0@ // IF and SET
        then
        0D0A: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_matrix 0@ with_offsets 0.0 0.0 0.0
        end
     
    else
    
    if
    0D0C: get_car 3@ component "door_lf_dummy" matrix_pointer_to 0@ // IF and SET
        then
        0D0A: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_matrix 0@ with_offsets 0.0 0.0 0.0
        end
    
    end

///////////////////////////////////////////

else
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 0.0 0.0
end
 
if and
00EC:   actor COOP_ACTOR sphere 1 near_point COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR radius 2.0 2.0
02A0:   actor COOP_ACTOR stopped
PLAYER2_STANDING_ON_CAR_FLAG == 0
8597: not  actor COOP_ACTOR crouching 
not car.Wrecked(3@)
jf @JIMMY3_CHECK_COOP
09B3: get_car 3@ door_status 7@
if
not 7@ == 0
jf @JIMMY3_DOOR_ALREADY_OPENED_COOP
jump @JIMMY3_FIX_START_COOP

:JIMMY3_DOOR_ALREADY_OPENED_COOP
text.RemoveTextBox()
text.ShowTextBox('INV95')
wait 1000
jump @JIMMY_START3_COOP

:JIMMY3_FIX_START_COOP
03E6: remove_text_box

$JIMMY_USE += 1

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_USE"

if
$CHEATED_FLAG == 0 
then          
0@ += 1
end        
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_USE"

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT93_GOT"
0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_USE"            
            
if and
0@ == 0
1@ >= 250
$CHEATED_FLAG == 0
    then
    v$ACHIEVEMNT = "ACH93"
    $ACHIEVEMENT_GOT_FLAG = 1                
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT93_GOT"                
    end
    
if
PERK_HACKER == 0
then    

random_int 0@ 0 4
if or
0@ == 1
0@ == 2
jf @JIMMY3_FIX_FAILED_COOP

else

random_int 0@ 0 4
if or
0@ == 1
0@ == 2
0@ == 3
jf @JIMMY3_FIX_FAILED_COOP

end 

text.RemoveTextBox()
if
PERK_HACKER == 0
then
0@ = 20
else
0@ = 10
end

if
0E4D: random_percent 0@
then
text.ShowTextBox('INV94B')
Audiostream.Volume($JIMMY_BROKE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JIMMY_BROKE_SOUND, 0)
Audiostream.PerformAction($JIMMY_BROKE_SOUND, PLAY)
Audiostream.Volume($JIMMY_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JIMMY_USE_SOUND, 0)
Audiostream.PerformAction($JIMMY_USE_SOUND, PLAY)
SURVIVOR_JIMMY_COUNT -= 1
else
text.ShowTextBox('INV94')
Audiostream.Volume($JIMMY_USE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JIMMY_USE_SOUND, 0)
Audiostream.PerformAction($JIMMY_USE_SOUND, PLAY)
end

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_CARS_HACKED"
        
if
$CHEATED_FLAG == 0 
then                  
0@ += 1   
end                        
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_CARS_HACKED"

$TEMP_XP = DOOR_HACKED_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
  
0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT40_GOT"
    
if and
1@ == 0
0@ >= 50
    then
    v$ACHIEVEMNT = "ACH40"
    $ACHIEVEMENT_GOT_FLAG = 1    
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT40_GOT"    
    end
        
$CARS_HACKED += 1    

0A97: 11@ = car 3@ struct 
11@ += 18
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
08BD: set 12@ bit 2
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2

car.DoorStatus(3@,0)
wait 1000
return

:JIMMY3_FIX_FAILED_COOP
SURVIVOR_JIMMY_COUNT -= 1
if
not SURVIVOR_JIMMY_COUNT == 0
jf @JIMMY3_OUT_CHECK2_COOP
Audiostream.Volume($JIMMY_BROKE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JIMMY_BROKE_SOUND, 0)
Audiostream.PerformAction($JIMMY_BROKE_SOUND, PLAY) 
text.RemoveTextBox()
text.ShowTextBox('INV93')
wait 1000
jump @JIMMY_START3_COOP

:JIMMY3_OUT_CHECK_COOP
wait 0
if or
0E3E: is_button_just_pressed 1 15
actor.Dead(COOP_ACTOR)  
8184:   actor COOP_ACTOR health < 1
$HUNTER_ON_PLAYER == 1  
jf @JIMMY3_CHECK_COOP
03E6: remove_text_box
return 

:JIMMY3_OUT_CHECK2_COOP  
Audiostream.Volume($JIMMY_BROKE_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($JIMMY_BROKE_SOUND, 0)
Audiostream.PerformAction($JIMMY_BROKE_SOUND, PLAY)  
text.RemoveTextBox()
text.ShowTextBox('INV104')
wait 1000
return

:GET_POS_FOR_REPAIR_SHIT_COOP

if or
car.Id(3@) == #STRETCH
car.Id(3@) == 15391
car.Id(3@) == 15263
car.Id(3@) == 15290
car.Id(3@) == 15440
car.Id(3@) == 15537
car.Id(3@) == 15435
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 4.0 0.0
else

if or
car.Id(3@) == #SECURICA
car.Id(3@) == 15386
car.Id(3@) == 15331
car.Id(3@) == 15436
car.Id(3@) == 15534
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 3.5 0.0
else
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 3.0 0.0
end

if or
car.Id(3@) == #CHEETAH
car.Id(3@) == #TURISMO
car.Id(3@) == #BULLET
car.Id(3@) == 15468
car.Id(3@) == 15502
car.Id(3@) == 15307
car.Id(3@) == 15514
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -3.0 0.0
end

if or
car.Id(3@) == #LINERUN
car.Id(3@) == #RDTRAIN
car.Id(3@) == #PACKER
car.Id(3@) == #DUMPER
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 5.0 0.0
end

if
car.Id(3@) == #FLATBED
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 4.5 0.0
end

if
car.Id(3@) == #COMBINE
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -2.7 0.0
end

if
car.Id(3@) == #DOZER
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -3.25 0.0
end

if or
car.Id(3@) == #BUS
car.Id(3@) == #COACH
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -6.5 0.0
end

if
car.Id(3@) == #CAMPER
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 3.0 0.0
end

if
car.Id(3@) == #HOTDOG
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -4.5 0.0
end

if or
car.Id(3@) == #HOTKNIFE
car.Id(3@) == #HUSTLER
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 2.5 0.0
end

if or
car.Id(3@) == #CADDY
car.Id(3@) == #MOWER
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 1.0 0.0
end

if or
car.Id(3@) == #BAGGAGE
car.Id(3@) == #TUG
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 2.25 0.0
end

if
car.Id(3@) == #FORKLIFT
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -1.0 0.0
end

if or
car.Id(3@) == #SWEEPER
car.Id(3@) == #BANDITO
car.Id(3@) == #BFINJECT
car.Id(3@) == #VORTEX
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -1.5 0.0
end

if
car.Id(3@) == #KART
then
0407: store_coords_to COOP_2P_MENU_4VAR COOP_2P_MENU_5VAR COOP_2P_MENU_6VAR from_car 3@ with_offset 0.0 -0.7 0.0
end

end

return    