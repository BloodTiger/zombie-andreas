const
KOROVAN_QUEST_RANDOM_X = 9@
KOROVAN_QUEST_RANDOM_Y = 10@
KOROVAN_QUEST_RANDOM_Z = 11@
KOROVAN_QUEST_CAR_TEMP = 400@
KOROVAN_QUEST_CAR = 401@
KOROVAN_QUEST_CAR2 = 402@
KOROVAN_QUEST_ARMY_FLAG = 404@
KOROVAN_QUEST_COLOR_NUM1 = 405@
KOROVAN_QUEST_COLOR_NUM2 = 406@
KOROVAN_QUEST_ARMY_CAMO_COLOR = 407@
KOROVAN_QUEST_CURR_CAR_CREATION_NUM = 408@
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM = 409@
KOROVAN_QUEST_EXIT_FLAG_CAR = 410@
KOROVAN_QUEST_EXIT_FLAG_CAR2 = 411@
KOROVAN_QUEST_EXIT_FLAG_CAR3 = 412@
KOROVAN_QUEST_SPOTTED_FLAG = 413@
KOROVAN_QUEST_TRUCK_X = 414@
KOROVAN_QUEST_TRUCK_Y = 415@
KOROVAN_QUEST_TRUCK_Z = 416@
KOROVAN_QUEST_TRUCK_A = 417@
KOROVAN_QUEST_TRUCK_GOT_FLAG = 418@
KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG = 419@
KOROVAN_QUEST_SPHERE_CREATED_FLAG = 420@
KOROVAN_TEMP_CAR_X = 421@
KOROVAN_TEMP_CAR_Y = 422@
KOROVAN_TEMP_CAR_Z = 423@
KOROVAN_TEMP_CAR_ANGLE = 424@
KOROVAN_TEMP_CAR_SAVE_FLAG = 425@
KOROVAN_QUEST_IDLE_TIMER_CAR = 426@
KOROVAN_QUEST_IDLE_TIMER_CAR2 = 427@
KOROVAN_QUEST_IDLE_TIMER_CAR3 = 428@
KOROVAN_QUEST_PRECURSOR_CAR = 429@
KOROVAN_QUEST_PIDOR_HAS_BEEN_DRAGGED_OUT = 430@    
end

var
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM: integer
end

:KOROVAN
thread 'KOROVAN'
gosub @ASSKOD_MISSII282930_KOROVAN 
if 
wasted_or_busted 
jf @ASSPROPUSK_KODA282930_KOROVAN 
gosub @ASSKOD_PROVALA282930_KOROVAN 

:ASSPROPUSK_KODA282930_KOROVAN        
gosub @ASSUDALENIE_KODA282930_KOROVAN
end_thread

:ASSKOD_MISSII282930_KOROVAN
increment_mission_attempts
0629: change_integer_stat 258 to 103

actor.StorePos(PLAYER_ACTOR,100@,101@,102@)
0084: $QUEST_CAMP_NUMBER = $ENTERED_CAMP_NUMBER // (int)

PLAYER_NO_ITEMS_FLAG = 0
OTKAZ_FROM_NAGRADA_FLAG = 0
$ONMISSION = 1

repeat
wait 0
until $PHRASES_OFF_FLAG == 0

if
$CHEATS_ON == 1
then
$FLASH_FLAG = 1
$GODMODE_FLAG = 1
$HITMAN_FLAG = 1
$MXP_MD = 1
$INF_AMMO_FLAG = 1
0331: set_player PLAYER_CHAR fast_reload 1
0A8C: write_memory 0x969178 size 1 value 1 virtual_protect 0
0AF3: write_float 0.0 to_ini_file "scripts/WeaponRecoilRE.ini" section "WeaponRecoilRE" key "fRecoilMultiplier Global"
0A8C: write_memory 0x0969110 size 6 value "RRWSR" virtual_protect 0
1@ = 70
gosub @CHEAT_PROCESSOR_LOAD_WEP_MODEL            
actor.GiveWeaponAndAmmo(PLAYER_ACTOR,70,99999)
00C0: set_current_time 8 0
end

RANDOM_QUEST_CANCEL_FLAG = 0
$QUEST_TYPE = 100
QUEST10_DONE_RECENTLY = 1
KOROVAN_QUEST_FLAG = 1

if
056E:   car $USED_CAR[LATEST_CAR_SLOT_USED] defined
then
Car.StorePos($USED_CAR[LATEST_CAR_SLOT_USED], KOROVAN_TEMP_CAR_X, KOROVAN_TEMP_CAR_Y, KOROVAN_TEMP_CAR_Z)
KOROVAN_TEMP_CAR_ANGLE = car.Angle($USED_CAR[LATEST_CAR_SLOT_USED])
KOROVAN_TEMP_CAR_SAVE_FLAG = 1
else
KOROVAN_TEMP_CAR_SAVE_FLAG = 0
end

gosub @RANDOM_KOROVAN_COORD_SET

18@ = #RCBANDIT

//////////////////////////////////////////

0376: 500@ = create_random_actor_at 0.0 0.0 0.0
0E0B: mark_char_as_needed 500@

:CAR_CREATE_KOROVAN_PRE

if
model.Available(18@)
then  
KOROVAN_QUEST_PRECURSOR_CAR = Car.Create(18@, KOROVAN_QUEST_RANDOM_X, KOROVAN_QUEST_RANDOM_Y, KOROVAN_QUEST_RANDOM_Z)
0229: set_car KOROVAN_QUEST_PRECURSOR_CAR primary_color_to KOROVAN_QUEST_COLOR_NUM1 secondary_color_to KOROVAN_QUEST_COLOR_NUM2
car.Health(KOROVAN_QUEST_PRECURSOR_CAR) = 69000

if
model.Available(18@)
then
//model.Destroy(18@)
end

else
model.Load(18@)
mload
wait 0
jump to @CAR_CREATE_KOROVAN_PRE
end

car.StorePos(KOROVAN_QUEST_PRECURSOR_CAR, 6@, 7@, 8@)
02C1: store_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z car_path_coords_closest_to 6@ 7@ 8@
car.PutAt(KOROVAN_QUEST_PRECURSOR_CAR,KOROVAN_QUEST_RANDOM_X,KOROVAN_QUEST_RANDOM_Y,KOROVAN_QUEST_RANDOM_Z)
random_int 24@ 0 2
06F8: get_nearest_route_for KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z in_direction 24@ store_to 25@ 26@ 27@ Z_angle_to 13@
car.PutAt(KOROVAN_QUEST_PRECURSOR_CAR,KOROVAN_QUEST_RANDOM_X,KOROVAN_QUEST_RANDOM_Y,KOROVAN_QUEST_RANDOM_Z)
car.Angle(KOROVAN_QUEST_PRECURSOR_CAR) = 13@

0A97: 0@ = car KOROVAN_QUEST_PRECURSOR_CAR struct 
0@ += 9 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
08BD: set 1@ bit 2 
0A8C: write_memory 0@ size 1 value 1@ virtual_protect 0 
08C3: clear 1@ bit 2 
0A97: 0@ = car KOROVAN_QUEST_PRECURSOR_CAR struct 
0@ += 4 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
08BD: set 1@ bit 1 
0A8C: write_memory 0@ size 1 value 1@ virtual_protect 0 
08C3: clear 1@ bit 1 
random_float $BENZIN_ARMY $GASOLINE_MIN $GASOLINE_MAX
$BENZIN_ARMY *= 20.0 
0A97: 22@ = car KOROVAN_QUEST_PRECURSOR_CAR struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN_ARMY virtual_protect 0 
Car.DoorStatus(KOROVAN_QUEST_PRECURSOR_CAR) = 2 
0338: set_car KOROVAN_QUEST_PRECURSOR_CAR visibility 0

036A: put_actor 500@ in_car KOROVAN_QUEST_PRECURSOR_CAR

if
not REALISM_MODE == 1
then
car.SetMaxSpeed(KOROVAN_QUEST_PRECURSOR_CAR,20.0)  
00AE: set_car KOROVAN_QUEST_PRECURSOR_CAR traffic_behaviour_to 2  
03AB: set_car KOROVAN_QUEST_PRECURSOR_CAR strong 1 
car.SetSpeedInstantly(KOROVAN_QUEST_PRECURSOR_CAR,15.0)
car.SetDriverBehaviour(KOROVAN_QUEST_PRECURSOR_CAR,1)
end

v$OBJECTIVE = "GAME565"
if
REALISM_MODE == 1
then
0843: get_zone_at KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z nameA_to REALISM_QUEST_TARGET_ZONE // 8-byte string
create_thread @REL_ZEN KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z
v$OBJECTIVE = "GME1316"
v$OBJECTIVE2 = "GME1317"
end

0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

$SAVE_WAIT_TIME = 240000

if
CUSTOM_MAP_FLAG == 1
then
008D: $SAVE_WAIT_TIME = integer $SAVE_WAIT_TIME to_float
0AF2: 0@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\$GENCONFIG.ini" section "SETTINGS" key "RANDOM_QUESTS_TIMER_MULT"
006D: $SAVE_WAIT_TIME *= 0@ // (float)
008C: $SAVE_WAIT_TIME = float $SAVE_WAIT_TIME to_integer
end

if
$CUSTOM_MODE == 1
then
008D: $TIME = integer $TIME to_float
0AF2: 0@ = get_float_from_ini_file "saves/owngame/owngame.ini" section "DIFF" key "RANDOM_QUESTS_TIMER_MULT"
006D: $TIME *= 0@ // (float)
008C: $TIME = float $TIME to_integer
end

if
BOMBS_TIMER > 0
    then
    014F: stop_timer BOMBS_TIMER
    create_thread @BMB_HLD
    end

03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'INV278'

MISSION_MARKER = marker.CreateAboveCar(KOROVAN_QUEST_PRECURSOR_CAR)
07E0: set_marker MISSION_MARKER type_to 1
marker.SetColor(MISSION_MARKER,4)

//////////////////////////////////////////

046D: 0@ = actor PLAYER_ACTOR members_in_group
if
0@ > 1
then
text.ShowH('GME1569',5000,1)
end        

repeat
wait 0

car.StorePos(KOROVAN_QUEST_PRECURSOR_CAR,KOROVAN_QUEST_RANDOM_X,KOROVAN_QUEST_RANDOM_Y,KOROVAN_QUEST_RANDOM_Z)

if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @KOROVAN_QUEST_FAILED_AGRED
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @KOROVAN_QUEST_FAILED_LDEAD
if
RANDOM_QUEST_CANCEL_FLAG == 0
jf @KOROVAN_QUEST_FAILED_CANCEL
if
$SAVE_WAIT_TIME > 1
jf @KOROVAN_QUEST_FAILED_TIME
 
until 00EC:   actor PLAYER_ACTOR sphere 0 near_point KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y radius 290.0 290.0

actor.DestroyInstantly(500@)
501@ = car.Angle(KOROVAN_QUEST_PRECURSOR_CAR)
car.Destroy(KOROVAN_QUEST_PRECURSOR_CAR)

v$OBJECTIVE = "DUMMY"
if
REALISM_MODE == 1
then
v$OBJECTIVE2 = "DUMMY"
REALISM_QUEST_TARGET_ZONE = 'DUMMY'
REALISM_QUEST_TARGET_ZONE2 = 'DUMMY'
end

marker.Disable(MISSION_MARKER)
014F: stop_timer $SAVE_WAIT_TIME

KOROVAN_QUEST_CURR_CAR_CREATION_NUM = 0
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM = 22

random_int KOROVAN_QUEST_ARMY_FLAG 0 2
if
$CHEATS_ON == 1
then
KOROVAN_QUEST_ARMY_FLAG = 1
end

if
NO_MORE_ARMY_CAMPS == 1
then
KOROVAN_QUEST_ARMY_FLAG = 0
end

:KOROVAN_QUEST_GET_COORD
wait 0

if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @KOROVAN_QUEST_FAILED_AGRED
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @KOROVAN_QUEST_FAILED_LDEAD
if
RANDOM_QUEST_CANCEL_FLAG == 0
jf @KOROVAN_QUEST_FAILED_CANCEL

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 0
then
04D3: get_nearest_car_path_coords_from KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z type 1 store_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z
if
CUSTOM_MAP_FLAG == 1
then
gosub @CUSTOM_MAP_TRY_TO_GET_CUSTOM_CAR_NODE
if
USE_CUSTOM_CAR_NODE_FLAG == 1
    then     
    USE_CUSTOM_CAR_NODE_FLAG = 0
    0089: KOROVAN_QUEST_RANDOM_X = $TEMPVAR_FLOAT_1 // (float)
    0089: KOROVAN_QUEST_RANDOM_Y = $TEMPVAR_FLOAT_2 // (float)
    0089: KOROVAN_QUEST_RANDOM_Z = $TEMPVAR_FLOAT_3 // (float)
    end
end

end

if
UNITED_MAP == 0
then

if or
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 0
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 1
    THEN
    
    if
    KOROVAN_QUEST_ARMY_FLAG == 0
        THEN
        18@ = 15422
        008B: KOROVAN_QUEST_COLOR_NUM1 = $BANDITS_CAR_COLOR1 // (int)
        008B: KOROVAN_QUEST_COLOR_NUM2 = $BANDITS_CAR_COLOR2 // (int)
        ELSE
        18@ = #PATRIOT
        
        ///////////////////
        
        if and
        8583: not  player PLAYER_CHAR in_zone 'VE'
        8583: not  player PLAYER_CHAR in_zone 'BONE'
        8583: not  player PLAYER_CHAR in_zone 'ROBAD'
        8583: not  player PLAYER_CHAR in_zone 'ROBAD1'
        then
        6@ = 0
        else
        6@ = 1
        end
            
        if
        6@ == 0
        then
            
        0842: 0@ = player PLAYER_CHAR town_number
            
        if
        not 0@ == 0
        then
        KOROVAN_QUEST_COLOR_NUM1 = ARMY_CITY_COLOR
        KOROVAN_QUEST_COLOR_NUM2 = ARMY_CITY_COLOR
        KOROVAN_QUEST_ARMY_CAMO_COLOR = 0                   
        else
        KOROVAN_QUEST_COLOR_NUM1 = ARMY_COUNTRY_COLOR
        KOROVAN_QUEST_COLOR_NUM2 = ARMY_COUNTRY_COLOR
        KOROVAN_QUEST_ARMY_CAMO_COLOR = 1
        end 
            
        else
        KOROVAN_QUEST_COLOR_NUM1 = ARMY_DESERT_COLOR
        KOROVAN_QUEST_COLOR_NUM2 = ARMY_DESERT_COLOR
        KOROVAN_QUEST_ARMY_CAMO_COLOR = 2
        end    
        
        ///////////////////
        
        END

    ELSE

if
KOROVAN_QUEST_ARMY_FLAG == 0
    then
    18@ = #FLATBED
    else
    18@ = #BARRACKS
    end

end

else

////////////////////////////////////////

if
$UNITED_VC_FLAG == 0
then

////////////LC////////////

if or
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 0
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 1
    THEN

    if
    STORIES_MAP == 0
        then    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            008B: 18@ = $III_BANDITS_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 54
            KOROVAN_QUEST_COLOR_NUM2 = 76
            ELSE
            008B: 18@ = $III_ARMY_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 43
            KOROVAN_QUEST_COLOR_NUM2 = 77
            END    
        else    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            008B: 18@ = $III_BANDITS_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 54
            KOROVAN_QUEST_COLOR_NUM2 = 76
            ELSE
            008B: 18@ = $III_ARMY_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 37
            KOROVAN_QUEST_COLOR_NUM2 = 76
            END    
        end
        
    ELSE
    
    if
    STORIES_MAP == 0
        then    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            18@ = 15370
            KOROVAN_QUEST_COLOR_NUM1 = 54
            KOROVAN_QUEST_COLOR_NUM2 = 76
            ELSE
            18@ = 15350
            KOROVAN_QUEST_COLOR_NUM1 = 45
            KOROVAN_QUEST_COLOR_NUM2 = 78
            END    
        else    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            18@ = 15420
            KOROVAN_QUEST_COLOR_NUM1 = 54
            KOROVAN_QUEST_COLOR_NUM2 = 76
            ELSE
            18@ = 15408
            KOROVAN_QUEST_COLOR_NUM1 = 37
            KOROVAN_QUEST_COLOR_NUM2 = 76
            END    
        end
    
    END

else

////////////VC////////////

if or
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 0
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 1
    THEN

    if
    STORIES_MAP == 0
        then    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            008B: 18@ = $VC_BANDITS_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 106
            KOROVAN_QUEST_COLOR_NUM2 = 106
            ELSE
            008B: 18@ = $VC_ARMY_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 37
            KOROVAN_QUEST_COLOR_NUM2 = 37
            END    
        else    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            008B: 18@ = $VC_BANDITS_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 106
            KOROVAN_QUEST_COLOR_NUM2 = 106
            ELSE
            008B: 18@ = $VC_ARMY_CAR // (int)
            KOROVAN_QUEST_COLOR_NUM1 = 137
            KOROVAN_QUEST_COLOR_NUM2 = 100
            END    
        end
    ELSE
    
    if
    STORIES_MAP == 0
        then    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            18@ = 15295
            KOROVAN_QUEST_COLOR_NUM1 = 106
            KOROVAN_QUEST_COLOR_NUM2 = 106
            ELSE
            18@ = 15269
            KOROVAN_QUEST_COLOR_NUM1 = 45
            KOROVAN_QUEST_COLOR_NUM2 = 78
            END    
        else    
        if
        KOROVAN_QUEST_ARMY_FLAG == 0
            THEN
            18@ = 15509
            KOROVAN_QUEST_COLOR_NUM1 = 106
            KOROVAN_QUEST_COLOR_NUM2 = 106
            ELSE
            18@ = 15493
            KOROVAN_QUEST_COLOR_NUM1 = 137
            KOROVAN_QUEST_COLOR_NUM2 = 100
            END    
        end
    
    END

end

end

KOROVAN_QUEST_CURR_CAR_CREATION_NUM += 1
gosub @CAR_CREATE_KOROVAN
if
KOROVAN_QUEST_ARMY_FLAG == 0
then
gosub @RANDOM_KOROVAN_QUEST_BANDITS_CREATE
else
gosub @RANDOM_KOROVAN_QUEST_ARMY_CREATE
end

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 1
then
0085: KOROVAN_QUEST_CAR = KOROVAN_QUEST_CAR_TEMP // (int)
0407: store_coords_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z from_car KOROVAN_QUEST_CAR_TEMP with_offset 0.0 -17.4 0.0
end

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 2
then
0085: KOROVAN_QUEST_CAR2 = KOROVAN_QUEST_CAR_TEMP // (int)
0407: store_coords_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z from_car KOROVAN_QUEST_CAR with_offset 0.0 -9.7 0.0
end

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
then
008A: SUPPLY_QUEST_TRUCK = KOROVAN_QUEST_CAR_TEMP // (int)
end

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM < 3
then
jump to @KOROVAN_QUEST_GET_COORD
else

if
KOROVAN_QUEST_ARMY_FLAG == 0
then
gosub @BANDITS_KOROVAN_PROPERTIES_SET
else
gosub @ARMY_KOROVAN_PROPERTIES_SET
end

end

MISSION_MARKER = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
marker.SetIconSize(MISSION_MARKER,2)
07E0: set_marker MISSION_MARKER type_to 1

v$OBJECTIVE = "GME1107"

0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

car.SetMaxSpeed(KOROVAN_QUEST_CAR,20.0)  
00AE: set_car KOROVAN_QUEST_CAR traffic_behaviour_to 2  
03AB: set_car KOROVAN_QUEST_CAR strong 1 
car.SetSpeedInstantly(KOROVAN_QUEST_CAR,15.0)
car.SetDriverBehaviour(KOROVAN_QUEST_CAR,1)

car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,20.0)  
00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
03AB: set_car SUPPLY_QUEST_TRUCK strong 1 
car.SetSpeedInstantly(SUPPLY_QUEST_TRUCK,15.0)
07F8: car SUPPLY_QUEST_TRUCK follow_car KOROVAN_QUEST_CAR radius 5.0

car.SetMaxSpeed(KOROVAN_QUEST_CAR2,20.0)  
00AE: set_car KOROVAN_QUEST_CAR2 traffic_behaviour_to 2  
03AB: set_car KOROVAN_QUEST_CAR2 strong 1 
car.SetSpeedInstantly(KOROVAN_QUEST_CAR2,15.0)
07F8: car KOROVAN_QUEST_CAR2 follow_car SUPPLY_QUEST_TRUCK radius 5.0

KOROVAN_QUEST_EXIT_FLAG_CAR = 0
KOROVAN_QUEST_EXIT_FLAG_CAR2 = 0
KOROVAN_QUEST_EXIT_FLAG_CAR3 = 0

KOROVAN_QUEST_SPOTTED_FLAG = 0 

for 0@ = 22 to 31
0085: 1@ = 0@ // (int)
1@ -= 22
$ARMY_MARKER[1@] = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[0@])
marker.SetIconSize($ARMY_MARKER[1@],2)
018B: set_marker $ARMY_MARKER[1@] radar_mode 0
end

33@ = 0

repeat
wait 0

if
33@ > 5000
then

if
056E:   car KOROVAN_QUEST_CAR defined
then
if and
KOROVAN_QUEST_EXIT_FLAG_CAR == 0
02CA:   car KOROVAN_QUEST_CAR bounding_sphere_visible
then
if or
01C1:   car KOROVAN_QUEST_CAR stopped
8EE8: not locate_car_distance_to_car KOROVAN_QUEST_CAR car SUPPLY_QUEST_TRUCK radius 30.0
then
KOROVAN_QUEST_IDLE_TIMER_CAR += 1
if or
KOROVAN_QUEST_IDLE_TIMER_CAR > 84
0@ > 20.0
    then
    
    KOROVAN_QUEST_EXIT_FLAG_CAR = 1
    Car.DoorStatus(KOROVAN_QUEST_CAR) = 0
    car.Health(KOROVAN_QUEST_CAR) = 1000
    car.SetImmunities(KOROVAN_QUEST_CAR,1,0,0,0,0)
    
    for 1@ = 22 to 25
    if
    056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
        then
        if
        not actor.Dead($RNDM_HOUSE_WEAPON[1@])
            then     
            0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
            wait 100   
            0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
            0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
            end
        end
    end                        
    
    end
else
if
KOROVAN_QUEST_IDLE_TIMER_CAR > 1
    then
    KOROVAN_QUEST_IDLE_TIMER_CAR -= 1
    end
end
end
end

if
056E:   car KOROVAN_QUEST_CAR2 defined
then
if and
KOROVAN_QUEST_EXIT_FLAG_CAR2 == 0
02CA:   car KOROVAN_QUEST_CAR2 bounding_sphere_visible
then
if or
01C1:   car KOROVAN_QUEST_CAR2 stopped
8EE8: not locate_car_distance_to_car KOROVAN_QUEST_CAR2 car SUPPLY_QUEST_TRUCK radius 30.0
then
KOROVAN_QUEST_IDLE_TIMER_CAR2 += 1
if or
KOROVAN_QUEST_IDLE_TIMER_CAR2 > 84
0@ > 20.0
    then
    
    KOROVAN_QUEST_EXIT_FLAG_CAR2 = 1
    Car.DoorStatus(KOROVAN_QUEST_CAR2) = 0
    car.Health(KOROVAN_QUEST_CAR2) = 1000
    car.SetImmunities(KOROVAN_QUEST_CAR2,1,0,0,0,0)
    
    for 1@ = 26 to 29
    if
    056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
        then
        if
        not actor.Dead($RNDM_HOUSE_WEAPON[1@])
            then     
            0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
            wait 100   
            0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
            0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
            end
        end
    end                        
    
    end
else
if
KOROVAN_QUEST_IDLE_TIMER_CAR2 > 1
    then
    KOROVAN_QUEST_IDLE_TIMER_CAR2 -= 1
    end
end
end
end

if and
KOROVAN_QUEST_EXIT_FLAG_CAR3 == 0
02CA:   car SUPPLY_QUEST_TRUCK bounding_sphere_visible
then
if
01C1:   car SUPPLY_QUEST_TRUCK stopped
then
KOROVAN_QUEST_IDLE_TIMER_CAR3 += 1
if or
KOROVAN_QUEST_IDLE_TIMER_CAR3 > 84
0@ > 20.0
    then
    
    KOROVAN_QUEST_EXIT_FLAG_CAR3 = 1
    Car.DoorStatus(SUPPLY_QUEST_TRUCK) = 0
    car.Health(SUPPLY_QUEST_TRUCK) = 2000
    car.SetImmunities(SUPPLY_QUEST_TRUCK,1,0,0,0,0)
    
    for 1@ = 30 to 31
    if
    056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
        then
        if
        not actor.Dead($RNDM_HOUSE_WEAPON[1@])
            then     
            0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
            wait 100   
            0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
            0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
            end
        end
    end                        
    
    end
else
if
KOROVAN_QUEST_IDLE_TIMER_CAR3 > 1
    then
    KOROVAN_QUEST_IDLE_TIMER_CAR3 -= 1
    end
end
else
if and
KOROVAN_QUEST_EXIT_FLAG_CAR3 == 1
KOROVAN_QUEST_PIDOR_HAS_BEEN_DRAGGED_OUT == 0
01C1:   car SUPPLY_QUEST_TRUCK stopped
056D:   actor $RNDM_HOUSE_WEAPON[31] defined
    then    
    if and
    844B: not  actor $RNDM_HOUSE_WEAPON[31] on_foot
    actor.Dead($RNDM_HOUSE_WEAPON[31])
        then
        KOROVAN_QUEST_PIDOR_HAS_BEEN_DRAGGED_OUT = 1
        09C9: disembark_actor $RNDM_HOUSE_WEAPON[31] from_car SUPPLY_QUEST_TRUCK and_freeze_actor_position
        0430: put_actor $RNDM_HOUSE_WEAPON[31] into_car SUPPLY_QUEST_TRUCK passenger_seat 0
        0687: clear_actor $RNDM_HOUSE_WEAPON[31] task
        0762: AS_actor $RNDM_HOUSE_WEAPON[31] dies
        end
    end
end

end

if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @KOROVAN_QUEST_FAILED_AGRED
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @KOROVAN_QUEST_FAILED_LDEAD
if
RANDOM_QUEST_CANCEL_FLAG == 0
jf @KOROVAN_QUEST_FAILED_CANCEL
if
not car.Wrecked(SUPPLY_QUEST_TRUCK)
jf @KOROVAN_QUEST_FAILED_TRUCK

if and
KOROVAN_QUEST_TRUCK_GOT_FLAG == 0
actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    car.SetImmunities(SUPPLY_QUEST_TRUCK,0,0,0,0,0)
    marker.Disable(MISSION_MARKER)
    KOROVAN_QUEST_TRUCK_GOT_FLAG = 1
    
    if
    056D:   actor $RNDM_HOUSE_WEAPON[23] defined
    then
    actor.DestroyWithFade($RNDM_HOUSE_WEAPON[23])
    0084: $RNDM_HOUSE_WEAPON[23] = $RNDM_HOUSE_WEAPON[22] // (int)
    end
        
    gosub @KOROVAN_QUEST_BACK_COORD_GET
    
    if
    075C:   marker MISSION_CHECKPOINT enabled
    then
    marker.Disable(MISSION_CHECKPOINT)
    end
    
    v$OBJECTIVE = "GAME560"
    if
    REALISM_MODE == 1
    then
    v$OBJECTIVE = "GME1299"
    end
    
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z
    03BC: MISSION_SPHERE = create_sphere_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z radius 2.0
    KOROVAN_QUEST_SPHERE_CREATED_FLAG = 1
    
    end
    
if and
056D:   actor COOP_ACTOR defined
not COOP_ACTOR == -69
then
if and
KOROVAN_QUEST_TRUCK_GOT_FLAG == 0
actor.InCar(COOP_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    car.SetImmunities(SUPPLY_QUEST_TRUCK,0,0,0,0,0)
    marker.Disable(MISSION_MARKER)
    KOROVAN_QUEST_TRUCK_GOT_FLAG = 1
    
    if
    056D:   actor $RNDM_HOUSE_WEAPON[23] defined
    then
    actor.DestroyWithFade($RNDM_HOUSE_WEAPON[23])
    0084: $RNDM_HOUSE_WEAPON[23] = $RNDM_HOUSE_WEAPON[22] // (int)
    end
        
    gosub @KOROVAN_QUEST_BACK_COORD_GET
    
    if
    075C:   marker MISSION_CHECKPOINT enabled
    then
    marker.Disable(MISSION_CHECKPOINT)
    end
    
    v$OBJECTIVE = "GAME560"
    if
    REALISM_MODE == 1
    then
    v$OBJECTIVE = "GME1299"
    end
    
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z
    03BC: MISSION_SPHERE = create_sphere_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z radius 2.0
    KOROVAN_QUEST_SPHERE_CREATED_FLAG = 1
    
    end
end    
    
if and
KOROVAN_QUEST_TRUCK_GOT_FLAG == 1
KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG == 0
not actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG = 1
    
    v$OBJECTIVE = "GAME561"
        
    if
    8A32: not actor PLAYER_ACTOR on_turret_of_car
    then
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    end
        
    marker.Disable(MISSION_CHECKPOINT)
    03BD: destroy_sphere MISSION_SPHERE
    SUPPLY_QUEST_SPHERE_CREATED_FLAG = 0
    MISSION_CHECKPOINT = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
    07E0: set_marker MISSION_CHECKPOINT type_to 1
        
    car.SetImmunities(SUPPLY_QUEST_TRUCK,1,1,1,1,1)
    car.DoorStatus(SUPPLY_QUEST_TRUCK,0)        
    
    end
    
if and
KOROVAN_QUEST_TRUCK_GOT_FLAG == 1
KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG == 1
actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    marker.Disable(MISSION_MARKER)
    KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG = 0    
        
    car.SetImmunities(SUPPLY_QUEST_TRUCK,0,0,0,0,0)
    
    v$OBJECTIVE = "GAME560"
    if
    REALISM_MODE == 1
    then
    v$OBJECTIVE = "GME1299"
    end
    
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    
    gosub @KOROVAN_QUEST_BACK_COORD_GET
    
    if
    075C:   marker MISSION_CHECKPOINT enabled
    then
    marker.Disable(MISSION_CHECKPOINT)
    end
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z
    03BC: MISSION_SPHERE = create_sphere_at KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y KOROVAN_QUEST_TRUCK_Z radius 2.0
    KOROVAN_QUEST_SPHERE_CREATED_FLAG = 1
        
    end        
    
if
KOROVAN_QUEST_TRUCK_GOT_FLAG == 1
    then
    
    if
    KOROVAN_QUEST_ARMY_FLAG == 1
    then
    
    TEMPVAR_INT = 300
    008D: TEMPVAR_INT = integer TEMPVAR_INT to_float
    0069: TEMPVAR_INT *= GENERAL_FPS_TIMER_DIVIDER2 // (float)
    008C: TEMPVAR_INT = float TEMPVAR_INT to_integer
	if
	TEMPVAR_INT < 1
	then
	TEMPVAR_INT = 1
	end
	
    if
    0E45: frame_mod TEMPVAR_INT
    then
    $ARMY1_SPAWN_FLAG = 1
    end
    
    TEMPVAR_INT = 600
    008D: TEMPVAR_INT = integer TEMPVAR_INT to_float
    0069: TEMPVAR_INT *= GENERAL_FPS_TIMER_DIVIDER2 // (float)
    008C: TEMPVAR_INT = float TEMPVAR_INT to_integer
	if
	TEMPVAR_INT < 1
	then
	TEMPVAR_INT = 1
	end
	
    if
    0E45: frame_mod TEMPVAR_INT
        then
        if
        0E4D: random_percent 30 
            then
            ARMY_HUNTER_SPAWN_FLAG = 1
            end
        end
    else
    
    TEMPVAR_INT = 300         
    008D: TEMPVAR_INT = integer TEMPVAR_INT to_float
    0069: TEMPVAR_INT *= GENERAL_FPS_TIMER_DIVIDER2 // (float)
    008C: TEMPVAR_INT = float TEMPVAR_INT to_integer
	if
	TEMPVAR_INT < 1
	then
	TEMPVAR_INT = 1
	end
	
    if
    0E45: frame_mod TEMPVAR_INT
    then
    $BANDITS1_SPAWN_FLAG = 1
    end
    
    TEMPVAR_INT = 600
    008D: TEMPVAR_INT = integer TEMPVAR_INT to_float
    0069: TEMPVAR_INT *= GENERAL_FPS_TIMER_DIVIDER2 // (float)
    008C: TEMPVAR_INT = float TEMPVAR_INT to_integer    
	if
	TEMPVAR_INT < 1
	then
	TEMPVAR_INT = 1
	end
	
    if
    0E45: frame_mod TEMPVAR_INT
        then
        if
        0E4D: random_percent 30 
            then
            BANDIT_HELI_SPAWN_FLAG = 1
            end
        end       
    end
    
    if
    not car.Wrecked(SUPPLY_QUEST_TRUCK)
        then
        
        if or
        0202:   actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 300.0 300.0 sphere 0
        not $ACTIVE_INTERIOR == 0
        jf @KOROVAN_QUEST_FAILED_TRUCK_LEFT
        
        if and
        399@ == 1
        8202: not  actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        0E09: mark_car_as_needed SUPPLY_QUEST_TRUCK
        399@ = 0
        end
        
        if and
        399@ == 0
        0202:   actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        car.RemoveReferences(SUPPLY_QUEST_TRUCK)
        399@ = 1
        end
        
        end
    
    end
    
if and
KOROVAN_QUEST_TRUCK_GOT_FLAG == 1
KOROVAN_QUEST_TRUCK_OUT_OF_TRUCK_FLAG == 0
    then    
    if
    01AE:   car SUPPLY_QUEST_TRUCK sphere 0 near_point KOROVAN_QUEST_TRUCK_X KOROVAN_QUEST_TRUCK_Y radius 5.0 5.0 stopped
        then
        
        if
        KOROVAN_QUEST_ARMY_FLAG == 1
        then
        $ARMY1_SPAWN_FLAG = 0
        ARMY_HUNTER_SPAWN_FLAG = 0
        else
        $BANDITS1_SPAWN_FLAG = 0
        BANDIT_HELI_SPAWN_FLAG = 0
        end
        
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        KOROVAN_QUEST_SPHERE_CREATED_FLAG = 0
        $QUEST_READY_FLAG = 1
        Car.DoorStatus(SUPPLY_QUEST_TRUCK,6)
        0633: AS_actor PLAYER_ACTOR exit_car
        car.SetImmunities(SUPPLY_QUEST_TRUCK,1,1,1,1,1)
        car.LockInCurrentPosition(SUPPLY_QUEST_TRUCK,true)        
        
        v$OBJECTIVE = "DUMMY"
        
        repeat
        wait 0
        until not actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
        
        wait 0
        020A: set_car SUPPLY_QUEST_TRUCK door_status_to 2        
        
        repeat
        wait 0
        
        if
        not car.Wrecked(SUPPLY_QUEST_TRUCK)
        then
                
        if and
        399@ == 1
        8202: not  actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        0E09: mark_car_as_needed SUPPLY_QUEST_TRUCK
        399@ = 0
        end
        
        if and
        399@ == 0
        0202:   actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        car.RemoveReferences(SUPPLY_QUEST_TRUCK)
        399@ = 1
        end
        
        end
        
        if
        $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
        jf @KOROVAN_QUEST_FAILED_AGRED
        if
        803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
        jf @KOROVAN_QUEST_FAILED_LDEAD
        if
        RANDOM_QUEST_CANCEL_FLAG == 0
        jf @KOROVAN_QUEST_FAILED_CANCEL
        
        until 056D:   actor $LEADER_ACTOR defined
        
        actor.StorePos($LEADER_ACTOR,0@,1@,2@)
        
        if
        075C:   marker MISSION_CHECKPOINT enabled
        then
        marker.Disable(MISSION_CHECKPOINT)
        end
        
        018A: MISSION_CHECKPOINT = create_checkpoint_at 0@ 1@ 2@

        v$OBJECTIVE = "GAME541"
        if
        REALISM_MODE == 1
        then
        v$OBJECTIVE = "GME1294"
        end
        
        0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
        $SOUNDS_VOLUME3 *= 0.5
        Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
        Audiostream.Loop($MENU_SCIFI_SOUND, 0)
        Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
        
        repeat
        wait 0
        
        if
        not car.Wrecked(SUPPLY_QUEST_TRUCK)
        then
                
        if and
        399@ == 1
        8202: not  actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        0E09: mark_car_as_needed SUPPLY_QUEST_TRUCK
        399@ = 0
        end
        
        if and
        399@ == 0
        0202:   actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 20.0 20.0 sphere 0
        then
        car.RemoveReferences(SUPPLY_QUEST_TRUCK)
        399@ = 1
        end
        
        end
        
        if
        $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
        jf @KOROVAN_QUEST_FAILED_AGRED
        if
        803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
        jf @KOROVAN_QUEST_FAILED_LDEAD
        if
        RANDOM_QUEST_CANCEL_FLAG == 0
        jf @KOROVAN_QUEST_FAILED_CANCEL        
        
        if
        not car.Wrecked(SUPPLY_QUEST_TRUCK)
        jf @KOROVAN_QUEST_FAILED_TRUCK        
        
        until 00FE:   actor PLAYER_ACTOR sphere 0 in_sphere 0@ 1@ 2@ radius 5.0 5.0 10.0
        
        v$OBJECTIVE = "GAME556"
        if
        REALISM_MODE == 1
        then
        v$OBJECTIVE = "GME1295"
        end        
        
        repeat
        wait 0
        
        if
        $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
        jf @KOROVAN_QUEST_FAILED_AGRED
        if
        803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
        jf @KOROVAN_QUEST_FAILED_LDEAD
        if
        RANDOM_QUEST_CANCEL_FLAG == 0
        jf @KOROVAN_QUEST_FAILED_CANCEL
        
        if
        not car.Wrecked(SUPPLY_QUEST_TRUCK)
        jf @KOROVAN_QUEST_FAILED_TRUCK        
        
        until $QUEST_TYPE == -1
        
        marker.Disable(MISSION_CHECKPOINT)
        gosub @KOROVAN_QUEST_TEAMMATE_TP_CHECK
        car.Destroy(SUPPLY_QUEST_TRUCK)
        
        if and
        881E: not model $SAVE_CAR_MODEL[LATEST_CAR_SLOT_USED] boat
        881F: not model $SAVE_CAR_MODEL[LATEST_CAR_SLOT_USED] plane
        8820: not model $SAVE_CAR_MODEL[LATEST_CAR_SLOT_USED] heli
        KOROVAN_TEMP_CAR_SAVE_FLAG == 1
        then
        0088: $SAVE_CAR_X[LATEST_CAR_SLOT_USED] = KOROVAN_TEMP_CAR_X // (float)
        0088: $SAVE_CAR_Y[LATEST_CAR_SLOT_USED] = KOROVAN_TEMP_CAR_Y // (float)
        0088: $SAVE_CAR_Z[LATEST_CAR_SLOT_USED] = KOROVAN_TEMP_CAR_Z // (float)
        0088: $SAVE_CAR_ANGLE[LATEST_CAR_SLOT_USED] = KOROVAN_TEMP_CAR_ANGLE // (float)
        end
        
        v$OBJECTIVE = "DUMMY"
        $ONMISSION = 0
        KOROVAN_QUEST_FLAG = 0
        
        if
        0E4D: random_percent 70
        then
        
        if
        KOROVAN_QUEST_ARMY_FLAG == 1
        then
        RAID_FRACTION_FLAG = 1
        else
        RAID_FRACTION_FLAG = 2
        end
        
        CAMP_RAID_TIMER += 999999
        
        end
        
        jump to @ASSUDALENIE_KODA282930_KOROVAN
        
        end
    end            

for 0@ = 22 to 31
gosub @KOROVAN_AI_ATTACK_SYSTEM
end

random_int 11@ 0 5
random_int 30@ 22 32
gosub @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE1

////////////////////////////////ѕроверка на смерть дебилов из корована////////////////////////////////

for 30@ = 22 to 31

0085: 31@ = 30@ // (int)
31@ -= 22

if
056D:   actor $RNDM_HOUSE_WEAPON[30@] defined
    then
    if and
    actor.Dead($RNDM_HOUSE_WEAPON[30@])
    075C:   marker $ARMY_MARKER[31@] enabled    
        then
        
        if or
        30@ == 22
        30@ == 26
        30@ == 30
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 1                
        else        
        
        if
        30@ == 23
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 0
        end
        
        if
        30@ == 24
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 1
        end
        
        if
        30@ == 25
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 2 
        end
        
        if
        30@ == 27
        then       
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 0
        end
        
        if
        30@ == 28
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 1
        end
        
        if
        30@ == 29
        then
        create_thread @ANTKUKL $RNDM_HOUSE_WEAPON[30@] 0 0 0 0 0 1 2 
        end
               
        end        
        
        marker.Disable($ARMY_MARKER[31@])
        $ARMY_MARKER[31@] = 0
        
        0A96: 0@ = actor $RNDM_HOUSE_WEAPON[30@] struct
        0A8E: 0@ = 0@ + 0x764
        0A8D: 1@ = read_memory 0@ size 2 virtual_protect 1
        0A8D: 2@ = read_memory 0xB6F5F0 size 2 virtual_protect 1
        
        if
        0800:   in_two_players_mode
        then
        0A8D: 0@ = read_memory 0xB7CF28 size 2 virtual_protect 1
        else
        0@ = -69
        end
        
        if
        003B:   1@ == 0@  // (int)
        then
        0085: 1@ = 2@ // (int)
        end
        
        /////////////////////////////////////////////////////////////////////////////////////////////////////////            
        
        if and
        003B:   1@ == 2@  // (int)
        KOROVAN_QUEST_ARMY_FLAG == 1
        then
        
        0AF0: 27@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_ARMY_KILLED"        
        
        if
        $CHEATED_FLAG == 0 
        then               
        27@ += 1
        end
        
        $ARMY_KILLED += 1
        $TEMP_XP = ARMY_XP_PLUS
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)                    
         
        0AF1: write_int 27@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_ARMY_KILLED"
        
        end
        
        /////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        if and
        003B:   1@ == 2@  // (int)
        KOROVAN_QUEST_ARMY_FLAG == 0
        then            
        
        0AF0: 27@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANDITS_KILLED"        
        
        if
        $CHEATED_FLAG == 0 
        then               
        27@ += 1
        end
        
        $BANDITS_KILLED += 1
        $TEMP_XP = BANDITS_XP_PLUS
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)
        
        if
        KARMA_SYS_ON_FLAG == 1
        then
        CARMA_BAD_POINTS -= 1
        end                    
         
        0AF1: write_int 27@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANDITS_KILLED"
        
        end
        
        /////////////////////////////////////////////////////////////////////////////////////////////////////////        
        
        if
        KOROVAN_QUEST_ARMY_FLAG == 1
        then
        gosub @ARMY_RADIO_CHECK_KOROVAN
        else
        gosub @BANDITS_JIMMY_CHECK_KOROVAN
        end                        
        
        if
        0491:   actor $RNDM_HOUSE_WEAPON[30@] has_weapon 1        
            then
            
            if and
            30@ >= 22
            30@ < 26
            then
            0085: 0@ = KOROVAN_QUEST_CAR // (int)
            end
            
            if and
            30@ >= 26
            30@ < 30
            then
            0085: 0@ = KOROVAN_QUEST_CAR2 // (int)
            end
            
            if and
            30@ >= 30
            30@ < 32
            then
            008B: 0@ = SUPPLY_QUEST_TRUCK // (int)
            end
            
            if
            056E:   car 0@ defined
                then
                046C: 1@ = car 0@ driver
                if
                07D6:   1@ == $RNDM_HOUSE_WEAPON[30@] // @ == $ (int)
                    then
                    0432: 2@ = get_actor_handle_from_car 0@ passenger_seat 0
                    
                    if
                    056D:   actor 2@ defined
                    then
                    if
                    not actor.Dead(2@)
                        then
                        3@ = 1
                        else
                        3@ = 0
                        end
                    else
                    3@ = 1
                    end
                    
                    if
                    3@ == 0
                        then
                        0687: clear_actor 2@ task
                        00A9: set_car KOROVAN_QUEST_CAR to_normal_driver
                        00A9: set_car KOROVAN_QUEST_CAR2 to_normal_driver
                        00A9: set_car SUPPLY_QUEST_TRUCK to_normal_driver                         
                        
                        repeat
                        wait 0                       
                        until not actor.InCar(1@,0@)
                        
                        if
                        056D:   actor 2@ defined
                        then
                        if
                        not actor.Dead(2@)
                            then
                            3@ = 1
                            else
                            3@ = 0
                            end
                        else
                        3@ = 1
                        end
                        
                        if
                        3@ == 0
                        then
                        jump to @KOROVAN_EXIT_ALL
                        end
                        
                        wait 0                        
                        0676: AS_actor 2@ in_car 0@ move_from_passengerseat_to_driverseat                                                                                                                                               
                        
                        repeat
                        wait 0                                                                        
                        046C: 1@ = car 0@ driver
                        
                        if
                        07D6:   1@ == PLAYER_ACTOR // @ == $ (int)
                            then
                            jump to @KOROVAN_EXIT_ALL
                            end
                                                                        
                        until 003B:   1@ == 2@  // (int)                                                                        
                        
                        if and
                        0E4D: random_percent 50
                        87D6: not  0@ == SUPPLY_QUEST_TRUCK // @ == $ (int)
                            then
                            
                            32@ = 0                              
                            
                            if
                            803B: not  0@ == KOROVAN_QUEST_CAR  // (int)
                                then
                                
                                repeat
                                wait 0
                                
                                00AE: set_car 0@ traffic_behaviour_to 2  
                                03AB: set_car 0@ strong 1 
                                car.SetDriverBehaviour(0@,KillThePlayer)
                                
                                car.SetMaxSpeed(KOROVAN_QUEST_CAR,50.0)  
                                00AE: set_car KOROVAN_QUEST_CAR traffic_behaviour_to 2  
                                03AB: set_car KOROVAN_QUEST_CAR strong 1 
                                car.SetDriverBehaviour(KOROVAN_QUEST_CAR,1)
                                
                                car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,50.0)  
                                00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
                                03AB: set_car SUPPLY_QUEST_TRUCK strong 1
                                07F8: car SUPPLY_QUEST_TRUCK follow_car KOROVAN_QUEST_CAR radius 5.0
                                
                                02E3: 3@ = car KOROVAN_QUEST_CAR speed
                                02E3: 4@ = car SUPPLY_QUEST_TRUCK speed
                                02E3: 5@ = car 0@ speed
                                if
                                32@ > 2500
                                    then
                                    3@ = 500.0
                                    4@ = 500.0
                                    5@ = 500.0
                                    end
                                
                                if and
                                3@ >= 5.0
                                4@ >= 5.0
                                5@ >= 5.0
                                    then
                                    break
                                    end
                                
                                until false
                                
                                else
                                
                                32@ = 0
                                
                                repeat
                                wait 0                                              
                                
                                car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,50.0)  
                                00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
                                03AB: set_car SUPPLY_QUEST_TRUCK strong 1 
                                car.SetDriverBehaviour(SUPPLY_QUEST_TRUCK,1)
                                
                                car.SetMaxSpeed(KOROVAN_QUEST_CAR2,50.0)  
                                00AE: set_car KOROVAN_QUEST_CAR2 traffic_behaviour_to 2  
                                03AB: set_car KOROVAN_QUEST_CAR2 strong 1
                                07F8: car KOROVAN_QUEST_CAR2 follow_car SUPPLY_QUEST_TRUCK radius 5.0
                                
                                02E3: 3@ = car KOROVAN_QUEST_CAR2 speed
                                02E3: 4@ = car SUPPLY_QUEST_TRUCK speed
                                
                                if
                                32@ > 2500
                                    then
                                    3@ = 500.0
                                    4@ = 500.0
                                    5@ = 500.0
                                    end
                                
                                if and
                                3@ >= 5.0
                                4@ >= 5.0
                                    then
                                    break
                                    end
                                
                                until false
                                
                                end                        
                            
//                            0AD1: show_formatted_text_highpriority "KOROVAN CAR DRIVER MOVE, GO KILL PLAYER" time 2000
                            
                            else
                            
                            if
                            003B:   0@ == KOROVAN_QUEST_CAR  // (int)                       
                                then
                                
                                32@ = 0
                                
                                repeat
                                wait 0
                                
                                car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,50.0)  
                                00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
                                03AB: set_car SUPPLY_QUEST_TRUCK strong 1 
                                07F8: car SUPPLY_QUEST_TRUCK follow_car 0@ radius 5.0
                                
                                car.SetMaxSpeed(0@,50.0)                                      
                                00AE: set_car 0@ traffic_behaviour_to 2  
                                03AB: set_car 0@ strong 1 
                                car.SetDriverBehaviour(0@,1)
                                
                                02E3: 3@ = car KOROVAN_QUEST_CAR speed
                                02E3: 4@ = car SUPPLY_QUEST_TRUCK speed
                                02E3: 5@ = car KOROVAN_QUEST_CAR2 speed
                                
                                if
                                32@ > 2500
                                    then
                                    3@ = 500.0
                                    4@ = 500.0
                                    5@ = 500.0
                                    end
                                
                                if or
                                0491:   actor $RNDM_HOUSE_WEAPON[26] has_weapon 1
                                0491:   actor $RNDM_HOUSE_WEAPON[27] has_weapon 1
                                    then
                                    car.SetMaxSpeed(KOROVAN_QUEST_CAR2,50.0)  
                                    00AE: set_car KOROVAN_QUEST_CAR2 traffic_behaviour_to 2  
                                    03AB: set_car KOROVAN_QUEST_CAR2 strong 1
                                    07F8: car KOROVAN_QUEST_CAR2 follow_car KOROVAN_QUEST_CAR radius 5.0
                                    else
                                    5@ = 500.0
                                    end
                                
//                                0AD1: show_formatted_text_highpriority "KOROVAN CAR 1 DRIVER MOVE, GO STRAIGHT" time 2000
                                
                                if and
                                3@ >= 5.0
                                4@ >= 5.0
                                5@ >= 5.0
                                    then
                                    break
                                    end
                                
                                until false
                                
                                end
                            
                            if
                            003B:   0@ == KOROVAN_QUEST_CAR2  // (int)                       
                                then
                                
                                32@ = 0
                                
                                repeat
                                wait 0
                                
                                02E3: 3@ = car KOROVAN_QUEST_CAR speed
                                02E3: 4@ = car SUPPLY_QUEST_TRUCK speed
                                02E3: 5@ = car KOROVAN_QUEST_CAR2 speed
                                
                                if or
                                0491:   actor $RNDM_HOUSE_WEAPON[22] has_weapon 1
                                0491:   actor $RNDM_HOUSE_WEAPON[23] has_weapon 1
                                    then
                                    car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,50.0)  
                                    00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
                                    03AB: set_car SUPPLY_QUEST_TRUCK strong 1
                                    07F8: car SUPPLY_QUEST_TRUCK follow_car KOROVAN_QUEST_CAR radius 5.0
//                                    0AD1: show_formatted_text_highpriority "KOROVAN CAR MAIN CAR MOVE, FOLLOW FIRST KOROVAN CAR" time 2000
                                    else
                                    car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,50.0)  
                                    00AE: set_car SUPPLY_QUEST_TRUCK traffic_behaviour_to 2  
                                    03AB: set_car SUPPLY_QUEST_TRUCK strong 1 
                                    car.SetDriverBehaviour(SUPPLY_QUEST_TRUCK,1)
                                    3@ = 500.0
                                    end
                                
                                car.SetMaxSpeed(0@,50.0)  
                                00AE: set_car 0@ traffic_behaviour_to 2  
                                03AB: set_car 0@ strong 1
                                07F8: car 0@ follow_car SUPPLY_QUEST_TRUCK radius 5.0
//                                0AD1: show_formatted_text_highpriority "KOROVAN CAR 2 DRIVER MOVE, FOLLOW MAIN CAR" time 2000
                                
                                if
                                32@ > 2500
                                    then
                                    3@ = 500.0
                                    4@ = 500.0
                                    5@ = 500.0
                                    end
                                
                                if and
                                3@ >= 5.0
                                4@ >= 5.0
                                5@ >= 5.0
                                    then
                                    break
                                    end
                                
                                until false
                                
                                end
                            
                            if
                            07D6:   0@ == SUPPLY_QUEST_TRUCK // @ == $ (int)                       
                                then
                                
                                32@ = 0
                                
                                repeat
                                wait 0
                                
                                02E3: 3@ = car KOROVAN_QUEST_CAR speed
                                02E3: 4@ = car SUPPLY_QUEST_TRUCK speed
                                02E3: 5@ = car KOROVAN_QUEST_CAR2 speed
                                
                                if or
                                0491:   actor $RNDM_HOUSE_WEAPON[22] has_weapon 1
                                0491:   actor $RNDM_HOUSE_WEAPON[23] has_weapon 1
                                    then
                                    
                                    car.SetMaxSpeed(KOROVAN_QUEST_CAR,50.0)  
                                    00AE: set_car KOROVAN_QUEST_CAR traffic_behaviour_to 2  
                                    03AB: set_car KOROVAN_QUEST_CAR strong 1 
                                    car.SetDriverBehaviour(KOROVAN_QUEST_CAR,1)
                                    car.SetMaxSpeed(KOROVAN_QUEST_CAR,50.0)
                                      
                                    00AE: set_car 0@ traffic_behaviour_to 2  
                                    03AB: set_car 0@ strong 1
                                    07F8: car 0@ follow_car KOROVAN_QUEST_CAR radius 5.0
                                    
//                                    0AD1: show_formatted_text_highpriority "KOROVAN CAR MAIN CAR MOVE, FOLLOW FIRST KOROVAN CAR" time 2000
                                    else
                                    car.SetMaxSpeed(0@,50.0)  
                                    00AE: set_car 0@ traffic_behaviour_to 2  
                                    03AB: set_car 0@ strong 1 
                                    car.SetDriverBehaviour(0@,1)
                                    3@ = 500.0
                                    end
                                    
                                if or
                                0491:   actor $RNDM_HOUSE_WEAPON[26] has_weapon 1
                                0491:   actor $RNDM_HOUSE_WEAPON[27] has_weapon 1
                                    then
                                    car.SetMaxSpeed(KOROVAN_QUEST_CAR2,50.0)  
                                    00AE: set_car KOROVAN_QUEST_CAR2 traffic_behaviour_to 2  
                                    03AB: set_car KOROVAN_QUEST_CAR2 strong 1
                                    07F8: car KOROVAN_QUEST_CAR2 follow_car KOROVAN_QUEST_CAR radius 5.0
                                    else
                                    5@ = 500.0
                                    end    
                                    
                                if
                                32@ > 2500
                                    then
                                    3@ = 500.0
                                    4@ = 500.0
                                    5@ = 500.0
                                    end
                                
                                if and
                                3@ >= 5.0
                                4@ >= 5.0
                                5@ >= 5.0
                                    then
                                    break
                                    end
                                
                                until false    
                                    
                                end                        
                                                    
                            end
                        
                        else
                        
                        :KOROVAN_EXIT_ALL
                                        
                        if
                        003B:   0@ == KOROVAN_QUEST_CAR  // (int)                
                            then
                            KOROVAN_QUEST_EXIT_FLAG_CAR = 1
                            Car.DoorStatus(KOROVAN_QUEST_CAR) = 0
                            car.SetImmunities(KOROVAN_QUEST_CAR,1,0,0,0,0)
                            car.Health(KOROVAN_QUEST_CAR) = 1000
                            
                            for 1@ = 22 to 25 
                            if
                            056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
                                then
                                if
                                not actor.Dead($RNDM_HOUSE_WEAPON[1@])
                                    then     
                                    0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
                                    wait 100   
                                    0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
                                    0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
                                    end
                                end
                            end
                            
//                            0AD1: show_formatted_text_highpriority "KOROVAN CAR 1 ALL DRIVERS DESTORYED, EXIT NOW" time 2000
                            
                            end
                            
                        if
                        003B:   0@ == KOROVAN_QUEST_CAR2  // (int)                
                            then
                            KOROVAN_QUEST_EXIT_FLAG_CAR2 = 1
                            Car.DoorStatus(KOROVAN_QUEST_CAR2) = 0
                            car.SetImmunities(KOROVAN_QUEST_CAR2,1,0,0,0,0)
                            car.Health(KOROVAN_QUEST_CAR2) = 1000 
                            
                            for 1@ = 26 to 29
                            if
                            056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
                                then
                                if
                                not actor.Dead($RNDM_HOUSE_WEAPON[1@])
                                    then     
                                    0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
                                    wait 100   
                                    0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
                                    0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
                                    end
                                end
                            end
                            
//                            0AD1: show_formatted_text_highpriority "KOROVAN CAR 2 ALL DRIVERS DESTORYED, EXIT NOW" time 2000
                            
                            end
                            
                        if
                        07D6:   0@ == SUPPLY_QUEST_TRUCK // @ == $ (int)                
                            then
                            KOROVAN_QUEST_EXIT_FLAG_CAR3 = 1
                            Car.DoorStatus(SUPPLY_QUEST_TRUCK) = 0
                            car.SetImmunities(SUPPLY_QUEST_TRUCK,1,0,0,0,0)
                            car.Health(SUPPLY_QUEST_TRUCK) = 2000
                            
                            for 1@ = 22 to 25
                            if
                            056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
                                then
                                if
                                not actor.Dead($RNDM_HOUSE_WEAPON[1@])
                                    then     
                                    0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
                                    wait 100   
                                    0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
                                    0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
                                    end
                                end
                            end
                            
                            for 1@ = 26 to 29
                            if
                            056D:   actor $RNDM_HOUSE_WEAPON[1@] defined
                                then
                                if
                                not actor.Dead($RNDM_HOUSE_WEAPON[1@])
                                    then     
                                    0687: clear_actor $RNDM_HOUSE_WEAPON[1@] task
                                    wait 100   
                                    0633: AS_actor $RNDM_HOUSE_WEAPON[1@] exit_car
                                    0555: remove_weapon 1 from_actor $RNDM_HOUSE_WEAPON[1@]
                                    end
                                end
                            end
                            
//                            0AD1: show_formatted_text_highpriority "KOROVAN CAR 3 ALL DRIVERS DESTORYED, EXIT NOW ALL" time 2000
                            
                            end        
                                            
                        end
                    else
                    
                    if and
                    30@ >= 22
                    30@ < 26
                    then
                    0085: 0@ = KOROVAN_QUEST_CAR // (int)
                    end
                    
                    if and
                    30@ >= 26
                    30@ < 30
                    then
                    0085: 0@ = KOROVAN_QUEST_CAR2 // (int)
                    end
                    
                    if and
                    30@ >= 30
                    30@ < 32
                    then
                    008B: 0@ = SUPPLY_QUEST_TRUCK // (int)
                    end
                    
                    046C: 1@ = car 0@ driver
                    if
                    856D: not  actor 1@ defined
                        then
                        jump to @KOROVAN_EXIT_ALL
                        end
                    end
                end
            else
//            0AD1: show_formatted_text_highpriority "ACTOR DEAD BUT HE ON FOOT" time 2000    
            end
            
        0A96: 0@ = actor $RNDM_HOUSE_WEAPON[30@] struct
        0@ += 0x754
        0A8D: 1@ = read_memory 0@ size 4 virtual_protect 0
        2@ = 0
        0ECE: get_time_char_is_dead $RNDM_HOUSE_WEAPON[30@] store_to 2@    
        wait 0
        if and
        0104:   actor $RNDM_HOUSE_WEAPON[30@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
        $SPECTATING_FLAG == 0
        $SCREWHUD_FLAG == 0
        $PHRASES_OFF_FLAG == 0
        89A8: not  actor $RNDM_HOUSE_WEAPON[30@] headshoted
        not 1@ == 0x02
        2@ > -2 //сука, пиздец
            then
            
            089F: get_actor $RNDM_HOUSE_WEAPON[30@] pedtype_to 2@
    
            if
            2@ == 25
            then
            gosub @KVS_RANDOM_DIALOG_DEAD_BANDITS2        
            else
            gosub @KVS_RANDOM_DIALOG_DEAD_ARMY2    
            end   
    
            09FD: get_gxt_string v$PHRASE3 width_to 3@  // ~k~~PED_SPRINT~ Select
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer
            text.ClearAll()  
            
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end
        end
    end
    
end    

////////////////////////////////«аставл€ем дебилов корована замечать игрока и атаковать////////////////////////////////    
    
if
KOROVAN_QUEST_SPOTTED_FLAG == 0
    THEN
    
    if
    KOROVAN_QUEST_ARMY_FLAG == 1
        THEN
        gosub @KOROVAN_QUEST_SAME_CAR_CHECK_ARMY
        
        /////////////////////////////////////////////////////////////////////////////////
        
        if and
        $SIMULATING_FLAG == 0
        $SPECTATING_FLAG == 0
        $ARMY_DONT_ATTACK_PLAYER_FLAG == 0
        1@ == 0
            then
            if or
            051A:   actor $RNDM_HOUSE_WEAPON[22] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[23] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[24] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[25] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[26] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[27] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[28] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[29] damaged_by_actor PLAYER_ACTOR
                then
                jump to @KOROVAN_SPOTTED_PLAYER
                else
                if or
                051A:   actor $RNDM_HOUSE_WEAPON[30] damaged_by_actor PLAYER_ACTOR
                051A:   actor $RNDM_HOUSE_WEAPON[31] damaged_by_actor PLAYER_ACTOR
                051C:   car KOROVAN_QUEST_CAR damaged_by_actor PLAYER_ACTOR
                051C:   car KOROVAN_QUEST_CAR2 damaged_by_actor PLAYER_ACTOR
                051C:   car SUPPLY_QUEST_TRUCK damaged_by_actor PLAYER_ACTOR
                    then
                    jump to @KOROVAN_SPOTTED_PLAYER
                    end
                end
            end
            
        if and
        $SIMULATING_FLAG == 0
        $SPECTATING_FLAG == 0
        $ARMY_DONT_ATTACK_PLAYER_FLAG == 0
        1@ == 0
            then
            if or
            0364:   actor $RNDM_HOUSE_WEAPON[22] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[23] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[24] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[25] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[26] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[27] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[28] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[29] spotted_actor PLAYER_ACTOR
                then
                jump to @KOROVAN_SPOTTED_PLAYER
                else
                if or
                051A:   actor $RNDM_HOUSE_WEAPON[30] damaged_by_actor PLAYER_ACTOR
                051A:   actor $RNDM_HOUSE_WEAPON[31] damaged_by_actor PLAYER_ACTOR
                    then
                    jump to @KOROVAN_SPOTTED_PLAYER
                    end
                end
            end
            
        /////////////////////////////////////////////////////////////////////////////////        
        
        ELSE
        gosub @KOROVAN_QUEST_SAME_CAR_CHECK_BANDITS    
        
        if and
        $SIMULATING_FLAG == 0
        $SPECTATING_FLAG == 0
        $BANDITS_DONT_ATTACK_PLAYER_FLAG == 0
        1@ == 0
            then
            if or
            051A:   actor $RNDM_HOUSE_WEAPON[22] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[23] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[24] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[25] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[26] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[27] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[28] damaged_by_actor PLAYER_ACTOR
            051A:   actor $RNDM_HOUSE_WEAPON[29] damaged_by_actor PLAYER_ACTOR
                then
                jump to @KOROVAN_SPOTTED_PLAYER
                else
                if or
                051A:   actor $RNDM_HOUSE_WEAPON[30] damaged_by_actor PLAYER_ACTOR
                051A:   actor $RNDM_HOUSE_WEAPON[31] damaged_by_actor PLAYER_ACTOR
                051C:   car KOROVAN_QUEST_CAR damaged_by_actor PLAYER_ACTOR
                051C:   car KOROVAN_QUEST_CAR2 damaged_by_actor PLAYER_ACTOR
                051C:   car SUPPLY_QUEST_TRUCK damaged_by_actor PLAYER_ACTOR
                    then
                    jump to @KOROVAN_SPOTTED_PLAYER
                    end
                end
            end
            
        if and
        $SIMULATING_FLAG == 0
        $SPECTATING_FLAG == 0
        $BANDITS_DONT_ATTACK_PLAYER_FLAG == 0
        1@ == 0
            then
            if or
            0364:   actor $RNDM_HOUSE_WEAPON[22] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[23] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[24] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[25] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[26] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[27] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[28] spotted_actor PLAYER_ACTOR
            0364:   actor $RNDM_HOUSE_WEAPON[29] spotted_actor PLAYER_ACTOR
                then
                jump to @KOROVAN_SPOTTED_PLAYER
                else
                if or
                051A:   actor $RNDM_HOUSE_WEAPON[30] damaged_by_actor PLAYER_ACTOR
                051A:   actor $RNDM_HOUSE_WEAPON[31] damaged_by_actor PLAYER_ACTOR
                    then
                    jump to @KOROVAN_SPOTTED_PLAYER
                    end
                end
            end
            
        /////////////////////////////////////////////////////////////////////////////////
        
        END            
    
    if
    1@ == 0
        then  
        if
        1@ == 1
            then
            :KOROVAN_SPOTTED_PLAYER
            0467: clear_actor $RNDM_HOUSE_WEAPON[22] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[23] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[24] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[25] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[26] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[27] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[28] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[29] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[30] last_weapon_damage
            0467: clear_actor $RNDM_HOUSE_WEAPON[31] last_weapon_damage
            054F: clear_car KOROVAN_QUEST_CAR damage
            054F: clear_car KOROVAN_QUEST_CAR2 damage
            054F: clear_car SUPPLY_QUEST_TRUCK damage
            KOROVAN_QUEST_SPOTTED_FLAG = 1                                                              
            
            if
            KOROVAN_QUEST_ARMY_FLAG == 1
            then
            gosub @RANDOM_DIALOG_ATTACK_ARMY_KOROVAN
            else
            gosub @RANDOM_DIALOG_ATTACK_BANDITS_KOROVAN
            end
            
            car.SetMaxSpeed(KOROVAN_QUEST_CAR,25.0)
            car.SetMaxSpeed(KOROVAN_QUEST_CAR2,25.0)
            car.SetMaxSpeed(SUPPLY_QUEST_TRUCK,30.0)
            
            if and
            not $GAMEMODE_WAR == 1
            $PHRASES_OFF_FLAG == 0
            then
            05C1: AS_actor PLAYER_ACTOR speak_from_audio_table $PLAYER_FIND_ENEMY_DIALOG_STRING    
            09FD: get_gxt_string v$PHRASE3 width_to 3@  // ~k~~PED_SPRINT~ Select
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end
            
            end                 
        end
    END         

until false

/////////////////////////////////////////////////////////////////////////////////

jump to @ASSUDALENIE_KODA282930_KOROVAN  

:ASSKOD_PROVALA282930_KOROVAN 
mission_cleanup     
return 

:ASSUDALENIE_KODA282930_KOROVAN
$ONMISSION = 0
KOROVAN_QUEST_FLAG = 0

if
075C:   marker MISSION_CHECKPOINT enabled
then
marker.Disable(MISSION_CHECKPOINT)
end

if
075C:   marker MISSION_MARKER enabled
then
marker.Disable(MISSION_MARKER)
end

if
KOROVAN_QUEST_SPHERE_CREATED_FLAG == 1
then
03BD: destroy_sphere MISSION_SPHERE
end

014F: stop_timer $SAVE_WAIT_TIME
    
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_TRUCK_LEFT
text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MSFL121"
create_thread @GM_2OVR
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_TRUCK
text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MS_FL33"
create_thread @GM_2OVR
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_AGRED
text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MS_FL5"
create_thread @GM_2OVR
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_LDEAD
text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MS_FL43"
create_thread @GM_2OVR
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_TIME
text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MS_FL55"
create_thread @GM_2OVR
mission_cleanup    
return

:KOROVAN_QUEST_FAILED_CANCEL

if and
not PERK_CHARISMA == 2
not RANDOM_QUEST_CANCEL_FLAG == 2
then
008B: 0@ = $QUEST_CAMP_NUMBER // (int)
0@ += 156
$RNDM_HOUSE_BANKA[0@] -= 10
end

text.ClearAll()
$ONMISSION = 0
$QUEST_READY_FLAG = 0
$QUEST_TYPE = -1
QUARANTINE_SOUND_PLAY_FLAG = 0
KOROVAN_QUEST_FLAG = 0
v$FAILED_TEXT = "MS_FL44"
v$OBJECTIVE = "DUMMY"
if
REALISM_MODE == 1
then
v$OBJECTIVE2 = "DUMMY"
REALISM_QUEST_TARGET_ZONE = 'DUMMY'
REALISM_QUEST_TARGET_ZONE2 = 'DUMMY'
end

mission_cleanup    
return

:RANDOM_KOROVAN_COORD_SET
wait 0

//0AD1: show_formatted_text_highpriority "GAY EY" time 500 

if
UNITED_MAP == 0
then    
0208: KOROVAN_QUEST_RANDOM_X = random_float_in_ranges -2747.2507 2833.0591 
0208: KOROVAN_QUEST_RANDOM_Y = random_float_in_ranges 2680.6458 -2172.8049   
else

if
$UNITED_III_SPAWN == 1
then
0208: KOROVAN_QUEST_RANDOM_X = random_float_in_ranges -2711.3311 45.7344 
0208: KOROVAN_QUEST_RANDOM_Y = random_float_in_ranges -160.5908 2375.3311
else     
0208: KOROVAN_QUEST_RANDOM_X = random_float_in_ranges 605.8673 2540.8437 
0208: KOROVAN_QUEST_RANDOM_Y = random_float_in_ranges -2719.9036 675.8437
end

end

KOROVAN_QUEST_RANDOM_Z = 0.0 

if
CUSTOMMAP_OFFSETS_IS_ATTACHED_TO_PATHS_INITIALY == 1
then
04D3: get_nearest_car_path_coords_from KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z type 1 store_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z
gosub @CUSTOM_MAP_TRY_TO_GET_CUSTOM_CAR_NODE
if
USE_CUSTOM_CAR_NODE_FLAG == 1
    then     
    USE_CUSTOM_CAR_NODE_FLAG = 0
    0089: KOROVAN_QUEST_RANDOM_X = $TEMPVAR_FLOAT_1 // (float)
    0089: KOROVAN_QUEST_RANDOM_Y = $TEMPVAR_FLOAT_2 // (float)
    0089: KOROVAN_QUEST_RANDOM_Z = $TEMPVAR_FLOAT_3 // (float)
    end
end

gosub @KOROVAN_SPAWN_ZONE_CHECK

actor.StorePos(PLAYER_ACTOR,1@,2@,3@)
0509: 4@ = distance_between_XY 1@ 2@ and_XY KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y
02CE: KOROVAN_QUEST_RANDOM_Z = ground_z_at KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y 100.0

if
UNITED_MAP == 0
then
KOROVAN_QUEST_RANDOM_Z = 28.0
end

if and
UNITED_MAP == 0
not CUSTOM_MAP_FLAG == 1
then
if and
6@ == 1
4@ > 1000.0
4@ < 2000.0
KOROVAN_QUEST_RANDOM_Z > 0.0
jf @RANDOM_KOROVAN_COORD_SET
else
if and
6@ == 1
4@ > 500.0
4@ < 1500.0
KOROVAN_QUEST_RANDOM_Z > 0.0
jf @RANDOM_KOROVAN_COORD_SET
end

return

:KOROVAN_SPAWN_ZONE_CHECK
6@ = 1

if
83CA: not  object DUMMY_OBJECT exists
then
DUMMY_OBJECT = object.Init(321,KOROVAN_QUEST_RANDOM_X, KOROVAN_QUEST_RANDOM_Y,100.0)
0750: set_object DUMMY_OBJECT visibility 0
0382: set_object DUMMY_OBJECT collision_detection 0
object.Indestructibility(DUMMY_OBJECT,true)
object.KeepInMemory(DUMMY_OBJECT,true)
else
object.PutAt(DUMMY_OBJECT,KOROVAN_QUEST_RANDOM_X, KOROVAN_QUEST_RANDOM_Y,100.0)
end

if
UNITED_MAP == 0
then

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 429.69 2156.25 0.0 cornerB -85.94 1632.81 200.0 flag 0 //Army Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 2515.8704 -2300.5332 0.0 cornerB 2923.9133 -2714.2751 200.0 flag 0 //Army Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA -291.8675 -743.7072 0.0 cornerB -812.7712 -328.283 200.0 flag 0 //Army Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1029.9045 224.8402 0.0 cornerB -1633.7898 742.1226 200.0 flag 0 //Army Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 885.526 -1511.1262 0.0 cornerB 563.4574 -1238.0656 200.0 flag 0 //Bandit Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 1015.63 -62.50 0.0 cornerB 1468.75 414.06 200.0 flag 0 //Bandit Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA 894.7634 1538.1443 0.0 cornerB 1236.8 1117.0681 200.0 flag 0 //Bandit Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -2302.0935 -341.3542 0.0 cornerB -1916.9932 27.9204 200.0 flag 0 //Bandit Zone 4  
    then
    6@ = 0
    end    

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1858.78 -1297.43 0.0 cornerB 1903.21 -1333.35 200.0 flag 0 //Trader Zone 0
04EA:  object DUMMY_OBJECT in_cube_cornerA -404.3865 -1476.689 0.0 cornerB -345.3865 -1394.689 200.0 flag 0 //Trader Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 427.52 2548.39 0.0 cornerB 407.61 2526.03 200.0 flag 0 //Trader Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA 2619.17 -1511.30 0.0 cornerB 2786.00 -1415.17 200.0 flag 0 //Trader Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1886.3972 -1690.2018 0.0 cornerB -1929.0323 -1650.1958 200.0 flag 0 //Trader Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 2301.83 -20.72 0.0 cornerB 2335.90 23.12 200.0 flag 0 //Trader Zone 5
04EA:  object DUMMY_OBJECT in_cube_cornerA 1755.02 926.82 0.0 cornerB 1718.80 891.51 200.0 flag 0 //Trader Zone 6
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 751.20 -1432.56 0.0 cornerB 691.96 -1516.19 200.0 flag 0 //Trader Zone 7
04EA:  object DUMMY_OBJECT in_cube_cornerA -1651.67 2606.63 0.0 cornerB -1682.51 2578.91 200.0 flag 0 //Trader Zone 8
04EA:  object DUMMY_OBJECT in_cube_cornerA 2323.0 1710.1875 0.0 cornerB 2398.0 1612.1875 200.0 flag 0 //Trader Zone 9
04EA:  object DUMMY_OBJECT in_cube_cornerA -2126.95 173.65 0.0 cornerB -2136.94 153.88 200.0 flag 0 //Trader Zone 10
04EA:  object DUMMY_OBJECT in_cube_cornerA -1909.89 787.54 0.0 cornerB -1909.89 787.54 200.0 flag 0 //Trader Zone 11
04EA:  object DUMMY_OBJECT in_cube_cornerA -666.168 919.6441 0.0 cornerB -713.3187 950.6985 200.0 flag 0 //Trader Zone 12
04EA:  object DUMMY_OBJECT in_cube_cornerA -2210.40 642.64 0.0 cornerB -2201.72 724.11 200.0 flag 0 //Trader Zone 13  
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1357.4393 -850.5232 0.0 cornerB 1201.0028 -682.215 200.0 flag 0 //OOS Zone
04EA:  object DUMMY_OBJECT in_cube_cornerA 1140.63 -265.63 0.0 cornerB 953.13 -421.88 200.0 flag 0 //Survivors Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA -2697.67 225.09 0.0 cornerB -2653.78 246.99 200.0 flag 0 //Survivors Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA -750.8 1498.59 0.0 cornerB -711.96 1572.89 200.0 flag 0 //Survivors Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA 2053.71 -1759.78 0.0 cornerB 2019.05 -1805.22 200.0 flag 0 //Survivors Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 2519.62 1080.73 0.0 cornerB 2472.25 1188.69 200.0 flag 0 //Survivors Zone 5
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2786.9807 -1483.0641 0.0 cornerB 2822.3315 -1424.2843 200.0 flag 0 //Survivors Zone 4B
04EA:  object DUMMY_OBJECT in_cube_cornerA 359.38 -1453.13 0.0 cornerB 265.63 -1585.94 30.0 flag 0 //Survivors Zone 4C
04EA:  object DUMMY_OBJECT in_cube_cornerA -2482.6663 -592.8055 0.0 cornerB -2543.678 -721.6879 200.0 flag 0 //Survivors Zone 2B
04EA:  object DUMMY_OBJECT in_cube_cornerA -2237.1636 935.8976 0.0 cornerB -2162.6333 1076.9303 200.0 flag 0 //Survivors Zone 2C
04EA:  object DUMMY_OBJECT in_cube_cornerA -264.1352 2641.4204 0.0 cornerB -377.2627 2694.4468 200.0 flag 0 //Survivors Zone 3B
04EA:  object DUMMY_OBJECT in_cube_cornerA 143.3994 -201.4584 0.0 cornerB 173.7076 -151.1922 200.0 flag 0 //Survivors Zone 1B
04EA:  object DUMMY_OBJECT in_cube_cornerA -1392.6833 -1604.0728 0.0 cornerB -1471.0334 -1436.6903 200.0 flag 0 //Survivors Zone 1C
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2236.3337 2722.114 0.0 cornerB 2460.2527 2824.3809 200.0 flag 0 //Survivors Zone 5B
04EA:  object DUMMY_OBJECT in_cube_cornerA 1016.7408 2205.6025 0.0 cornerB 1111.224 2062.55 30.0 flag 0 //Survivors Zone 5C
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point 1701.3729 -478.4831 33.4145 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1696.6538 -456.1838 33.196 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -196.2035 260.1373 12.0781 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -167.5269 369.0612 12.0781 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -140.9508 470.2005 12.1446 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 568.3724 404.1745 18.9297 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 522.1794 461.4417 18.9297 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 472.3617 541.2493 18.9297 radius 40.0 40.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or        
04E6:   object DUMMY_OBJECT near_point 438.2756 589.9736 18.922 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1705.9209 387.4872 31.2462 radius 15.0 15.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1705.9209 387.4872 31.2462 radius 15.0 15.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1702.4478 419.215 31.6904 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1713.8755 452.9702 31.7439 radius 80.0 80.0 10.0 flag 0 
04E6:   object DUMMY_OBJECT near_point 1739.0465 524.6418 27.792 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1796.9082 803.6421 11.9841 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -91.3199 -925.1218 18.9701 radius 60.0 60.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or        
04E6:   object DUMMY_OBJECT near_point -76.5812 -894.0284 16.0403 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -977.1158 -387.7733 36.2922 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -952.1158 -262.2675 36.742 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -937.7835 -234.6009 38.7915 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 62.6183 -1533.1664 5.1803 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 42.5451 -1530.0872 5.375 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 197.2824 -1119.799 62.6762 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 251.7135 -1023.0703 56.4744 radius 80.0 80.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point -1667.4214 544.2248 38.6321 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1634.1216 563.6423 39.5937 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1580.0278 650.1732 43.0643 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1489.5605 740.6168 46.1023 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1449.4218 762.1415 46.6998 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1394.9657 844.0401 47.3516 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1386.7476 853.6758 47.2528 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1134.2389 1106.2327 38.556 radius 100.0 100.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point -2688.9521 1405.9114 55.4297 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -2681.6833 1448.6949 55.8125 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1587.891 -1424.3495 41.1482 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1903.4186 -1113.4783 38.3967 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1904.8696 -389.3445 39.0254 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -2043.5305 -360.1454 35.3047 radius 100.0 100.0 10.0 flag 0
04EA:  object DUMMY_OBJECT in_cube_cornerA -1861.9833 -695.6805 0.0 cornerB -2167.907 -1019.5688 200.0 flag 0 //SF Fortpost
04E6:   object DUMMY_OBJECT near_point 1176.072 -692.1957 62.1394 radius 80.0 80.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2831.3398 -842.5018 0.0 cornerB 2920.6084 -798.687 200.0 flag 0 //LS East Fortpost
04EA:  object DUMMY_OBJECT in_cube_cornerA 2868.0059 -1870.424 0.0 cornerB 2801.4351 -2077.8884 200.0 flag 0 //LS East Fortpost 2
04E6:   object DUMMY_OBJECT near_point 938.5729 734.5111 10.4818 radius 150.0 150.0 28.0 flag 0
04E6:   object DUMMY_OBJECT near_point 811.3041 2635.1475 13.5771 radius 200.0 200.0 28.0 flag 0
04E6:   object DUMMY_OBJECT near_point 755.8602 2644.0227 18.5635 radius 90.0 90.0 28.0 flag 0
04E6:   object DUMMY_OBJECT near_point 657.864 2524.3191 31.1933 radius 90.0 90.0 28.0 flag 0
04E6:   object DUMMY_OBJECT near_point 643.3171 2540.0981 32.7013 radius 90.0 90.0 28.0 flag 0
04E6:   object DUMMY_OBJECT near_point 877.2021 2614.1511 28.2733 radius 200.0 200.0 28.0 flag 0
    then
    6@ = 0
    end    
    
//////////////////////////////////////////////////////////////////////////////////////////////////                    
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -1226.78 -1771.66 -90.0 -1820.64 -2643.68 200.0 flag 0 //CREEK
04EA:  object DUMMY_OBJECT in_cube_cornerA -1820.64 -1771.66 -90.0 -2030.12 -2174.89 200.0 flag 0 //CREEK1
04EA:  object DUMMY_OBJECT in_cube_cornerA -2178.69 -1115.58 -90.0 -2994.49 -2189.91 560.0 flag 0 //MTCHI1
04EA:  object DUMMY_OBJECT in_cube_cornerA -1936.12 -1250.97 -90.0 -2178.69 -1771.66 560.0 flag 0 //MTCHI2
04EA:  object DUMMY_OBJECT in_cube_cornerA -2178.69 -971.91 -90.0 -2997.47 -1115.58 560.0 flag 0 //MTCHI3
04EA:  object DUMMY_OBJECT in_cube_cornerA -2030.12 -1771.66 -90.0 -2178.69 -2189.91 560.0 flag 0 //MTCHI4
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 435.99 2677.90 0.0 37.03 2337.18 200.0 flag 0 //MEAD
04EA:  object DUMMY_OBJECT in_cube_cornerA 421.23 2123.01 -50.0 -91.59 1655.05 250.0 flag 0 //REST
04EA:  object DUMMY_OBJECT in_cube_cornerA -908.16 -787.39 114.98 -1209.67 -1317.10 250.0 flag 0 //FARM
04EA:  object DUMMY_OBJECT in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 flag 0 //ARCO
04EA:  object DUMMY_OBJECT in_cube_cornerA 1457.46 2863.23 -89.08 1117.40 2723.23 200.0 flag 0 //YBELL1
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1457.37 1883.11 -89.08 1236.63 1203.28 200.0 flag 0 //VAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA 1777.39 1883.11 -89.08 1457.37 1203.28 200.0 flag 0 //VAIR2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 -50.10 0.0 -1794.92 -730.12 200.0 flag 0 //SFAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 578.40 0.0 -1242.98 -50.10 200.0 flag 0 //SFAIR2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1242.98 249.90 0.0 -1499.89 -50.10 200.0 flag 0 //SFAIR3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1132.82 -50.10 0.0 -1213.91 -730.12 200.0 flag 0 //SFAIR4
04EA:  object DUMMY_OBJECT in_cube_cornerA -947.98 578.40 0.0 -1213.91 -50.10 200.0 flag 0 //SFAIR5
    then
    6@ = 0
    end

if or    
04EA:  object DUMMY_OBJECT in_cube_cornerA 1852.0 -2179.25 -89.08 1249.62 -2394.33 200.0 flag 0 //LAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA 2201.82 -2394.33 -89.08 1382.73 -2730.88 200.0 flag 0 //LAIR2b
04EA:  object DUMMY_OBJECT in_cube_cornerA 2089.0 -2179.25 -89.08 1852 -2394.33 200.0 flag 0 //LAIR2a
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -2616.40 2175.15 0.0 -2741.45 1659.68 200.0 flag 0 //GANTB
04EA:  object DUMMY_OBJECT in_cube_cornerA -2616.40 1659.68 0.0 -2741.07 1490.47 200.0 flag 0 //GANTB1
04EA:  object DUMMY_OBJECT in_cube_cornerA 603.03 555.68 0.0 434.34 366.57 200.0 flag 0 //FALLO
04EA:  object DUMMY_OBJECT in_cube_cornerA -122.13 476.47 0.0 -222.18 293.32 200.0 flag 0 //MART
04EA:  object DUMMY_OBJECT in_cube_cornerA 1785.14 567.20 0.0 1664.62 401.75 200.0 flag 0 //MAKO
04EA:  object DUMMY_OBJECT in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 flag 0 //ARCO
04EA:  object DUMMY_OBJECT in_cube_cornerA 860.55 1031.71 -115.24 337.24 710.84 200.0 flag 0 //QUARY
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 1057.04 -89.08 -1339.89 828.13 200.0 flag 0 //GARV
04EA:  object DUMMY_OBJECT in_cube_cornerA -1087.93 1178.93 -89.08 -1213.91 502.0 200.0 flag 0 //GARV2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1339.89 925.35 -179.62 -1499.89 696.44 200.0 flag 0 //GARV3
04EA:  object DUMMY_OBJECT in_cube_cornerA 1016.933 1199.3302 0.0 1096.097 1222.7902 200.0 flag 0 //BANDIT BASE LV
04EA:  object DUMMY_OBJECT in_cube_cornerA -173.72 48.6644 0.0 106.1629 -136.1308 200.0 flag 0 //BLUEBERRY FARM
04EA:  object DUMMY_OBJECT in_cube_cornerA 1894.0 -954.2563 0.0 2650.0 -118.2563 200.0 flag 0 //NORTHSTAR CLIFF
04EA:  object DUMMY_OBJECT in_cube_cornerA -2580.0 2082.7437 0.0 -1867.3125 1522.2437 200.0 flag 0 //SF WATER CUBE 1
    then
    6@ = 0
    end
    
//////////////////////////////////////////////////////////////////////////////////////////////////                  
    
else

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 flag 0 //BIG BILLS BOWLS TRACK VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1786.27 -1191.43 0.0 cornerB 2163.66 -152.395 200.0 flag 0 //GOLF CLUB VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 flag 0 //BEACH TRACK VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 92.1001 -1895.2 0.0 cornerB 792.1 -1265.2 200.0 flag 0 //AIRPORT VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 77.7263 -2752.63 0.0 cornerB 792.246 -1895.2 200.0 flag 0 //AIRPORT VC
04EA:  object DUMMY_OBJECT in_cube_cornerA -2247.4019 2063.7778 0.0 cornerB -2717.0303 2352.8291 200.0 flag 0 //Army Zone 2 LC  
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -277.7767 1109.5814 0.0 cornerB -232.4244 1162.0369 200.0 flag 0 //Survivors Zone 1 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -1256.9427 1505.7239 0.0 cornerB -1339.8552 1401.7533 200.0 flag 0 //Survivors Zone 2 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -2421.9885 1909.3091 0.0 cornerB -2505.8318 1962.9353 200.0 flag 0 //Survivors Zone 3 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1356.8033 245.7149 0.0 cornerB 1230.6315 357.2882 200.0 flag 0 //Survivors Zone 4 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1010.0256 -1435.0776 0.0 cornerB 1159.0013 -1590.2578 200.0 flag 0 //Survivors Zone 5 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2406.4055 -99.8233 0.0 cornerB 2329.9165 -8.8584 200.0 flag 0 //Survivors Zone 6 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2176.4023 -2087.9294 0.0 cornerB 2079.8772 -2214.2107 200.0 flag 0 //Survivors Zone 7 VC
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -2263.0713 2368.6123 0.0 cornerB -1685.692 2463.6145 200.0 flag 0 //Survivors Zone 8 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -1743.1509 2339.5959 0.0 cornerB -1603.3851 2217.8518 200.0 flag 0 //Survivors Zone 8 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -1080.4521 555.1386 0.0 cornerB -1153.1989 636.4949 200.0 flag 0 //Survivors Zone 9 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -466.2975 639.7095 0.0 cornerB -274.9772 728.6678 200.0 flag 0 //Survivors Zone 10 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -2645.137 1243.5448 0.0 cornerB -2587.1526 1307.369 200.0 flag 0 //Bandits Zone 2 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -2247.4019 2063.7778 0.0 cornerB -2717.0303 2352.8291 200.0 flag 0 //Army Zone 2 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2.6522 883.2079 0.0 cornerB 274.8031 1198.0509 200.0 flag 0 //Army Zone 3 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -19.5689 1469.4327 0.0 cornerB 277.7072 1843.8197 200.0 flag 0 //Bandits Zone 3 LC
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2274.4585 -668.1191 0.0 cornerB 1687.1143 -305.3842 200.0 flag 0 //GOLF CLUB 2 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2235.1589 -726.8676 0.0 cornerB 1885.4563 -1083.7006 200.0 flag 0 //GOLF CLUB 3 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1617.6917 433.6124 0.0 cornerB 1428.5198 581.4255 200.0 flag 0 //OFFROAD TRACK VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2641.4382 -292.9647 0.0 cornerB 2909.6777 -11.6561 200.0 flag 0 //RC OFFROAD TRACK VC 
    then
    6@ = 0
    end               

end          

return

:CAR_CREATE_KOROVAN

////////////////////////////////////////////////////////
    
if and
KOROVAN_QUEST_ARMY_FLAG == 0
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
UNITED_MAP == 1
then
    
if
$UNITED_III_SPAWN == 1
then
    
if
STORIES_MAP == 0
then
18@ = 15370    
random_int 0@ 0 3
0506: set_car_model 15370 next_variation -1 0@ // first param is useless
else
18@ = 15420
end
    
else
    
if
STORIES_MAP == 0
then
18@ = 15295
random_int 0@ 2 6
0506: set_car_model 15295 next_variation -1 0@ // first param is useless
else
18@ = 15509
random_int 0@ 0 4
0506: set_car_model 15509 next_variation -1 0@ // first param is useless
end 
    
end
    
end
    
////////////////////////////////////////////////////////
    
if and
KOROVAN_QUEST_ARMY_FLAG == 0
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
UNITED_MAP == 0
then
random_int 0@ 0 3
0506: set_car_model #FLATBED next_variation -1 0@ // first param is useless    
end

if and
KOROVAN_QUEST_ARMY_FLAG == 1
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
UNITED_MAP == 0
then
0506: set_car_model #BARRACKS next_variation -1 0 // first param is useless    
end

////////////////////////////////////////////////////////

if and
KOROVAN_QUEST_ARMY_FLAG == 1
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
UNITED_MAP == 1
then
    
if
$UNITED_III_SPAWN == 1
then
    
if
STORIES_MAP == 0
then
0506: set_car_model 15350 next_variation -1 0@ // first param is useless
else
0506: set_car_model 15408 next_variation -1 0@ // first param is useless
end
    
else
    
if
STORIES_MAP == 0
then
0506: set_car_model 15269 next_variation -1 0@ // first param is useless
else
0506: set_car_model 15493 next_variation -1 0@ // first param is useless
end 
    
end
    
end
    
////////////////////////////////////////////////////////    

if
model.Available(18@)
then  
KOROVAN_QUEST_CAR_TEMP = Car.Create(18@, KOROVAN_QUEST_RANDOM_X, KOROVAN_QUEST_RANDOM_Y, KOROVAN_QUEST_RANDOM_Z)
0229: set_car KOROVAN_QUEST_CAR_TEMP primary_color_to KOROVAN_QUEST_COLOR_NUM1 secondary_color_to KOROVAN_QUEST_COLOR_NUM2
car.Health(KOROVAN_QUEST_CAR_TEMP) = 69000
053F: set_car KOROVAN_QUEST_CAR_TEMP tires_vulnerability 0
03ED: set_car KOROVAN_QUEST_CAR_TEMP disable_flipped_explosion_when_empty 1

if
model.Available(18@)
then
//model.Destroy(18@)
end

else
model.Load(18@)
mload
wait 0
jump to @CAR_CREATE_KOROVAN
end

if
KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 1
then
car.StorePos(KOROVAN_QUEST_CAR_TEMP, 6@, 7@, 8@)
02C1: store_to KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z car_path_coords_closest_to 6@ 7@ 8@
car.PutAt(KOROVAN_QUEST_CAR_TEMP,KOROVAN_QUEST_RANDOM_X,KOROVAN_QUEST_RANDOM_Y,KOROVAN_QUEST_RANDOM_Z)
random_int 24@ 0 2
06F8: get_nearest_route_for KOROVAN_QUEST_RANDOM_X KOROVAN_QUEST_RANDOM_Y KOROVAN_QUEST_RANDOM_Z in_direction 24@ store_to 25@ 26@ 27@ Z_angle_to 13@
car.PutAt(KOROVAN_QUEST_CAR_TEMP,KOROVAN_QUEST_RANDOM_X,KOROVAN_QUEST_RANDOM_Y,KOROVAN_QUEST_RANDOM_Z)
car.Angle(KOROVAN_QUEST_CAR_TEMP) = 501@
else
13@ = car.Angle(KOROVAN_QUEST_CAR)
car.Angle(KOROVAN_QUEST_CAR_TEMP) = 13@
end

0A97: 0@ = car KOROVAN_QUEST_CAR_TEMP struct 
0@ += 9 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
08BD: set 1@ bit 2 
0A8C: write_memory 0@ size 1 value 1@ virtual_protect 0 
08C3: clear 1@ bit 2 
0A97: 0@ = car KOROVAN_QUEST_CAR_TEMP struct 
0@ += 4 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
08BD: set 1@ bit 1 
0A8C: write_memory 0@ size 1 value 1@ virtual_protect 0 
08C3: clear 1@ bit 1 
random_float $BENZIN_ARMY $GASOLINE_MIN $GASOLINE_MAX
$BENZIN_ARMY *= 20.0 
0A97: 22@ = car KOROVAN_QUEST_CAR_TEMP struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value $BENZIN_ARMY virtual_protect 0 
Car.DoorStatus(KOROVAN_QUEST_CAR_TEMP) = 2        

return

:RANDOM_KOROVAN_QUEST_BANDITS_CREATE

if
UNITED_MAP == 1
then
jump to @RANDOM_KOROVAN_QUEST_BANDITS_CREATE_UNITEDSTORIES
end

random_int 0@ 0 2

if
0@ == 0
    THEN
    
    while not model.Available(BANDIT1_SKIN_ID)
    wait 0
    model.Load(BANDIT1_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(25, BANDIT1_SKIN_ID, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(BANDIT1_SKIN_ID)
    then
    //model.Destroy(BANDIT1_SKIN_ID)
    end
    
    wait 5
    
    while not model.Available(BANDIT2_SKIN_ID)
    wait 0
    model.Load(BANDIT2_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT2_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(BANDIT2_SKIN_ID)
    then
    //model.Destroy(BANDIT2_SKIN_ID)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        ///////////////////////////////////////////////////////////////////////////////
        
        while not model.Available(BANDIT3_SKIN_ID)
        wait 0
        model.Load(BANDIT3_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT3_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(BANDIT3_SKIN_ID)
        then
        //model.Destroy(BANDIT3_SKIN_ID)
        end
        
        wait 5
        
        while not model.Available(BANDIT4_SKIN_ID)
        wait 0
        model.Load(BANDIT4_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT4_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(BANDIT4_SKIN_ID)
        then
        //model.Destroy(BANDIT4_SKIN_ID)
        end
        
        END
    
    ///////////////////////////////////////////////////////////////////////////////

ELSE

while not model.Available(BANDIT5_SKIN_ID)
wait 0
model.Load(BANDIT5_SKIN_ID)
mload
end

$RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(25, BANDIT5_SKIN_ID, KOROVAN_QUEST_CAR_TEMP)
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1

if
model.Available(BANDIT5_SKIN_ID)
then
//model.Destroy(BANDIT5_SKIN_ID)
end

wait 5

while not model.Available(BANDIT6_SKIN_ID)
wait 0
model.Load(BANDIT6_SKIN_ID)
mload
end

$RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT6_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,0)
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1

if
model.Available(BANDIT6_SKIN_ID)
then
//model.Destroy(BANDIT6_SKIN_ID)
end

if
not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
    THEN
    
    wait 5
    
    while not model.Available(BANDIT7_SKIN_ID)
    wait 0
    model.Load(BANDIT7_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT7_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,1)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(BANDIT7_SKIN_ID)
    then
    //model.Destroy(BANDIT7_SKIN_ID)
    end
    
    wait 5
    
    while not model.Available(BANDIT8_SKIN_ID)
    wait 0
    model.Load(BANDIT8_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, BANDIT8_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,2)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(BANDIT8_SKIN_ID)
    then
    //model.Destroy(BANDIT8_SKIN_ID)
    end
    
    END
    
END

return

:RANDOM_KOROVAN_QUEST_BANDITS_CREATE_UNITEDSTORIES

if
$UNITED_VC_FLAG == 0
    THEN    
    
    while not model.Available($III_BANDITS_SKIN1)
    wait 0
    model.Load($III_BANDITS_SKIN1)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(25, $III_BANDITS_SKIN1, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($III_BANDITS_SKIN1)
    then
    //model.Destroy($III_BANDITS_SKIN1)
    end
    
    wait 5
    
    while not model.Available($III_BANDITS_SKIN2)
    wait 0
    model.Load($III_BANDITS_SKIN2)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $III_BANDITS_SKIN2, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($III_BANDITS_SKIN2)
    then
    //model.Destroy($III_BANDITS_SKIN2)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        ///////////////////////////////////////////////////////////////////////////////
        
        while not model.Available($III_BANDITS_SKIN1)
        wait 0
        model.Load($III_BANDITS_SKIN1)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $III_BANDITS_SKIN1, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($III_BANDITS_SKIN1)
        then
        //model.Destroy($III_BANDITS_SKIN1)
        end
        
        wait 5
        
        while not model.Available($III_BANDITS_SKIN2)
        wait 0
        model.Load($III_BANDITS_SKIN2)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $III_BANDITS_SKIN2, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($III_BANDITS_SKIN2)
        then
        //model.Destroy($III_BANDITS_SKIN2)
        end
        
        END
    
    ///////////////////////////////////////////////////////////////////////////////
    
    ELSE
    
    while not model.Available($VC_BANDITS_SKIN1)
    wait 0
    model.Load($VC_BANDITS_SKIN1)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(25, $VC_BANDITS_SKIN1, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($VC_BANDITS_SKIN1)
    then
    //model.Destroy($VC_BANDITS_SKIN1)
    end
    
    wait 5
    
    while not model.Available($VC_BANDITS_SKIN2)
    wait 0
    model.Load($VC_BANDITS_SKIN2)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $VC_BANDITS_SKIN2, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($VC_BANDITS_SKIN2)
    then
    //model.Destroy($VC_BANDITS_SKIN2)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        while not model.Available($VC_BANDITS_SKIN1)
        wait 0
        model.Load($VC_BANDITS_SKIN1)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $VC_BANDITS_SKIN1, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($VC_BANDITS_SKIN1)
        then
        //model.Destroy($VC_BANDITS_SKIN1)
        end
        
        wait 5
        
        while not model.Available($VC_BANDITS_SKIN2)
        wait 0
        model.Load($VC_BANDITS_SKIN2)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(25, $VC_BANDITS_SKIN2, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($VC_BANDITS_SKIN2)
        then
        //model.Destroy($VC_BANDITS_SKIN2)
        end
        
        END
        
    END

///////////////////////////////////////////////////////////////////////////////////////////////////

return

:BANDITS_RANDOM_HP_KOROVAN
008B: 0@ = $BANDITS_HEALTH // (int)
0093: 0@ = integer 0@ to_float
random_float 1@ 0.85 1.35 
006B: 0@ *= 1@  // (float)  
0092: 0@ = float 0@ to_integer 
return

:BANDITS_SPAWN1_WEAPON_CHECK_KOROVAN
wait 0  

if
UNITED_MAP == 0
then

///////////////////////////////////

random_int 1@ = 0 to 4

if 
1@ == 0
then
10@ = 22
end

if 
1@ == 1
then
10@ = 25
end

if 
1@ == 2
then
10@ = 28
end

if 
1@ == 3
then
10@ = 30
end

if
CAMP_RAID_FLAG_BANDITS == 1
then
10@ = 30
end

///////////////////////////////////

else

if
$UNITED_VC_FLAG == 0
then

///////////////////////////////////

if
STORIES_MAP == 0
then
random_int 1@ = 0 to 4

if 
1@ == 0
then
10@ = 111
end

if 
1@ == 1
then
10@ = 112
end

if 
1@ == 2
then
10@ = 113
end

if 
1@ == 3
then
10@ = 117
end

else

random_int 1@ = 0 to 4

if 
1@ == 0
then
10@ = 165
end

if 
1@ == 1
then
10@ = 168
end

if 
1@ == 2
then
10@ = 171
end

if 
1@ == 3
then
10@ = 172
end

end     

/////////////////////////////////// 

else

///////////////////////////////////

if
STORIES_MAP == 0
then
random_int 1@ = 0 to 4

if 
1@ == 0
then
10@ = 136
end

if 
1@ == 1
then
10@ = 138
end

if 
1@ == 2
then
10@ = 142
end

if 
1@ == 3
then
10@ = 145
end

else

random_int 1@ = 0 to 4

if 
1@ == 0
then
10@ = 201
end

if 
1@ == 1
then
10@ = 195
end

if 
1@ == 2
then
10@ = 198
end

if 
1@ == 3
then
10@ = 202
end

end

///////////////////////////////////

end

end

//////////////////////////////////////////////////////////////////////////////////////////////////

0781: get_weapon_with_ID 10@ model_to 11@
 
if 
07DE:   model 11@ exists // versionB 
jf @BANDITS_SPAWN1_WEAPON_CHECK_KOROVAN 

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

while not model.Available(#BRASSKNUCKLE)
wait 0
model.Load(#BRASSKNUCKLE)
mload
end

Actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[30@], 1, 1)
Actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[30@], 10@, 99999)
return

:BANDITS_KOROVAN_PROPERTIES_SET

KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM -= 1

//////////////////////////////////////////////////////

for 30@ = 22 to 31

create_thread @PED_BKP $RNDM_HOUSE_WEAPON[30@] 371

gosub @BANDITS_RANDOM_HP_KOROVAN
Actor.Health($RNDM_HOUSE_WEAPON[30@]) = 0@

Actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[30@]) = $BANDITS_ACCURACY
081A: set_actor $RNDM_HOUSE_WEAPON[30@] weapon_skill_to FRA_WEAP_SKILL 
0946: set_actor $RNDM_HOUSE_WEAPON[30@] actions_uninterupted_by_weapon_fire ACT_UTIRPD_WEP_FIRE  
060B: set_actor $RNDM_HOUSE_WEAPON[30@] decision_maker_to $DEC_PEOPLE 
0648: unknown_actor $RNDM_HOUSE_WEAPON[30@] task_set 100.0 // float
09B5: set_actor $RNDM_HOUSE_WEAPON[30@] signal_after_kill 0 
0446: set_actor $RNDM_HOUSE_WEAPON[30@] dismemberment_possible 0 
087E: set_actor $RNDM_HOUSE_WEAPON[30@] weapon_droppable 0

if
UNITED_MAP == 0
then  
04D8: set_actor $RNDM_HOUSE_WEAPON[30@] drowns_in_water 0
0A28: set_actor $RNDM_HOUSE_WEAPON[30@] swimming_speed_to 2.3
else
04D8: set_actor $RNDM_HOUSE_WEAPON[30@] drowns_in_water 1
end

random_int 5@ $PEOPLE_MIN_MONEY $PEOPLE_MAX_MONEY  
03FE: set_actor $RNDM_HOUSE_WEAPON[30@] money 5@

Actor.SetWalkStyle($RNDM_HOUSE_WEAPON[30@], "surv5")
 
gosub @BANDITS_SPAWN1_WEAPON_CHECK_KOROVAN 

end

return

:RANDOM_KOROVAN_QUEST_ARMY_CREATE

if
UNITED_MAP == 1
then
jump to @RANDOM_KOROVAN_QUEST_ARMY_CREATE_UNITEDSTORIES
end

if
KOROVAN_QUEST_ARMY_CAMO_COLOR == 0 //CITY CAMO
THEN
    
    while not model.Available(ARMY1_SKIN_ID)
    wait 0
    model.Load(ARMY1_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(27, ARMY1_SKIN_ID, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY1_SKIN_ID)
    then
    //model.Destroy(ARMY1_SKIN_ID)
    end
    
    wait 5
    
    while not model.Available(ARMY2_SKIN_ID)
    wait 0
    model.Load(ARMY2_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY2_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY2_SKIN_ID)
    then
    //model.Destroy(ARMY2_SKIN_ID)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        ///////////////////////////////////////////////////////////////////////////
        
        while not model.Available(ARMY3_SKIN_ID)
        wait 0
        model.Load(ARMY3_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY3_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY3_SKIN_ID)
        then
        //model.Destroy(ARMY3_SKIN_ID)
        end
        
        wait 5
        
        while not model.Available(ARMY4_SKIN_ID)
        wait 0
        model.Load(ARMY4_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY4_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY4_SKIN_ID)
        then
        //model.Destroy(ARMY4_SKIN_ID)
        end
        
        END
    
    ///////////////////////////////////////////////////////////////////////////

ELSE

if
KOROVAN_QUEST_ARMY_CAMO_COLOR == 1 //COUNTRY CAMO
    THEN
    
    while not model.Available(ARMY5_SKIN_ID)
    wait 0
    model.Load(ARMY5_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(27, ARMY5_SKIN_ID, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY5_SKIN_ID)
    then
    //model.Destroy(ARMY5_SKIN_ID)
    end
    
    wait 5
    
    while not model.Available(ARMY6_SKIN_ID)
    wait 0
    model.Load(ARMY6_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY6_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY6_SKIN_ID)
    then
    //model.Destroy(ARMY6_SKIN_ID)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        while not model.Available(ARMY7_SKIN_ID)
        wait 0
        model.Load(ARMY7_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY7_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY7_SKIN_ID)
        then
        //model.Destroy(ARMY7_SKIN_ID)
        end
        
        wait 5
        
        while not model.Available(ARMY8_SKIN_ID)
        wait 0
        model.Load(ARMY8_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY8_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY8_SKIN_ID)
        then
        //model.Destroy(ARMY8_SKIN_ID)
        end
        
        END
    
    ELSE //DESERT CAMO        
    
    while not model.Available(ARMY9_SKIN_ID)
    wait 0
    model.Load(ARMY9_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(27, ARMY9_SKIN_ID, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY9_SKIN_ID)
    then
    //model.Destroy(ARMY9_SKIN_ID)
    end
    
    wait 5
    
    while not model.Available(ARMY10_SKIN_ID)
    wait 0
    model.Load(ARMY10_SKIN_ID)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY10_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available(ARMY10_SKIN_ID)
    then
    //model.Destroy(ARMY10_SKIN_ID)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        while not model.Available(ARMY11_SKIN_ID)
        wait 0
        model.Load(ARMY11_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY11_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY11_SKIN_ID)
        then
        //model.Destroy(ARMY11_SKIN_ID)
        end
        
        wait 5
        
        while not model.Available(ARMY12_SKIN_ID)
        wait 0
        model.Load(ARMY12_SKIN_ID)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, ARMY12_SKIN_ID, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available(ARMY12_SKIN_ID)
        then
        //model.Destroy(ARMY12_SKIN_ID)
        end
        
        END
    
    END
    
END    

return

:RANDOM_KOROVAN_QUEST_ARMY_CREATE_UNITEDSTORIES

if
$UNITED_VC_FLAG == 0
THEN
    
    while not model.Available($III_ARMY_SKIN)
    wait 0
    model.Load($III_ARMY_SKIN)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(27, $III_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($III_ARMY_SKIN)
    then
    //model.Destroy($III_ARMY_SKIN)
    end
    
    wait 5
    
    while not model.Available($III_ARMY_SKIN)
    wait 0
    model.Load($III_ARMY_SKIN)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $III_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP,0)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($III_ARMY_SKIN)
    then
    //model.Destroy($III_ARMY_SKIN)
    end
    
    if
    not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
        THEN
        
        wait 5
        
        ///////////////////////////////////////////////////////////////////////////////
        
        while not model.Available($III_ARMY_SKIN)
        wait 0
        model.Load($III_ARMY_SKIN)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $III_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP,1)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($III_ARMY_SKIN)
        then
        //model.Destroy($III_ARMY_SKIN)
        end
        
        wait 5
        
        while not model.Available($III_ARMY_SKIN)
        wait 0
        model.Load($III_ARMY_SKIN)
        mload
        end
        
        $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $III_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP,2)
        KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
        
        if
        model.Available($III_ARMY_SKIN)
        then
        //model.Destroy($III_ARMY_SKIN)
        end
        
        END

///////////////////////////////////////////////////////////////////////////////

ELSE

while not model.Available($VC_ARMY_SKIN)
wait 0
model.Load($VC_ARMY_SKIN)
mload
end

$RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsDriver(27, $VC_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP)
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1

if
model.Available($VC_ARMY_SKIN)
then
//model.Destroy($VC_ARMY_SKIN)
end

wait 5

while not model.Available($VC_ARMY_SKIN2)
wait 0
model.Load($VC_ARMY_SKIN2)
mload
end

$RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $VC_ARMY_SKIN2, KOROVAN_QUEST_CAR_TEMP,0)
KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1

if
model.Available($VC_ARMY_SKIN2)
then
//model.Destroy($VC_ARMY_SKIN2)
end

if
not KOROVAN_QUEST_CURR_CAR_CREATION_NUM == 3
    THEN
    
    wait 5
    
    while not model.Available($VC_ARMY_SKIN)
    wait 0
    model.Load($VC_ARMY_SKIN)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $VC_ARMY_SKIN, KOROVAN_QUEST_CAR_TEMP,1)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($VC_ARMY_SKIN)
    then
    //model.Destroy($VC_ARMY_SKIN)
    end
    
    wait 5
    
    while not model.Available($VC_ARMY_SKIN2)
    wait 0
    model.Load($VC_ARMY_SKIN2)
    mload
    end
    
    $RNDM_HOUSE_WEAPON[KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM] = Actor.CreateAsPassenger(27, $VC_ARMY_SKIN2, KOROVAN_QUEST_CAR_TEMP,2)
    KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM += 1
    
    if
    model.Available($VC_ARMY_SKIN2)
    then
    //model.Destroy($VC_ARMY_SKIN2)
    end
    
    END
    
END

///////////////////////////////////////////////////////////////////////////////////////////////////

return

:ARMY_RANDOM_HP_KOROVAN
008B: 0@ = $ARMY_HEALTH // (int)
0093: 0@ = integer 0@ to_float
random_float 1@ 0.85 1.35 
006B: 0@ *= 1@  // (float)  
0092: 0@ = float 0@ to_integer 
return

:ARMY_SPAWN1_WEAPON_CHECK_KOROVAN
wait 0  

if
UNITED_MAP == 0
then

random_int 0@ 0 to 2

if 
0@ == 0
then
10@ = 77
else
10@ = 75
end

else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
random_int 0@ = 0 to 4

if 
0@ == 0
then
10@ = 144
end

if 
0@ == 1
then
10@ = 140
end

if 
0@ == 2
then
10@ = 144
end

if 
0@ == 3
then
10@ = 140
end

else

random_int 0@ = 0 to 4

if 
0@ == 0
then
10@ = 200
end

if 
0@ == 1
then
10@ = 204
end

if 
0@ == 2
then
10@ = 200
end

if 
0@ == 3
then
10@ = 204
end

end

else

if
STORIES_MAP == 0
then
random_int 0@ = 0 to 4

if 
0@ == 0
then
10@ = 116
end

if 
0@ == 1
then
10@ = 113
end

if 
0@ == 2
then
10@ = 116
end

if 
0@ == 3
then
10@ = 113
end

else

random_int 0@ = 0 to 4

if 
0@ == 0
then
10@ = 170
end

if 
0@ == 1
then
10@ = 174
end

if 
0@ == 2
then
10@ = 170
end

if 
0@ == 3
then
10@ = 174
end

end

end

end

//////////////////////////////////////////////////////////////////////////////////////////////////

0781: get_weapon_with_ID 10@ model_to 11@
 
if 
07DE:   model 11@ exists // versionB 
jf @ARMY_SPAWN1_WEAPON_CHECK_KOROVAN 

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

Actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[30@], 10@, 99999)
return

:ARMY_KOROVAN_PROPERTIES_SET

KOROVAN_QUEST_CURR_DEBIL_CREATION_NUM -= 1

//////////////////////////////////////////////////////

for 30@ = 22 to 31

create_thread @PED_BKP $RNDM_HOUSE_WEAPON[30@] 371

gosub @ARMY_RANDOM_HP_KOROVAN
Actor.Health($RNDM_HOUSE_WEAPON[30@]) = 0@

Actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[30@]) = $ARMY_ACCURACY
081A: set_actor $RNDM_HOUSE_WEAPON[30@] weapon_skill_to FRA_WEAP_SKILL 
0946: set_actor $RNDM_HOUSE_WEAPON[30@] actions_uninterupted_by_weapon_fire ACT_UTIRPD_WEP_FIRE  
060B: set_actor $RNDM_HOUSE_WEAPON[30@] decision_maker_to $DEC_PEOPLE 
0648: unknown_actor $RNDM_HOUSE_WEAPON[30@] task_set 100.0 // float
09B5: set_actor $RNDM_HOUSE_WEAPON[30@] signal_after_kill 0 
0446: set_actor $RNDM_HOUSE_WEAPON[30@] dismemberment_possible 0 
087E: set_actor $RNDM_HOUSE_WEAPON[30@] weapon_droppable 0

if
UNITED_MAP == 0
then  
04D8: set_actor $RNDM_HOUSE_WEAPON[30@] drowns_in_water 0
0A28: set_actor $RNDM_HOUSE_WEAPON[30@] swimming_speed_to 2.3
else
04D8: set_actor $RNDM_HOUSE_WEAPON[30@] drowns_in_water 1
end

random_int 5@ $PEOPLE_MIN_MONEY $PEOPLE_MAX_MONEY  
03FE: set_actor $RNDM_HOUSE_WEAPON[30@] money 5@

Actor.SetWalkStyle($RNDM_HOUSE_WEAPON[30@], "surv5")
 
gosub @ARMY_SPAWN1_WEAPON_CHECK_KOROVAN 

end

return

//////////////////////////////////////////////////

:KOROVAN_AI_ATTACK_SYSTEM

if
856D: not  actor $RNDM_HOUSE_WEAPON[0@] defined
then
return
end       

if
$VAGINA_FLAG[0@] == 1
    then
    $VAGINA_TIME[0@] += 1
    end
    
if
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
then
gosub @KVS_PHRASES
end            

/////////////////ѕоиск цели бойцом/////////////////////

if and
844B: not  actor $RNDM_HOUSE_WEAPON[0@] on_foot
8E4A: not is_char_exiting_any_car $RNDM_HOUSE_WEAPON[0@]
    then
    2@ = actor.CurrentCar($RNDM_HOUSE_WEAPON[0@])
    if
    056E:   car 2@ defined
        then
        046C: 1@ = car 2@ driver
        if
        07D6:   1@ == $RNDM_HOUSE_WEAPON[0@] // @ == $ (int)
            then
            jump to @KOROVAN_AI_ATTACK_SYSTEM_DRIVER_SKIP
            end
        end
    end 

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
$VAGINA_FLAG[0@] == 0  
    then    
    gosub @KOROVAN_AI_ATTACK_SYSTEM_PLAYER_CHECK
    random_int 2@ 0 30
    if and
    2@ == 15
    19@ == 1
        then
        if or
        0364:  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor PLAYER_ACTOR  
        0364:  actor PLAYER_ACTOR spotted_actor $RNDM_HOUSE_WEAPON[0@]     
        051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
        00F2:  actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius 55.0 55.0 sphere 0
            then
            if and
            $ACTOR_DEAD == 0    
            $SPECTATING_FLAG == 0 
            00F2:  actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius 220.0 220.0 sphere 0
                then      
                
                if    
                051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
                then
                054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
                0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
                end
                 
                008B: $VAGINA[0@] = PLAYER_ACTOR // (int)                
                $VAGINA_FLAG[0@] = 1
                $VAGINA_TIME[0@] = 0                    
                gosub @KOROVAN_AI_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST                                                             
                end
            end   
        else   
        gosub @KOROVAN_AI_ATTACK_SYSTEM_TARGET_FIND
        if
        25@ == 1
            then    
            gosub @KOROVAN_AI_ATTACK_SYSTEM_TARGET_CHECK        
            if and
            not actor.Dead($VAGINA[0@])            
            803A: not  $VAGINA[0@] == $RNDM_HOUSE_WEAPON[0@] // (int) 
            19@ == 1                 
                then
                if or
                0364:  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $VAGINA[0@]
                0364:  actor $VAGINA[0@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
                    then                         
                    $VAGINA_FLAG[0@] = 1
                    $VAGINA_TIME[0@] = 0                        
                    gosub @KOROVAN_AI_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST    
                    end                                                                                  
                end 
            end
        end               
    end

/////////////////ѕроверка на бездействие бойца если цель найдена/////////////////////     
     
if and
0184:   actor $RNDM_HOUSE_WEAPON[0@] health > 0
044B:   actor $RNDM_HOUSE_WEAPON[0@] on_foot 
    then
    if
    $VAGINA_FLAG[0@] == 1
        then
        if
        056D:   actor $VAGINA[0@] defined
            then
            gosub @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK
            if and
            19@ == 0
            actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "idle_stance"
            00F2:   actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius 220.0 220.0 sphere 0
            82E0: not  actor $RNDM_HOUSE_WEAPON[0@] firing_weapon 
                then 
                gosub @KOROVAN_AI_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST  
                end
            end
        end
     end 
     
/////////////////ѕроверка на наличие цели атаки///////////////////// 

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
$VAGINA_FLAG[0@] == 1 
    then
    if
    056D:   actor $VAGINA[0@] defined
        then 
        if or
        8184:   actor $VAGINA[0@] health < 1  
        80F2: not  actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius 230.0 230.0 sphere 0
        $VAGINA_TIME[0@] > 300        
            then 
            $VAGINA_FLAG[0@] = 0
            $VAGINA_TIME[0@] = 0  
            end
        else
        $VAGINA_FLAG[0@] = 0
        $VAGINA_TIME[0@] = 0
        end
    end
    
:KOROVAN_AI_ATTACK_SYSTEM_DRIVER_SKIP                 

return

/////////////////////////////////////////////////////////////////////////////////

:KOROVAN_AI_ATTACK_SYSTEM_TARGET_FIND

25@ = 0

008B: 1@ = $CREATURE_RANDOM // (int)
0084: $VAGINA[0@] = $CREATURE[1@] // (int)

if and
056D:   actor $VAGINA[0@] defined
not 1@ == PLAYER_CREATURE_NUMBER
    then      
    if
    00F2:   actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
        then 
        25@ = 1
        end
    end

return

/////////////////////////////////////////////////////////////////////////////////

:KOROVAN_AI_ATTACK_SYSTEM_PLAYER_CHECK

19@ = 0

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 11@

if
11@ == 27
    then
    19@ = 0
    
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
    then
    19@ = 0
    else
    19@ = 1
    end
    
    return
    end      
    
if
11@ == 25
    then
    19@ = 0
    
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
    then
    19@ = 0
    else
    19@ = 1
    end
    
    return
    end     

return

/////////////////////////////////////////////////////////////////////////////////   

:KOROVAN_AI_ATTACK_SYSTEM_TARGET_CHECK

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 11@ 

if
11@ == 27
    then
    19@ = 0
    089F: get_actor $VAGINA[0@] pedtype_to 12@ 
    
    if or
    12@ == 23
    12@ == 25
    12@ == 26
    12@ == 28
    12@ == 29  
    then
    19@ = 1
    else
    19@ = 0
    end
    
    return
    end    
    
if
11@ == 25
    then
    19@ = 0
    
    089F: get_actor $VAGINA[0@] pedtype_to 12@ 
    
    if or
    12@ == 23 
    12@ == 27
    12@ == 26 
    12@ == 28
    12@ == 29
    then
    19@ = 1
    else
    19@ = 0
    end
    
    return
    end

return

///////////////////////////////////////////////////////////////////////////////// 

:KOROVAN_AI_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST 

if or
02E0:   actor $RNDM_HOUSE_WEAPON[0@] firing_weapon 
8364: not  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $VAGINA[0@]
    then
    return
    end

if 
$VAGINA_FLAG[0@] == 1
    then 
    if
    056D:   actor $VAGINA[0@] defined
        then            
        0687: clear_actor $RNDM_HOUSE_WEAPON[0@] task
        wait 100
        if
        056D:   actor $VAGINA[0@] defined 
            then
            
            if
            044B:   actor $RNDM_HOUSE_WEAPON[0@] on_foot
            then                           
            05E2: AS_actor $RNDM_HOUSE_WEAPON[0@] kill_actor $VAGINA[0@]
            else
            0713: actor $RNDM_HOUSE_WEAPON[0@] driveby_actor $VAGINA[0@] car -1 point 0.0 0.0 0.0 radius 5000.0 8 1 firing_rate 360
            end
                                           
            return           
            end
        end
    end   
    
return      

/////////////////////////////////////////////////////////////////////////////////        

:KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK
19@ = 0

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_fire_2hands"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_fire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_fire" 
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2  

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "FLAME_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RocketFire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "WEAPON_sniper" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "WEAPON_throw"
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2  
     
if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_crouchfire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_crouchfire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_crouchfire" 
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_reload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_reload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_load" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "gas_cwr"
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_crouchreload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_crouchreload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_crouchload" 
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2 
if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_BWD"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_FWD"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_L"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_R"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "Gun_2_IDLE"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GUN_BUTT"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GUN_BUTT_crouch"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "Gun_stand" 
jf @KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2
  
return

:KOROVAN_AI_ATTACK_SYSTEM_FIRING_CHECK2
19@ = 1
return

:KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE1

if
856D: not  actor $RNDM_HOUSE_WEAPON[30@] defined
then
return
end

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end   

092B: 3@ = group PLAYER_GROUP member 11@

if
07D6:   3@ == COOP_ACTOR // @ == $ (int)
then
return
end

if
056D:  actor 3@ defined
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN

if or
00DF:   actor 3@ driving
0449:   actor 3@ in_a_car
    then
    if
    $HUNTER_ON_PLAYER == 0
    //$PEOPLE_DONT_ATTACK == 0
    //$COMMAND_STAY_IN_CAR == 0
        then                     
        gosub @KOROVAN_AI_PEOPLE_IN_CAR
        end
    end

if
056D:   actor $RNDM_HOUSE_WEAPON[30@] defined
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN    

if
056D:   actor 3@ defined
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN 

if and 
not actor.Driving(PLAYER_ACTOR)
$RANDOM_CAR_FLAG == 0  
89DE:   actor 3@ entering_car  
80DF:   actor 3@ in_a_car
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if or
0364:   actor 3@ spotted_actor $RNDM_HOUSE_WEAPON[30@]
0364:   actor $RNDM_HOUSE_WEAPON[30@] spotted_actor 3@
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
00F2:   actor 3@ near_actor $RNDM_HOUSE_WEAPON[30@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
$HUNTER_ON_PLAYER == 0
$PEOPLE_DONT_ATTACK == 0
$COMMAND_STAY_IN_CAR == 0
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
not actor.Animation(3@) == "FLOOR_hit"
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
$HUNTER_ON_GROUP == 0
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if
044B:   actor 3@ on_foot
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if
82E0: not actor 3@ firing_weapon
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "colt45_fire_2hands"
not actor.Animation(3@) == "python_fire" 
not actor.Animation(3@) == "shotgun_fire" 
not actor.Animation(3@) == "buddy_fire" 
not actor.Animation(3@) == "UZI_fire"
not actor.Animation(3@) == "RIFLE_fire" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "FLAME_fire" 
not actor.Animation(3@) == "RocketFire" 
not actor.Animation(3@) == "WEAPON_sniper" 
not actor.Animation(3@) == "WEAPON_throw"   
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN       
if and
not actor.Animation(3@) == "colt45_crouchfire"
not actor.Animation(3@) == "python_crouchfire" 
not actor.Animation(3@) == "shotgun_crouchfire" 
not actor.Animation(3@) == "buddy_crouchfire" 
not actor.Animation(3@) == "UZI_crouchfire"
not actor.Animation(3@) == "RIFLE_crouchfire" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_reload"
not actor.Animation(3@) == "python_reload" 
not actor.Animation(3@) == "shotgun_reload" 
not actor.Animation(3@) == "buddy_reload" 
not actor.Animation(3@) == "UZI_reload"
not actor.Animation(3@) == "RIFLE_load" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_crouchreload"
not actor.Animation(3@) == "python_crouchreload" 
not actor.Animation(3@) == "shotgun_crouchreload" 
not actor.Animation(3@) == "buddy_crouchreload" 
not actor.Animation(3@) == "UZI_crouchreload"
not actor.Animation(3@) == "RIFLE_crouchload" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN   
if and
not actor.Animation(3@) == "GunMove_BWD"
not actor.Animation(3@) == "GunMove_FWD"
not actor.Animation(3@) == "GunMove_L"
not actor.Animation(3@) == "GunMove_R"
not actor.Animation(3@) == "Gun_2_IDLE"
not actor.Animation(3@) == "GUN_BUTT"
not actor.Animation(3@) == "GUN_BUTT_crouch"
not actor.Animation(3@) == "Gun_stand" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "CLIMB_idle"
not actor.Animation(3@) == "CLIMB_jump"
not actor.Animation(3@) == "CLIMB_jump2fall"
not actor.Animation(3@) == "CLIMB_jump_B"
not actor.Animation(3@) == "CLIMB_Pull"
not actor.Animation(3@) == "CLIMB_Stand"
not actor.Animation(3@) == "CLIMB_Stand_finish" 
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
05C1: AS_actor 3@ speak_from_audio_table $PEOPLE_ZOMBIE_ATTACK_AUDIO_TABLE
if
056D:   actor 3@ defined
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN 
if and
not actor.Driving(PLAYER_ACTOR)
89DE:   actor PLAYER_ACTOR entering_car
80DF:   actor PLAYER_ACTOR in_a_car
80DF:   actor 3@ in_a_car
not actor.Dead(3@)
jf @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
0647: AS_actor 3@ clear_look_task
05B9: AS_actor 3@ stay_idle 50 ms 
wait 50
if
056D:   actor 3@ defined  
then
05E2: AS_actor 3@ kill_actor $RNDM_HOUSE_WEAPON[30@]
end
jump @KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN

:KOROVAN_AI_TEAMMATES_ATTACK_PEOPLE_BEGIN
return

:KOROVAN_AI_PEOPLE_IN_CAR   
if and
not actor.Animation(3@) == "Gang_DrivebyLHS"
not actor.Animation(3@) == "Gang_DrivebyLHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyLHS_Fwd"
not actor.Animation(3@) == "Gang_DrivebyRHS"
not actor.Animation(3@) == "Gang_DrivebyRHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyRHS_Fwd" 
jf @KOROVAN_AI_PEOPLE_IN_CAR_RETURN 
if and
not actor.Animation(3@) == "Gang_DrivebyTop_LHS"
not actor.Animation(3@) == "Gang_DrivebyTop_RHS" 
jf @KOROVAN_AI_PEOPLE_IN_CAR_RETURN 
if 
//00F2:   actor 3@ near_actor $RNDM_HOUSE_WEAPON[30@] radius $ZMB_ATCK_RD_FR $ZMB_ATCK_RD_FR sphere 0
0EE4:  locate_char_distance_to_char 3@ char $RNDM_HOUSE_WEAPON[30@] radius $ZMB_ATCK_RD_FR
jf @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
if or
0364:   actor 3@ spotted_actor $RNDM_HOUSE_WEAPON[30@]
0364:   actor $RNDM_HOUSE_WEAPON[30@] spotted_actor 3@
jf @KOROVAN_AI_PEOPLE_IN_CAR_RETURN

///////////////////////////////////////////////////////////////////////////
if and
0@ == 0
TEAMMATE1_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 1
TEAMMATE2_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 2
TEAMMATE3_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 3
TEAMMATE4_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 4
TEAMMATE5_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @KOROVAN_AI_PEOPLE_IN_CAR_RETURN
    end
///////////////////////////////////////////////////////////////////////////

if and
8E42: not is_char_doing_task_id 3@ 243
not $COMMAND_STAY_IN_CAR == 1
then
06C9: remove_actor 3@ from_group
0631: put_actor 3@ in_group PLAYER_GROUP
end          
0713: actor 3@ driveby_actor $RNDM_HOUSE_WEAPON[30@] car -1 point 0.0 0.0 0.0 radius 180.0 8 1 firing_rate 100

///////////////////////////////////////////////////////////////////////////
if
0@ == 0
    then
    TEAMMATE1_ATTACK_TIMER = 0
    end
if
0@ == 1
    then
    TEAMMATE2_ATTACK_TIMER = 0
    end
if
0@ == 2
    then
    TEAMMATE3_ATTACK_TIMER = 0
    end
if
0@ == 3
    then
    TEAMMATE4_ATTACK_TIMER = 0
    end
if
0@ == 4
    then
    TEAMMATE5_ATTACK_TIMER = 0
    end
///////////////////////////////////////////////////////////////////////////
 
return       

:KOROVAN_AI_PEOPLE_IN_CAR_RETURN
return

//////////////////////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_ATTACK_ARMY_KOROVAN  

for 1@ = 0 to 200

v$PHRASE1 = "CH25_" // v$ // Sunday
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2 // all string variables

09FD: get_gxt_string v$PHRASE3 width_to 31@  // ~k~~PED_SPRINT~ Select

if
31@ == 0
    then   
    random_int 0@ 0 1@
    break
    end

end  

v$PHRASE1 = "CH25_" // v$ // Sunday
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2 // all string variables

return

:KOROVAN_QUEST_SAME_CAR_CHECK_ARMY

1@ = 0

if
056E:   car KOROVAN_QUEST_CAR defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = #PATRIOT
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_ARMY_CAR // (int)
    else
    008B: 2@ = $VC_ARMY_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car KOROVAN_QUEST_CAR radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end
    
if
056E:   car KOROVAN_QUEST_CAR2 defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = #PATRIOT
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_ARMY_CAR // (int)
    else
    008B: 2@ = $VC_ARMY_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car KOROVAN_QUEST_CAR2 radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end
    
if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = #PATRIOT
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_ARMY_CAR // (int)
    else
    008B: 2@ = $VC_ARMY_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end        

return

:KOROVAN_QUEST_SAME_CAR_CHECK_BANDITS

1@ = 0

if
056E:   car KOROVAN_QUEST_CAR defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = 15422
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_BANDITS_CAR // (int)
    else
    008B: 2@ = $VC_BANDITS_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car KOROVAN_QUEST_CAR radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end
    
if
056E:   car KOROVAN_QUEST_CAR2 defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = 15422
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_BANDITS_CAR // (int)
    else
    008B: 2@ = $VC_BANDITS_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car KOROVAN_QUEST_CAR2 radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end
    
if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    
    if
    UNITED_MAP == 0
    then
    2@ = 15422
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    008B: 2@ = $III_BANDITS_CAR // (int)
    else
    008B: 2@ = $VC_BANDITS_CAR // (int)
    end
    
    end
    
    if and
    actor.DrivingVehicleType(PLAYER_ACTOR,2@)
    8205: not  actor PLAYER_ACTOR near_car SUPPLY_QUEST_TRUCK radius 45.0 45.0 45.0 flag 0
    847A: not  actor PLAYER_ACTOR driving_bike
    not actor.DrivingVehicleType(PLAYER_ACTOR,#QUAD)
    then
    1@ = 1
    end
    
    end        

return

:RANDOM_DIALOG_ATTACK_BANDITS_KOROVAN 
  
for 1@ = 0 to 200

if
UNITED_MAP == 0
then
v$PHRASE1 = "CH37_" // v$ // Sunday
else
v$PHRASE1 = "UC37_" // v$ // Sunday
end
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2 // all string variables

09FD: get_gxt_string v$PHRASE3 width_to 31@  // ~k~~PED_SPRINT~ Select

if
31@ == 0
    then   
    random_int 0@ 0 1@
    break
    end

end  

if
UNITED_MAP == 0
then
v$PHRASE1 = "CH37_" // v$ // Sunday
else
v$PHRASE1 = "UC37_" // v$ // Sunday
end
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2 // all string variables

return

:KVS_PHRASES

$ZONE_PAIN_TIMER += 1
$ZONE_ATTACK_TIMER += 1
$ZONE_TANK_TIMER += 1
$ZONE_HUNTER_TIMER += 1
$ZONE_HUNTER2_TIMER += 1
$ZONE_WITCH_TIMER += 1
$ZONE_CHARGER_TIMER += 1

if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
    then
    04DD: 3@ = actor $RNDM_HOUSE_WEAPON[0@] armour
    if and
    001C:   $ZONE_HUNTER_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    3@ == 1
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then           
        
        $ZONE_HUNTER_TIMER = 0
        random_int random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER2_TIMER_MIN ZONE_HUNTER2_TIMER_MAX        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 27
        then
        gosub @KVS_RANDOM_DIALOG_HUNTER2_ZONE_ARMY
        else
        gosub @KVS_RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
        end                           
                    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer  
                    
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.  
        end            
    end          

////////////////////////////////////////////////√олос про танка////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $TANK[2@] defined  
    then   
    if and
    001C:   $ZONE_TANK_TIMER > $ZONE_TANK_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($TANK[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $TANK[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $TANK[2@]   
        0364:   actor $TANK[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_TANK_TIMER = 0
            random_int random_int $ZONE_TANK_TIMER2 ZONE_TANK_TIMER_MIN ZONE_TANK_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @KVS_RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
            else
            gosub @KVS_RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
            end                       
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end   
     
////////////////////////////////////////////////√олос про охотника////////////////////////////////////////////////   

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $HUNTER[2@] defined  
    then    
    if and
    001C:   $ZONE_HUNTER2_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($HUNTER[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $HUNTER[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $HUNTER[2@]   
        0364:   actor $HUNTER[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_HUNTER2_TIMER = 0
            random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER_TIMER_MIN ZONE_HUNTER_TIMER_MAX                                
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @KVS_RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
            else
            gosub @KVS_RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
            end                 
                                
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end            
     
////////////////////////////////////////////////√олос про ведьму////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $WITCH[2@] defined  
    then             
    if and
    001C:   $ZONE_WITCH_TIMER > $ZONE_WITCH_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($WITCH[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $WITCH[02@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $WITCH[2@]   
        0364:   actor $WITCH[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_WITCH_TIMER = 0
            random_int random_int $ZONE_WITCH_TIMER2 ZONE_WITCH_TIMER_MIN ZONE_WITCH_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @KVS_RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
            else
            gosub @KVS_RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
            end        
                                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end          
     
////////////////////////////////////////////////√олос про громилу////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $CHARGER[2@] defined  
    then          
    if and
    001C:   $ZONE_CHARGER_TIMER > $ZONE_CHARGER_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($CHARGER[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $CHARGER[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $CHARGER[2@]   
        0364:   actor $CHARGER[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_CHARGER_TIMER = 0
            random_int random_int $ZONE_CHARGER_TIMER2 ZONE_CHARGER_TIMER_MIN ZONE_CHARGER_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @KVS_RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
            else
            gosub @KVS_RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
            end               
        
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00. 
            end        
         end    
     end 
     
if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then      
    if and
    001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        gosub @KVS_FUCKCHECK
        
        if
        1@ == 1
        jf @KVS_OHMYDOG
        
        2@ = 0
        1@ = 0        

        if or
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 0
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 46
        then
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
        2@ = 1
        1@ = 1            
        else
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
        2@ = 1
        1@ = 0
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY
        else
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY
        end                        
          
        else                        
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY
        else
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        
        jump to @KVS_OHMYDOG2
        
        end            

        end
    end 
    
:KVS_OHMYDOG            
     
////////////////////////////////////////////                                 

if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then      
    if and
    001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0 
        then
        
        2@ = 0
        1@ = 0
        
        ///////////////////////
        
        for 4@ = 22 to 34
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 70 to MAX_WEAPON_NUM_NORMAL
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 111 to 121
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 136 to 151
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 165 to 183
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 195 to 213
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////        
        
        if and 
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 0
        851A: not  actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
        then
        
        2@ = 1
        1@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS
        else
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY
        end                        
          
        else                        
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        else
        gosub @KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        end            

        end
    end   
    
:KVS_OHMYDOG2          
    
if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then
    if and
    001C:   $ZONE_ATTACK_TIMER > $ZONE_ATTACK_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    02E0:   actor $RNDM_HOUSE_WEAPON[0@] firing_weapon
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        $ZONE_ATTACK_TIMER = 0
        random_int $ZONE_ATTACK_TIMER2 ZONE_ATTACK_TIMER_MIN ZONE_ATTACK_TIMER_MAX        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @KVS_RANDOM_DIALOG_ATTACK_ZONE_BANDITS
        else
        gosub @KVS_RANDOM_DIALOG_ATTACK_ZONE_ARMY
        end                     
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        end            
    end            
    
return

:KVS_FUCKCHECK

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@

1@ = 0

if 
2@ == 25
    then
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end
        
if 
2@ == 27
    then
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end

return

:KVS_DEATH_PHRASE

0A96: 3@ = actor $RNDM_HOUSE_WEAPON[0@] struct
3@ += 0x754
0A8D: 1@ = read_memory 3@ size 4 virtual_protect 0
2@ = 0    
0ECE: get_time_char_is_dead $RNDM_HOUSE_WEAPON[0@] store_to 2@
wait 0    
if and
0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
89A8: not  actor $RNDM_HOUSE_WEAPON[0@] headshoted
$SPECTATING_FLAG == 0
$SCREWHUD_FLAG == 0
$PHRASES_OFF_FLAG == 0
not 1@ == 0x02
2@ > -2 //сука, пиздец 
then

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
    
if
2@ == 25
then
gosub @KVS_RANDOM_DIALOG_DEAD_BANDITS2        
else
gosub @KVS_RANDOM_DIALOG_DEAD_ARMY2    
end   
        
09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer
text.ClearAll()  
                
00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.

end    

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DEAD_BANDITS2

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DEAD_ARMY2

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_ATTACK_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:KVS_RANDOM_DIALOG_ATTACK_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:KVS_RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH34_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH34_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH22_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH22_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:KVS_RANDOM_DIALOG_HUNTER2_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
31@ == 0
    then    
    random_int 20@ 0 1@
    break
    end

end  

06D1: v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

:ARMY_RADIO_CHECK_KOROVAN

if or
$GAMEMODE_WAR == 1
$DEFENSE_CHALLENGE_FLAG == 1
    then
    return
    end

random_int 0@ 0 50
if
not 0@ == 25
then
return
end

//////////////////////////////—оздание пикапа рации//////////////////////////////
                
random_float 4@ -1.0 1.0
random_float 5@ 1.0 -1.0
                        
04C4: store_coords_to 1@ 2@ 3@ from_actor $RNDM_HOUSE_WEAPON[30@] with_offset 4@ 5@ 0.0

02CE: 3@ = ground_z_at 1@ 2@ 3@

3@ += 1.0
                    
$RADIO_PICKUP_NUM += 1
                    
if
$RADIO_PICKUP_NUM > 18
then 
$RADIO_PICKUP_NUM = 0           
end

if
09D1:   pickup $RADIO_PICKUP[$RADIO_PICKUP_NUM] created
    then    
    pickup.Destroy($RADIO_PICKUP[$RADIO_PICKUP_NUM])
    end  
                    
$RADIO_PICKUP[$RADIO_PICKUP_NUM] = pickup.Create(RADIO_PICKUP_ID,3,1@,2@,3@)  

return

:BANDITS_JIMMY_CHECK_KOROVAN

if or
$GAMEMODE_WAR == 1
$DEFENSE_CHALLENGE_FLAG == 1
    then
    return
    end

random_int 0@ 0 7
if
not 0@ == 3
then
return
end

//////////////////////////////—оздание пикапа отмычки//////////////////////////////
                
random_float 4@ -1.0 1.0
random_float 5@ 1.0 -1.0
                        
04C4: store_coords_to 1@ 2@ 3@ from_actor $RNDM_HOUSE_WEAPON[30@] with_offset 4@ 5@ 0.0

02CE: 3@ = ground_z_at 1@ 2@ 3@

3@ += 1.0
                    
$JIMMY_PICKUP_NUM += 1
                    
if
$JIMMY_PICKUP_NUM > 28
then 
$JIMMY_PICKUP_NUM = 0              
end

if
09D1:   pickup $JIMMY_PICKUP[$JIMMY_PICKUP_NUM] created
    then    
    pickup.Destroy($JIMMY_PICKUP[$JIMMY_PICKUP_NUM])
    end    
                    
$JIMMY_PICKUP[$JIMMY_PICKUP_NUM] = pickup.Create(JIMMY_PICKUP_ID,3,1@,2@,3@)  

return

:KOROVAN_QUEST_BACK_COORD_GET

if
CUSTOM_MAP_FLAG == 1
then
0AD3: v$SND2_FILE = format "CMP%d" $QUEST_CAMP_NUMBER
0AF2: KOROVAN_QUEST_TRUCK_X = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\CAMPS.ini" section v$SND2_FILE key "SUPPLY_QUEST_TRUCK_X"
0AF2: KOROVAN_QUEST_TRUCK_Y = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\CAMPS.ini" section v$SND2_FILE key "SUPPLY_QUEST_TRUCK_Y"
0AF2: KOROVAN_QUEST_TRUCK_Z = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\CAMPS.ini" section v$SND2_FILE key "SUPPLY_QUEST_TRUCK_Z"
0AF2: KOROVAN_QUEST_TRUCK_A = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\CAMPS.ini" section v$SND2_FILE key "SUPPLY_QUEST_TRUCK_A"
return
end

if
UNITED_MAP == 0
then

if
$QUEST_CAMP_NUMBER == 0
then
KOROVAN_QUEST_TRUCK_X = 2055.0034
KOROVAN_QUEST_TRUCK_Y = -1763.5631
KOROVAN_QUEST_TRUCK_Z = 14.4675
KOROVAN_QUEST_TRUCK_A = 0.0
end

if
$QUEST_CAMP_NUMBER == 1
then
KOROVAN_QUEST_TRUCK_X = 2815.3391
KOROVAN_QUEST_TRUCK_Y = -1538.7238
KOROVAN_QUEST_TRUCK_Z = 11.842
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 2
then
KOROVAN_QUEST_TRUCK_X = 337.208
KOROVAN_QUEST_TRUCK_Y = -1527.1394
KOROVAN_QUEST_TRUCK_Z = 34.2542
KOROVAN_QUEST_TRUCK_A = 138.0
end

if
$QUEST_CAMP_NUMBER == 3
then
KOROVAN_QUEST_TRUCK_X = 1065.902
KOROVAN_QUEST_TRUCK_Y = -341.5219
KOROVAN_QUEST_TRUCK_Z = 75.0891
KOROVAN_QUEST_TRUCK_A = 90.0
end

if
$QUEST_CAMP_NUMBER == 4
then
KOROVAN_QUEST_TRUCK_X = 103.38
KOROVAN_QUEST_TRUCK_Y = -198.2262
KOROVAN_QUEST_TRUCK_Z = 2.489
KOROVAN_QUEST_TRUCK_A = 180.0
end

if
$QUEST_CAMP_NUMBER == 5
then
KOROVAN_QUEST_TRUCK_X = -1422.6582
KOROVAN_QUEST_TRUCK_Y = -1472.6932
KOROVAN_QUEST_TRUCK_Z = 102.6859
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 6
then
KOROVAN_QUEST_TRUCK_X = -2675.4617
KOROVAN_QUEST_TRUCK_Y = 226.0212
KOROVAN_QUEST_TRUCK_Z = 5.3746
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 7
then
KOROVAN_QUEST_TRUCK_X = -2504.7588
KOROVAN_QUEST_TRUCK_Y = -617.9553
KOROVAN_QUEST_TRUCK_Z = 133.612
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 8
then
KOROVAN_QUEST_TRUCK_X = -2185.2644
KOROVAN_QUEST_TRUCK_Y = 1022.1305
KOROVAN_QUEST_TRUCK_Z = 80.9098
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 9
then
KOROVAN_QUEST_TRUCK_X = 2520.0991
KOROVAN_QUEST_TRUCK_Y = 1131.3225
KOROVAN_QUEST_TRUCK_Z = 11.863
KOROVAN_QUEST_TRUCK_A = 180.0
end

if
$QUEST_CAMP_NUMBER == 10
then
KOROVAN_QUEST_TRUCK_X = 2270.0547
KOROVAN_QUEST_TRUCK_Y = 2786.6846
KOROVAN_QUEST_TRUCK_Z = 11.8693
KOROVAN_QUEST_TRUCK_A = 90.0
end

if
$QUEST_CAMP_NUMBER == 11
then
KOROVAN_QUEST_TRUCK_X = 1052.413
KOROVAN_QUEST_TRUCK_Y = 2123.7241
KOROVAN_QUEST_TRUCK_Z = 11.8674
KOROVAN_QUEST_TRUCK_A = 0.0
end

if
$QUEST_CAMP_NUMBER == 12
then
KOROVAN_QUEST_TRUCK_X = -771.8084
KOROVAN_QUEST_TRUCK_Y = 1588.3009
KOROVAN_QUEST_TRUCK_Z = 28.1451
KOROVAN_QUEST_TRUCK_A = 190.0
end

if
$QUEST_CAMP_NUMBER == 13
then
KOROVAN_QUEST_TRUCK_X = -323.8811
KOROVAN_QUEST_TRUCK_Y = 2693.9006
KOROVAN_QUEST_TRUCK_Z = 63.741
KOROVAN_QUEST_TRUCK_A = 280.0
end

if
$QUEST_CAMP_NUMBER == 14
then  
KOROVAN_QUEST_TRUCK_X = -2065.3281
KOROVAN_QUEST_TRUCK_Y = -2458.5168
KOROVAN_QUEST_TRUCK_Z = 31.5765
KOROVAN_QUEST_TRUCK_A = 141.0
end

else

if
$QUEST_CAMP_NUMBER == 0
then

if
STORIES_MAP == 0
then
KOROVAN_QUEST_TRUCK_X = -500.8461
KOROVAN_QUEST_TRUCK_Y = 1420.59
KOROVAN_QUEST_TRUCK_Z = 15.0461
KOROVAN_QUEST_TRUCK_A = 90.0
else
KOROVAN_QUEST_TRUCK_X = -501.3526
KOROVAN_QUEST_TRUCK_Y = 1421.1973
KOROVAN_QUEST_TRUCK_Z = 14.2144
KOROVAN_QUEST_TRUCK_A = 90.0
end

end

if
$QUEST_CAMP_NUMBER == 1
then
KOROVAN_QUEST_TRUCK_X = -1311.6626
KOROVAN_QUEST_TRUCK_Y = 1450.9883
KOROVAN_QUEST_TRUCK_Z = 17.168
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 2
then
KOROVAN_QUEST_TRUCK_X = 1249.2323
KOROVAN_QUEST_TRUCK_Y = 328.5747
KOROVAN_QUEST_TRUCK_Z = 7.1543
KOROVAN_QUEST_TRUCK_A = 180.0
end

if
$QUEST_CAMP_NUMBER == 3
then
KOROVAN_QUEST_TRUCK_X = 1094.4797
KOROVAN_QUEST_TRUCK_Y = -1450.4171
KOROVAN_QUEST_TRUCK_Z = 6.6063
KOROVAN_QUEST_TRUCK_A = 90.0
end

if
$QUEST_CAMP_NUMBER == 4
then
KOROVAN_QUEST_TRUCK_X = -2496.0781
KOROVAN_QUEST_TRUCK_Y = 1956.689
KOROVAN_QUEST_TRUCK_Z = 59.7024
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 5
then
KOROVAN_QUEST_TRUCK_X = 2393.5266
KOROVAN_QUEST_TRUCK_Y = -50.2281
KOROVAN_QUEST_TRUCK_Z = 6.9533
KOROVAN_QUEST_TRUCK_A = 262.0
end

if
$QUEST_CAMP_NUMBER == 6
then
KOROVAN_QUEST_TRUCK_X = 2113.5312
KOROVAN_QUEST_TRUCK_Y = -2102.373
KOROVAN_QUEST_TRUCK_Z = 13.1839
KOROVAN_QUEST_TRUCK_A = 180.0
end

if
$QUEST_CAMP_NUMBER == 7
then
KOROVAN_QUEST_TRUCK_X = -1990.9436
KOROVAN_QUEST_TRUCK_Y = 2427.2187
KOROVAN_QUEST_TRUCK_Z = 79.7781
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 8
then
KOROVAN_QUEST_TRUCK_X = -1143.6648
KOROVAN_QUEST_TRUCK_Y = 575.6846
KOROVAN_QUEST_TRUCK_Z = 21.3646
KOROVAN_QUEST_TRUCK_A = 270.0
end

if
$QUEST_CAMP_NUMBER == 9
then

if
STORIES_MAP == 0
then
KOROVAN_QUEST_TRUCK_X = -401.8858
KOROVAN_QUEST_TRUCK_Y = 667.3878
KOROVAN_QUEST_TRUCK_Z = 14.0743
KOROVAN_QUEST_TRUCK_A = 360.0
else
KOROVAN_QUEST_TRUCK_X = -355.391
KOROVAN_QUEST_TRUCK_Y = 715.0283
KOROVAN_QUEST_TRUCK_Z = 14.0277
KOROVAN_QUEST_TRUCK_A = 180.0
end

end

end

return

:KOROVAN_QUEST_TEAMMATE_TP_CHECK

if
8431: not  car SUPPLY_QUEST_TRUCK passenger_seat_free 0
    then
    0432: 0@ = get_actor_handle_from_car SUPPLY_QUEST_TRUCK passenger_seat 0
    if
    056D:   actor 0@ defined
        then
        04C4: store_coords_to 1@ 2@ 3@ from_actor PLAYER_ACTOR with_offset 0.0 -2.0 0.0
        0362: remove_actor 0@ from_car_and_place_at 1@ 2@ 3@
        end
    end

return