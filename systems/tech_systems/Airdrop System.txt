const
HABAR_PLANE = 12@
HABAR_PLANE_ACTOR = 13@
HABAR_RANDOM_X = 9@
HABAR_RANDOM_Y = 10@
HABAR_RANDOM_Z = 11@
SMOKEBOMB_PARTICLE = 21@
HABAR_SUMKA_OBJECT = 28@
HABAR_SUMKA_PARA_OBJECT = 30@
HABAR_SUMKA_OBJECT_MARKER = 29@
HABAR_MARKER_ON_MAP = 16@
HABAR_POINT_X = 15@
HABAR_POINT_Y = 17@
HABAR_POINT_Z = 18@
HABAR_PLANE_MARKER = 24@
HABAR_TIMER_WAS = 31@
end

:HAB_DRP
thread 'HAB_DRP'

if
ALLOW_AIRDROPS == 0
then
end_thread
end

if
CURRENT_USHER_TUTORIAL_NUM == 7
then
CURRENT_USHER_TUTORIAL_NUM = 8
$AIRDROP_TIMER += 40640
end

0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TRIED_TO_CREATE_FLAG"

if
$AIRDROP_FLAG == 1
then
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TRIED_TO_DUBLICATE"
end_thread
end

$AIRDROP_FLAG = 1
AIRDROP_PLAYER_AT_POINT_FLAG = 0

0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TRIED_TO_CREATE_FLAG"

if
CURRENT_USHER_TUTORIAL_NUM == -212121
then
jump to @CAR_CREATE_HABAR_PLANE
end

if
$AIRDROP_RANDOM == 0
then
$NOTSAVE_MODE = 1
else

0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TRIED_TO_FIND_POINT"

:RANDOM_AIDROP_COORD_SET
wait 0 

if
UNITED_MAP == 0
then    
0208: HABAR_RANDOM_X = random_float_in_ranges -2747.2507 2833.0591 
0208: HABAR_RANDOM_Y = random_float_in_ranges 2680.6458 -2172.8049   
else

if
$UNITED_III_SPAWN == 1
then
0208: HABAR_RANDOM_X = random_float_in_ranges -2711.3311 45.7344 
0208: HABAR_RANDOM_Y = random_float_in_ranges -160.5908 2375.3311
else     
0208: HABAR_RANDOM_X = random_float_in_ranges 605.8673 2540.8437 
0208: HABAR_RANDOM_Y = random_float_in_ranges -2719.9036 675.8437
end

end

HABAR_RANDOM_Z = 0.0 

gosub @RANDOM_AIRDROP_SPAWN_ZONE_CHECK

if
$SAVESTATUS == 1
then
$AIRDROP_FLAG = 0
$AIRDROP_RANDOM = 0
$NOTSAVE_MODE = 0
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_POINT_SAVESTATUS"
end_thread
end

actor.StorePos(PLAYER_ACTOR,1@,2@,3@)
0509: 4@ = distance_between_XY 1@ 2@ and_XY HABAR_RANDOM_X HABAR_RANDOM_Y
02CE: HABAR_RANDOM_Z = ground_z_at HABAR_RANDOM_X HABAR_RANDOM_Y 100.0

if
UNITED_MAP == 0
then
HABAR_RANDOM_Z = 28.0
end

if
UNITED_MAP == 0
then
if and
6@ == 1
4@ > 1000.0
4@ < 2000.0
HABAR_RANDOM_Z > 0.0
jf @RANDOM_AIDROP_COORD_SET
else
if and
6@ == 1
4@ > 600.0
4@ < 1500.0
HABAR_RANDOM_Z > 0.0
jf @RANDOM_AIDROP_COORD_SET
end

0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TRIED_TO_FIND_POINT"

marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
0088: $CARMA_GLOB_CARREC_X = HABAR_RANDOM_X // (float)
0088: $CARMA_GLOB_CARREC_Y = HABAR_RANDOM_Y // (float)
0088: $CARMA_GLOB_CARREC_Z = HABAR_RANDOM_Z // (float)
end

if
$AIRDROP_QUEST == 1
then

if
075C:   marker MISSION_CHECKPOINT enabled
then
marker.Disable(MISSION_CHECKPOINT)
end

018A: MISSION_CHECKPOINT = create_checkpoint_at HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z

if
REALISM_MODE == 1
then
0843: get_zone_at HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z nameA_to REALISM_QUEST_TARGET_ZONE // 8-byte string
create_thread @REL_ZEN HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z
end

end

if
$AIRDROP_QUEST == 0
then
03E5: show_text_box 'INV246'
end

32@ = 0

//////////////////////////////////////////////////////////////////////////////////

if
$AIRDROP_QUEST == 1
then                    
$SAVE_WAIT_TIME = 240000

if
CUSTOM_MAP_FLAG == 1
then
008D: $SAVE_WAIT_TIME = integer $SAVE_WAIT_TIME to_float
0AF2: 0@ = get_float_from_ini_file "modloader\ZA CUSTOM MAP FOLDER\CONFIGS\$GENCONFIG.ini" section "SETTINGS" key "RANDOM_AIRDROP_TIMER_MULT"
006D: $SAVE_WAIT_TIME *= 0@ // (float)
008C: $SAVE_WAIT_TIME = float $SAVE_WAIT_TIME to_integer
end

03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'INV278'

0084: SAVE_WAIT_TIME_SYNC = $SAVE_WAIT_TIME // (int)
end

if
CUSTOMMAP_OFFSETS_IS_ATTACHED_TO_PATHS_INITIALY == 1
then

04D3: get_nearest_car_path_coords_from HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z type 1 store_to HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z
if
CUSTOM_MAP_FLAG == 1
then
gosub @CUSTOM_MAP_TRY_TO_GET_CUSTOM_CAR_NODE
if
USE_CUSTOM_CAR_NODE_FLAG == 1
    then     
    USE_CUSTOM_CAR_NODE_FLAG = 0
    0089: HABAR_POINT_X = $TEMPVAR_FLOAT_1 // (float)
    0089: HABAR_POINT_Y = $TEMPVAR_FLOAT_2 // (float)
    0089: HABAR_POINT_Z = $TEMPVAR_FLOAT_3 // (float)
    end
end 

0087: HABAR_POINT_X = HABAR_RANDOM_X // (float)
0087: HABAR_POINT_Y = HABAR_RANDOM_Y // (float)
0087: HABAR_POINT_Z = HABAR_RANDOM_Z // (float)

marker.Disable(HABAR_MARKER_ON_MAP)
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)

if
$AIRDROP_QUEST == 1
    then
    
    if
    075C:   marker MISSION_CHECKPOINT enabled
    then
    marker.Disable(MISSION_CHECKPOINT)
    end
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z
    
    end

end

repeat
wait 0  

if
$AIRDROP_QUEST == 1
then

//0AD1: show_formatted_text_highpriority "32@ %d, TIMER is %d" time 2000 32@ $SAVE_WAIT_TIME
008B: 0@ = SAVE_WAIT_TIME_SYNC // (int)
0062: 0@ -= 32@  // (int)
008A: $SAVE_WAIT_TIME = 0@ // (int)

if and
875C: not  marker MISSION_CHECKPOINT enabled
RANDOM_QUEST_CANCEL_FLAG == 0
$ONMISSION == 1
then
018A: MISSION_CHECKPOINT = create_checkpoint_at HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z
end

end

if
875C: not  marker HABAR_MARKER_ON_MAP enabled
then
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
end

//0AD1: show_formatted_text_highpriority "TIMER: %d\240000" time 500 32@

if or
00EC:   actor PLAYER_ACTOR sphere 0 near_point HABAR_RANDOM_X HABAR_RANDOM_Y radius 150.0 150.0
SAVESTATUS_MEGA_TRUE == 1
then
break
end

if and
$AIRDROP_QUEST == 1
REALISM_MODE == 1
then
if
0154:   actor PLAYER_ACTOR in_zone REALISM_QUEST_TARGET_ZONE  // Easter Basin
    then
    jump to @I_DONT_KNOW_NOTHING
    end
end

if 
$CHEATS_ON == 1
    then
    if
    0ADC:   test_cheat "LATE"
        then
        $CHEAT_CODE_ACTIVATED = 1
        
        if
        not CUSTOM_MAP_FLAG == 1
        then
        32@ = 210000
        else
        008B: 32@ = RANDOM_AIRDROP_TIME2 // (int)
        end 
                               
        end
    end

if and
001F:   32@ > RANDOM_AIRDROP_TIME2 // (int) 32@ > 210000
SAVESTATUS_MEGA_TRUE == 0
then
33@ = 0
marker.Disable(HABAR_MARKER_ON_MAP)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
$CARMA_GLOB_CARREC_X = 0.0
$CARMA_GLOB_CARREC_Y = 0.0
$CARMA_GLOB_CARREC_Z = 0.0 
end

wait 500
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
0088: $CARMA_GLOB_CARREC_X = HABAR_RANDOM_X // (float)
0088: $CARMA_GLOB_CARREC_Y = HABAR_RANDOM_Y // (float)
0088: $CARMA_GLOB_CARREC_Z = HABAR_RANDOM_Z // (float)
end

wait 500
end

if and
33@ > 1000
001F:   32@ > RANDOM_AIRDROP_TIME2 // (int) 32@ > 210000
SAVESTATUS_MEGA_TRUE == 0
then
33@ = 0
marker.Disable(HABAR_MARKER_ON_MAP)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
$CARMA_GLOB_CARREC_X = 0.0
$CARMA_GLOB_CARREC_Y = 0.0
$CARMA_GLOB_CARREC_Z = 0.0 
end

wait 500
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
0088: $CARMA_GLOB_CARREC_X = HABAR_RANDOM_X // (float)
0088: $CARMA_GLOB_CARREC_Y = HABAR_RANDOM_Y // (float)
0088: $CARMA_GLOB_CARREC_Z = HABAR_RANDOM_Z // (float)
end

wait 500
end

until 001F:   32@ > RANDOM_AIRDROP_TIME1 // (int) 32@ > 240000

//////////////////////////////////////////////////////////////////////////////////

if or
80EC: not  actor PLAYER_ACTOR sphere 0 near_point HABAR_RANDOM_X HABAR_RANDOM_Y radius 300.0 300.0
SAVESTATUS_MEGA_TRUE == 1
then
    
if
075C:   marker HABAR_MARKER_ON_MAP enabled
then
marker.Disable(HABAR_MARKER_ON_MAP)
end

if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
$CARMA_GLOB_CARREC_X = 0.0
$CARMA_GLOB_CARREC_Y = 0.0
$CARMA_GLOB_CARREC_Z = 0.0 
end
    
$AIRDROP_FLAG = 0           
$AIRDROP_RANDOM = 0
$NOTSAVE_MODE = 0
$AIRDROP_QUEST = -2
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLAYER_MISSED_AIRDROP"
end_thread 
end

:I_DONT_KNOW_NOTHING

04D3: get_nearest_car_path_coords_from HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z type 1 store_to HABAR_RANDOM_X HABAR_RANDOM_Y HABAR_RANDOM_Z
if
CUSTOM_MAP_FLAG == 1
then
gosub @CUSTOM_MAP_TRY_TO_GET_CUSTOM_CAR_NODE
if
USE_CUSTOM_CAR_NODE_FLAG == 1
    then     
    USE_CUSTOM_CAR_NODE_FLAG = 0
    0089: HABAR_RANDOM_X = $TEMPVAR_FLOAT_1 // (float)
    0089: HABAR_RANDOM_Y = $TEMPVAR_FLOAT_2 // (float)
    0089: HABAR_RANDOM_Z = $TEMPVAR_FLOAT_3 // (float)
    end
end 

0087: HABAR_POINT_X = HABAR_RANDOM_X // (float)
0087: HABAR_POINT_Y = HABAR_RANDOM_Y // (float)
0087: HABAR_POINT_Z = HABAR_RANDOM_Z // (float)

if
875C: not  marker HABAR_MARKER_ON_MAP enabled
then
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,5,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
end

//Меняем иконку эирдропа, чтобы игрок понял, что надо его ждать и он задел зону
marker.Disable(HABAR_MARKER_ON_MAP)
marker.CreateIconAndSphere2(HABAR_MARKER_ON_MAP,122,HABAR_RANDOM_X,HABAR_RANDOM_Y,HABAR_RANDOM_Z)
if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
0088: $CARMA_GLOB_CARREC_X = HABAR_RANDOM_X // (float)
0088: $CARMA_GLOB_CARREC_Y = HABAR_RANDOM_Y // (float)
0088: $CARMA_GLOB_CARREC_Z = HABAR_RANDOM_Z // (float)
end

if
SHOW_HINTS_FLAG == 1
then
if
REALISM_MODE == 0
    then
    text.ShowTextBox('GME1614')
    else
    text.ShowTextBox('GM1614B')
    end
end

if and
$AIRDROP_QUEST == 1
075C:   marker MISSION_CHECKPOINT enabled
then
marker.Disable(MISSION_CHECKPOINT)
end

if
$AIRDROP_QUEST == 1
then
$AIRDROP_QUEST = 3
end

0085: HABAR_TIMER_WAS = 32@ // (int)
32@ = 0

jump to @CAR_CREATE_HABAR_PLANE
end

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = 0.0
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
//0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1 
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume $SOUNDS_VOLUME time 500

////////////////////////////////////////////////////////    

if
$GAMEMODE_WAR == 0
then 
03E5: show_text_box 'INV236'
else
03E5: show_text_box 'INV245'
end 

32@ = 0
if
$GAMEMODE_WAR == 0
then
random_int 0@ 20000 60000
else
random_int 0@ 7500 10000
end

0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_NOTRANDOM_WAITING_TIMER"

repeat
wait 0  

if
$CHEATS_ON == 1
then
break
end
        
until 001D:   32@ > 0@  // (int)

0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_NOTRANDOM_WAITING_TIMER"

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume 0.0 time 250
wait 250
audiostream.Release($RADIO_SOUND)

//////////////////////////////////////////////////////////

$PHRASES_OFF_FLAG = 1

32@ = 0

gosub @AIRDROP_NEAR_CAMP_CHECK

if and
2@ == 1
$GAMEMODE_WAR == 0
then

09FD: get_gxt_string "INV244" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV244' time 100 flag 1
until 001D:   32@ > 3@  // (int)

$HORDE_OFF_TIMER_COUNTER += 999999999
$AIRDROP_FLAG = 0
$NOTSAVE_MODE = 0
$PHRASES_OFF_FLAG = 0
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLAYER_NEAR_CAMP"
end_thread

end

if
$GAMEMODE_WAR == 0
then

//////////////////////////////////////////////////////////////////////////////////

if and
$AIRDROP_TIMER >= 40640
$MONTHS_PASSED < 2
then

09FD: get_gxt_string "INV237" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV237' time 100 flag 1
until 001D:   32@ > 3@  // (int)

else

:AIRDROP_FAILED_TO_LOAD_PLANE_MODEL

if
$AIRDROP_RANDOM == 0
then

if
$MONTHS_PASSED > 1
then
jump to @FUCKDAMN_AIRDROP
end

$PHRASES_OFF_FLAG = 1

09FD: get_gxt_string "INV242" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV242' time 100 flag 1
until 001D:   32@ > 3@  // (int)

$HORDE_OFF_TIMER_COUNTER += 999999999
if
SHOW_HINTS_FLAG == 1
then 
text.ShowTextBox('GME1629')
end

end

:FUCKDAMN_AIRDROP

$AIRDROP_FLAG = 0
$NOTSAVE_MODE = 0
$PHRASES_OFF_FLAG = 0
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TIMER_NOT_GOOD"

if
$AIRDROP_RANDOM == 0
then
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_FAILED_TO_LOAD_MODEL"
$AIRDROP_QUEST = -2
end

if
075C:   marker HABAR_MARKER_ON_MAP enabled
then
marker.Disable(HABAR_MARKER_ON_MAP)
end

if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
$CARMA_GLOB_CARREC_X = 0.0
$CARMA_GLOB_CARREC_Y = 0.0
$CARMA_GLOB_CARREC_Z = 0.0 
end

if
$AIRDROP_RANDOM == 0
    then
    if
    075C:   marker AIRDROP_FLARE_MARKER enabled
        then
        marker.Disable(AIRDROP_FLARE_MARKER)
        end
    end
    
if
$AIRDROP_RANDOM == 0
then    
064E: stop_particle SMOKEBOMB_PARTICLE
0650: destroy_particle SMOKEBOMB_PARTICLE
end    

end_thread

end

//////////////////////////////////////////////////////

while true
wait 0

gosub @INV_RANDOM_AIRDROP_SPAWN_ZONE_CHECK
if
6@ == 0
then
text.ShowTextBox('INV302')
wait 2000
else
break
end

end

//////////////////////////////////////////////////////

actor.StorePos(PLAYER_ACTOR,19@,20@,8@)
0843: get_zone_at 19@ 20@ 8@ nameA_to s$PLACE_STRING // 8-byte string

if
$GAMEMODE_WAR == 0
then

/////////////////////////////////////////////////////////////////////////////////////

32@ = 0

if
USHER_STORY_FLAG == 0
then
09FD: get_gxt_string "INV238" width_to 3@  // ~k~~PED_SPRINT~ Select
else
09FD: get_gxt_string "INV238B" width_to 3@  // ~k~~PED_SPRINT~ Select
end

0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0

if
USHER_STORY_FLAG == 0
then
0384: show_text_1string GXT 'INV238' string s$PLACE_STRING time 100 1
else
0384: show_text_1string GXT 'INV238B' string s$PLACE_STRING time 100 1
end

until 001D:   32@ > 3@  // (int)

/////////////////////////////////////////////////////////////////////////////////////

else

/////////////////////////////////////////////////////////////////////////////////////

32@ = 0

$PHRASES_OFF_FLAG = 1

09FD: get_gxt_string "INV248" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
0384: show_text_1string GXT 'INV248' string s$PLACE_STRING time 100 1
until 001D:   32@ > 3@  // (int)

/////////////////////////////////////////////////////////////////////////////////////

end

32@ = 0

09FD: get_gxt_string "INV239" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV239' time 100 flag 1
until 001D:   32@ > 3@  // (int)

$PHRASES_OFF_FLAG = 0

wait 500

//////////////////////////////////////////////////////////////////////////////////

else

//////////////////////////////////////////////////////////////////////////////////

if
$AIRDROP_TIMER > 5640
then

09FD: get_gxt_string "INV240" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV240' time 100 flag 1
until 001D:   32@ > 3@  // (int)

else

09FD: get_gxt_string "INV243" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV243' time 100 flag 1
until 001D:   32@ > 3@  // (int)

$AIRDROP_FLAG = 0
$NOTSAVE_MODE = 0
$PHRASES_OFF_FLAG = 0
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_TIMER_NOT_GOOD"
end_thread

end

//////////////////////////////////////////////////////

//while true
//wait 0
//
//gosub @INV_RANDOM_AIRDROP_SPAWN_ZONE_CHECK
//if
//6@ == 0
//then
//text.ShowTextBox('INV302')
//wait 2000
//else
//break
//end
//
//end

//////////////////////////////////////////////////////

actor.StorePos(PLAYER_ACTOR,19@,20@,8@)
0843: get_zone_at 19@ 20@ 8@ nameA_to s$PLACE_STRING // 8-byte string

32@ = 0

09FD: get_gxt_string "INV238" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
0384: show_text_1string GXT 'INV238' string s$PLACE_STRING time 100 1
until 001D:   32@ > 3@  // (int)

32@ = 0

09FD: get_gxt_string "INV241" width_to 3@  // ~k~~PED_SPRINT~ Select
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer

repeat
wait 0
00BC: show_text_highpriority GXT 'INV241' time 100 flag 1
until 001D:   32@ > 3@  // (int)

$PHRASES_OFF_FLAG = 0

wait 500

//////////////////////////////////////////////////////////////////////////////////

end

///////////////////////////////////////////////////////////////////

:AIRDROP_ROOF_CHECK_AGAIN

32@ = 2801

repeat
wait 0

if
32@ > 2800
then
32@ = 0
gosub @AIRDROP_ROOF_CHECK
end

until 0@ == 1

gosub @INV_RANDOM_AIRDROP_SPAWN_ZONE_CHECK
if
6@ == 0
then
text.ShowTextBox('INV302')
wait 2000
jump to @AIRDROP_ROOF_CHECK_AGAIN
end

gosub @INV_AIRDROP_NEAR_CAMP_CHECK
if or
6@ == 1
PLAYER_IN_NEST_FLAG == 1
then
text.ShowTextBox('INV302')
wait 2000
jump to @AIRDROP_ROOF_CHECK_AGAIN
end

if
8154: not  actor PLAYER_ACTOR in_zone s$PLACE_STRING
then
018A: 14@ = create_checkpoint_at 19@ 20@ 8@
text.ShowTextBox('INV302B')
wait 2000
marker.Disable(14@)
jump to @AIRDROP_ROOF_CHECK_AGAIN
end

0470: 14@ = actor PLAYER_ACTOR current_weapon
01B9: set_actor PLAYER_ACTOR armed_weapon_to 0
0992: set_player PLAYER_CHAR weapons_scrollable 0

while not animation.Available("BOMBER")
wait 0
animation.Load("BOMBER")
end

0605: actor PLAYER_ACTOR perform_animation "BOM_PLANT" IFP "BOMBER" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1

wait 100

while actor.Animation(PLAYER_ACTOR) == "BOM_PLANT"
wait 0

0613: 0@ = actor PLAYER_ACTOR animation "BOM_PLANT" time

if
0@ > 0.85
then
break
end

end

actor.StorePos(PLAYER_ACTOR,HABAR_POINT_X,HABAR_POINT_Y,HABAR_POINT_Z)
0087: 4@ = HABAR_POINT_Z // (float)
4@ -= 1.0
064B: SMOKEBOMB_PARTICLE = create_particle "SMOKE_FLARE" at HABAR_POINT_X HABAR_POINT_Y 4@ type 1 
064C: make_particle SMOKEBOMB_PARTICLE visible
018A: AIRDROP_FLARE_MARKER = create_checkpoint_at HABAR_POINT_X HABAR_POINT_Y 4@
marker.SetIconSize(AIRDROP_FLARE_MARKER,2)

while actor.Animation(PLAYER_ACTOR) == "BOM_PLANT"
wait 0
end

01B9: set_actor PLAYER_ACTOR armed_weapon_to 14@
0992: set_player PLAYER_CHAR weapons_scrollable 1

04EF: release_animation "BOMBER"

///////////////////////////////////////////////////////////////////

32@ = 0

:CAR_CREATE_HABAR_PLANE

0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_CREATING_PLANE_FLAG"

if
model.Available(#ANDROM)
then

if
UNITED_MAP == 0
then

random_int 0@ 0 to 4
if
0@ == 0
then
2@ = -3000.0
3@ = 3000.0
4@ = 300.3934
5@ = 220.7137  
end

if
0@ == 1
then
2@ = 3000.0
3@ = 3000.0
4@ = 300.3934
5@ = 130.0258
end

if
0@ == 2
then
2@ = -3000.0
3@ = -3000.0
4@ = 500.3934
5@ = 306.8668
end

if
0@ == 3
then
2@ = 3000.0
3@ = -3000.0
4@ = 300.3934
5@ = 45.3879
end

else

if
$UNITED_III_SPAWN == 0
then

random_int 0@ 0 to 4
if
0@ == 0
then
2@ = -1122.015
3@ = -2846.1467
4@ = 300.2412
5@ = 302.5673
end

if
0@ == 1
then
2@ = 2881.0947
3@ = 1137.2686
4@ = 300.1305
5@ = 144.5569
end

if
0@ == 2
then
2@ = 547.0935
3@ = 648.0737
4@ = 300.7325
5@ = 230.7021
end

if
0@ == 3
then
2@ = 2917.739
3@ = -2932.3828
4@ = 300.0543
5@ = 47.7397
end

else

random_int 0@ 0 to 4
if
0@ == 0
then
2@ = -2832.988
3@ = 2819.2629
4@ = 300.4305
5@ = 236.4688
end

if
0@ == 1
then
2@ = 207.4064
3@ = 483.368
4@ = 300.1305
5@ = 57.7911
end

if
0@ == 2
then
2@ = 459.9417
3@ = 2681.0427
4@ = 300.7325
5@ = 146.6863
end

if
0@ == 3
then
2@ = -2792.2229
3@ = -430.4246
4@ = 300.0543
5@ = 339.2755
end

end

end

if
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 2@ 3@ 4@ radius 1000.0
then
wait 0
jump to @CAR_CREATE_HABAR_PLANE
end       

HABAR_PLANE = car.Create(#ANDROM,2@, 3@, 4@)
car.SetImmunities(HABAR_PLANE,1,1,1,0,1)
car.Angle(HABAR_PLANE) = 5@

AIRDROP_PLAYER_AT_POINT_FLAG = 1

if
model.Available(#ANDROM)
then
////model.Destroy(#ANDROM)
end

else
model.Load(#ANDROM)
mload
wait 0

if
32@ > 10000
then
jump to @AIRDROP_FAILED_TO_LOAD_PLANE_MODEL
end

jump to @CAR_CREATE_HABAR_PLANE
end

car.Health(HABAR_PLANE) = 4000
car.SetSpeedInstantly(HABAR_PLANE,50.0)

while not model.Available(240)
wait 0
model.Load(240)
mload
end

HABAR_PLANE_ACTOR = actor.CreateAsDriver(25,240,HABAR_PLANE)
actor.SetImmunities(HABAR_PLANE_ACTOR,1,1,1,1,1)
actor.Health(HABAR_PLANE_ACTOR) = 5000
077A: set_actor HABAR_PLANE_ACTOR acquaintance 0 to_actors_pedtype $ZOMBIE_SET_PEDTYPE // see ped.dat
060B: set_actor HABAR_PLANE_ACTOR decision_maker_to $DEC_PEOPLE

if or
$AIRDROP_RANDOM == 0
$CHEATS_ON == 1
then
HABAR_PLANE_MARKER = marker.CreateAboveCar(HABAR_PLANE)
07E0: set_marker HABAR_PLANE_MARKER type_to 1
marker.SetIconSize(HABAR_PLANE_MARKER,2)
end

if
$AIRDROP_RANDOM == 0
then
actor.StorePos(PLAYER_ACTOR,2@,3@,4@)
else
0087: 2@ = HABAR_RANDOM_X // (float)
0087: 3@ = HABAR_RANDOM_Y // (float)
0087: 4@ = HABAR_RANDOM_Z // (float)
end  

if or
CURRENT_USHER_TUTORIAL_NUM == 8
CURRENT_USHER_TUTORIAL_NUM == -212121
then
2@ = 274.6767
3@ = -714.6959
4@ = 4.621704
CURRENT_USHER_TUTORIAL_NUM = 9
end

04D2: set_plane HABAR_PLANE fly_autopilot_around_point 2@ 3@ 4@ altitude_between 300.0 and 560.0
if and
HABAR_TIMER_WAS > 210000
$AIRDROP_RANDOM == 1
then

0338: set_car HABAR_PLANE visibility 0

repeat
wait 0

car.StorePos(HABAR_PLANE,5@,6@,7@)
0E27: get_angle_from_two_coords 5@ 6@ and 2@ 3@ to 7@
car.Angle(HABAR_PLANE) = 7@
0407: store_coords_to 5@ 6@ 7@ from_car HABAR_PLANE with_offset 0.0 100.0 0.0
car.PutAt(HABAR_PLANE,5@,6@,7@)

if
056E:   car HABAR_PLANE defined
    then
    if or
    car.Wrecked(HABAR_PLANE)
    $SAVESTATUS == 1
        then
        
        if
        075C:   marker HABAR_MARKER_ON_MAP enabled
        then
        marker.Disable(HABAR_MARKER_ON_MAP)
        end
        
        if and
        REALISM_MODE == 1
        $AIRDROP_RANDOM == 1
        then
        $CARMA_GLOB_CARREC_X = 0.0
        $CARMA_GLOB_CARREC_Y = 0.0
        $CARMA_GLOB_CARREC_Z = 0.0 
        end
        
        if
        $AIRDROP_RANDOM == 0
            then
            if
            075C:   marker AIRDROP_FLARE_MARKER enabled
                then
                marker.Disable(AIRDROP_FLARE_MARKER)
                end
            end
        
        if
        $AIRDROP_RANDOM == 0
            then    
            if
            075C:   marker HABAR_PLANE_MARKER enabled
                then
                marker.Disable(HABAR_PLANE_MARKER)
                end
            end    
        
        if
        056E:   car HABAR_PLANE defined
        then
        car.RemoveReferences(HABAR_PLANE)        
        end
        
        if
        056D:   actor HABAR_PLANE_ACTOR defined
        then
        actor.RemoveReferences(HABAR_PLANE_ACTOR)
        end
        
        if and
        $ZOMBIES_HORDE == 1
        $AIRDROP_RANDOM == 0
        then
        $ZOMBIES_HORDE = 0
        end
        
        if
        $AIRDROP_RANDOM == 0
        then
        $AIRDROP_TIMER = 0
        end        
        $AIRDROP_FLAG = 0        
        $NOTSAVE_MODE = 0
        $AIRDROP_RANDOM = 0
        $AIRDROP_QUEST = -2            
        AIRDROP_PLAYER_AT_POINT_FLAG = 0
        
        if
        $SAVESTATUS == 0
        then
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_DESTROYED"
        else
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_SAVESTATUS_DELETE"
        end
        
        end_thread        
        end
    end

until 01AD:   car HABAR_PLANE sphere 0 near_point 2@ 3@ radius 300.0 300.0

0338: set_car HABAR_PLANE visibility 1

end

0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_CREATING_PLANE_FLAG"

repeat
wait 0

if or
CURRENT_USHER_TUTORIAL_NUM == 9
CURRENT_USHER_TUTORIAL_NUM == -212121
then
if and
$CHEATS_ON == 1
0AB0:   key_pressed $KEY_USE
    then
    car.PutAt(HABAR_PLANE,2@,3@,300.0)
    end
if
CURRENT_USHER_TUTORIAL_NUM == -212121
    then
    car.PutAt(HABAR_PLANE,2@,3@,300.0) 
    end
else
if and
$CHEATS_ON == 1
0AB0:   key_pressed 48
    then
    car.PutAt(HABAR_PLANE,2@,3@,300.0)
    end    
end

if and
$AIRDROP_RANDOM == 0
not $GAMEMODE_WAR == 1
then 
$ZOMBIES_HORDE = 1

if and
CARMA_VERY_BAD_FLAG == 1
not CARMA_OUTCAST_FLAG == 1
then
0842: 7@ = player PLAYER_CHAR town_number
if
7@ == 0
    then
    $FERMERS1_SPAWN_FLAG = 1
    else
    $ARMY1_SPAWN_FLAG = 1
    end
else
$BANDITS1_SPAWN_FLAG = 1
end

end

if
056E:   car HABAR_PLANE defined
    then
    if or
    car.Wrecked(HABAR_PLANE)
    $SAVESTATUS == 1
        then
        
        if
        075C:   marker HABAR_MARKER_ON_MAP enabled
        then
        marker.Disable(HABAR_MARKER_ON_MAP)
        end
        
        if and
        REALISM_MODE == 1
        $AIRDROP_RANDOM == 1
        then
        $CARMA_GLOB_CARREC_X = 0.0
        $CARMA_GLOB_CARREC_Y = 0.0
        $CARMA_GLOB_CARREC_Z = 0.0 
        end
        
        if
        $AIRDROP_RANDOM == 0
            then
            if
            075C:   marker AIRDROP_FLARE_MARKER enabled
                then
                marker.Disable(AIRDROP_FLARE_MARKER)
                end
            end
        
        if
        $AIRDROP_RANDOM == 0
            then    
            if
            075C:   marker HABAR_PLANE_MARKER enabled
                then
                marker.Disable(HABAR_PLANE_MARKER)
                end
            end    
        
        if
        056E:   car HABAR_PLANE defined
        then
        car.RemoveReferences(HABAR_PLANE)        
        end
        
        if
        056D:   actor HABAR_PLANE_ACTOR defined
        then
        actor.RemoveReferences(HABAR_PLANE_ACTOR)
        end
        
        if and
        $ZOMBIES_HORDE == 1
        $AIRDROP_RANDOM == 0
        then
        $ZOMBIES_HORDE = 0
        end
        
        if
        $AIRDROP_RANDOM == 0
        then
        $AIRDROP_TIMER = 0
        end        
        $AIRDROP_FLAG = 0        
        $NOTSAVE_MODE = 0
        $AIRDROP_RANDOM = 0
        $AIRDROP_QUEST = -2            
        AIRDROP_PLAYER_AT_POINT_FLAG = 0
        
        if
        $SAVESTATUS == 0
        then
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_DESTROYED"
        else
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_SAVESTATUS_DELETE"
        end
        
        end_thread        
        end
    end

until 01AD:   car HABAR_PLANE sphere 0 near_point 2@ 3@ radius 200.0 200.0

if
075C:   marker HABAR_MARKER_ON_MAP enabled
then
marker.Disable(HABAR_MARKER_ON_MAP)
end

if and
REALISM_MODE == 1
$AIRDROP_RANDOM == 1
then
$CARMA_GLOB_CARREC_X = 0.0
$CARMA_GLOB_CARREC_Y = 0.0
$CARMA_GLOB_CARREC_Z = 0.0 
end

if or
CURRENT_USHER_TUTORIAL_NUM == 9
CURRENT_USHER_TUTORIAL_NUM == -212121
then
CURRENT_USHER_TUTORIAL_NUM = 10
end

repeat
wait 0

if and
$AIRDROP_RANDOM == 0
not $GAMEMODE_WAR == 1
not CURRENT_USHER_TUTORIAL_NUM == 10
then 
$ZOMBIES_HORDE = 1

if and
CARMA_VERY_BAD_FLAG == 1
not CARMA_OUTCAST_FLAG == 1
then
0842: 7@ = player PLAYER_CHAR town_number
if
7@ == 0
    then
    $FERMERS1_SPAWN_FLAG = 1
    else
    $ARMY1_SPAWN_FLAG = 1
    end
else
$BANDITS1_SPAWN_FLAG = 1
end

else
if
CURRENT_USHER_TUTORIAL_NUM == 10
    then
    $ZOMBIES_HORDE = 0      
    $BANDITS1_SPAWN_FLAG = 0 
    end    
end

if
056E:   car HABAR_PLANE defined
    then
    if or
    car.Wrecked(HABAR_PLANE)
    $SAVESTATUS == 1
        then
        
        if
        075C:   marker HABAR_MARKER_ON_MAP enabled
        then
        marker.Disable(HABAR_MARKER_ON_MAP)
        end
        
        if and
        REALISM_MODE == 1
        $AIRDROP_RANDOM == 1
        then
        $CARMA_GLOB_CARREC_X = 0.0
        $CARMA_GLOB_CARREC_Y = 0.0
        $CARMA_GLOB_CARREC_Z = 0.0 
        end
        
        if
        $AIRDROP_RANDOM == 0
            then
            if
            075C:   marker AIRDROP_FLARE_MARKER enabled
                then
                marker.Disable(AIRDROP_FLARE_MARKER)
                end
            end
        
        if
        $AIRDROP_RANDOM == 0
            then    
            if
            075C:   marker HABAR_PLANE_MARKER enabled
                then
                marker.Disable(HABAR_PLANE_MARKER)
                end
            end    
        
        if
        056E:   car HABAR_PLANE defined
        then
        car.RemoveReferences(HABAR_PLANE)        
        end
        
        if
        056D:   actor HABAR_PLANE_ACTOR defined
        then
        actor.RemoveReferences(HABAR_PLANE_ACTOR)
        end
        
        if and
        $ZOMBIES_HORDE == 1
        $AIRDROP_RANDOM == 0
        then
        $ZOMBIES_HORDE = 0
        end
        
        if
        $AIRDROP_RANDOM == 0
        then
        $AIRDROP_TIMER = 0
        end        
        $AIRDROP_FLAG = 0        
        $NOTSAVE_MODE = 0
        $AIRDROP_RANDOM = 0
        $AIRDROP_QUEST = -2            
        AIRDROP_PLAYER_AT_POINT_FLAG = 0
        
        if
        $SAVESTATUS == 0
        then
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_DESTROYED"
        else
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLANE_SAVESTATUS_DELETE"
        end
        
        end_thread        
        end
    end

until 01AD:   car HABAR_PLANE sphere 0 near_point 2@ 3@ radius 10.0 10.0

0407: store_coords_to 25@ 26@ 27@ from_car HABAR_PLANE with_offset 0.0 0.0 -20.0

if
CURRENT_USHER_TUTORIAL_NUM >= 9
then
25@ = 274.6767
26@ = -714.6959
end

HABAR_SUMKA_OBJECT = Object.Create(#KMB_HOLDALL, 25@, 26@, 27@)
Object.CollisionDetection(HABAR_SUMKA_OBJECT) = true
Object.ToggleInMovingList(HABAR_SUMKA_OBJECT) = true
Object.SetImmunities(HABAR_SUMKA_OBJECT, 1, 1, 1, 1, 1)

HABAR_SUMKA_PARA_OBJECT = Object.Init(#KMB_PARACHUTE, 25@, 26@, 27@)
Object.CollisionDetection(HABAR_SUMKA_PARA_OBJECT) = False
Object.ToggleInMovingList(HABAR_SUMKA_PARA_OBJECT) = false
Object.SetImmunities(HABAR_SUMKA_OBJECT, 1, 1, 1, 1, 1)

069A: attach_object HABAR_SUMKA_PARA_OBJECT to_object HABAR_SUMKA_OBJECT with_offset 0.0 0.0 6.7 rotation 0.0 0.0 0.0

HABAR_SUMKA_OBJECT_MARKER = Marker.CreateAboveObject(HABAR_SUMKA_OBJECT)
0382: set_object HABAR_SUMKA_OBJECT collision_detection 1

if
$AIRDROP_RANDOM == 1
then
066D: SMOKEBOMB_PARTICLE = attach_particle "SMOKE_FLARE" to_object HABAR_SUMKA_OBJECT with_offset 0.0 0.0 0.0 type 1
end

if
$AIRDROP_RANDOM == 0
    then
    if
    075C:   marker AIRDROP_FLARE_MARKER enabled
        then
        marker.Disable(AIRDROP_FLARE_MARKER)
        end
    end

if
$AIRDROP_QUEST == 3
then
$AIRDROP_QUEST = 4
end

070F: plane HABAR_PLANE fly_direction 180.0 altitude_between 200.0 and 400.0

repeat
wait 0

01BB: store_object HABAR_SUMKA_OBJECT position_to 0@ 1@ 2@
01BB: store_object HABAR_SUMKA_OBJECT position_to 25@ 26@ 27@
2@ += 1.5
0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at 0@ 1@ 2@ size 2.5 far_clip 500.0 near_clip 1.5 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 0 fade_speed 15.0 only_from_below 0

if and
$AIRDROP_RANDOM == 0
not $GAMEMODE_WAR == 1
then 
$ZOMBIES_HORDE = 1

if and
CARMA_VERY_BAD_FLAG == 1
not CARMA_OUTCAST_FLAG == 1
then
0842: 7@ = player PLAYER_CHAR town_number
if
7@ == 0
    then
    $FERMERS1_SPAWN_FLAG = 1
    else
    $ARMY1_SPAWN_FLAG = 1
    end
else
$BANDITS1_SPAWN_FLAG = 1
end

end

if or
04E7:   object HABAR_SUMKA_OBJECT in_water
04E6:   object HABAR_SUMKA_OBJECT near_point HABAR_POINT_X HABAR_POINT_Y HABAR_POINT_Z radius 300.0 300.0 0.5 flag 0
$SAVESTATUS == 1
    then
    break
    end

until 8E94: not is_object_really_in_air HABAR_SUMKA_OBJECT
01BB: store_object HABAR_SUMKA_OBJECT position_to 3@ 4@ 5@
5@ -= 300.0

:AIDRROP_COL_DATA_GET
wait 0
0D3A: get_collision_between_poitns 0@ 1@ 2@ and 3@ 4@ 5@ flags 1 0 0 0 0 0 0 0 ignore_entity 0 store_point_to 0@ 1@ 4@ entity_to 3@ colpoint_data_to 1 // IF and SET
050A: 2@ = distance_between_XYZ 0@ 1@ 4@ and_XYZ 25@ 26@ 27@
if or
2@ < 50.0
84E6: not  object HABAR_SUMKA_OBJECT near_point HABAR_POINT_X HABAR_POINT_Y HABAR_POINT_Z radius 300.0 300.0 0.5 flag 0
$SAVESTATUS == 1
then
else
1@ += 1.0
jump to @AIDRROP_COL_DATA_GET
end 

4@ += 0.8
0815: put_object HABAR_SUMKA_OBJECT at 0@ 1@ 4@ and_keep_rotation
Object.ToggleInMovingList(HABAR_SUMKA_OBJECT) = false
0382: set_object HABAR_SUMKA_OBJECT collision_detection 0

object.Destroy(HABAR_SUMKA_PARA_OBJECT)

064E: stop_particle SMOKEBOMB_PARTICLE
0650: destroy_particle SMOKEBOMB_PARTICLE

if
$AIRDROP_RANDOM == 0
    then    
    if
    075C:   marker HABAR_PLANE_MARKER enabled
        then
        marker.Disable(HABAR_PLANE_MARKER)
        end
    end

:AIRDROP_LOOT_AGAIN

repeat
wait 0

01BB: store_object HABAR_SUMKA_OBJECT position_to 0@ 1@ 2@
2@ -= 0.5
0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at 0@ 1@ 2@ size 2.5 far_clip 500.0 near_clip 1.5 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 0 fade_speed 15.0 only_from_below 0

object.StorePos(HABAR_SUMKA_OBJECT,0@,1@,2@) 
000F: 0@ -= 5.0
000F: 1@ -= 5.0
000F: 2@ -= 5.0
object.StorePos(HABAR_SUMKA_OBJECT,25@,26@,27@) 
000F: 25@ -= -5.0
000F: 26@ -= -5.0
000F: 27@ -= -5.0

if
0356:   explosion_type -1 in_cube_cornerA 0@ 1@ 2@ cornerB 25@ 26@ 27@
then
object.Destroy(HABAR_SUMKA_OBJECT)
jump to @BREAK_AIRDROP_OBJECT
end

071E: get_object HABAR_SUMKA_OBJECT health_to 1@
if
1@ == 69
then
object.Destroy(HABAR_SUMKA_OBJECT)
jump to @BREAK_AIRDROP_OBJECT
end

if and
$AIRDROP_RANDOM == 0
not $GAMEMODE_WAR == 1
then 
$ZOMBIES_HORDE = 1

if and
CARMA_VERY_BAD_FLAG == 1
not CARMA_OUTCAST_FLAG == 1
then
0842: 7@ = player PLAYER_CHAR town_number
if
7@ == 0
    then
    $FERMERS1_SPAWN_FLAG = 1
    else
    $ARMY1_SPAWN_FLAG = 1
    end
else
$BANDITS1_SPAWN_FLAG = 1
end

end

if or
8471: not  actor PLAYER_ACTOR near_object_in_rectangle HABAR_SUMKA_OBJECT radius 300.0 300.0 sphere 0
$SAVESTATUS == 1
    then
    
    :BREAK_AIRDROP_OBJECT
    
    text.ShowTextBox('GME1644')
    
    if and
    $ZOMBIES_HORDE == 1
    $AIRDROP_RANDOM == 0
    then
    $ZOMBIES_HORDE = 0
    end
    
    marker.Disable(HABAR_SUMKA_OBJECT_MARKER)
    if
    $AIRDROP_RANDOM == 0
    then
    $AIRDROP_TIMER = 0
    end        
    $AIRDROP_FLAG = 0    
    $NOTSAVE_MODE = 0
    $AIRDROP_RANDOM = 0
    $AIRDROP_QUEST = -2
    
    if
    $AIRDROP_RANDOM == 0
        then    
        if
        075C:   marker HABAR_PLANE_MARKER enabled
            then
            marker.Disable(HABAR_PLANE_MARKER)
            end
        end
        
    car.RemoveReferences(HABAR_PLANE)
    actor.RemoveReferences(HABAR_PLANE_ACTOR)
    object.RemoveReferences(HABAR_SUMKA_PARA_OBJECT)
    object.RemoveReferences(HABAR_SUMKA_OBJECT)
    AIRDROP_PLAYER_AT_POINT_FLAG = 0
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLAYER_LEAVED_DROP"
    end_thread        
    end

if and
0471:   actor PLAYER_ACTOR near_object_in_rectangle HABAR_SUMKA_OBJECT radius 2.0 2.0 sphere 0
0AB0:   key_pressed $KEY_USE
044B:   actor PLAYER_ACTOR on_foot
8818: not actor PLAYER_ACTOR in_air
8A32: not actor PLAYER_ACTOR on_turret_of_car
not CURRENT_USHER_TUTORIAL_NUM == 10
    then
    break
    end
    
if and
0471:   actor PLAYER_ACTOR near_object_in_rectangle HABAR_SUMKA_OBJECT radius 2.0 2.0 sphere 0
0AB0:   key_pressed $KEY_USE
PLAYER_IN_WATER_FULL_FLAG == 1
    then
    break
    end    

until false

marker.Disable(HABAR_SUMKA_OBJECT_MARKER)

if
$AIRDROP_RANDOM == 0
then
$ZOMBIES_HORDE = 0
end

if
$AIRDROP_QUEST == 4
then
v$OBJECTIVE = "DUMMY"
end

while not animation.Available("BOMBER")
wait 0
animation.Load("BOMBER")
end

0470: 14@ = actor PLAYER_ACTOR current_weapon
01B9: set_actor PLAYER_ACTOR armed_weapon_to 0
0992: set_player PLAYER_CHAR weapons_scrollable 0

Audiostream.Volume($CAR_SEARCH_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($CAR_SEARCH_SOUND, 0)
Audiostream.PerformAction($CAR_SEARCH_SOUND, PLAY)

0605: actor PLAYER_ACTOR perform_animation "BOM_PLANT" IFP "BOMBER" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1

06AB: set_actor PLAYER_ACTOR all_weapons_hidden 1
0992: set_player PLAYER_CHAR weapons_scrollable 0

32@ = 0
        
repeat
wait 0

if and
0E3E: is_button_just_pressed 0 button 15
not PLAYER_IN_WATER_FULL_FLAG == 1
then
0687: clear_actor PLAYER_ACTOR task                
end
        
if or
actor.Animation(PLAYER_ACTOR) == "BOM_PLANT"
PLAYER_IN_WATER_FULL_FLAG == 1
    then
    else
    
    HABAR_SUMKA_OBJECT_MARKER = Marker.CreateAboveObject(HABAR_SUMKA_OBJECT)
    
    if
    $AIRDROP_QUEST == 4
    then
    v$OBJECTIVE = "GAME566"
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    end
    
    01B9: set_actor PLAYER_ACTOR armed_weapon_to 14@
    0992: set_player PLAYER_CHAR weapons_scrollable 1
    
    04EF: release_animation "BOMBER"
        
    jump to @AIRDROP_LOOT_AGAIN
    end
        
until 32@ > 2550
        
Audiostream.PerformAction($CAR_SEARCH_SOUND, STOP)

object.Destroy(HABAR_SUMKA_OBJECT)

01B9: set_actor PLAYER_ACTOR armed_weapon_to 14@
0992: set_player PLAYER_CHAR weapons_scrollable 1

04EF: release_animation "BOMBER"

if and
not $AIRDROP_QUEST == 4
not CURRENT_USHER_TUTORIAL_NUM == 11
then

if
$GAMEMODE_WAR == 0
then

if
$AIRDROP_RANDOM == 0
then
random_int 0@ 2 4
random_int 1@ 1 3
random_int 2@ 3 6
else
random_int 0@ 4 6
random_int 1@ 1 3
random_int 2@ 2 4
end

005E: $HEAL += 0@  // (int)
005E: $BINT += 1@  // (int)
005E: $BANKA += 2@  // (int)

if
PLAYER_FOOD_ZAPAS > 50
then
$BANKA -= 1
end

if
PLAYER_HEAL_ZAPAS > 50
then
$HEAL -= 1
end

if
PLAYER_BINT_ZAPAS > 50
then
$BINT -= 1
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 3 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 40 80
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end    

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 4 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 20 35
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 5 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 40 80
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 6 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 40 80
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7 weapon 0@ ammo 1@ model 2@
if and
0488:   model 2@ exists  // versionA
not 0@ == 109
not 0@ == 93
    then
    random_int 1@ 20 40
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer            
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end
    
04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 8 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 5 10
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end
    
04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 9 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 5 10
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

Audiostream.Volume($MENU_MISC42_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($MENU_MISC42_SOUND, 0)
Audiostream.PerformAction($MENU_MISC42_SOUND, PLAY)

00BA: show_text_styled GXT "GAME514" time 5000 style 5

$TEMP_XP = AIRDROP_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)

$AIRDROPS_GOT += 1

if and
$AIRDROP_RANDOM == 0
0E4D: random_percent 60
then
actor.AddArmour(PLAYER_ACTOR,250)
end

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_AIRDROPS_GOT"

if
$CHEATED_FLAG == 0 
then        
0@ += 1
end        
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_AIRDROPS_GOT"

else

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 3 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 100 150
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end    

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 4 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 50 100
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 5 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 100 150
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 6 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 150 200
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7 weapon 0@ ammo 1@ model 2@
if and
0488:   model 2@ exists  // versionA
not 0@ == 109
    then
    random_int 1@ 40 80
    
    if or
    0@ == 70
    0@ == 94
    0@ == 149
    0@ == 181
    0@ == 211
    then
    random_int 1@ 350 650
    end
    
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end
    
04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 8 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 15 25
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end
    
04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 9 weapon 0@ ammo 1@ model 2@
if
0488:   model 2@ exists  // versionA
    then
    random_int 1@ 15 25
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= AMMO_AIRDROP_NOT_RANDOM_COEFF // (float)
    0092: 1@ = float 1@ to_integer
    0114: set_actor PLAYER_ACTOR weapon 0@ add_ammo 1@
    end
    
actor.AddArmour(PLAYER_ACTOR,250)    

Audiostream.Volume($MENU_MISC42_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($MENU_MISC42_SOUND, 0)
Audiostream.PerformAction($MENU_MISC42_SOUND, PLAY)

00BA: show_text_styled GXT "GAME515" time 5000 style 5 

end

end

if
$AIRDROP_RANDOM == 0
then
$AIRDROP_TIMER = 0
end
$AIRDROP_FLAG = 0
$NOTSAVE_MODE = 0
$AIRDROP_RANDOM = 0

if
$AIRDROP_QUEST == 4
then 
$AIRDROP_QUEST = 2
end

if
CURRENT_USHER_TUTORIAL_NUM == 11
then
CURRENT_USHER_TUTORIAL_NUM = 0
end

if
$AIRDROP_RANDOM == 0
    then    
    if
    075C:   marker HABAR_PLANE_MARKER enabled
        then
        marker.Disable(HABAR_PLANE_MARKER)
        end
    end

car.RemoveReferences(HABAR_PLANE)
actor.RemoveReferences(HABAR_PLANE_ACTOR)
object.RemoveReferences(HABAR_SUMKA_PARA_OBJECT) 
AIRDROP_PLAYER_AT_POINT_FLAG = 0
0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "AIRDROP_PLAYER_PICKED_UP"

end_thread

:AIRDROP_ROOF_CHECK

0@ = 1

if
actor.Driving(PLAYER_ACTOR)
    then
    0@ = 0
    text.ShowTextBox('INV301')
    return
    end

actor.StorePos(PLAYER_ACTOR, 1@, 2@, 3@) 
04C4: store_coords_to 25@ 26@ 27@ from_actor PLAYER_ACTOR with_offset 0.0 0.0 10.0 
if
86BD: not no_obstacles_between 25@ 26@ 27@ and 1@ 2@ 3@ solid 1 car 0 actor 0 object 0 particle 0
    then
    0@ = 0
    text.ShowTextBox('INV289')
    return
    end
    
04C4: store_coords_to 25@ 26@ 27@ from_actor PLAYER_ACTOR with_offset 0.0 0.0 20.0 
if
86BD: not no_obstacles_between 25@ 26@ 27@ and 1@ 2@ 3@ solid 1 car 0 actor 0 object 0 particle 0
    then
    0@ = 0
    text.ShowTextBox('INV289')
    return
    end
    
04C4: store_coords_to 25@ 26@ 27@ from_actor PLAYER_ACTOR with_offset 0.0 0.0 30.0 
if
86BD: not no_obstacles_between 25@ 26@ 27@ and 1@ 2@ 3@ solid 1 car 0 actor 0 object 0 particle 0
    then
    0@ = 0
    text.ShowTextBox('INV289')
    return
    end
    
04C4: store_coords_to 25@ 26@ 27@ from_actor PLAYER_ACTOR with_offset 0.0 0.0 40.0 
if
86BD: not no_obstacles_between 25@ 26@ 27@ and 1@ 2@ 3@ solid 1 car 0 actor 0 object 0 particle 0
    then
    0@ = 0
    text.ShowTextBox('INV289')
    return
    end
    
04C4: store_coords_to 25@ 26@ 27@ from_actor PLAYER_ACTOR with_offset 0.0 0.0 50.0 
if
86BD: not no_obstacles_between 25@ 26@ 27@ and 1@ 2@ 3@ solid 1 car 0 actor 0 object 0 particle 0
    then
    0@ = 0
    text.ShowTextBox('INV289')
    return
    end                           

return

:AIRDROP_NEAR_CAMP_CHECK

2@ = 0

///////////////////////////////////////////////////////////////////////////

if
UNITED_MAP == 0
then
1@ = 14
else
1@ = 7
end

for 0@ = 0 to 1@

if
00EC:   actor PLAYER_ACTOR sphere 0 near_point $CAMP_X[0@] $CAMP_Y[0@] radius 250.0 250.0
then
2@ = 1
end

end

///////////////////////////////////////////////////////////////////////////

actor.StorePos(PLAYER_ACTOR,25@,26@,27@)

if
27@ > 250.0
then
2@ = 1
end

return

:RANDOM_AIRDROP_SPAWN_ZONE_CHECK
6@ = 1

if
83CA: not  object DUMMY_OBJECT exists
then
DUMMY_OBJECT = object.Init(321,HABAR_RANDOM_X,HABAR_RANDOM_Y,100.0)
0750: set_object DUMMY_OBJECT visibility 0
0382: set_object DUMMY_OBJECT collision_detection 0
object.Indestructibility(DUMMY_OBJECT,true)
object.KeepInMemory(DUMMY_OBJECT,true)
else
object.PutAt(DUMMY_OBJECT,HABAR_RANDOM_X,HABAR_RANDOM_Y,100.0)
end

if
UNITED_MAP == 0
then

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 429.69 2156.25 0.0 cornerB -85.94 1632.81 200.0 flag 0 //Army Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 2515.8704 -2300.5332 0.0 cornerB 2923.9133 -2714.2751 200.0 flag 0 //Army Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA -291.8675 -743.7072 0.0 cornerB -812.7712 -328.283 200.0 flag 0 //Army Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1029.9045 224.8402 0.0 cornerB -1633.7898 742.1226 200.0 flag 0 //Army Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 885.526 -1511.1262 0.0 cornerB 563.4574 -1238.0656 200.0 flag 0 //Bandit Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 1015.63 -62.50 0.0 cornerB 1468.75 414.06 200.0 flag 0 //Bandit Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA 894.7634 1538.1443 0.0 cornerB 1236.8 1117.0681 200.0 flag 0 //Bandit Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -2302.0935 -341.3542 0.0 cornerB -1916.9932 27.9204 200.0 flag 0 //Bandit Zone 4  
    then
    6@ = 0
    end    

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1858.78 -1297.43 0.0 cornerB 1903.21 -1333.35 200.0 flag 0 //Trader Zone 0
04EA:  object DUMMY_OBJECT in_cube_cornerA -404.3865 -1476.689 0.0 cornerB -345.3865 -1394.689 200.0 flag 0 //Trader Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA 427.52 2548.39 0.0 cornerB 407.61 2526.03 200.0 flag 0 //Trader Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA 2619.17 -1511.30 0.0 cornerB 2786.00 -1415.17 200.0 flag 0 //Trader Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1886.3972 -1690.2018 0.0 cornerB -1929.0323 -1650.1958 200.0 flag 0 //Trader Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 2301.83 -20.72 0.0 cornerB 2335.90 23.12 200.0 flag 0 //Trader Zone 5
04EA:  object DUMMY_OBJECT in_cube_cornerA 1755.02 926.82 0.0 cornerB 1718.80 891.51 200.0 flag 0 //Trader Zone 6
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 751.20 -1432.56 0.0 cornerB 691.96 -1516.19 200.0 flag 0 //Trader Zone 7
04EA:  object DUMMY_OBJECT in_cube_cornerA -1651.67 2606.63 0.0 cornerB -1682.51 2578.91 200.0 flag 0 //Trader Zone 8
04EA:  object DUMMY_OBJECT in_cube_cornerA 2323.0 1710.1875 0.0 cornerB 2398.0 1612.1875 200.0 flag 0 //Trader Zone 9
04EA:  object DUMMY_OBJECT in_cube_cornerA -2126.95 173.65 0.0 cornerB -2136.94 153.88 200.0 flag 0 //Trader Zone 10
04EA:  object DUMMY_OBJECT in_cube_cornerA -1909.89 787.54 0.0 cornerB -1909.89 787.54 200.0 flag 0 //Trader Zone 11
04EA:  object DUMMY_OBJECT in_cube_cornerA -666.168 919.6441 0.0 cornerB -713.3187 950.6985 200.0 flag 0 //Trader Zone 12
04EA:  object DUMMY_OBJECT in_cube_cornerA -2210.40 642.64 0.0 cornerB -2201.72 724.11 200.0 flag 0 //Trader Zone 13  
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1357.4393 -850.5232 0.0 cornerB 1201.0028 -682.215 200.0 flag 0 //OOS Zone
04EA:  object DUMMY_OBJECT in_cube_cornerA 1140.63 -265.63 0.0 cornerB 953.13 -421.88 200.0 flag 0 //Survivors Zone 1
04EA:  object DUMMY_OBJECT in_cube_cornerA -2697.67 225.09 0.0 cornerB -2653.78 246.99 200.0 flag 0 //Survivors Zone 2
04EA:  object DUMMY_OBJECT in_cube_cornerA -750.8 1498.59 0.0 cornerB -711.96 1572.89 200.0 flag 0 //Survivors Zone 3
04EA:  object DUMMY_OBJECT in_cube_cornerA 2053.71 -1759.78 0.0 cornerB 2019.05 -1805.22 200.0 flag 0 //Survivors Zone 4
04EA:  object DUMMY_OBJECT in_cube_cornerA 2519.62 1080.73 0.0 cornerB 2472.25 1188.69 200.0 flag 0 //Survivors Zone 5
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2786.9807 -1483.0641 0.0 cornerB 2822.3315 -1424.2843 200.0 flag 0 //Survivors Zone 4B
04EA:  object DUMMY_OBJECT in_cube_cornerA 359.38 -1453.13 0.0 cornerB 265.63 -1585.94 30.0 flag 0 //Survivors Zone 4C
04EA:  object DUMMY_OBJECT in_cube_cornerA -2482.6663 -592.8055 0.0 cornerB -2543.678 -721.6879 200.0 flag 0 //Survivors Zone 2B
04EA:  object DUMMY_OBJECT in_cube_cornerA -2237.1636 935.8976 0.0 cornerB -2162.6333 1076.9303 200.0 flag 0 //Survivors Zone 2C
04EA:  object DUMMY_OBJECT in_cube_cornerA -264.1352 2641.4204 0.0 cornerB -377.2627 2694.4468 200.0 flag 0 //Survivors Zone 3B
04EA:  object DUMMY_OBJECT in_cube_cornerA 143.3994 -201.4584 0.0 cornerB 173.7076 -151.1922 200.0 flag 0 //Survivors Zone 1B
04EA:  object DUMMY_OBJECT in_cube_cornerA -1392.6833 -1604.0728 0.0 cornerB -1471.0334 -1436.6903 200.0 flag 0 //Survivors Zone 1C
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2236.3337 2722.114 0.0 cornerB 2460.2527 2824.3809 200.0 flag 0 //Survivors Zone 5B
04EA:  object DUMMY_OBJECT in_cube_cornerA 1016.7408 2205.6025 0.0 cornerB 1111.224 2062.55 30.0 flag 0 //Survivors Zone 5C
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point 1701.3729 -478.4831 33.4145 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1696.6538 -456.1838 33.196 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -196.2035 260.1373 12.0781 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -167.5269 369.0612 12.0781 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -140.9508 470.2005 12.1446 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 568.3724 404.1745 18.9297 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 522.1794 461.4417 18.9297 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 472.3617 541.2493 18.9297 radius 40.0 40.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or        
04E6:   object DUMMY_OBJECT near_point 438.2756 589.9736 18.922 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1705.9209 387.4872 31.2462 radius 15.0 15.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1705.9209 387.4872 31.2462 radius 15.0 15.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1702.4478 419.215 31.6904 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1713.8755 452.9702 31.7439 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1739.0465 524.6418 27.792 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 1796.9082 803.6421 11.9841 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -91.3199 -925.1218 18.9701 radius 60.0 60.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or        
04E6:   object DUMMY_OBJECT near_point -76.5812 -894.0284 16.0403 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -977.1158 -387.7733 36.2922 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -952.1158 -262.2675 36.742 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -937.7835 -234.6009 38.7915 radius 60.0 60.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 62.6183 -1533.1664 5.1803 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 42.5451 -1530.0872 5.375 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 197.2824 -1119.799 62.6762 radius 80.0 80.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point 251.7135 -1023.0703 56.4744 radius 80.0 80.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point -1667.4214 544.2248 38.6321 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1634.1216 563.6423 39.5937 radius 40.0 40.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1580.0278 650.1732 43.0643 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1489.5605 740.6168 46.1023 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1449.4218 762.1415 46.6998 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1394.9657 844.0401 47.3516 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1386.7476 853.6758 47.2528 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1134.2389 1106.2327 38.556 radius 100.0 100.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04E6:   object DUMMY_OBJECT near_point -2688.9521 1405.9114 55.4297 radius 20.0 20.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -2681.6833 1448.6949 55.8125 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1587.891 -1424.3495 41.1482 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1903.4186 -1113.4783 38.3967 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -1904.8696 -389.3445 39.0254 radius 100.0 100.0 10.0 flag 0
04E6:   object DUMMY_OBJECT near_point -2043.5305 -360.1454 35.3047 radius 100.0 100.0 10.0 flag 0
04EA:  object DUMMY_OBJECT in_cube_cornerA -1861.9833 -695.6805 0.0 cornerB -2167.907 -1019.5688 200.0 flag 0 //SF Fortpost
04E6:   object DUMMY_OBJECT near_point 1176.072 -692.1957 62.1394 radius 80.0 80.0 10.0 flag 0
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2831.3398 -842.5018 0.0 cornerB 2920.6084 -798.687 200.0 flag 0 //LS East Fortpost
04EA:  object DUMMY_OBJECT in_cube_cornerA 2868.0059 -1870.424 0.0 cornerB 2801.4351 -2077.8884 200.0 flag 0 //LS East Fortpost 2
    then
    6@ = 0
    end        
    
//////////////////////////////////////////////////////////////////////////////////////////////////                    
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -1226.78 -1771.66 -90.0 -1820.64 -2643.68 200.0 flag 0 //CREEK
04EA:  object DUMMY_OBJECT in_cube_cornerA -1820.64 -1771.66 -90.0 -2030.12 -2174.89 200.0 flag 0 //CREEK1
04EA:  object DUMMY_OBJECT in_cube_cornerA -2178.69 -1115.58 -90.0 -2994.49 -2189.91 560.0 flag 0 //MTCHI1
04EA:  object DUMMY_OBJECT in_cube_cornerA -1936.12 -1250.97 -90.0 -2178.69 -1771.66 560.0 flag 0 //MTCHI2
04EA:  object DUMMY_OBJECT in_cube_cornerA -2178.69 -971.91 -90.0 -2997.47 -1115.58 560.0 flag 0 //MTCHI3
04EA:  object DUMMY_OBJECT in_cube_cornerA -2030.12 -1771.66 -90.0 -2178.69 -2189.91 560.0 flag 0 //MTCHI4
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 435.99 2677.90 0.0 37.03 2337.18 200.0 flag 0 //MEAD
04EA:  object DUMMY_OBJECT in_cube_cornerA 421.23 2123.01 -50.0 -91.59 1655.05 250.0 flag 0 //REST
04EA:  object DUMMY_OBJECT in_cube_cornerA -908.16 -787.39 114.98 -1209.67 -1317.10 251.98 flag 0 //FARM
04EA:  object DUMMY_OBJECT in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 flag 0 //ARCO
04EA:  object DUMMY_OBJECT in_cube_cornerA 1457.46 2863.23 -89.08 1117.40 2723.23 110.92 flag 0 //YBELL1
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 1457.37 1883.11 -89.08 1236.63 1203.28 110.92 flag 0 //VAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA 1777.39 1883.11 -89.08 1457.37 1203.28 110.92 flag 0 //VAIR2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 -50.10 0.0 -1794.92 -730.12 200.0 flag 0 //SFAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 578.40 0.0 -1242.98 -50.10 200.0 flag 0 //SFAIR2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1242.98 249.90 0.0 -1499.89 -50.10 200.0 flag 0 //SFAIR3
04EA:  object DUMMY_OBJECT in_cube_cornerA -1132.82 -50.10 0.0 -1213.91 -730.12 200.0 flag 0 //SFAIR4
04EA:  object DUMMY_OBJECT in_cube_cornerA -947.98 578.40 0.0 -1213.91 -50.10 200.0 flag 0 //SFAIR5
    then
    6@ = 0
    end

if or    
04EA:  object DUMMY_OBJECT in_cube_cornerA 1852 -2179.25 -89.08 1249.62 -2394.33 110.92 flag 0 //LAIR1
04EA:  object DUMMY_OBJECT in_cube_cornerA 2201.82 -2394.33 -89.08 1382.73 -2730.88 110.92 flag 0  //LAIR2b
04EA:  object DUMMY_OBJECT in_cube_cornerA 2089 -2179.25 -89.08 1852 -2394.33 110.92 flag 0 //LAIR2a
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -2616.40 2175.15 0.0 -2741.45 1659.68 200.0 flag 0 //GANTB
04EA:  object DUMMY_OBJECT in_cube_cornerA -2616.40 1659.68 0.0 -2741.07 1490.47 200.0 flag 0 //GANTB1
04EA:  object DUMMY_OBJECT in_cube_cornerA 603.03 555.68 0.0 434.34 366.57 200.0 flag 0 //FALLO
04EA:  object DUMMY_OBJECT in_cube_cornerA -122.13 476.47 0.0 -222.18 293.32 200.0 flag 0 //MART
04EA:  object DUMMY_OBJECT in_cube_cornerA 1785.14 567.20 0.0 1664.62 401.75 200.0 flag 0 //MAKO
04EA:  object DUMMY_OBJECT in_cube_cornerA -592.09 2571.97 0.0 -901.13 2221.86 200.0 flag 0 //ARCO
04EA:  object DUMMY_OBJECT in_cube_cornerA 860.55 1031.71 -115.24 337.24 710.84 203.76 flag 0 //QUARY
    then
    6@ = 0
    end

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -1213.91 1057.04 -89.08 -1339.89 828.13 110.92 flag 0 //GARV
04EA:  object DUMMY_OBJECT in_cube_cornerA -1087.93 1178.93 -89.08 -1213.91 9502 110.92 flag 0 //GARV2
04EA:  object DUMMY_OBJECT in_cube_cornerA -1339.89 925.35 -179.62 -1499.89 696.44 20.38 flag 0 //GARV3
04EA:  object DUMMY_OBJECT in_cube_cornerA 1016.933 1199.3302 0.0 1096.097 1222.7902 200.0 flag 0 //BANDIT BASE LV
04EA:  object DUMMY_OBJECT in_cube_cornerA -173.72 48.6644 0.0 106.1629 -136.1308 200.0 flag 0 //BLUEBERRY FARM
04EA:  object DUMMY_OBJECT in_cube_cornerA 1894.0 -954.2563 0.0 2650.0 -118.2563 200.0 flag 0 //NORTHSTAR CLIFF
04EA:  object DUMMY_OBJECT in_cube_cornerA -2580.0 2082.7437 0.0 -1867.3125 1522.2437 200.0 flag 0 //SF WATER CUBE 1
    then
    6@ = 0
    end
    
//////////////////////////////////////////////////////////////////////////////////////////////////                  
    
else

if or
04EA:  object DUMMY_OBJECT in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 flag 0 //BIG BILLS BOWLS TRACK VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1786.27 -1191.43 0.0 cornerB 2163.66 -152.395 200.0 flag 0 //GOLF CLUB VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2635.8787 -354.2914 0.0 cornerB 2916.0 -32.2914 200.0 flag 0 //BEACH TRACK VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 92.1001 -1895.2 0.0 cornerB 792.1 -1265.2 200.0 flag 0 //AIRPORT VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 77.7263 -2752.63 0.0 cornerB 792.246 -1895.2 200.0 flag 0 //AIRPORT VC  
    then
    6@ = 0
    end
    
if or
04EA:  object DUMMY_OBJECT in_cube_cornerA -277.7767 1109.5814 0.0 cornerB -232.4244 1162.0369 200.0 flag 0 //Survivors Zone 1 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -1256.9427 1505.7239 0.0 cornerB -1339.8552 1401.7533 200.0 flag 0 //Survivors Zone 2 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA -2421.9885 1909.3091 0.0 cornerB -2505.8318 1962.9353 200.0 flag 0 //Survivors Zone 3 LC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1356.8033 245.7149 0.0 cornerB 1230.6315 357.2882 200.0 flag 0 //Survivors Zone 4 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 1010.0256 -1435.0776 0.0 cornerB 1159.0013 -1590.2578 200.0 flag 0 //Survivors Zone 5 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2406.4055 -99.8233 0.0 cornerB 2329.9165 -8.8584 200.0 flag 0 //Survivors Zone 6 VC
04EA:  object DUMMY_OBJECT in_cube_cornerA 2176.4023 -2087.9294 0.0 cornerB 2079.8772 -2214.2107 200.0 flag 0 //Survivors Zone 7 VC
    then
    6@ = 0
    end       

end          
    
return