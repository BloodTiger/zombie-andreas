/////////////////////////////////////////////////////////////////////////////////        

:ZN_ARM2
thread 'ZN_ARM2'

if or
UNITED_MAP == 1
CLASSIC_CARMA_MAP >= 1
CUSTOM_MAP_FLAG == 1
then
end_thread
end

3@ = 0

$ZONE69_OBJECT2 = Object.Init(#A51_SPOTBULB, 103.946, 1901.047, 36.246)
$ZONE69_OBJECT3 = Object.Init(#A51_SPOTHOUSING, 103.946, 1901.047, 36.246)
$ZONE69_OBJECT4 = Object.Init(#A51_SPOTBASE, 103.946, 1901.047, 36.246)
$ZONE69_OBJECT7 = Object.Init(#A51_SPOTBULB, 161.962, 1933.043, 36.246)
$ZONE69_OBJECT8 = Object.Init(#A51_SPOTHOUSING, 161.962, 1933.043, 36.246)
$ZONE69_OBJECT9 = Object.Init(#A51_SPOTBASE, 161.962, 1933.043, 36.246)
$ZONE69_OBJECT12 = Object.Init(#A51_SPOTBULB, 233.486, 1934.789, 36.246)
$ZONE69_OBJECT13 = Object.Init(#A51_SPOTHOUSING, 233.486, 1934.789, 36.246)
$ZONE69_OBJECT14 = Object.Init(#A51_SPOTBASE, 233.486, 1934.789, 36.246)
$ZONE69_OBJECT17 = Object.Init(#A51_SPOTBULB, 267.116, 1895.241, 36.246)
$ZONE69_OBJECT18 = Object.Init(#A51_SPOTHOUSING, 267.116, 1895.241, 36.246)
$ZONE69_OBJECT19 = Object.Init(#A51_SPOTBASE, 267.116, 1895.241, 36.246)
$ZONE69_OBJECT22 = Object.Init(#A51_SPOTBULB, 262.145, 1807.62, 36.246)
$ZONE69_OBJECT23 = Object.Init(#A51_SPOTHOUSING, 262.145, 1807.62, 36.246)
$ZONE69_OBJECT24 = Object.Init(#A51_SPOTBASE, 262.145, 1807.62, 36.246)
$ZONE69_OBJECT27 = Object.Init(#A51_SPOTBULB, 166.003, 1849.937, 36.246)
$ZONE69_OBJECT28 = Object.Init(#A51_SPOTHOUSING, 166.003, 1849.937, 36.246)
$ZONE69_OBJECT29 = Object.Init(#A51_SPOTBASE, 166.003, 1849.937, 36.246)
$ZONE69_OBJECT32 = Object.Init(#A51_SPOTBULB, 113.439, 1814.405, 36.246)
$ZONE69_OBJECT33 = Object.Init(#A51_SPOTHOUSING, 113.439, 1814.405, 36.246)
$ZONE69_OBJECT34 = Object.Init(#A51_SPOTBASE, 113.439, 1814.405, 36.246)

object.KeepInMemory($ZONE69_OBJECT2) = true
object.KeepInMemory($ZONE69_OBJECT3) = true
object.KeepInMemory($ZONE69_OBJECT4) = true
object.KeepInMemory($ZONE69_OBJECT7) = true
object.KeepInMemory($ZONE69_OBJECT8) = true
object.KeepInMemory($ZONE69_OBJECT9) = true
object.KeepInMemory($ZONE69_OBJECT12) = true
object.KeepInMemory($ZONE69_OBJECT13) = true
object.KeepInMemory($ZONE69_OBJECT14) = true
object.KeepInMemory($ZONE69_OBJECT17) = true
object.KeepInMemory($ZONE69_OBJECT18) = true
object.KeepInMemory($ZONE69_OBJECT19) = true
object.KeepInMemory($ZONE69_OBJECT22) = true
object.KeepInMemory($ZONE69_OBJECT23) = true
object.KeepInMemory($ZONE69_OBJECT24) = true
object.KeepInMemory($ZONE69_OBJECT27) = true
object.KeepInMemory($ZONE69_OBJECT28) = true
object.KeepInMemory($ZONE69_OBJECT29) = true
object.KeepInMemory($ZONE69_OBJECT32) = true
object.KeepInMemory($ZONE69_OBJECT33) = true
object.KeepInMemory($ZONE69_OBJECT34) = true

09CA: set_object $ZONE69_OBJECT2 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT3 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT4 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT7 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT8 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT9 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT12 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT13 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT14 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT17 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT18 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT19 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT22 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT23 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT24 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT27 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT28 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT29 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT32 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT33 immunities BP 1 FP 1 EP 1 CP 1 MP 1
09CA: set_object $ZONE69_OBJECT34 immunities BP 1 FP 1 EP 1 CP 1 MP 1

071F: set_object $ZONE69_OBJECT2 health_to 5000 
0875: set_object $ZONE69_OBJECT2 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT7 health_to 5000 
0875: set_object $ZONE69_OBJECT7 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT12 health_to 5000 
0875: set_object $ZONE69_OBJECT12 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT17 health_to 5000 
0875: set_object $ZONE69_OBJECT17 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT22 health_to 5000 
0875: set_object $ZONE69_OBJECT22 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT27 health_to 5000 
0875: set_object $ZONE69_OBJECT27 immune_to_nonplayer 1
071F: set_object $ZONE69_OBJECT32 health_to 5000 
0875: set_object $ZONE69_OBJECT32 immune_to_nonplayer 1        
        
:ZN_ARM2_CHECK
wait 0 
if and
00EC:   actor PLAYER_ACTOR sphere 0 near_point 204.1886 1882.1674 radius 500.0 500.0
$SAVESTATUS_TRUE == 0
jf @ZN_ARM2_CHECK

066D: $ZONE69_OBJECT5 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT2 with_offset 0.0 1.181 0.768 type 1
066D: $ZONE69_OBJECT10 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT7 with_offset 0.0 1.181 0.768 type 1
066D: $ZONE69_OBJECT15 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT12 with_offset 0.0 1.181 0.768 type 1
066D: $ZONE69_OBJECT20 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT17 with_offset 0.0 1.181 0.768 type 1
066D: $ZONE69_OBJECT25 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT22 with_offset 0.0 1.181 0.768 type 1
066D: $ZONE69_OBJECT30 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT27 with_offset 0.0 1.181 0.768 type 1

06B1: $ZONE69_OBJECT1 = create_searchlight_at 161.513 1932.982 35.391 radius 0.5 target 179.3614 1980.7266 18.0557 radius 12.5
06CA: attach_searchlight $ZONE69_OBJECT1 to_tower $ZONE69_OBJECT4 to_housing $ZONE69_OBJECT3 to_bulb $ZONE69_OBJECT2 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT6 = create_searchlight_at 233.067 1934.892 33.139 radius 0.5 target 181.0826 1986.2446 17.9821 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT6 to_tower $ZONE69_OBJECT9 to_housing $ZONE69_OBJECT8 to_bulb $ZONE69_OBJECT7 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT11 = create_searchlight_at 266.713 1894.979 34.139 radius 0.5 target 161.2773 1915.6947 18.6054 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT11 to_tower $ZONE69_OBJECT14 to_housing $ZONE69_OBJECT13 to_bulb $ZONE69_OBJECT12 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT16 = create_searchlight_at 261.97 1808.07 34.05 radius 0.5 target 324.5674 1806.7687 17.6555 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT16 to_tower $ZONE69_OBJECT19 to_housing $ZONE69_OBJECT18 to_bulb $ZONE69_OBJECT17 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT21 = create_searchlight_at 164.228 1837.892 34.05 radius 0.5 target 237.5103 1867.0165 18.6037 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT21 to_tower $ZONE69_OBJECT24 to_housing $ZONE69_OBJECT23 to_bulb $ZONE69_OBJECT22 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT26 = create_searchlight_at 103.887 1901.057 35.723 radius 0.5 target 255.8179 1762.4687 17.6406 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT26 to_tower $ZONE69_OBJECT29 to_housing $ZONE69_OBJECT28 to_bulb $ZONE69_OBJECT27 with_offset 0.0 1.181 0.768   
06B1: $ZONE69_OBJECT31 = create_searchlight_at 261.97 1808.07 36.05 radius 0.5 target 200.8815 1815.8506 17.6406 radius 10.5 
06CA: attach_searchlight $ZONE69_OBJECT31 to_tower $ZONE69_OBJECT34 to_housing $ZONE69_OBJECT33 to_bulb $ZONE69_OBJECT32 with_offset 0.0 1.181 0.768
 
06B4: set_searchlight $ZONE69_OBJECT1 path_between 179.3614 1980.7266 18.0557 and 48.4274 1897.8766 17.6406 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT6 path_between 181.0826 1986.2446 17.9821 and 241.1318 1951.2662 17.6406 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT11 path_between 161.2773 1915.6947 18.6054 and 267.7484 1859.1251 17.6406 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT16 path_between 324.5674 1806.7687 17.6555 and 196.974 1766.0245 17.6406 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT21 path_between 237.5103 1867.0165 18.6037 and 114.9366 1897.5613 18.4917 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT26 path_between 255.8179 1762.4687 17.6406 and 103.8278 1768.2761 17.6406 speed 0.7
06B4: set_searchlight $ZONE69_OBJECT31 path_between 200.8815 1815.8506 17.6406 and 111.4989 1917.5948 18.6635 speed 0.7

3@ = 1

:ZN_ARM2_CHECK2
wait 0 
if and
00EC:   actor PLAYER_ACTOR sphere 0 near_point 204.1886 1882.1674 radius 500.0 500.0
$SAVESTATUS_TRUE == 0
jf @ZN_ARM2_CHECK_DELETE

if
3@ == 1
    then
    00BF: 0@ = current_time_hours, 1@ = current_time_minutes
    0D59: 4@ = current_weather
    if or
    0@ > 20
    0@ < 6
    4@ == 19
        then
        else
        3@ = 0
        06B2: destroy_searchlight $ZONE69_OBJECT1
        06B2: destroy_searchlight $ZONE69_OBJECT6
        06B2: destroy_searchlight $ZONE69_OBJECT11
        06B2: destroy_searchlight $ZONE69_OBJECT16
        06B2: destroy_searchlight $ZONE69_OBJECT21
        06B2: destroy_searchlight $ZONE69_OBJECT26
        06B2: destroy_searchlight $ZONE69_OBJECT31
        0650: destroy_particle $ZONE69_OBJECT5
        0650: destroy_particle $ZONE69_OBJECT10
        0650: destroy_particle $ZONE69_OBJECT15
        0650: destroy_particle $ZONE69_OBJECT20
        0650: destroy_particle $ZONE69_OBJECT25
        0650: destroy_particle $ZONE69_OBJECT30
        end
    else
    00BF: 0@ = current_time_hours, 1@ = current_time_minutes
    0D59: 4@ = current_weather
    if or
    0@ > 20
    0@ < 6
    4@ == 19
        then
        3@ = 1
        
        066D: $ZONE69_OBJECT5 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT2 with_offset 0.0 1.181 0.768 type 1
        066D: $ZONE69_OBJECT10 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT7 with_offset 0.0 1.181 0.768 type 1
        066D: $ZONE69_OBJECT15 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT12 with_offset 0.0 1.181 0.768 type 1
        066D: $ZONE69_OBJECT20 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT17 with_offset 0.0 1.181 0.768 type 1
        066D: $ZONE69_OBJECT25 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT22 with_offset 0.0 1.181 0.768 type 1
        066D: $ZONE69_OBJECT30 = attach_particle "SHOOTLIGHT" to_object $ZONE69_OBJECT27 with_offset 0.0 1.181 0.768 type 1
        
        06B1: $ZONE69_OBJECT1 = create_searchlight_at 161.513 1932.982 35.391 radius 0.5 target 179.3614 1980.7266 18.0557 radius 12.5
        06CA: attach_searchlight $ZONE69_OBJECT1 to_tower $ZONE69_OBJECT4 to_housing $ZONE69_OBJECT3 to_bulb $ZONE69_OBJECT2 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT6 = create_searchlight_at 233.067 1934.892 33.139 radius 0.5 target 181.0826 1986.2446 17.9821 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT6 to_tower $ZONE69_OBJECT9 to_housing $ZONE69_OBJECT8 to_bulb $ZONE69_OBJECT7 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT11 = create_searchlight_at 266.713 1894.979 34.139 radius 0.5 target 161.2773 1915.6947 18.6054 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT11 to_tower $ZONE69_OBJECT14 to_housing $ZONE69_OBJECT13 to_bulb $ZONE69_OBJECT12 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT16 = create_searchlight_at 261.97 1808.07 34.05 radius 0.5 target 324.5674 1806.7687 17.6555 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT16 to_tower $ZONE69_OBJECT19 to_housing $ZONE69_OBJECT18 to_bulb $ZONE69_OBJECT17 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT21 = create_searchlight_at 164.228 1837.892 34.05 radius 0.5 target 237.5103 1867.0165 18.6037 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT21 to_tower $ZONE69_OBJECT24 to_housing $ZONE69_OBJECT23 to_bulb $ZONE69_OBJECT22 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT26 = create_searchlight_at 103.887 1901.057 35.723 radius 0.5 target 255.8179 1762.4687 17.6406 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT26 to_tower $ZONE69_OBJECT29 to_housing $ZONE69_OBJECT28 to_bulb $ZONE69_OBJECT27 with_offset 0.0 1.181 0.768   
        06B1: $ZONE69_OBJECT31 = create_searchlight_at 261.97 1808.07 36.05 radius 0.5 target 200.8815 1815.8506 17.6406 radius 10.5 
        06CA: attach_searchlight $ZONE69_OBJECT31 to_tower $ZONE69_OBJECT34 to_housing $ZONE69_OBJECT33 to_bulb $ZONE69_OBJECT32 with_offset 0.0 1.181 0.768
                 
        06B4: set_searchlight $ZONE69_OBJECT1 path_between 179.3614 1980.7266 18.0557 and 48.4274 1897.8766 17.6406 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT6 path_between 181.0826 1986.2446 17.9821 and 241.1318 1951.2662 17.6406 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT11 path_between 161.2773 1915.6947 18.6054 and 267.7484 1859.1251 17.6406 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT16 path_between 324.5674 1806.7687 17.6555 and 196.974 1766.0245 17.6406 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT21 path_between 237.5103 1867.0165 18.6037 and 114.9366 1897.5613 18.4917 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT26 path_between 255.8179 1762.4687 17.6406 and 103.8278 1768.2761 17.6406 speed 0.7
        06B4: set_searchlight $ZONE69_OBJECT31 path_between 200.8815 1815.8506 17.6406 and 111.4989 1917.5948 18.6635 speed 0.7
        end
    end

jump @ZN_ARM2_CHECK2

:ZN_ARM2_CHECK_DELETE

if
3@ == 1
then
06B2: destroy_searchlight $ZONE69_OBJECT1
06B2: destroy_searchlight $ZONE69_OBJECT6
06B2: destroy_searchlight $ZONE69_OBJECT11
06B2: destroy_searchlight $ZONE69_OBJECT16
06B2: destroy_searchlight $ZONE69_OBJECT21
06B2: destroy_searchlight $ZONE69_OBJECT26
06B2: destroy_searchlight $ZONE69_OBJECT31
0650: destroy_particle $ZONE69_OBJECT5
0650: destroy_particle $ZONE69_OBJECT10
0650: destroy_particle $ZONE69_OBJECT15
0650: destroy_particle $ZONE69_OBJECT20
0650: destroy_particle $ZONE69_OBJECT25
0650: destroy_particle $ZONE69_OBJECT30
end
    
wait 1000
jump @ZN_ARM2_CHECK        