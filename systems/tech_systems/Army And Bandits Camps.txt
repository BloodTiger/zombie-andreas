const
DEAD_TALK_RADIUS = 80.0
DEAD_TALK_RADIUS_Z = 30.0
PLUS_TIMER_TO_SPAWN_FRACTION = 40000
ZONE_ROCKET_ACCURACY = 24@
ZONE_ENTERED_FLAG = 15@
ENTERED_ZONE_NUM = 30@    
end      

const
ZONE_PAIN_TIMER_MIN = 2000
ZONE_PAIN_TIMER_MAX = 4500
ZONE_ATTACK_TIMER_MIN = 1500
ZONE_ATTACK_TIMER_MAX = 4000
ZONE_HUNTER_TIMER_MIN = 4000  
ZONE_HUNTER_TIMER_MAX = 7000
ZONE_TANK_TIMER_MIN = 4000  
ZONE_TANK_TIMER_MAX = 7000
ZONE_HUNTER2_TIMER_MIN = 4000  
ZONE_HUNTER2_TIMER_MAX = 7000
ZONE_WITCH_TIMER_MIN = 4000  
ZONE_WITCH_TIMER_MAX = 7000
ZONE_CHARGER_TIMER_MIN = 4000  
ZONE_CHARGER_TIMER_MAX = 7000
end

:ZON_ARM
thread 'ZON_ARM'

10@ = 2 
create_thread @ZN_ARM2
create_thread @BERTONC
32@ = 0
33@ = 0 

if
$GAMEMODE_WAR == 1
then 
ZONE_ROCKET_ACCURACY = 100  
else
ZONE_ROCKET_ACCURACY = 70 
end

{$INCLUDE zones\1 - SA Zone 69 Army Camp.txt}
{$INCLUDE zones\2 - SA Sawmill Army Camp.txt}
{$INCLUDE zones\3 - SA LS Port Army Camp.txt}
{$INCLUDE zones\4 - SA Aircraft Army Camp.txt}
{$INCLUDE zones\5 - SA LS Film Studio Bandits Camp.txt}
{$INCLUDE zones\6 - SA Montgomery Bandits Camp.txt}
{$INCLUDE zones\7 - SA LV Blackfield Bandits Camp.txt}
{$INCLUDE zones\8 - SA SF Doherthy Bandits Camp.txt}
{$INCLUDE zones\9 - VC Escobar Army Camp.txt}
{$INCLUDE zones\10 - VC Washington Beach Army Camp.txt}
{$INCLUDE zones\11 - VC Downtown Army Camp.txt}
{$INCLUDE zones\12 - VC Diaz Mansion Bandits Camp.txt}
{$INCLUDE zones\13 - VC Phil Junkyard Bandits Camp.txt}
{$INCLUDE zones\14 - VC Washington Mall Bandits Camp.txt}
{$INCLUDE zones\15 - LC Dam Army Camp.txt}
{$INCLUDE zones\16 - LC Portland Army Camp.txt}
{$INCLUDE zones\17 - LC Rockford Army Camp.txt}
{$INCLUDE zones\18 - LC Badfort Point Bandits Camp.txt}
{$INCLUDE zones\19 - LC Escobar Bandits Camp.txt}
{$INCLUDE zones\20 - LC Salvatore Mansion Bandits Camp.txt}
{$INCLUDE zones/X - OOS Mansion.txt}

/////////////////////////////////////////////////////////////////

:ZONES_SNIPERS_ACCURACY_SET
008F: 0@ = integer SNIPERS_ACCURACY to_float
008F: 1@ = integer SNIPERS_ACCURACY to_float
0@ *= 0.25
005B: 1@ += 0@  // (float)
0092: 1@ = float 0@ to_integer
return

/////////////////////////////////////////////////////////////////

:ARMY_ENEMY_TEXT

for 0@ = 0 to 39
$VAGINA_FLAG[0@] = 0
0085: 1@ = 0@ // (int)
1@ += 50
$WPN_Z[1@] = 960.0
end

ZONE_SIREN_FLAG = 0

if or
$ARMY_DONT_ATTACK_PLAYER_FLAG == 1
$PLAYER_ARMY_SIDE == 1
then
return
end

if or
CANT_CAPTURE_SHIT == 0
$FREEMODE == 0
then
text.ShowTextBox('GME1088')
else

if
$ENTERED_BCAMP_NUMBER == 5
then
text.ShowTextBox('GME1090')
else
text.ShowTextBox('GM1090B')
end

end

return

:ARMY_ENEMY_TEXT2

if or                   
$GAMEMODE_STORYLINE == 1 
$PLAYER_ARMY_SIDE == 1
$ARMY_DONT_ATTACK_PLAYER_FLAG == 1
$HUD_REMOVE == 1
CANT_CAPTURE_SHIT >= 1
    then
    return
    end
    
for 1@ = 0 to 200

v$PHRASE1 = "PH67_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH67_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2  

09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer
text.ClearAll()  
            
00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.

return

/////////////////////////////////////////////////////////////////

:BANDITS_ENEMY_TEXT

for 0@ = 0 to 39
$VAGINA_FLAG[0@] = 0
0085: 1@ = 0@ // (int)
1@ += 50
$WPN_Z[1@] = 960.0
end

ZONE_SIREN_FLAG = 0

if or
CARMA_VERY_BAD_FLAG == 1
$BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
$PLAYER_BANDIT_SIDE == 1
then
return
end

if or
CANT_CAPTURE_SHIT == 0
$FREEMODE == 0
then
text.ShowTextBox('GME1088')
else

if
$ENTERED_BCAMP_NUMBER == 5
then
text.ShowTextBox('GME1090')
else
text.ShowTextBox('GM1090B')
end

end

return

:BANDITS_ENEMY_TEXT2

if or
$GAMEMODE_STORYLINE == 1
$PLAYER_BANDIT_SIDE == 1 
$BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
$HUD_REMOVE == 1
CANT_CAPTURE_SHIT >= 1
    then
    return
    end

for 1@ = 0 to 200

v$PHRASE1 = "PH68_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH68_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2  

09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer
text.ClearAll()  
            
00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00. 

return

/////////////////////////////////////////////////////////////////

:ARMY_ZONE_RANDOM_HP

008B: 3@ = $ZONE69_ARMY_HEALTH // (int)
0093: 3@ = integer 3@ to_float
random_float 1@ 0.85 1.35 
006B: 3@ *= 1@  // (float)  
0092: 3@ = float 3@ to_integer   

if and
$GAMEMODE_WAR == 0
$GAMEMODE_STORYLINE == 0
then
0209: 1@ = random_int_in_ranges $PEOPLE_MIN_MONEY $PEOPLE_MAX_MONEY

if
056D:   actor $ARMY69_2[0@] defined
then 
03FE: set_actor $ARMY69_2[0@] money 1@
end

end

if
CANT_CAPTURE_SHIT >= 1
then
3@ *= 10

if
056D:   actor $ARMY69_2[0@] defined
then
07DD: set_actor $ARMY69_2[0@] attack_rate 999 // previously known as temper_to
end

end 

return

/////////////////////////////////////////////////////////////////

:BANDITS_ZONE_RANDOM_HP

008B: 3@ = $BANDITS_ZONE_HEALTH // (int)
0093: 3@ = integer 3@ to_float
random_float 1@ 0.85 1.35 
006B: 3@ *= 1@  // (float)  
0092: 3@ = float 3@ to_integer 

if and
$GAMEMODE_WAR == 0  
$GAMEMODE_STORYLINE == 0 
then
0209: 1@ = random_int_in_ranges $PEOPLE_MIN_MONEY $PEOPLE_MAX_MONEY

if
056D:   actor $ARMY69_2[0@] defined
then 
03FE: set_actor $ARMY69_2[0@] money 1@
end

end

if
CANT_CAPTURE_SHIT >= 1
then
3@ = 2000000

if
056D:   actor $ARMY69_2[0@] defined
then
07DD: set_actor $ARMY69_2[0@] attack_rate 999 // previously known as temper_to
end

end  

return

/////////////////////////////////////////////////////////////////

:ARMY_ZONE_RANDOM_ACQ

008B: 3@ = $ZONE69_ARMY_ACCURACY // (int)
0093: 3@ = integer 3@ to_float
random_float 1@ 0.85 1.15 
006B: 3@ *= 1@  // (float)  
0092: 3@ = float 3@ to_integer

if
3@ > 95
then
3@ = 95
end

if
CANT_CAPTURE_SHIT >= 1
then
3@ = 999
end

if or
$PLAYER_ARMY_SIDE == 1
$ARMY_DONT_ATTACK_PLAYER_FLAG == 1
    then
    if
    CAN_AIM_AT_SURVIVORS == 0
        then
        0568: set_actor $ARMY69_2[0@] untargetable 1
        end
    end 

return

/////////////////////////////////////////////////////////////////

:BAMDITS_ZONE_RANDOM_ACQ

008B: 3@ = $BANDITS_ZONE_ACCURACY // (int)
0093: 3@ = integer 3@ to_float
random_float 1@ 0.85 1.15 
006B: 3@ *= 1@  // (float)  
0092: 3@ = float 3@ to_integer 

if
3@ > 95
then
3@ = 95
end

if
CANT_CAPTURE_SHIT >= 1
then
3@ = 999
end

if or
$PLAYER_BANDIT_SIDE == 1
$BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
    then
    if
    CAN_AIM_AT_SURVIVORS == 0
        then
        0568: set_actor $ARMY69_2[0@] untargetable 1
        end
    end 

return

/////////////////////////////////////////////////////////////////

:ZONE_MARKERS_CHECK
0@ = -1              
:ZONE_MARKERS_CHECK2
0@ += 1         

$ZONE_PAIN_TIMER += 1
$ZONE_ATTACK_TIMER += 1
$ZONE_TANK_TIMER += 1
$ZONE_HUNTER_TIMER += 1
$ZONE_HUNTER2_TIMER += 1
$ZONE_WITCH_TIMER += 1

if
$WTH_AGRED_FLAG[$SPECLS_NUM] == 1
then
$ZONE_WITCH_TIMER += 250
end
 
$ZONE_CHARGER_TIMER += 1  
        
$SAVEPLACE_ON = 1          
ZOMBIES_NOTSPAWN = 1  

if
801F: not  0@ > $ZONE_PEOPLE_COUNT // (int)
jf @ZONE_MARKERS_CHECK_RETURN

if
$ARMY69_2_MARKER_FLAG[0@] == 0
jf @ZONE_MARKERS_CHECK2

////////////////////////////////////////////////////////////////////////////////////// 

{$INCLUDE zones/Base Car Save Coords.txt}

//////////////////////////////////////////////////////////////////////////////////////

if and
0E45: frame_mod 540
PODMOGA_BASE_FLAG == 0
ZONE_SIREN_FLAG == 1
not OOS_MARK == 156546
    then
    
//    0AD1: show_formatted_text_highpriority "SCROLL PODMOGA CHANCE" time 500        
    
    if
    0E4D: random_percent 15    
        then        
        actor.StorePos(PLAYER_ACTOR,CAMP_RAID_DEST_X,CAMP_RAID_DEST_Y,CAMP_RAID_DEST_Z)        
//        0AD1: show_formatted_text_highpriority "DO SQUAD PODMOGA" time 2000
        
        if
        056D:   actor $ARMY69_2[0@] defined
        then
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        end
        
        if
        2@ == 25
            then
            $BANDITS1_SPAWN_FLAG = 1
            PODMOGA_BASE_FLAG = 2
            else
            $ARMY1_SPAWN_FLAG = 1
            PODMOGA_BASE_FLAG = 1
            end
        else
        if
        0E4D: random_percent 5
            then 
//            0AD1: show_formatted_text_highpriority "DO HELI PODMOGA" time 2000
            
            if
            056D:   actor $ARMY69_2[0@] defined
            then
            089F: get_actor $ARMY69_2[0@] pedtype_to 2@
            end
            
            if
            2@ == 25
                then
                BANDIT_HELI_SPAWN_FLAG = 1
                else
                ARMY_HUNTER_SPAWN_FLAG = 1
                end
            end
        end 
    end

////////////////////////////////////////////////Заставляем балванов перелезать препятствия////////////////////////////////////////////////    

if
ENEMY_ZONE_CLIMB_FLAG == 1
    then    
    if
    056D:   actor $ARMY69_2[0@] defined
        then
        if and
        0184:   actor $ARMY69_2[0@] health > 0
        874F: not  actor $ARMY69_2[0@] ped_event == 33  
        8818: not  actor $ARMY69_2[0@] in_air 
            then    
            if and
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_idle"
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_jump"
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_jump2fall"
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_jump_B"
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_Pull" 
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_Stand"
            not actor.Animation($ARMY69_2[0@]) == "CLIMB_Stand_finish"             
                then
                if or
                actor.Animation($ARMY69_2[0@]) == "run_civi"  
                actor.Animation($ARMY69_2[0@]) == "sprint_civi"   
                actor.Animation($ARMY69_2[0@]) == "swat_run"
                actor.Animation($ARMY69_2[0@]) == "Swim_Breast"
                actor.Animation($ARMY69_2[0@]) == "Swim_Tread"
                actor.Animation($ARMY69_2[0@]) == "Swim_Under"     
                    then    
                    actor.StorePos($ARMY69_2[0@], 3@, 4@, 5@) 
                    04C4: store_coords_to 27@ 28@ 29@ from_actor $ARMY69_2[0@] with_offset 0.0 3.0 0.3                                 
                    if                         
                    86BD: not no_obstacles_between 27@ 28@ 29@ and 3@ 4@ 5@ solid 1 car 0 actor 0 object 1 particle 0   
                        then      
                        0687: clear_actor $ARMY69_2[0@] task
                        wait 100                                                                                                                                                   
                        078F: AS_actor $ARMY69_2[0@] climb 1                                                                           
                        end
                    end                                            
                end 
            end
        end
    end

////////////////////////////////////////////////////////////////////////////////////// 

gosub @ZONE_ATTACK_SYSTEM_PLAYER_CHECK
if
19@ == 1
    then
    if and
    056D:   actor $ARMY69_2[0@] defined
    not $ARMY69_2[0@] == -69
        then
        if
        0184:   actor $ARMY69_2[0@] health > 0
            then
            gosub @ZONE_ARMORED_CAR_CHECK
            if
            2@ == 1
                then
                actor.SetImmunities($ARMY69_2[0@],0,1,0,0,0)
                else
                actor.SetImmunities($ARMY69_2[0@],0,0,0,0,0)
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 18
                then
                0555: remove_weapon 18 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 35
                then
                0555: remove_weapon 35 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 36
                then
                0555: remove_weapon 36 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 93
                then
                0555: remove_weapon 93 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 118
                then
                0555: remove_weapon 118 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 119
                then
                0555: remove_weapon 119 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 134
                then
                0555: remove_weapon 134 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 135
                then
                0555: remove_weapon 135 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 179
                then
                0555: remove_weapon 179 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 183
                then
                0555: remove_weapon 183 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 209
                then
                0555: remove_weapon 209 from_actor $ARMY69_2[0@]
                end
                
                if
                02D8:   actor $ARMY69_2[0@] current_weapon == 213
                then
                0555: remove_weapon 213 from_actor $ARMY69_2[0@]
                end
                
                for 4@ = 3 to 7

                04B8: get_weapon_data_from_actor $ARMY69_2[0@] slot 4@ weapon 2@ ammo 1@ model 19@
                if
                1@ > 0
                then
                01B9: set_actor $ARMY69_2[0@] armed_weapon_to 2@
                end
                
                end
                
                end
            end
        end
    end

//////////////////////////////////////////////////////////////////////////////////////

gosub @ZONE_ATTACK_SYSTEM_PLAYER_CHECK
if
19@ == 1
    then
    random_int 1@ 0 to 60
    if and
    056D:   actor $ARMY69_2[0@] defined
    not $ARMY69_2[0@] == -69
    1@ == 30
        then
        if
        0184:   actor $ARMY69_2[0@] health > 0
            then
            random_int 1@ 0 to 20
            if and
            not 1@ == 9
            84C8: not  actor PLAYER_ACTOR driving_flying_vehicle
            then
            
            4@ = 30.0
            
            ////////////////////////////////////////////////////////
    
            if
            UNITED_MAP == 0
            then
            1@ = 18                          
            else
                            
            if
            $UNITED_VC_FLAG == 0
            then
                            
            if
            STORIES_MAP == 0
            then
            1@ = 118
            else
            1@ = 179
            end
                            
            else
                            
            if
            STORIES_MAP == 0
            then
            1@ = 134
            else
            1@ = 209
            end
                            
            end
                            
            end
            
            ////////////////////////////////////////////////////////
            
            else
            
            ////////////////////////////////////////////////////////
            
            4@ = 200.0
            
            if
            UNITED_MAP == 0
            then        
            1@ = 35
            else
            
            if
            $UNITED_VC_FLAG == 0
            then
            
            if
            STORIES_MAP == 0
            then        
            1@ = 119
            else        
            1@ = 183
            end
            
            else
            
            if
            STORIES_MAP == 0
            then
            1@ = 135
            else
            1@ = 213
            end
            
            end
            
            end
            
            ////////////////////////////////////////////////////////
            
            end
            
            ////////////////////////////////////////////////////////
            
            2@ = 0
            
            if
            8491: not  actor $ARMY69_2[0@] has_weapon 1@
            then
            2@ = 1
            else
            041A: 3@ = actor $ARMY69_2[0@] weapon 1@ ammo
            
            if
            3@ == 0
            then
            2@ = 1
            end
                
            end
            
            ////////////////////////////////////////////////////////        
                 
            if and       
            0104:   actor PLAYER_ACTOR near_actor $ARMY69_2[0@] radius 4@ 4@ 4@ sphere 0
            not actor.Animation($ARMY69_2[0@]) == "WEAPON_throw"
            not actor.Animation($ARMY69_2[0@]) == "WEAPON_throwu"
            not actor.Animation($ARMY69_2[0@]) == "WEAPON_start_throw"
            2@ == 1    
                then
                gosub @ZONE_ARMORED_CAR_CHECK
                if
                2@ == 1                
                    then                
                        
                    0781: get_weapon_with_ID 1@ model_to 2@
                    while not model.Available(2@)
                    wait 0
                    model.Load(2@)
                    mload
                    end
                        
                    actor.GiveWeaponAndAmmo($ARMY69_2[0@],1@,1)
                    end
                end
            end
        end
    end
    
//////////////////////////////////////////////////////////////////////////////////////

if and
$ZONE_MARKER_FLAG == 1
056D:   actor $ARMY69_2[0@] defined
then
$ZONE_MARKER_FLAG = 0
089F: get_actor $ARMY69_2[0@] pedtype_to 2@

if
2@ == 27
then

if
$ARMY_DONT_ATTACK_PLAYER_FLAG == 0
then

for 2@ = 0 to 40
if
075C:   marker $ARMY69_2_MARKER[2@] enabled
    then
    018B: set_marker $ARMY69_2_MARKER[2@] radar_mode 2
    07E0: set_marker $ARMY69_2_MARKER[2@] type_to 0
    end        
end

else

for 2@ = 0 to 40
if
075C:   marker $ARMY69_2_MARKER[2@] enabled
    then
    018B: set_marker $ARMY69_2_MARKER[2@] radar_mode 2
    07E0: set_marker $ARMY69_2_MARKER[2@] type_to 1
    end        
end

end

else

if and
$BANDITS_DONT_ATTACK_PLAYER_FLAG == 0
BCAMP_AGRED_FLAG == 0
then

for 2@ = 0 to 40
if
075C:   marker $ARMY69_2_MARKER[2@] enabled
    then
    018B: set_marker $ARMY69_2_MARKER[2@] radar_mode 2
    07E0: set_marker $ARMY69_2_MARKER[2@] type_to 0
    end        
end

else

for 2@ = 0 to 40
if
075C:   marker $ARMY69_2_MARKER[2@] enabled
    then
    018B: set_marker $ARMY69_2_MARKER[2@] radar_mode 2
    
    if
    BCAMP_AGRED_FLAG == 0
    then
    07E0: set_marker $ARMY69_2_MARKER[2@] type_to 1
    else
    07E0: set_marker $ARMY69_2_MARKER[2@] type_to 0
    end
    
    end        
end

end

end

end

////////////////////////////////////////////////////////////////

if
$CHEATS_ON == 1
then
if
0A1B:   actor PLAYER_ACTOR colliding_with_actor $ARMY69_2[0@]
    then
    0AD1: show_formatted_text_highpriority "BOEC NUMBER IS %d" time 2000 0@
    end
end

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end          

random_int 11@ 0 5
gosub @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE1    

if
not OOS_MARK == 156547
then
gosub @ZONE_ATTACK_SYSTEM
end

if and
not $QUEST_TYPE == 9991
not CANT_CAPTURE_SHIT >= 1
then

////////////////////////////////////////////////Голос про охотника////////////////////////////////////////////////      

if
001C:   $ZONE_HUNTER_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
then
if 
056D:   actor $ARMY69_2[0@] defined  
    then
    04DD: 3@ = actor $ARMY69_2[0@] armour
    if and    
    not actor.Dead($ARMY69_2[0@])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    3@ == 1
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then           
        
        $ZONE_HUNTER_TIMER = 0
        random_int random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER2_TIMER_MIN ZONE_HUNTER2_TIMER_MAX        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 27
        then
        gosub @RANDOM_DIALOG_HUNTER2_ZONE_ARMY
        else
        gosub @RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
        end                           
                    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer  
                    
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.  
        end            
    end
end          

////////////////////////////////////////////////Голос про танка////////////////////////////////////////////////      

if
001C:   $ZONE_TANK_TIMER > $ZONE_TANK_TIMER2 // (int)
then
if and
056D:   actor $ARMY69_2[0@] defined  
056D:   actor $TANK[$SPECLS_NUM] defined  
    then   
    if and    
    not actor.Dead($ARMY69_2[0@])
    not actor.Dead($TANK[$SPECLS_NUM])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $TANK[$SPECLS_NUM] near_actor $ARMY69_2[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $ARMY69_2[0@] spotted_actor $TANK[$SPECLS_NUM]   
        0364:   actor $TANK[$SPECLS_NUM] spotted_actor $ARMY69_2[0@]
            then
        
            $ZONE_TANK_TIMER = 0
            random_int random_int $ZONE_TANK_TIMER2 ZONE_TANK_TIMER_MIN ZONE_TANK_TIMER_MAX                    
            089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
            else
            gosub @RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
            end                       
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end
end   
     
////////////////////////////////////////////////Голос про охотника////////////////////////////////////////////////   

if
001C:   $ZONE_HUNTER2_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
then
if and
056D:   actor $ARMY69_2[0@] defined  
056D:   actor $HUNTER[$SPECLS_NUM] defined  
    then    
    if and    
    not actor.Dead($ARMY69_2[0@])
    not actor.Dead($HUNTER[$SPECLS_NUM])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $HUNTER[$SPECLS_NUM] near_actor $ARMY69_2[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $ARMY69_2[0@] spotted_actor $HUNTER[$SPECLS_NUM]   
        0364:   actor $HUNTER[$SPECLS_NUM] spotted_actor $ARMY69_2[0@]
            then
        
            $ZONE_HUNTER2_TIMER = 0
            random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER_TIMER_MIN ZONE_HUNTER_TIMER_MAX                                
            089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
            else
            gosub @RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
            end                 
                                
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end
end            
     
////////////////////////////////////////////////Голос про ведьму////////////////////////////////////////////////      

if
001C:   $ZONE_WITCH_TIMER > $ZONE_WITCH_TIMER2 // (int)
then
if and
056D:   actor $ARMY69_2[0@] defined  
056D:   actor $WITCH[$SPECLS_NUM] defined  
    then             
    if and    
    not actor.Dead($ARMY69_2[0@])
    not actor.Dead($WITCH[$SPECLS_NUM])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $WITCH[$SPECLS_NUM] near_actor $ARMY69_2[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $ARMY69_2[0@] spotted_actor $WITCH[$SPECLS_NUM]   
        0364:   actor $WITCH[$SPECLS_NUM] spotted_actor $ARMY69_2[0@]
            then
        
            $ZONE_WITCH_TIMER = 0
            random_int random_int $ZONE_WITCH_TIMER2 ZONE_WITCH_TIMER_MIN ZONE_WITCH_TIMER_MAX                    
            089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
            else
            gosub @RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
            end        
                                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end
end          
     
////////////////////////////////////////////////Голос про громилу////////////////////////////////////////////////      

if
001C:   $ZONE_CHARGER_TIMER > $ZONE_CHARGER_TIMER2 // (int)
then
if and
056D:   actor $ARMY69_2[0@] defined  
056D:   actor $CHARGER[$SPECLS_NUM] defined  
    then          
    if and    
    not actor.Dead($ARMY69_2[0@])
    not actor.Dead($CHARGER[$SPECLS_NUM])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $CHARGER[$SPECLS_NUM] near_actor $ARMY69_2[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $ARMY69_2[0@] spotted_actor $CHARGER[$SPECLS_NUM]   
        0364:   actor $CHARGER[$SPECLS_NUM] spotted_actor $ARMY69_2[0@]
            then
        
            $ZONE_CHARGER_TIMER = 0
            random_int random_int $ZONE_CHARGER_TIMER2 ZONE_CHARGER_TIMER_MIN ZONE_CHARGER_TIMER_MAX                    
            089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
            else
            gosub @RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
            end               
        
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00. 
            end        
         end    
     end
end 

if
001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
then     
if 
056D:   actor $ARMY69_2[0@] defined
    then      
    if and    
    not actor.Dead($ARMY69_2[0@])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    051A:   actor $ARMY69_2[0@] damaged_by_actor PLAYER_ACTOR
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        gosub @FUCKCHECK
        
        if
        1@ == 1
        jf @OHMYDOG
        
        2@ = 0
        1@ = 0        

        if or
        031D:   actor $ARMY69_2[0@] hit_by_weapon 0
        031D:   actor $ARMY69_2[0@] hit_by_weapon 46
        then
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        054E: clear_actor $ARMY69_2[0@] damage
        2@ = 1
        1@ = 1            
        else
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        054E: clear_actor $ARMY69_2[0@] damage
        2@ = 1
        1@ = 0
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY
        else
        gosub @RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY
        end                        
          
        else                        
        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY
        else
        gosub @RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        
        jump to @OHMYDOG2
        
        end            

        end
    end
end 
    
:OHMYDOG            
     
////////////////////////////////////////////                                 

if
001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
then
if 
056D:   actor $ARMY69_2[0@] defined
    then      
    if and    
    not actor.Dead($ARMY69_2[0@])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0 
        then
        
        2@ = 0
        1@ = 0
        
        ///////////////////////
        
        for 4@ = 22 to 34
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 70 to MAX_WEAPON_NUM_NORMAL
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 111 to 121
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 136 to 151
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 165 to 183
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 195 to 213
        
        if
        031D:   actor $ARMY69_2[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////        
        
        if and 
        031D:   actor $ARMY69_2[0@] hit_by_weapon 0
        851A: not  actor $ARMY69_2[0@] damaged_by_actor PLAYER_ACTOR
        then
        
        2@ = 1
        1@ = 1
        0467: clear_actor $ARMY69_2[0@] last_weapon_damage
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS
        else
        gosub @RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY
        end                        
          
        else                        
        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        else
        gosub @RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.                
        
        end            

        end
    end
end   
    
:OHMYDOG2          

if
001C:   $ZONE_ATTACK_TIMER > $ZONE_ATTACK_TIMER2 // (int)
then    
if 
056D:   actor $ARMY69_2[0@] defined
    then
    if and    
    not actor.Dead($ARMY69_2[0@])
    0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    02E0:   actor $ARMY69_2[0@] firing_weapon
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        $ZONE_ATTACK_TIMER = 0
        random_int $ZONE_ATTACK_TIMER2 ZONE_ATTACK_TIMER_MIN ZONE_ATTACK_TIMER_MAX        
        089F: get_actor $ARMY69_2[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @RANDOM_DIALOG_ATTACK_ZONE_BANDITS
        else
        gosub @RANDOM_DIALOG_ATTACK_ZONE_ARMY
        end                     
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        end            
    end
end

////////////////////////////////////////////////Голос про хазмата////////////////////////////////////////////////      

if
not HAZMAT_HANDLE == -69
then
0209: 2@ = random_int_in_ranges HAZMAT_PHRASE_MIN HAZMAT_PHRASE_MAX
if
2@ == HAZMAT_PHRASE_SET
    then
    if and
    056D:   actor $ARMY69_2[0@] defined  
    056D:   actor HAZMAT_HANDLE defined  
        then
        if and
        not actor.Dead($ARMY69_2[0@])
        not actor.Dead(HAZMAT_HANDLE)
        0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
        $SPECTATING_FLAG == 0
        $SCREWHUD_FLAG == 0
        $PHRASES_OFF_FLAG == 0
        0104:   actor HAZMAT_HANDLE near_actor $ARMY69_2[0@] radius 100.0 100.0 100.0 0      
            then
            if or
            0364:   actor $ARMY69_2[0@] spotted_actor HAZMAT_HANDLE   
            0364:   actor HAZMAT_HANDLE spotted_actor $ARMY69_2[0@]
                then
                
                089F: get_actor $ARMY69_2[0@] pedtype_to 2@                               
                
                if
                2@ == 25
                then
                gosub @RANDOM_DIALOG_HAZMAT_ZONE_BANDITS
                else
                gosub @RANDOM_DIALOG_HAZMAT_ZONE_ARMY
                end       
                                            
                09FD: get_gxt_string v$PHRASE3 width_to 2@  // ~k~~PED_SPRINT~ Select
                0093: 2@ = integer 2@ to_float
                2@ *= 8.0
                0092: 2@ = float 2@ to_integer  
                            
                00BC: show_text_highpriority GXT v$PHRASE3 time 2@ flag 1  // ~s~Come back between 9:00 and 17:00.
                end        
             end    
         end
    end
end

end                           

if
056D:   actor $ARMY69_2[0@] defined
jf @ZONE_MARKERS_CHECK2
if or
8184:   actor $ARMY69_2[0@] health < 1
actor.Dead($ARMY69_2[0@])
jf @ZONE_MARKERS_CHECK2

create_thread @ANTKUKL $ARMY69_2[0@]

/////////////////////////////////////////////////////////////////////////////////////////////////////////

0A96: 3@ = actor $ARMY69_2[0@] struct
0A8E: 3@ = 3@ + 0x764
0A8D: 1@ = read_memory 3@ size 2 virtual_protect 1
0A8D: 2@ = read_memory 0xB6F5F0 size 2 virtual_protect 1

if
0800:   in_two_players_mode
then
0A8D: 3@ = read_memory 0xB7CF28 size 2 virtual_protect 1
else
3@ = -69
end
        
if or
003B:   1@ == 2@  // (int)
003B:   1@ == 3@  // (int)
then
$SLOW_BAR += BASE_SLOWMODE_PLUS
end

/////////////////////////////////////////////////////////////////////////////////////////////////////////

089F: get_actor $ARMY69_2[0@] pedtype_to 2@      

if
2@ == 25
then

if
CARMA_VERY_BAD_FLAG == 1
then

0A96: 3@ = actor $ARMY69_2[0@] struct
0A8E: 3@ = 3@ + 0x764
0A8D: 1@ = read_memory 3@ size 2 virtual_protect 1
0A8D: 2@ = read_memory 0xB6F5F0 size 2 virtual_protect 1
        
/////////////////////////////////////////////////////////////////////////////////////////////////////////            

if
0800:   in_two_players_mode
then
0A8D: 3@ = read_memory 0xB7CF28 size 2 virtual_protect 1
else
3@ = -69
end
        
if or
003B:   1@ == 2@  // (int)
003B:   1@ == 3@  // (int)
then
0084: BCAMP_AGRED_FLAG = $ENTERED_BCAMP_NUMBER // (int)
$ZONE_MARKER_FLAG = 1
CARMA_GOOD_POINTS += 10
CARMA_BAD_POINTS -= 5
Audiostream.Loop($KARMA_LOX,0)
Audiostream.PerformAction($KARMA_LOX, PLAY)
Audiostream.Volume($KARMA_LOX) = $SOUNDS_VOLUME
end

end

end

0A96: 3@ = actor $ARMY69_2[0@] struct
3@ += 0x754
0A8D: 1@ = read_memory 3@ size 4 virtual_protect 0
2@ = 0    
0ECE: get_time_char_is_dead $ARMY69_2[0@] store_to 2@

if
2@ == 25
then
0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANDITS_KILLED"        
        
if
$CHEATED_FLAG == 0 
then               
2@ += 1
end
$BANDITS_KILLED += 1                    
         
0AF1: write_int 2@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANDITS_KILLED"
else

0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_ARMY_KILLED"        
        
if
$CHEATED_FLAG == 0 
then               
2@ += 1
end
$ARMY_KILLED += 1                    
         
0AF1: write_int 2@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_ARMY_KILLED"

end

if and
0104:   actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
89A8: not  actor $ARMY69_2[0@] headshoted
$SPECTATING_FLAG == 0
$SCREWHUD_FLAG == 0
$PHRASES_OFF_FLAG == 0
not $QUEST_TYPE == 9991
not 1@ == 0x02
2@ > 500 
then

089F: get_actor $ARMY69_2[0@] pedtype_to 2@

if
2@ == 25
then
gosub @RANDOM_DIALOG_DEAD_BANDITS2    
else
gosub @RANDOM_DIALOG_DEAD_ARMY2
end   
    
09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer
text.ClearAll()  
            
00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.

end

if
075C:   marker $ARMY69_2_MARKER[0@] enabled
then
marker.Disable($ARMY69_2_MARKER[0@])
$ARMY69_2_MARKER[0@] = 0
0085: 31@ = 0@
31@ *= 4 //size of byte
gosub @CHECK_CURRENT_ENTERED_BASE_ZONE
0EE3: write_struct_offset_multi 2@ offset 31@ count 1 size 4 1
end

$ARMY69_2_MARKER_FLAG[0@] = 1
jump to @ZONE_MARKERS_CHECK2

:ZONE_PEDTYPE_CHECK_SPEC_INFECTED

9@ = 0

089F: get_actor $ARMY69_2[0@] pedtype_to 2@   

if
2@ == 25
    then
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
        then
        9@ = 1
        end
    end   
    
if
2@ == 27
    then
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
        then
        9@ = 1
        end
    end    

return

:FUCKCHECK

089F: get_actor $ARMY69_2[0@] pedtype_to 2@

1@ = 0

if 
2@ == 25
    then
    
    if
    BCAMP_AGRED_FLAG > 0
    then
    return
    end
    
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end
        
if 
2@ == 27
    then
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end

return

:FUCKCHECK_SIREN

089F: get_actor $ARMY69_2[1@] pedtype_to 2@

3@ = 0

if 
2@ == 25
    then
    
    if
    BCAMP_AGRED_FLAG > 0
    then
    return
    end
    
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
        then
        3@ = 1
        end
    end
        
if 
2@ == 27
    then
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
        then
        3@ = 1
        end
    end

return

:ZONE_MARKERS_CHECK_RETURN
return

:ZONE_ARMORED_CAR_CHECK

2@ = 0

if or
actor.DrivingVehicleType(PLAYER_ACTOR,#SECURICA)
actor.DrivingVehicleType(PLAYER_ACTOR,#SWATVAN)
actor.DrivingVehicleType(PLAYER_ACTOR,#FBITRUCK)
actor.DrivingVehicleType(PLAYER_ACTOR,RHINO_MODEL_NUMBER)
actor.DrivingVehicleType(PLAYER_ACTOR,15386)
actor.DrivingVehicleType(PLAYER_ACTOR,15331)
actor.DrivingVehicleType(PLAYER_ACTOR,15436)
actor.DrivingVehicleType(PLAYER_ACTOR,15534)
    then
    2@ = 1
    end
    
if or
04C8:   actor PLAYER_ACTOR driving_flying_vehicle
actor.DrivingVehicleType(PLAYER_ACTOR,15435)
    then
    2@ = 1
    end    

return

:SIREN_VOLUME

if
ZONE_SIREN_FLAG == 1
then

actor.StorePos(PLAYER_ACTOR,25@,26@,27@)
050A: 1@ = distance_between_XYZ 25@ 26@ 27@ and_XYZ $SIREN_X $SIREN_Y $SIREN_Z

0077: 1@ /= $SIREN_VOLUME_MULTIPER // (float)

2@ = 1.0

if
1@ > 0.9
    then
    1@ = 0.9
    end
    
0063: 2@ -= 1@  // (float)                   

0086: $SOUNDS_VOLUME22 = $SOUNDS_VOLUME // (float)
006D: $SOUNDS_VOLUME22 *= 2@ // (float)

if or
$SIMULATING_FLAG == 1
not $GAME_SPEED >= 1.0
then
$SOUNDS_VOLUME22 = 0.0
end

Audiostream.Volume($SOUND_EFFECT1) = $SOUNDS_VOLUME22

else

for 1@ = 0 to 39

if
056D:   actor $ARMY69_2[1@] defined 
    then
    gosub @FUCKCHECK_SIREN
    if and   
    0104:   actor PLAYER_ACTOR near_actor $ARMY69_2[1@] radius 100.0 100.0 1000.0 sphere 0
    3@ == 0
    not $QUEST_TYPE == 9991
        then
        if or
        0364:   actor $ARMY69_2[1@] spotted_actor PLAYER_ACTOR
        051A:   actor $ARMY69_2[1@] damaged_by_actor PLAYER_ACTOR
            then
            ZONE_SIREN_FLAG = 1
            
            089F: get_actor $ARMY69_2[1@] pedtype_to 0@
            
            if
            0@ == 25
            then
            gosub @BANDITS_ENEMY_TEXT2
            else
            gosub @ARMY_ENEMY_TEXT2
            end
             
            end
        end
    end

end

end          
                                                                 
return

:MARKERS_DISABLE

for 0@ = 0 to 39

if
075C:   marker $ARMY69_2_MARKER[0@] enabled
then
marker.Disable($ARMY69_2_MARKER[0@])
$ARMY69_2_MARKER[0@] = 0
end

end

if
$SOUND_EFFECT1_FLAG == 1
    then
    Audiostream.PerformAction($SOUND_EFFECT1, STOP)
    audiostream.Release($SOUND_EFFECT1)
    $SOUND_EFFECT1_FLAG = 0  
    $ENEMY_ZONE_IN = 0
    
    if
    HORDE_PREV_STATUS == 1
    then
    HORDE_PREV_STATUS = 0
    end
    
    end
    
if
ZONE_SIREN_FLAG == 1
    then
    ZONE_SIREN_FLAG = 0
    end           

//$SAVEPLACE_ON = 0  
ZOMBIES_NOTSPAWN = 0
PODMOGA_BASE_FLAG = 0

///////////////////////////////////////

0@ = 0

for 1@ = 0 to $ZONE_PEOPLE_COUNT

if
$ARMY69_2_MARKER_FLAG[0@] == 0
    then
    0@ = 1    
    end

end

///////////////////////////////////////

if and
0@ == 1
not 2@ == 692835678
then

if or
CANT_CAPTURE_SHIT == 0
$FREEMODE == 0
then
text.ShowTextBox('GME1089')
else

if
$ENTERED_BCAMP_NUMBER == 5
then
text.ShowTextBox('GME1091')
else
text.ShowTextBox('GM1091B')
end

end

end     

return

:ARMY_ACH_CHECK

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_ARMY_CAMPS_CLEARED"
0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT47_GOT"
    
if and
1@ == 0
0@ >= 50
    then
    v$ACHIEVEMNT = "ACH47"
    $ACHIEVEMENT_GOT_FLAG = 1    
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT47_GOT"    
    end

return

:BANDITS_ACH_CHECK

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANDITS_CAMPS_CLEARED"
0AF0: 1@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT46_GOT"

    
if and
1@ == 0
0@ >= 50
    then
    v$ACHIEVEMNT = "ACH46"
    $ACHIEVEMENT_GOT_FLAG = 1    
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT46_GOT"    
    end

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DEAD_BANDITS2

for 1@ = 0 to 200

v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DEAD_ARMY2

for 1@ = 0 to 200

v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY

for 1@ = 0 to 200

v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY

for 1@ = 0 to 200

v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS

for 1@ = 0 to 200

v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS

for 1@ = 0 to 200

v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_ATTACK_ZONE_BANDITS

for 1@ = 0 to 200

v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:RANDOM_DIALOG_ATTACK_ZONE_ARMY

for 1@ = 0 to 200

v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

v$PHRASE1 = "PH34_"

if
$WTH_AGRED_FLAG[$SPECLS_NUM] == 1
then
v$PHRASE1 = "PH34B_"
end

0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH34_"

if
$WTH_AGRED_FLAG[$SPECLS_NUM] == 1
then
v$PHRASE1 = "PH34B_"
end

0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
    
for 1@ = 0 to 200

v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HAZMAT_ZONE_BANDITS

for 1@ = 0 to 200

v$PHRASE1 = "PH182_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH182_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

v$PHRASE1 = "PH22_"

if
$WTH_AGRED_FLAG[$SPECLS_NUM] == 1
then
v$PHRASE1 = "PH22B_"
end

0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH22_"

if
$WTH_AGRED_FLAG[$SPECLS_NUM] == 1
then
v$PHRASE1 = "PH22B_"
end

0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HUNTER2_ZONE_ARMY
    
for 1@ = 0 to 200

v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_DIALOG_HAZMAT_ZONE_ARMY

for 1@ = 0 to 200

v$PHRASE1 = "PH181_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

v$PHRASE1 = "PH181_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE1

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end

089F: get_actor $ARMY69_2[0@] pedtype_to 2@

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end
        
if
2@ == 27
then

if or
$PLAYER_ARMY_SIDE == 1
$ARMY_DONT_ATTACK_PLAYER_FLAG == 1
    then
    return
    end

else

if
2@ == 25
then

if or
$PLAYER_BANDITS_SIDE == 1
$BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
    then
    return
    end
    
end    

end   

092B: 3@ = group PLAYER_GROUP member 11@

if
07D6:   3@ == COOP_ACTOR // @ == $ (int)
then
return
end

if
056D:  actor 3@ defined
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN

if
056D:   actor $ARMY69_2[0@] defined
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN    

if
056D:   actor 3@ defined
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN

if
$MISSION14_ACTIVE == 1
    then
    if
    not 0@ == 1
    jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
    end
    
if
$QUEST_TYPE == 9
    then
    if
    87D6: not  3@ == $VERSUS_PEOPLE[1] // @ == $ (int)
    jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
    end

if or
00DF:   actor 3@ driving
0449:   actor 3@ in_a_car
    then
    if
    $HUNTER_ON_PLAYER == 0
//    $PEOPLE_DONT_ATTACK == 0
//    $COMMAND_STAY_IN_CAR == 0  
        then                     
        gosub @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR
        end
    end 

if and 
not actor.Driving(PLAYER_ACTOR)
$RANDOM_CAR_FLAG == 0  
89DE:   actor 3@ entering_car  
80DF:   actor 3@ in_a_car
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
actor.StorePos($ARMY69_2[0@],4@,1@,2@)

//if
//00C2:   sphere_onscreen 4@ 1@ 2@ radius 1.0
//then
//jump to @AABC_SPOTTED_CHECK_SKIP
//end

if
051A:   actor 3@ damaged_by_actor $ARMY69_2[0@] 
then
jump to @AABC_SPOTTED_CHECK_SKIP
end

if or
0364:   actor 3@ spotted_actor $ARMY69_2[0@]
0364:   actor $ARMY69_2[0@] spotted_actor 3@
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
:AABC_SPOTTED_CHECK_SKIP
if
00F2:   actor 3@ near_actor $ARMY69_2[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if and
$HUNTER_ON_PLAYER == 0
$PEOPLE_DONT_ATTACK == 0
$COMMAND_STAY_IN_CAR == 0
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if
not actor.Animation(3@) == "FLOOR_hit"
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if
$HUNTER_ON_GROUP == 0
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN  
if
044B:   actor 3@ on_foot
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN  
if
82E0: not actor 3@ firing_weapon
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
062E: get_actor 3@ task 1506 status_store_to 1@ // ret 7 if not found
if 
1@ == 7
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "colt45_fire_2hands"
not actor.Animation(3@) == "python_fire" 
not actor.Animation(3@) == "shotgun_fire" 
not actor.Animation(3@) == "buddy_fire" 
not actor.Animation(3@) == "UZI_fire"
not actor.Animation(3@) == "RIFLE_fire" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "FLAME_fire" 
not actor.Animation(3@) == "RocketFire" 
not actor.Animation(3@) == "WEAPON_sniper" 
not actor.Animation(3@) == "WEAPON_throw"
not actor.Animation(3@) == "BOM_PLANT"   
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN       
if and
not actor.Animation(3@) == "colt45_crouchfire"
not actor.Animation(3@) == "python_crouchfire" 
not actor.Animation(3@) == "shotgun_crouchfire" 
not actor.Animation(3@) == "buddy_crouchfire" 
not actor.Animation(3@) == "UZI_crouchfire"
not actor.Animation(3@) == "RIFLE_crouchfire" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_reload"
not actor.Animation(3@) == "python_reload" 
not actor.Animation(3@) == "shotgun_reload" 
not actor.Animation(3@) == "buddy_reload" 
not actor.Animation(3@) == "UZI_reload"
not actor.Animation(3@) == "RIFLE_load" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_crouchreload"
not actor.Animation(3@) == "python_crouchreload" 
not actor.Animation(3@) == "shotgun_crouchreload" 
not actor.Animation(3@) == "buddy_crouchreload" 
not actor.Animation(3@) == "UZI_crouchreload"
not actor.Animation(3@) == "RIFLE_crouchload" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN   
if and
not actor.Animation(3@) == "GunMove_BWD"
not actor.Animation(3@) == "GunMove_FWD"
not actor.Animation(3@) == "GunMove_L"
not actor.Animation(3@) == "GunMove_R"
not actor.Animation(3@) == "Gun_2_IDLE"
not actor.Animation(3@) == "GUN_BUTT"
not actor.Animation(3@) == "GUN_BUTT_crouch"
not actor.Animation(3@) == "Gun_stand" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "CLIMB_idle"
not actor.Animation(3@) == "CLIMB_jump"
not actor.Animation(3@) == "CLIMB_jump2fall"
not actor.Animation(3@) == "CLIMB_jump_B"
not actor.Animation(3@) == "CLIMB_Pull"
not actor.Animation(3@) == "CLIMB_Stand"
not actor.Animation(3@) == "CLIMB_Stand_finish" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "Crouch_Roll_L"
not actor.Animation(3@) == "Crouch_Roll_R"
not actor.Animation(3@) == "gas_cwr"
not actor.Animation(3@) == "getup"
not actor.Animation(3@) == "getup_front"
not actor.Animation(3@) == "GunCrouchBwd"
not actor.Animation(3@) == "GunCrouchFwd"
8E47: not is_char_fighting 3@
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
05C1: AS_actor 3@ speak_from_audio_table $PEOPLE_ZOMBIE_ATTACK_AUDIO_TABLE
if
056D:   actor 3@ defined
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN 
if and
not actor.Driving(PLAYER_ACTOR)
89DE:   actor PLAYER_ACTOR entering_car
80DF:   actor PLAYER_ACTOR in_a_car
80DF:   actor 3@ in_a_car
not actor.Dead(3@)
not actor.Dead($ARMY69_2[0@])
874F: not  actor 3@ ped_event == 63
874F: not  actor 3@ ped_event == 25
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
//0647: AS_actor 3@ clear_look_task
//05B9: AS_actor 3@ stay_idle 50 ms 
wait 50
if
056D:   actor 3@ defined  
then
05E2: AS_actor 3@ kill_actor $ARMY69_2[0@]
end    

jump @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN   
                                
:RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR   
if and
not actor.Animation(3@) == "Gang_DrivebyLHS"
not actor.Animation(3@) == "Gang_DrivebyLHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyLHS_Fwd"
not actor.Animation(3@) == "Gang_DrivebyRHS"
not actor.Animation(3@) == "Gang_DrivebyRHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyRHS_Fwd" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN 
if and
not actor.Animation(3@) == "Gang_DrivebyTop_LHS"
not actor.Animation(3@) == "Gang_DrivebyTop_RHS" 
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN 
if 
00F2:   actor 3@ near_actor $ARMY69_2[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
if or
0364:   actor 3@ spotted_actor $ARMY69_2[0@]
0364:   actor $ARMY69_2[0@] spotted_actor 3@
jf @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN

///////////////////////////////////////////////////////////////////////////
if and
11@ == 0
TEAMMATE1_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
11@ == 1
TEAMMATE2_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
11@ == 2
TEAMMATE3_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
11@ == 3
TEAMMATE4_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
11@ == 4
TEAMMATE5_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
    end
///////////////////////////////////////////////////////////////////////////

if and
8E42: not is_char_doing_task_id 3@ 243
not $COMMAND_STAY_IN_CAR == 1
then
06C9: remove_actor 3@ from_group
0631: put_actor 3@ in_group PLAYER_GROUP
end          
0713: actor 3@ driveby_actor $ARMY69_2[0@] car -1 point 0.0 0.0 0.0 radius $AI_FIND_RADIUS1 8 1 firing_rate 360

///////////////////////////////////////////////////////////////////////////
if
11@ == 0
    then
    TEAMMATE1_ATTACK_TIMER = 0
    end
if
11@ == 1
    then
    TEAMMATE2_ATTACK_TIMER = 0
    end
if
11@ == 2
    then
    TEAMMATE3_ATTACK_TIMER = 0
    end
if
11@ == 3
    then
    TEAMMATE4_ATTACK_TIMER = 0
    end
if
11@ == 4
    then
    TEAMMATE5_ATTACK_TIMER = 0
    end
///////////////////////////////////////////////////////////////////////////
 
return       

:RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_IN_CAR_RETURN
return

:RANDOM_PEOPLE_ZONE_CAR_ATTACK_PEOPLE_BEGIN
return

:ZONE_ATTACK_SYSTEM       

if
$VAGINA_FLAG[0@] == 1
    then
    $VAGINA_TIME[0@] += 1
    end

/////////////////Поиск цели бойцом///////////////////// 

if and
056D:   actor $ARMY69_2[0@] defined
$VAGINA_FLAG[0@] == 0  
    then
    gosub @ZONE_ATTACK_SYSTEM_PLAYER_CHECK
    random_int 2@ 0 3
    if and
    2@ == 1
    19@ == 1
        then                
        
        ZONES_SPOT_FLAG_AI = 0
        if
        0E45: frame_mod 15
        then
        
        if or
        0364:  actor $ARMY69_2[0@] spotted_actor PLAYER_ACTOR  
        0364:  actor PLAYER_ACTOR spotted_actor $ARMY69_2[0@]  
        then
        jump to @ZONE_ATTACK_DO_ATTACK_SPOTTED
        end                      
        
        ZONES_SPOT_INT_AI += 1
        if
        001C:   ZONES_SPOT_INT_AI > $ZONE_PEOPLE_COUNT // (int)
        then
        ZONES_SPOT_INT_AI = 0
        end
                                
        if
        056D:   actor $ARMY69_2[ZONES_SPOT_INT_AI] defined
            then
            if or
            0364:   actor $ARMY69_2[ZONES_SPOT_INT_AI] spotted_actor $ARMY69_2[0@]            
            0104:  actor $ARMY69_2[ZONES_SPOT_INT_AI] near_actor $ARMY69_2[0@] radius 25.0 25.0 15.0 sphere 0
                then                                
                
//                if
//                056D:   actor $ARMY69_2[ZONES_SPOT_INT_AI] defined
//                    then
//                    if and
//                    0104:  actor $ARMY69_2[0@] near_actor $ARMY69_2[ZONES_SPOT_INT_AI] radius 25.0 25.0 15.0 sphere 0
//                    02E0:  actor $ARMY69_2[ZONES_SPOT_INT_AI] firing_weapon
//                        then
//                        jump to @ZONE_ATTACK_SYSTEM_PLAYER_SET
//                        end
//                    end
                                
                if
                0364:   actor $ARMY69_2[ZONES_SPOT_INT_AI] spotted_actor PLAYER_ACTOR
//                003A:   $VAGINA[ZONES_SPOT_INT_AI] == PLAYER_ACTOR // (int)            
                    then
                    :ZONE_ATTACK_SYSTEM_PLAYER_SET
                    ZONES_SPOT_FLAG_AI = 1
                    //0AD1: show_formatted_text_highpriority "BOEC IS GOT MESSAGE FROM ANOTHER BOEC O IGROKE" time 2000
                    end                
                end
            end                
                
        ////////////////////////////////////////////////////////////////////////        
        
        if and
        0104:  actor PLAYER_ACTOR near_actor $ARMY69_2[0@] radius 40.0 40.0 15.0 sphere 0
        02E0:  actor PLAYER_ACTOR firing_weapon
        02A0:   actor $ARMY69_2[0@] stopped
        then
        ZONE_SIREN_FLAG = 1
        ZONES_SPOT_FLAG_AI = 1
        //0AD1: show_formatted_text_highpriority "PLAYER IG GACHING" time 2000
        end
        
        if
        056D:   actor COOP_ACTOR defined
        then
        if and
        0104:  actor COOP_ACTOR near_actor $ARMY69_2[0@] radius 40.0 40.0 15.0 sphere 0
        02E0:  actor COOP_ACTOR firing_weapon
        02A0:   actor $ARMY69_2[0@] stopped
            then
            ZONE_SIREN_FLAG = 1
            ZONES_SPOT_FLAG_AI = 1
            //0AD1: show_formatted_text_highpriority "PLAYER 2 IG GACHING" time 2000
            end
        if or
        0364:  actor $ARMY69_2[0@] spotted_actor COOP_ACTOR  
        0364:  actor COOP_ACTOR spotted_actor $ARMY69_2[0@]     
        051A:   actor $ARMY69_2[0@] damaged_by_actor COOP_ACTOR
        ZONES_SPOT_FLAG_AI == 1
            then
            if and
            $ACTOR_DEAD == 0    
            $SPECTATING_FLAG == 0 
            00F2:  actor $ARMY69_2[0@] near_actor COOP_ACTOR radius 220.0 220.0 sphere 0
                then
                jump to @COOP_SHIT_AAAH
                end
            end    
        end
        
        end
        
        ////////////////////////////////////////////////////////////////////////                
        
        if or             
        051A:   actor $ARMY69_2[0@] damaged_by_actor PLAYER_ACTOR
        ZONES_SPOT_FLAG_AI == 1
            then
            :ZONE_ATTACK_DO_ATTACK_SPOTTED
            if and
            $ACTOR_DEAD == 0    
            $SPECTATING_FLAG == 0 
            00F2:  actor $ARMY69_2[0@] near_actor PLAYER_ACTOR radius 220.0 220.0 sphere 0
                then                      
                
//                23@ = 0
//                if    
//                051A:   actor $ARMY69_2[0@] damaged_by_actor PLAYER_ACTOR
//                then
//                054E: clear_actor $ARMY69_2[0@] damage
//                23@ = 1
//                end
                
                //0AD1: show_formatted_text_highpriority "BOEC NOMER %d ATAKA IGORKA" time 2000 0@
                
                if and
                0E4D: random_percent 50
                0800:   in_two_players_mode
                then
                :COOP_SHIT_AAAH
                008B: $VAGINA[0@] = COOP_ACTOR // (int)
                else                
                008B: $VAGINA[0@] = PLAYER_ACTOR // (int)
                end
                                                 
                $VAGINA_FLAG[0@] = 1
                $VAGINA_TIME[0@] = 0
                0568: set_actor $ARMY69_2[0@] untargetable 0                                                   
                gosub @ZONE_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST                                                             
                end
            end   
        else   
        gosub @ZONE_ATTACK_SYSTEM_TARGET_FIND
        if
        25@ == 1
            then    
            gosub @ZONE_ATTACK_SYSTEM_TARGET_CHECK        
            if and
            not actor.Dead($VAGINA[0@])            
            803A: not  $VAGINA[0@] == $ARMY69_2[0@] // (int) 
            19@ == 1                 
                then                                
                if or
                0364:  actor $ARMY69_2[0@] spotted_actor $VAGINA[0@]
                0364:  actor $VAGINA[0@] spotted_actor $ARMY69_2[0@]
                051A:   actor $ARMY69_2[0@] damaged_by_actor $VAGINA[0@]
                    then
                    
//                    23@ = 0
//                    if
//                    051A:   actor $ARMY69_2[0@] damaged_by_actor $VAGINA[0@]
//                    then
//                    054E: clear_actor $ARMY69_2[0@] damage
//                    23@ = 1
//                    end
                                             
                    $VAGINA_FLAG[0@] = 1
                    $VAGINA_TIME[0@] = 0                        
                    gosub @ZONE_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST    
                    end                                                                                  
                end 
            end
        end               
    end

/////////////////Проверка на бездействие бойца если цель найдена/////////////////////     

if and
056D:   actor $ARMY69_2[0@] defined
0E45: frame_mod 30
    then     
    if
    0184:   actor $ARMY69_2[0@] health > 0 
        then
        if
        $VAGINA_FLAG[0@] == 1
            then
            if
            056D:   actor $VAGINA[0@] defined
                then
                062E: get_actor $ARMY69_2[0@] task 1506 status_store_to 1@ // ret 7 if not found
                gosub @ZONE_ATTACK_SYSTEM_FIRING_CHECK 
                if and
                1@ == 7
                19@ == 0
                not actor.Animation($ARMY69_2[0@]) == "Crouch_Roll_L"
                not actor.Animation($ARMY69_2[0@]) == "Crouch_Roll_R" 
                    then
//                    0AD1: show_formatted_text_highpriority "BOEC %d IS STRADAET HYINEY TRYING TO DO SOME USEFUL" time 400 0@
                    //0ACE: show_formatted_text_box "BOEC %d IS STRADAET HYINEY TRYING TO DO SOME USEFUL" 0@                     
                    gosub @ZONE_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST  
                    end
                end
            end
        end
    end 
     
/////////////////Проверка на наличие цели атаки///////////////////// 

if and
056D:   actor $ARMY69_2[0@] defined
$VAGINA_FLAG[0@] == 1 
    then
    if
    056D:   actor $VAGINA[0@] defined
        then 
        if or
        8184:   actor $VAGINA[0@] health < 1  
        80F2: not  actor $ARMY69_2[0@] near_actor $VAGINA[0@] radius 230.0 230.0 sphere 0
        $VAGINA_TIME[0@] > 560        
            then
            if and
            $VAGINA_TIME[0@] > 560
            0364:   actor $ARMY69_2[0@] spotted_actor $VAGINA[0@]
                then
                //0AD1: show_formatted_text_highpriority "VAGINA TIME IS BIG\VAGINA DEAD BUT BOEC CAN SEE ENEMY" time 2000
                else
                if and
                02A0:   actor $ARMY69_2[0@] stopped
                80F2: not  actor $ARMY69_2[0@] near_actor $VAGINA[0@] radius 6.5 6.5 sphere 0
                    then
                    //0AD1: show_formatted_text_highpriority "VAGINA TIME IS BIG\VAGINA DEAD AND BOEC IS NOT NEAR HIS VICTIM" time 2000 
                    $VAGINA_FLAG[0@] = 0
                    $VAGINA_TIME[0@] = 0
                    gosub @ZONE_GET_BACK_TO_POS                                      
                    end
                end
            end
        else
        //0AD1: show_formatted_text_highpriority "BOEC IS NOT EXISTS" time 2000
        $VAGINA_FLAG[0@] = 0
        $VAGINA_TIME[0@] = 0
        gosub @ZONE_GET_BACK_TO_POS
        end
    end             

return

/////////////////////////////////////////////////////////////////////////////////

:ZONE_GET_BACK_TO_POS

gosub @ZONE_SYSTEM_SNIPER_CHECK
if and
003A:   $VAGINA[0@] == PLAYER_ACTOR // (int)
2@ == 0
UNITED_MAP == 0
then
else
0085: 1@ = 0@ // (int)
1@ += 50
05D4: AS_actor $ARMY69_2[0@] rotate_angle $WPN_Z[1@]
//0AD1: show_formatted_text_highpriority "ROTATE %f" time 2000 $WPN_Z[0@]
$WPN_Z[1@] = 960.0
return
end

0085: 1@ = 0@ // (int)
1@ += 50
if
$WPN_Z[1@] > 400.0
then
//0AD1: show_formatted_text_highpriority "BOEC NOMER %d GET BACK TO POS CANCEL" time 2000 0@
return
end

if            
0184:   actor $ARMY69_2[0@] health > 0
then
            
///////////////////////////////////////////////////////////////////////
            
if
80FE: not  actor $ARMY69_2[0@] sphere 0 in_sphere $WPN_X[0@] $WPN_Y[0@] $WPN_Z[0@] radius 1.0 1.0 1.0
then

0085: 1@ = 0@ // (int)
1@ += 50
                            
0615: define_AS_pack_begin 2@  
05D3: AS_actor -1 goto_point $WPN_X[0@] $WPN_Y[0@] $WPN_Z[0@] mode 7 time 100000 ms // versionA
05D4: AS_actor -1 rotate_angle $WPN_Z[1@]              
0616: define_AS_pack_end 2@
0618: assign_actor $ARMY69_2[0@] to_AS_pack 2@
061B: remove_references_to_AS_pack 2@

//0AD1: show_formatted_text_highpriority "GOTO %f %f %f, ROTATE %f" time 2000 $WPN_X[0@] $WPN_Y[0@] $WPN_Z[0@] $WPN_Z[0@]
$WPN_Z[1@] = 960.0
            
else
0085: 1@ = 0@ // (int)
1@ += 50
05D4: AS_actor $ARMY69_2[0@] rotate_angle $WPN_Z[1@]
//0AD1: show_formatted_text_highpriority "ROTATE %f" time 2000 $WPN_Z[0@]
$WPN_Z[1@] = 960.0
end
                              
end
            
///////////////////////////////////////////////////////////////////////

return

:ZONE_ATTACK_SYSTEM_TARGET_FIND

25@ = 0

008B: 1@ = $CREATURE_RANDOM // (int)

if
OOS_MARK == 156546
then

if
0E4D: random_percent 70 //С 70% шансом заставляет бомжей атаковать не игрока
    then
    
    if
    0E4D: random_percent 10 //Наши союзники
    then
    random_int 1@ 41 46
    else
    
    random_int 1@ 0 4
    if
    1@ == 0 //Фермеры
        then
        random_int 1@ 26 34
        end
    
    if
    1@ == 1 //Энкер, Гарнет, Хосе
        then
        random_int 1@ 23 26
        end
        
    if
    1@ == 2 //Артемис, Дэниел
        then
        random_int 1@ 38 40
        end
        
    if
    1@ == 3 //Жители лагеря Гарнет, Энкера, Фернандо
        then
        random_int 1@ 47 63
        end
          
    end 

    end

end

0084: $VAGINA[0@] = $CREATURE[1@] // (int)

if and
056D:   actor $VAGINA[0@] defined
not 1@ == PLAYER_CREATURE_NUMBER
    then
    
    if
    CARMA_VERY_BAD_FLAG == 1
        then
        if and
        1@ > 0
        1@ < 21
            then
            if
            00F2:   actor $ARMY69_2[0@] near_actor $VAGINA[0@] radius $AIZ_FIND_RADIUS1 $AIZ_FIND_RADIUS1 sphere 0
                then 
                25@ = 1
                return
                else
                return
                end
            end
        end
          
    if
    00F2:   actor $ARMY69_2[0@] near_actor $VAGINA[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
        then 
        25@ = 1
        end
    end

return

/////////////////////////////////////////////////////////////////////////////////

:ZONE_ATTACK_SYSTEM_PLAYER_CHECK

19@ = 0

089F: get_actor $ARMY69_2[0@] pedtype_to 11@  

if
11@ == 27
    then
    19@ = 0
    
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
    then
    19@ = 0
    else
    19@ = 1
    end
    
    return
    end
    
    
if
11@ == 25
    then
    19@ = 0
    
    if
    BCAMP_AGRED_FLAG > 0
    then
    077A: set_actor $ARMY69_2[0@] acquaintance 4 to_actors_pedtype 0 // see ped.dat
    077A: set_actor $ARMY69_2[0@] acquaintance 4 to_actors_pedtype 1 // see ped.dat
    jump to @BCAMP_ATTACK_PLA
    end
    
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
    then
    19@ = 0
    else
    :BCAMP_ATTACK_PLA
    19@ = 1
    end
    
    return
    end


return

/////////////////////////////////////////////////////////////////////////////////   

:ZONE_ATTACK_SYSTEM_TARGET_CHECK

089F: get_actor $ARMY69_2[0@] pedtype_to 11@ 

if
11@ == 27
    then
    19@ = 0
    if
    056D:   actor $VAGINA[0@] defined
        then
        089F: get_actor $VAGINA[0@] pedtype_to 12@ 
        
        if or
        12@ == 23
        12@ == 25
        12@ == 26
        12@ == 28
        12@ == 29  
        then
        19@ = 1
        else
        19@ = 0
        end
        
        return
        end
    end    
    
if
11@ == 25
    then
    19@ = 0
    if
    056D:   actor $VAGINA[0@] defined
        then
        089F: get_actor $VAGINA[0@] pedtype_to 12@ 
        
        if or
        12@ == 23 
        12@ == 27
        12@ == 26 
        12@ == 28
        then
        19@ = 1
        else
        19@ = 0
        end
        
        return
        end
    end

return

///////////////////////////////////////////////////////////////////////////////// 

:ZONE_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST 

//if
//ZONES_SPOT_FLAG_AI == 0
//then
//if
//02E0:   actor $ARMY69_2[0@] firing_weapon 
//8364: not  actor $ARMY69_2[0@] spotted_actor $VAGINA[0@]
//    then
//    0AD1: show_formatted_text_highpriority "BOEC NOMER %d KILL VRAGA %d OTSTAVIT" time 2000 0@ $VAGINA[0@]
//    return
//    end
//end
    
gosub @ZONE_SYSTEM_SNIPER_CHECK
if and
003A:   $VAGINA[0@] == PLAYER_ACTOR // (int)
2@ == 0
UNITED_MAP == 0
then
0350: set_actor $ARMY69_2[0@] maintain_position_when_attacked 0
0816: set_actor $ARMY69_2[0@] dont_chase_victim 0
else
0350: set_actor $ARMY69_2[0@] maintain_position_when_attacked 1
0816: set_actor $ARMY69_2[0@] dont_chase_victim 1
end    

if 
$VAGINA_FLAG[0@] == 1
    then 
    if
    056D:   actor $VAGINA[0@] defined
        then            
        0687: clear_actor $ARMY69_2[0@] task            
        wait 100
        if and
        056D:   actor $VAGINA[0@] defined
        0184:   actor $ARMY69_2[0@] health > 0 
            then
            
            0085: 1@ = 0@ // (int)
            1@ += 50
            if
            $WPN_Z[1@] > 360.0
            then
            actor.StorePos($ARMY69_2[0@],$WPN_X[0@],$WPN_Y[0@],$WPN_Z[0@])
            $WPN_Z[1@] = actor.Angle($ARMY69_2[0@])
//            0AD1: show_formatted_text_highpriority "GET POS %f %f %f, ANGLE %f" time 2000 $WPN_X[0@] $WPN_Y[0@] $WPN_Z[0@] $WPN_Z[0@]
            end
            
            Actor.SetWalkStyle($ARMY69_2[0@], "surv5")
            
//            if
//            23@ == 0
//            then                           
            05E2: AS_actor $ARMY69_2[0@] kill_actor $VAGINA[0@]
//            0AD1: show_formatted_text_highpriority "BOEC NOMER %d KILL VRAGA %d" time 90 0@ $VAGINA[0@]
//            else
//            0AD1: show_formatted_text_highpriority "GAY ROLL" time 2000
//            23@ = 0
//            random_int 1@ 0 2
//            06E3: AS_actor $ARMY69_2[0@] roll_sideways 1@
//            end            
                                           
            return           
            end
        end
    end   
    
return      

/////////////////////////////////////////////////////////////////////////////////        

:ZONE_ATTACK_SYSTEM_FIRING_CHECK
19@ = 0

if and
not actor.Animation($ARMY69_2[0@]) == "colt45_fire_2hands"
not actor.Animation($ARMY69_2[0@]) == "python_fire" 
not actor.Animation($ARMY69_2[0@]) == "shotgun_fire" 
not actor.Animation($ARMY69_2[0@]) == "buddy_fire" 
not actor.Animation($ARMY69_2[0@]) == "UZI_fire"
not actor.Animation($ARMY69_2[0@]) == "RIFLE_fire" 
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2  

if and
not actor.Animation($ARMY69_2[0@]) == "FLAME_fire" 
not actor.Animation($ARMY69_2[0@]) == "RocketFire" 
not actor.Animation($ARMY69_2[0@]) == "WEAPON_sniper" 
not actor.Animation($ARMY69_2[0@]) == "WEAPON_throw"
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2  
     
if and
not actor.Animation($ARMY69_2[0@]) == "colt45_crouchfire"
not actor.Animation($ARMY69_2[0@]) == "python_crouchfire" 
not actor.Animation($ARMY69_2[0@]) == "shotgun_crouchfire" 
not actor.Animation($ARMY69_2[0@]) == "buddy_crouchfire" 
not actor.Animation($ARMY69_2[0@]) == "UZI_crouchfire"
not actor.Animation($ARMY69_2[0@]) == "RIFLE_crouchfire" 
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($ARMY69_2[0@]) == "colt45_reload"
not actor.Animation($ARMY69_2[0@]) == "python_reload" 
not actor.Animation($ARMY69_2[0@]) == "shotgun_reload" 
not actor.Animation($ARMY69_2[0@]) == "buddy_reload" 
not actor.Animation($ARMY69_2[0@]) == "UZI_reload"
not actor.Animation($ARMY69_2[0@]) == "RIFLE_load" 
not actor.Animation($ARMY69_2[0@]) == "gas_cwr"
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($ARMY69_2[0@]) == "colt45_crouchreload"
not actor.Animation($ARMY69_2[0@]) == "python_crouchreload" 
not actor.Animation($ARMY69_2[0@]) == "shotgun_crouchreload" 
not actor.Animation($ARMY69_2[0@]) == "buddy_crouchreload" 
not actor.Animation($ARMY69_2[0@]) == "UZI_crouchreload"
not actor.Animation($ARMY69_2[0@]) == "RIFLE_crouchload" 
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2 
if and
not actor.Animation($ARMY69_2[0@]) == "GunMove_BWD"
not actor.Animation($ARMY69_2[0@]) == "GunMove_FWD"
not actor.Animation($ARMY69_2[0@]) == "GunMove_L"
not actor.Animation($ARMY69_2[0@]) == "GunMove_R"
not actor.Animation($ARMY69_2[0@]) == "Gun_2_IDLE"
not actor.Animation($ARMY69_2[0@]) == "GUN_BUTT"
not actor.Animation($ARMY69_2[0@]) == "GUN_BUTT_crouch"
not actor.Animation($ARMY69_2[0@]) == "Gun_stand" 
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2
if and
not actor.Animation($ARMY69_2[0@]) == "WEAPON_throw"
not actor.Animation($ARMY69_2[0@]) == "WEAPON_throwu"
not actor.Animation($ARMY69_2[0@]) == "WEAPON_start_throw"
jf @ZONE_ATTACK_SYSTEM_FIRING_CHECK2
  
return

:ZONE_ATTACK_SYSTEM_FIRING_CHECK2
19@ = 1
return

:ZONE_SYSTEM_SNIPER_CHECK

2@ = 0

if or
02D8:  actor $ARMY69_2[0@] current_weapon == 33
02D8:  actor $ARMY69_2[0@] current_weapon == 34
02D8:  actor $ARMY69_2[0@] current_weapon == 80
02D8:  actor $ARMY69_2[0@] current_weapon == 96
02D8:  actor $ARMY69_2[0@] current_weapon == 97
02D8:  actor $ARMY69_2[0@] current_weapon == 120
02D8:  actor $ARMY69_2[0@] current_weapon == 146
02D8:  actor $ARMY69_2[0@] current_weapon == 147
    then
    2@ = 1
    end
    
if or
02D8:  actor $ARMY69_2[0@] current_weapon == 175
02D8:  actor $ARMY69_2[0@] current_weapon == 176
02D8:  actor $ARMY69_2[0@] current_weapon == 205
02D8:  actor $ARMY69_2[0@] current_weapon == 206
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA -1029.9045 224.8402 -100.0 cornerB -1633.7898 742.1226 1000.0
    then
    2@ = 1
    end
    
if or
02F2:   actor $ARMY69_2[0@] model == 17977
02F2:   actor $ARMY69_2[0@] model == 17997
02F2:   actor $ARMY69_2[0@] model == 17998
02F2:   actor $ARMY69_2[0@] model == 17999
    then
    2@ = 1
    end    
    
return

:ZONE_CHECK_BASE_TEMMATE_TYPE

BASE_TEMMATE_CAMP_FLAG_GIVE = 0

if
$GAMEMODE_WAR == 0
then

if
not CARMA_VERY_BAD_FLAG == 1
then
BASE_TEAMMATES_TYPE_GIVE = 0
else
BASE_TEAMMATES_TYPE_GIVE = 2
end

else

if
$PLAYER_ARMY_SIDE == 1
then
BASE_TEAMMATES_TYPE_GIVE = 1
end

if
$PLAYER_BANDIT_SIDE == 1
then
BASE_TEAMMATES_TYPE_GIVE = 2
end

if
$PLAYER_FERMERS_SIDE == 1
then
BASE_TEAMMATES_TYPE_GIVE = 3
end

if
$PLAYER_SWAT_SIDE == 1
then
BASE_TEAMMATES_TYPE_GIVE = 4
end

end

return

:ENEMY_ZONE_GIVE_PRIPASI_AFTER_ZAHVAT

random_int 0@ 5 to 9
005E: $SNDK_BAN_CNT += 0@  // (int)
random_int 0@ 2 to 5   
005E: $SNDK_HEL_CNT += 0@  // (int)
random_int 0@ 2 to 5  
005E: $SNDK_BNT_CNT += 0@  // (int)
random_int 0@ 2 to 5  
005E: $SNDK_JIM_CNT += 0@  // (int)
random_float 0@ $KANISTRA_FUEL_MIN $KANISTRA_FUEL_MAX
0@ *= 3.5
005F: $SNDK_GSLN_CNT += 0@  // (float)
008C: $SNDK_GSLN_CNT2 = float $SNDK_GSLN_CNT to_integer

return

:ZONE_BASE_SAVE_DO

if and
not $CARL_STORY == 1
not $MIKE_STORY == 1
then
create_thread @DIFF_N
end

fade 0 1000
$HUD_REMOVE = 1
wait 1000

SAVE_PRE_TP_TEAMMATES_FLAG = 1

repeat
wait 0
until SAVE_PRE_TP_TEAMMATES_FLAG == 0

$SAVESTATUS = 1
BASE_TEAMMATES_DESTORY_FLAG = 1
$SAVESTATUS_TRUE = 1
create_thread @PTL_TXT
wait $GAME_SAVE_WAIT_TIME

while true
wait 0
$END_FADING_MUSIC_FAST = 1

if and
$MUSIC_FADE_ENDED[0] == 1
$MUSIC_FADE_ENDED[1] == 1
$MUSIC_FADE_ENDED[2] == 1
$MUSIC_FADE_ENDED[3] == 1
$MUSIC_FADE_ENDED[4] == 1
then
$END_FADING_MUSIC_FAST = 0
break
end

end

$PREPARING_TEXT_OFF = 1 
wait 10
$PLAYER_HEALTH = actor.Health(PLAYER_ACTOR) 
wait 1

if
AFTERSAVE_TIME_COUNT < PLAYER_UPTIME_BEFORE_WANNASLEEP
then
SKIP_6HOURS_AFTER_SAVE = 1
SKIP_6HOURS_AFTER_SAVE2 = 1
0A8D: 25@ = read_memory 0x61907A size 4 virtual_protect 1 
0A8D: 26@ = read_memory 0x61907E size 1 virtual_protect 1
0A8C: write_memory 0x61907A size 4 value -1869574000 virtual_protect 1 
0A8C: write_memory 0x61907E size 1 value 144 virtual_protect 1
else
if and
$GAMEMODE_STORYLINE == 0
$GAMEMODE_WAR == 0
    then
    EXTINCTION_DONE = -1
    gosub @BEFORE_LONG_SAVE_THINGS_DO
    end
end
  
065C: release_decision_maker $DEC_PEOPLE 
wait 10
03D8: show_save_screen
  
repeat
wait 0
fade 0 0 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
until 03D9:   save_done

return

/////////////////////////////////////////////////////////////////////////////////

:KILL_KILLED_ZONE_BOICI

for 0@ = 0 to $ZONE_PEOPLE_COUNT

0085: 31@ = 0@
31@ *= 4 //size of byte
0EE2: read_struct_offset_multi 1@ offset 31@ count 1 size 4 2@
if
2@ == 1
    then
    actor.LockInCurrentPosition($ARMY69_2[0@],true)
    0337: set_actor $ARMY69_2[0@] visibility 0
    087E: set_actor $ARMY69_2[0@] weapon_droppable 0
    03FE: set_actor $ARMY69_2[0@] money 0
    05BE: AS_actor $ARMY69_2[0@] die
    actor.Health($ARMY69_2[0@]) = 0
    $ARMY69_2_MARKER_FLAG[0@] = 1
    else
    0337: set_actor $ARMY69_2[0@] visibility 1
    0E24: fix_char $ARMY69_2[0@] ground 1 brightness DO_ACTORS_BRIGHT_CORR and_fade_in 1
    end

end

return

/////////////////////////////////////////////////////////////////////////////////

:CHECK_CURRENT_ENTERED_BASE_ZONE

if or
ENTERED_ZONE_NUM == 0
ENTERED_ZONE_NUM == 4
ENTERED_ZONE_NUM == 7
then
0AC6: 2@ = label @ZONE_69_KILLED_BOICI offset
end

if or
ENTERED_ZONE_NUM == 1
ENTERED_ZONE_NUM == 5
ENTERED_ZONE_NUM == 8
then
0AC6: 2@ = label @ZONE_SAWMILL_KILLED_BOICI offset
end

if or
ENTERED_ZONE_NUM == 2
ENTERED_ZONE_NUM == 6
ENTERED_ZONE_NUM == 9
then
0AC6: 2@ = label @ZONE_LSPORT_KILLED_BOICI offset
end

if
ENTERED_ZONE_NUM == 3
then
0AC6: 2@ = label @ZONE_AIRCRAFT_KILLED_BOICI offset
end

if or
$ENTERED_BCAMP_NUMBER == 1
$ENTERED_BCAMP_NUMBER == 6
$ENTERED_BCAMP_NUMBER == 9
then
0AC6: 2@ = label @ZONE_LSBAND_KILLED_BOICI offset
end

if or
$ENTERED_BCAMP_NUMBER == 2
$ENTERED_BCAMP_NUMBER == 7
$ENTERED_BCAMP_NUMBER == 10
then
0AC6: 2@ = label @ZONE_CNBAND_KILLED_BOICI offset
end

if or
$ENTERED_BCAMP_NUMBER == 3
$ENTERED_BCAMP_NUMBER == 8  
$ENTERED_BCAMP_NUMBER == 11
then
0AC6: 2@ = label @ZONE_LVBAND_KILLED_BOICI offset
end

if
$ENTERED_BCAMP_NUMBER == 4
then
0AC6: 2@ = label @ZONE_SFBAND_KILLED_BOICI offset
end

return

{$INCLUDE zones\Army Zone 69 Projectors.txt}