const

TRADER_ACTOR = $VERSUS_PEOPLE[0]
TRADER_PREV_NUM = 20@
TRADER_AIM_STVOL_FLAG = 19@
TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 18@
TRADER_SELL_PRICE_COEFF = 17@
TRADER_M16_OR_AK_III = 16@
TRADER_SAFE_ZONE_FLAG = $TRADER_SAFE_ZONE_FLAG
TRADER_HEAVY_AMMO_BUYED = $TRADER_HV_AMM_BYED
TRADER_TOTAL_MONEY = $TRADER_TOTAL_MONEY

BUYER_ACTOR = $BUYER_ACTOR
BUYER_PLAYER = $BUYER_PLAYER

TOOLS_STRING = v$TFUCK

COLT_PRICE_SELL = 0.009
DESERT_EAGLE_PRICE_SELL = 0.011
REVOLVER_PRICE_SELL = 0.011
FIVESEVEN_PRICE_SELL = 0.011
BERETTA_PRICE_SELL = 0.012
WIDMAG_PRICE_SELL = 0.011
CZ75_PRICE_SELL = 0.009

SHOTGUN_PRICE_SELL = 0.017
SHOTGUN2_PRICE_SELL = 0.017
SHOTGUN3_PRICE_SELL = 0.01
SSG_PRICE_SELL = 0.012
AA12_PRICE_SELL = 0.011
STUBBY_PRICE_SELL = 0.017
SAIGA12_PRICE_SELL = 0.017
STRIKER_PRICE_SELL = 0.017
XM1014_PRICE_SELL = 0.017

MICRO_UZI_PRICE_SELL = 0.012
TEC9_PRICE_SELL = 0.012
SMG_PRICE_SELL = 0.0045
THOMPSON_PRICE_SELL = 0.0065
BIZON_PRICE_SELL = 0.0045
UMP45_PRICE_SELL = 0.0045
MP9_PRICE_SELL = 0.012
HKMP5_PRICE_SELL = 0.0045
P90_PRICE_SELL = 0.0045
SCORPION_PRICE_SELL = 0.012

AK47_PRICE_SELL = 0.0055
M4_PRICE_SELL = 0.0055
FAMAS_PRICE_SELL = 0.0055
IA2_PRICE_SELL = 0.0055
GROZA_PRICE_SELL = 0.0055
SCAR_PRICE_SELL = 0.0055
AUG_PRICE_SELL = 0.0055
CAR15_PRICE_SELL = 0.0055
AR15_PRICE_SELL = 0.0055
G36C_PRICE_SELL = 0.0055
SIG550_PRICE_SELL = 0.0055
GALIL_PRICE_SELL = 0.0055
HK416_PRICE_SELL = 0.0055

RIFLE_PRICE_SELL = 0.025
SNIPER_RIFLE_PRICE_SELL = 0.009
HSNIPER_PRICE_SELL = 0.012
SVD_PRICE_SELL = 0.012
BOLT308_PRICE_SELL = 0.012

GRENADES_PRICE_SELL = 0.048
MOLOTOV_PRICE_SELL = 0.048
TEARGAS_PRICE_SELL = 0.048

end

:TRADER
thread 'TRADER'
24@ = -1
TRADER_PREV_NUM = -1
0084: BUYER_ACTOR = PLAYER_ACTOR
0084: BUYER_PLAYER = PLAYER_CHAR      

:TRADER_IDLE_START
wait 0
24@ += 1
if
//87D6: not  24@ == $TRADERS_COUNT // @ == $ (int)
801F: not  24@ > $TRADERS_COUNT // (int)
jf @TRADER_IDLE_0

if and
00EC:   actor PLAYER_ACTOR sphere 0 near_point $TRADER_X[24@] $TRADER_Y[24@] radius 140.0 140.0
$SAVESTATUS == 0
$SALVATION_FLAG == 0
$TRADER_DEAD_FLAG[24@] == 0
not $TRADER_MODEL[24@] == 0
not actor.Dead(PLAYER_ACTOR)
    then
    jump to @TRADER_SPAWN
    end

jump to @TRADER_IDLE_START

:TRADER_IDLE_0
24@ = -1
wait 250
jump to @TRADER_IDLE_START

:TRADER_SPAWN

gosub @RANDOM_PRICE
gosub @RANDOM_PRICE2

if 
not model.Available($TRADER_MODEL[24@])
    then
    model.Load($TRADER_MODEL[24@])
    mload
    end
    
if
MCS_FLAG == 1 
then
if or
24@ == 11
24@ == 13
    then
    if and
    $CAMP_DEAD_FLAG[11] == 2
    24@ == 11
        then
        jump to @CREATE_OTMOROZOK_TRADER_JUMP
        end
    if and
    $CAMP_DEAD_FLAG[11] == 2
    24@ == 13
        then
        jump to @CREATE_OTMOROZOK_TRADER_JUMP
        end
    end
end    

if or
CARMA_VERY_BAD_FLAG == 0
CARMA_OUTCAST_FLAG == 1
then
TRADER_ACTOR = actor.Create(26,$TRADER_MODEL[24@],$TRADER_X[24@],$TRADER_Y[24@],$TRADER_Z[24@])
0084: $TRADER_ACTOR = TRADER_ACTOR // (int)
else
:CREATE_OTMOROZOK_TRADER_JUMP
TRADER_ACTOR = actor.Create(29,$TRADER_MODEL[24@],$TRADER_X[24@],$TRADER_Y[24@],$TRADER_Z[24@])
0084: $TRADER_ACTOR = TRADER_ACTOR // (int)
end

0D10: set_actor TRADER_ACTOR alpha 255 // IF and SET
0E24: fix_char TRADER_ACTOR ground 0 brightness DO_ACTORS_BRIGHT_CORR and_fade_in 1
if
CAN_AIM_AT_SURVIVORS == 0
then
0568: set_actor TRADER_ACTOR untargetable 1
end
    
create_thread @PED_BKP TRADER_ACTOR 371

actor.PutAtNoOffset(TRADER_ACTOR,$TRADER_X[24@],$TRADER_Y[24@],$TRADER_Z[24@])
actor.Angle(TRADER_ACTOR) = $TRADER_A[24@] 
Actor.SetWalkStyle(TRADER_ACTOR, "GANG2")
Actor.Health(TRADER_ACTOR) = 1000
Actor.WeaponAccuracy(TRADER_ACTOR) = 100

0816: set_actor TRADER_ACTOR dont_chase_victim 1
060B: set_actor TRADER_ACTOR decision_maker_to $DEC_PCAMP
07DD: set_actor TRADER_ACTOR attack_rate 100 // previously known as temper_to  
081A: set_actor TRADER_ACTOR weapon_skill_to 2
0446: set_actor TRADER_ACTOR dismemberment_possible 0
0946: set_actor TRADER_ACTOR actions_uninterupted_by_weapon_fire 1

077A: set_actor TRADER_ACTOR acquaintance 0 to_actors_pedtype 0 // see ped.dat
077A: set_actor TRADER_ACTOR acquaintance 0 to_actors_pedtype $ZOMBIE_SET_PEDTYPE // see ped.dat 
077A: set_actor TRADER_ACTOR acquaintance 0 to_actors_pedtype 25 // see ped.dat
077A: set_actor TRADER_ACTOR acquaintance 0 to_actors_pedtype 27 // see ped.dat   

if
$FREEMODE == 0
then
random_int 0@ 250 500
else
random_int 0@ 350 650

for 11@ = 1 to $MONTHS_PASSED
0@ += 250
end

end

03FE: set_actor TRADER_ACTOR money 0@

0781: get_weapon_with_ID $TRADER_WEAPON[24@] model_to 11@  

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

Actor.GiveWeaponAndAmmo(TRADER_ACTOR, $TRADER_WEAPON[24@], 99999)

$TRADER_DAMAGED_FLAG2 = 0
$TRADER_SPOTTED_FLAG = 0
gosub @TRADER_SET_SPOTTED_FLAG_BY_CAMP_CHECK
$TRADER_ROW = 0

:TRADER_IDLE
wait 0

if
TRADER_GENERATE_NEW_SPISOK_FLAG == 1
then       
gosub @RANDOM_PRICE_SCRIPTED
gosub @RANDOM_PRICE2_SCRIPTED
gosub @NEW_SPISOK
TRADER_GENERATE_NEW_SPISOK_FLAG = 0
end       

if and
$TRADER_ANGRY_FLAG[24@] == 0
$ENTERED_CAMP_NUMBER == -1
then

gosub @TRADER_ZONE_CHECK
if or
0583:   player PLAYER_CHAR in_zone v$TFUCK
0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 20.0 20.0 10.0 sphere 0
then

if
$SAVEPLACE_ON == 0
then
0084: HORDE_PREV_STATUS = $ZOMBIES_HORDE // (int)
end

$SAVEPLACE_ON = 1
TRADER_SAFE_ZONE_FLAG = 1
else
$SAVEPLACE_ON = 0
TRADER_SAFE_ZONE_FLAG = 0

if
HORDE_PREV_STATUS == 1
then
HORDE_PREV_STATUS = 0
end

end

end

//////////////////////////////////////////////////////////////////////////////////////////////

if and
$TRADER_ANGRY_FLAG[24@] == 0
not PLAYER_USING_MELEE_FLAG == 1
82D8: not  actor PLAYER_ACTOR current_weapon == 0
82D8: not  actor PLAYER_ACTOR current_weapon == 46
then

if
TRADER_AIM_STVOL_FLAG == 0
then

//////////////////////////////////////////////////////////////////////////////////////////////

if and
0457:   player PLAYER_CHAR aiming_at_actor TRADER_ACTOR
0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 5.0 5.0 5.0 sphere 0
19@ == 0
82D8: not  actor TRADER_ACTOR current_weapon == 0
82D8: not  actor TRADER_ACTOR current_weapon == 46
then
0635: AS_actor TRADER_ACTOR aim_at_actor PLAYER_ACTOR -1 ms
TRADER_AIM_STVOL_FLAG = 1
gosub @RANDOM_DIALOG_STVOL_TRADER           
v$2NAME3 = "GAME460"                               
09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer                      
0384: show_text_1string GXT v$PHRASE3 string v$2NAME3 time 3@ 1
end

//////////////////////////////////////////////////////////////////////////////////////////////

else

//////////////////////////////////////////////////////////////////////////////////////////////

if
8457: not  player PLAYER_CHAR aiming_at_actor TRADER_ACTOR
then
0687: clear_actor TRADER_ACTOR task
TRADER_AIM_STVOL_FLAG = 0
end

//////////////////////////////////////////////////////////////////////////////////////////////

end

end

//////////////////////////////////////////////////////////////////////////////////////////////   

random_int 0@ 0 5
gosub @RANDOM_TRADER_ATTACK_PEOPLE1   

if or
80FE: not  actor PLAYER_ACTOR sphere 0 in_sphere $TRADER_X[24@] $TRADER_Y[24@] $TRADER_Z[24@] radius 140.0 140.0 140.0
$SAVESTATUS == 1
$SALVATION_FLAG == 1
    then                                                                                                      
    actor.DestroyWithFade(TRADER_ACTOR)
    TRADER_ACTOR = -69
    $TRADER_ACTOR = -69
    
    if
    TRADER_SAFE_ZONE_FLAG == 1
    then
    TRADER_SAFE_ZONE_FLAG = 0
    $SAVEPLACE_ON = 0
    
    if
    HORDE_PREV_STATUS == 1
    then
    HORDE_PREV_STATUS = 0
    end
    
    end
    
    0085: TRADER_PREV_NUM = 24@ // (int)        
    jump to @TRADER_IDLE_START
    end
    
if
actor.Dead(TRADER_ACTOR)
    then
    create_thread @ANTKUKL TRADER_ACTOR
    0555: remove_weapon 46 from_actor TRADER_ACTOR  
    $TRADER_DEAD_FLAG[24@] = 1
    
    if
    TRADER_SAFE_ZONE_FLAG == 1
    then
    TRADER_SAFE_ZONE_FLAG = 0
    $SAVEPLACE_ON = 0
    
    if
    HORDE_PREV_STATUS == 1
    then
    HORDE_PREV_STATUS = 0
    end
    
    end
    
    0A96: 3@ = actor TRADER_ACTOR struct
    3@ += 0x754
    0A8D: 1@ = read_memory 3@ size 4 virtual_protect 0
    2@ = 0    
    0ECE: get_time_char_is_dead TRADER_ACTOR store_to 2@
        
    if and
    0104:   actor TRADER_ACTOR near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
    89A8: not  actor TRADER_ACTOR headshoted
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
    not 1@ == 0x02
    2@ > 500 
        then
        gosub @RANDOM_DIALOG_DEAD_TRADER                       
        v$2NAME3 = "GAME460"                        
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer                          
        0384: show_text_1string GXT v$PHRASE3 string v$2NAME3 time 3@ 1            
        end        
    
    text.RemoveTextBox()
    text.ShowTextBox('TRDR43')
    
    gosub @TRADER_ZONE_CHECK
    0879: enable_gang_wars 0
    076C: set_zone v$TFUCK gang 3 density_to 0
    076C: set_zone v$TFUCK gang 4 density_to 0
    0879: enable_gang_wars 1        
    
    0A96: 0@ = actor TRADER_ACTOR struct
    0A8E: 0@ = 0@ + 0x764
    0A8D: 1@ = read_memory 0@ size 2 virtual_protect 1
    0A8D: 2@ = read_memory 0xB6F5F0 size 2 virtual_protect 1
    
    if
    0800:   in_two_players_mode
    then
    0A8D: 0@ = read_memory 0xB7CF28 size 2 virtual_protect 1
    else
    0@ = -69
    end
    
    if or
    003B:   1@ == 2@  // (int)
    003B:   1@ == 0@  // (int)
    then
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_TRADERS_KILLED"    
        
    if
    $CHEATED_FLAG == 0 
    then                  
    0@ += 1
    end
    
    $TEMP_XP = TRADER_XP_PLUS
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)
    
    if
    KARMA_SYS_ON_FLAG == 1
    then
        
    if
    not CARMA_VERY_BAD_FLAG == 1    
    then
    Audiostream.Loop($KARMA_GOOD,0)
    Audiostream.PerformAction($KARMA_GOOD, PLAY)
    Audiostream.Volume($KARMA_GOOD) = $SOUNDS_VOLUME
    CARMA_GOOD_POINTS += 5
    CARMA_BAD_POINTS -= 5
    else
    Audiostream.Loop($KARMA_THUG,0)
    Audiostream.PerformAction($KARMA_THUG, PLAY)
    Audiostream.Volume($KARMA_THUG) = $SOUNDS_VOLUME
    CARMA_BAD_POINTS += 5
    CARMA_GOOD_POINTS -= 5
    end    
    
    end                        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_TRADERS_KILLED"        
    0AF0: 3@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT61_GOT"
            
    if and
    3@ == 0
    0@ >= 15
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH61"
        $ACHIEVEMENT_GOT_FLAG = 1                                    
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT61_GOT"
        end
        
    end
    
    actor.RemoveReferences(TRADER_ACTOR)
    TRADER_ACTOR = -69
    $TRADER_ACTOR = -69  
    
    if
    075C:   marker $TRADER_ICON[24@] enabled
    then                                          
    marker.Disable($TRADER_ICON[24@])
//    $TRADER_ICON[24@] = 0
    $TRADER_ICON[24@] = marker.CreateIconWithoutSphere(105,$TRADER_X[24@], $TRADER_Y[24@], $TRADER_Z[24@])
    end    
        
    if
    TRADER_SAFE_ZONE_FLAG == 1
    then
    TRADER_SAFE_ZONE_FLAG = 0
    $SAVEPLACE_ON = 0
    
    if
    HORDE_PREV_STATUS == 1
    then
    HORDE_PREV_STATUS = 0
    end
    
    end
    
    gosub @NEW_SPISOK             
    
    jump to @TRADER_IDLE_START    
    end
    
if
$TRADER_DAMAGED_FLAG2 == 0
    then
    if
    051A:   actor TRADER_ACTOR damaged_by_actor PLAYER_ACTOR   
        then
        wait 1
        if
        not actor.Dead(TRADER_ACTOR)
            then
            
            if
            TRADER_AIM_STVOL_FLAG == 1
            then
            TRADER_AIM_STVOL_FLAG = 0
            end
                    
            05E2: AS_actor TRADER_ACTOR kill_actor PLAYER_ACTOR
            0568: set_actor TRADER_ACTOR untargetable 0
            077A: set_actor TRADER_ACTOR acquaintance 4 to_actors_pedtype 0 // see ped.dat
            $TRADER_DAMAGED_FLAG2 = 1
            $TRADER_ANGRY_FLAG[24@] = 1
            
            gosub @TRADER_ZONE_CHECK
            0879: enable_gang_wars 0
            076C: set_zone v$TFUCK gang 3 density_to 0
            076C: set_zone v$TFUCK gang 4 density_to 40
            0879: enable_gang_wars 1
            
            $SAVEPLACE_ON = 0
            TRADER_SAFE_ZONE_FLAG = 0
            
            if
            HORDE_PREV_STATUS == 1
            then
            HORDE_PREV_STATUS = 0
            end
            
            gosub @RANDOM_DIALOG_ATTACK_TRADER 
            
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
            
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  
            
            if
            UNITED_MAP == 0
            then
            
            if
            24@ == 11
            then
            $CAMP_AGRED_FLAG[3] = 1
            end
            
            if
            24@ == 13
            then
            $CAMP_AGRED_FLAG[9] = 1
            end
            
            end
            
            if
            UNITED_MAP == 1
            then
            
            if
            24@ == 0
            then
            $CAMP_AGRED_FLAG[0] = 1
            end
            
            if
            24@ == 1
            then
            $CAMP_AGRED_FLAG[3] = 1
            end
            
            if
            24@ == 4
            then
            $CAMP_AGRED_FLAG[6] = 1
            end
            
            if
            24@ == 5
            then
            $CAMP_AGRED_FLAG[2] = 1
            end
            
            if
            24@ == 8
            then
            $CAMP_AGRED_FLAG[1] = 1
            end
            
            if
            24@ == 9
            then
            $CAMP_AGRED_FLAG[8] = 1
            end
            
            if
            24@ == 10
            then
            $CAMP_AGRED_FLAG[4] = 1
            end
            
            end
            
            end        
        end                        
    end
    
//////////////////////////////////////////////////Торговец в лагере приветствует игрока//////////////////////////////////////////////////     
    
if and
$TRADER_SPOTTED_FLAG == 0
$TRADER_DAMAGED_FLAG2 == 0
$TRADER_ANGRY_FLAG[24@] == 0   
    then                   
    if and
    0364:   actor TRADER_ACTOR spotted_actor PLAYER_ACTOR
    0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 25.0 25.0 10.0 sphere 0 
    $TRADER_SPOTTED_FLAG == 0                  
        then                     
        $TRADER_SPOTTED_FLAG = 1
        0605: actor TRADER_ACTOR perform_animation "wave_in" IFP "CAMERA" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
        05BF: AS_actor TRADER_ACTOR look_at_actor PLAYER_ACTOR 830 ms
        
        if
        TRADER_NEW_SPISOK_PHRASE_FLAG == 0
        then
        gosub @RANDOM_DIALOG_HELLO1_TRADER
        else
        gosub @RANDOM_DIALOG_NEW_SPISOK_TRADER
        TRADER_NEW_SPISOK_PHRASE_FLAG = 0
        end
                    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer              
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1                                                                                                                                                
        end                                            
    end  
    
//////////////////////////////////////////////////Торговец в лагере приветствует игрока (негативно)//////////////////////////////////////////////////     
    
if and
$TRADER_SPOTTED_FLAG == 0
$TRADER_DAMAGED_FLAG2 == 1
$TRADER_ANGRY_FLAG[24@] == 1   
    then                   
    if and
    0364:   actor TRADER_ACTOR spotted_actor PLAYER_ACTOR
    0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 95.0 95.0 10.0 sphere 0 
    $TRADER_SPOTTED_FLAG == 0
    not actor.Driving(PLAYER_ACTOR)                  
        then                     
        $TRADER_SPOTTED_FLAG = 1
        gosub @RANDOM_DIALOG_HELLO2_TRADER            
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer              
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1                                                                                                                                                
        end                                            
    end          
    
if
$TRADER_DAMAGED_FLAG2 == 0
    then
    if
    $TRADER_ANGRY_FLAG[24@] == 1
        then        
        05E2: AS_actor TRADER_ACTOR kill_actor PLAYER_ACTOR
        0568: set_actor TRADER_ACTOR untargetable 0
        077A: set_actor TRADER_ACTOR acquaintance 4 to_actors_pedtype 0 // see ped.dat
        $TRADER_DAMAGED_FLAG2 = 1
        $TRADER_ANGRY_FLAG[24@] = 1
        
        $SAVEPLACE_ON = 0
        TRADER_SAFE_ZONE_FLAG = 0
        
        if
        HORDE_PREV_STATUS == 1
        then
        HORDE_PREV_STATUS = 0
        end
                   
        end                        
    end

if and
$TRADER_DAMAGED_FLAG2 == 0
$TRADER_ANGRY_FLAG[24@] == 0   
$PANEL_OPEN == 0
not $TRADER_SPOTTED_FLAG == 2
not actor.Driving(PLAYER_ACTOR)
    then
    
    if
    0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 3.0 3.0 1.0 sphere 0
        then
    
        if and
        $KEY_USE == 69
        8A4B: not  controls_set_to_joystick
        then
        if
        8A2A: not  text_box 'TRDR74' displayed
            then
            0512: show_permanent_text_box 'TRDR74'
            end    
        else
        
        if
        8A4B: not  controls_set_to_joystick
        then
        
        if
        8A2A: not  text_box 'TRD742' displayed
            then
            0512: show_permanent_text_box 'TRD742'
            end
            
        else
        
        if
        8A2A: not  text_box 'TRD743' displayed
            then
            0512: show_permanent_text_box 'TRD743'
            end
        
        end   
            
        end    
        
        else
        
        if and
        $KEY_USE == 69
        8A4B: not  controls_set_to_joystick
        then
        if
        0A2A:   text_box 'TRDR74' displayed
            then
            text.RemoveTextBox()
            end    
        else
        
        if
        8A4B: not  controls_set_to_joystick
        then
        
        if
        0A2A:   text_box 'TRD742' displayed
            then
            text.RemoveTextBox()
            end
            
        else
        
        if
        0A2A:   text_box 'TRD743' displayed
            then
            text.RemoveTextBox()
            end
        
        end   
            
        end  
        
        end
    else
    
    if and
    $KEY_USE == 69
    8A4B: not  controls_set_to_joystick
        then
        if
        0A2A:   text_box 'TRDR74' displayed
            then
            text.RemoveTextBox()
            end    
        else
        
        if
        8A4B: not  controls_set_to_joystick
        then
        
        if
        0A2A:   text_box 'TRD742' displayed
            then
            text.RemoveTextBox()
            end
            
        else
        
        if
        0A2A:   text_box 'TRD743' displayed
            then
            text.RemoveTextBox()
            end
        
        end   
            
        end  
    
    end

if and
$TRADER_DAMAGED_FLAG2 == 0
$TRADER_ANGRY_FLAG[24@] == 0   
$PANEL_OPEN == 0
not $TRADER_SPOTTED_FLAG == 2
0AB0:   key_pressed $KEY_USE
0104:   actor PLAYER_ACTOR near_actor TRADER_ACTOR radius 3.0 3.0 1.0 sphere 0
not actor.Dead(TRADER_ACTOR)
not actor.Driving(PLAYER_ACTOR)
    then
    if and
    $KANISTRA_USING == 0
    $JIMMY_USING == 0
        then
        0084: BUYER_ACTOR = PLAYER_ACTOR
        BUYER_PLAYER = 0
        player.CanMove(PLAYER_CHAR) = false            
        text.RemoveTextBox()            
        fade 0 400
        $HUD_REMOVE = 1
        wait 400    
        0470: 22@ = actor PLAYER_ACTOR current_weapon
        06AB: set_actor PLAYER_ACTOR all_weapons_hidden 1
        06AB: set_actor TRADER_ACTOR all_weapons_hidden 1
        01B9: set_actor PLAYER_ACTOR armed_weapon_to 0  
        
        if and
        $FP_ACTIVATED == 1
        $GAMEMODE_STORYLINE == 1
        then
        repeat
        wait 0
        until $FP_ACTIVATED == 0
        end
              
        04C4: store_coords_to $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_2 $TEMPVAR_FLOAT_3 from_actor PLAYER_ACTOR with_offset 0.5 -1.3 1.0
        015F: set_camera_position $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_2 $TEMPVAR_FLOAT_3 rotation 0.0 0.0 0.0
        camera.OnPed(TRADER_ACTOR,15,2)
        cinema.Radar(0)
        $PANEL_OPEN = 1
        $PHRASES_OFF_FLAG = 1
        text.ClearAll()        
        0639: AS_actor PLAYER_ACTOR rotate_to_actor TRADER_ACTOR
        0639: AS_actor TRADER_ACTOR rotate_to_actor PLAYER_ACTOR
        05BF: AS_actor PLAYER_ACTOR look_at_actor TRADER_ACTOR 999999 ms
        05BF: AS_actor TRADER_ACTOR look_at_actor PLAYER_ACTOR 999999 ms   
        wait 400
        fade 1 400
        $HUD_REMOVE = 0  
        wait 400
        $FIST_HUD_ALWAYS = 1    
        gosub @TRADER_START_MENU        
        $PHRASES_OFF_FLAG = 0
        $FIST_HUD_ALWAYS = 0
        fade 0 400
        $HUD_REMOVE = 1
        wait 400    
        text.ClearAll() 
        05BF: AS_actor PLAYER_ACTOR look_at_actor TRADER_ACTOR 1 ms
        05BF: AS_actor TRADER_ACTOR look_at_actor PLAYER_ACTOR 1 ms
        06AB: set_actor PLAYER_ACTOR all_weapons_hidden 0
        06AB: set_actor TRADER_ACTOR all_weapons_hidden 0
        if
        0491:   actor PLAYER_ACTOR has_weapon 22@
        then
        01B9: set_actor PLAYER_ACTOR armed_weapon_to 22@
        end 
        camera.SetBehindPlayer()
        camera.Restore_WithJumpCut()
        cinema.Radar(1)        
        cinema.Widescreen(0)
        
        if
        TRADER_SAVE_USLUGA == 1            
        then
        TRADER_SAVE_USLUGA = 0
        actor.DestroyWithFade(TRADER_ACTOR)
        TRADER_ACTOR = -69
        $TRADER_ACTOR = -69
        
        if
        TRADER_SAFE_ZONE_FLAG == 1
        then
        $SAVEPLACE_ON = 0
        TRADER_SAFE_ZONE_FLAG = 0
        
        if
        HORDE_PREV_STATUS == 1
        then
        HORDE_PREV_STATUS = 0
        end
        
        end
        
        0085: TRADER_PREV_NUM = 24@ // (int)
        
        if
        0E4D: random_percent 3
        then
        
        010B: 14@ = player PLAYER_CHAR money
        0E5E: change_player_money 0 mode 2 value 14@
        
        $TRADER_DEAD_FLAG[24@] = 1

        if
        075C:   marker $TRADER_ICON[24@] enabled
        then                                          
        marker.Disable($TRADER_ICON[24@])
//        $TRADER_ICON[24@] = 0
        $TRADER_ICON[24@] = marker.CreateIconWithoutSphere(105,$TRADER_X[24@], $TRADER_Y[24@], $TRADER_Z[24@])
        end
        
        gosub @TRADER_ZONE_CHECK
        0879: enable_gang_wars 0
        076C: set_zone v$TFUCK gang 3 density_to 0
        076C: set_zone v$TFUCK gang 4 density_to 0
        0879: enable_gang_wars 1
        
        end                
                
        gosub @TRADER_SAVE_SET                      
        jump to @TRADER_IDLE_START        
        end
        
        fade 1 400
        $HUD_REMOVE = 0          
        wait 400
        $PANEL_OPEN = 0                
        player.CanMove(PLAYER_CHAR) = true
        
        if and
        not actor.Dead(TRADER_ACTOR)
        not $TRADER_SPOTTED_FLAG == 2
        then
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 162    
        gosub @RANDOM_DIALOG_HELLO4_TRADER            
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer              
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1
        end
              
        end
    end
    
if and
056D:   actor COOP_ACTOR defined
not COOP_ACTOR == -69
not $TRADER_SPOTTED_FLAG == 2
then
if and
$TRADER_DAMAGED_FLAG2 == 0
$TRADER_ANGRY_FLAG[24@] == 0   
$PANEL_OPEN == 0
$PANEL_OPEN2P == 0
0E3E: is_button_just_pressed 1 button 11
0104:   actor COOP_ACTOR near_actor TRADER_ACTOR radius 3.0 3.0 1.0 sphere 0
not actor.Dead(TRADER_ACTOR)
not actor.Driving(COOP_ACTOR)
    then
    if and
    $KANISTRA_USING == 0
    $JIMMY_USING == 0
        then
        0084: BUYER_ACTOR = COOP_ACTOR
        BUYER_PLAYER = 1
        player.CanMove(BUYER_PLAYER) = false            
        text.RemoveTextBox()            
        fade 0 400
        $HUD_REMOVE = 1
        wait 400    
        0470: 22@ = actor COOP_ACTOR current_weapon
        06AB: set_actor COOP_ACTOR all_weapons_hidden 1
        06AB: set_actor TRADER_ACTOR all_weapons_hidden 1
        01B9: set_actor COOP_ACTOR armed_weapon_to 0        
        04C4: store_coords_to $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_2 $TEMPVAR_FLOAT_3 from_actor COOP_ACTOR with_offset 0.5 -1.3 1.0
        015F: set_camera_position $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_2 $TEMPVAR_FLOAT_3 rotation 0.0 0.0 0.0
        camera.OnPed(TRADER_ACTOR,15,2)
        cinema.Radar(0)
        $PANEL_OPEN2P = 1
        $PHRASES_OFF_FLAG = 1
        text.ClearAll()        
        0639: AS_actor COOP_ACTOR rotate_to_actor TRADER_ACTOR
        0639: AS_actor TRADER_ACTOR rotate_to_actor COOP_ACTOR
        05BF: AS_actor COOP_ACTOR look_at_actor TRADER_ACTOR 999999 ms
        05BF: AS_actor TRADER_ACTOR look_at_actor COOP_ACTOR 999999 ms
        wait 400
        fade 1 400
        $HUD_REMOVE = 0  
        wait 400
        $FIST_HUD_ALWAYS = 1    
        gosub @TRADER_START_MENU        
        $PHRASES_OFF_FLAG = 0
        $FIST_HUD_ALWAYS = 0
        fade 0 400
        $HUD_REMOVE = 1
        wait 400
        text.ClearAll() 
        05BF: AS_actor COOP_ACTOR look_at_actor TRADER_ACTOR 1 ms
        05BF: AS_actor TRADER_ACTOR look_at_actor COOP_ACTOR 1 ms
        06AB: set_actor COOP_ACTOR all_weapons_hidden 0
        06AB: set_actor TRADER_ACTOR all_weapons_hidden 0
        if
        0491:   actor COOP_ACTOR has_weapon 22@
        then
        01B9: set_actor COOP_ACTOR armed_weapon_to 22@
        end 
        camera.SetBehindPlayer()
        camera.Restore_WithJumpCut()
        cinema.Radar(1)        
        cinema.Widescreen(0)
        
        if
        TRADER_SAVE_USLUGA == 1            
        then
        TRADER_SAVE_USLUGA = 0
        actor.DestroyWithFade(TRADER_ACTOR)
        TRADER_ACTOR = -69
        $TRADER_ACTOR = -69
        
        if
        TRADER_SAFE_ZONE_FLAG == 1
        then
        $SAVEPLACE_ON = 0
        TRADER_SAFE_ZONE_FLAG = 0
        
        if
        HORDE_PREV_STATUS == 1
        then
        HORDE_PREV_STATUS = 0
        end
        
        end
        
        0085: TRADER_PREV_NUM = 24@ // (int)
        
        if
        0E4D: random_percent 3
        then
        
        010B: 14@ = player BUYER_PLAYER money
        0E5E: change_player_money 0 mode 2 value 14@
        
        $TRADER_DEAD_FLAG[24@] = 1

        if
        075C:   marker $TRADER_ICON[24@] enabled
        then                                          
        marker.Disable($TRADER_ICON[24@])
//        $TRADER_ICON[24@] = 0
        $TRADER_ICON[24@] = marker.CreateIconWithoutSphere(105,$TRADER_X[24@], $TRADER_Y[24@], $TRADER_Z[24@])
        end
        
        gosub @TRADER_ZONE_CHECK
        0879: enable_gang_wars 0
        076C: set_zone v$TFUCK gang 3 density_to 0
        076C: set_zone v$TFUCK gang 4 density_to 0
        0879: enable_gang_wars 1
        
        end                
                
        gosub @TRADER_SAVE_SET                      
        jump to @TRADER_IDLE_START        
        end
        
        fade 1 400
        $HUD_REMOVE = 0          
        wait 400
        $PANEL_OPEN2P = 0                
        player.CanMove(BUYER_PLAYER) = true
        
        if
        not actor.Dead(TRADER_ACTOR)
        then
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 162    
        gosub @RANDOM_DIALOG_HELLO4_TRADER            
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer              
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1
        end
              
        end
    end
end    
    
if 
80FE: not  actor TRADER_ACTOR sphere 0 in_sphere $TRADER_X[24@] $TRADER_Y[24@] $TRADER_Z[24@] radius 1.0 1.0 1.0
    then   
    if and
    $TRADER_DAMAGED_FLAG2 == 0
    $TRADER_ANGRY_FLAG[24@] == 0 
    not actor.Dead(TRADER_ACTOR)
    0E45: frame_mod 15 
        then           
        0615: define_AS_pack_begin 1@  
        05D3: AS_actor -1 goto_point $TRADER_X[24@] $TRADER_Y[24@] $TRADER_Z[24@] mode 4 time 3000 ms // versionA
        05D4: AS_actor -1 rotate_angle $TRADER_A[24@]              
        0616: define_AS_pack_end 1@
        0618: assign_actor TRADER_ACTOR to_AS_pack 1@
        061B: remove_references_to_AS_pack 1@
        end
    end
    
////////////////////////Агрим торговца в случае если союзный лагерь сагрился////////////////////////
if
UNITED_MAP == 0
then

if
$ENTERED_CAMP_NUMBER == 3
then
if
$CAMP_AGRED_FLAG[3] == 1
    then
    $TRADER_ANGRY_FLAG[11] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 9
then
if
$CAMP_AGRED_FLAG[9] == 1
    then
    $TRADER_ANGRY_FLAG[13] = 1
    end
end

end

if
UNITED_MAP == 1
then

if
$ENTERED_CAMP_NUMBER == 0
then
if
$CAMP_AGRED_FLAG[0] == 1
    then
    $TRADER_ANGRY_FLAG[0] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 3
then
if
$CAMP_AGRED_FLAG[3] == 1
    then
    $TRADER_ANGRY_FLAG[1] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 6
then
if
$CAMP_AGRED_FLAG[6] == 1
    then
    $TRADER_ANGRY_FLAG[4] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 2
then
if
$CAMP_AGRED_FLAG[2] == 1
    then
    $TRADER_ANGRY_FLAG[5] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 1
then
if
$CAMP_AGRED_FLAG[1] == 1
    then
    $TRADER_ANGRY_FLAG[8] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 8
then
if
$CAMP_AGRED_FLAG[8] == 1
    then
    $TRADER_ANGRY_FLAG[9] = 1
    end
end

if
$ENTERED_CAMP_NUMBER == 4
then
if
$CAMP_AGRED_FLAG[4] == 1
    then
    $TRADER_ANGRY_FLAG[10] = 1
    end
end

end     

jump to @TRADER_IDLE

:TRADER_SET_SPOTTED_FLAG_BY_CAMP_CHECK

if
UNITED_MAP == 0
then

if or
24@ == 11
24@ == 13
    then
    if or
    $ENTERED_CAMP_NUMBER == 11
    $ENTERED_CAMP_NUMBER == 13
        then
        gosub @TRADER_SET_SPOTTED_FLAG_BY_CAMP
        end
    end

end

if
UNITED_MAP == 1
then

if or
24@ == 0
24@ == 1
24@ == 4
24@ == 5
24@ == 8
24@ == 9
24@ == 10
    then
    if or
    $ENTERED_CAMP_NUMBER == 0
    $ENTERED_CAMP_NUMBER == 1
    $ENTERED_CAMP_NUMBER == 4
    $ENTERED_CAMP_NUMBER == 5
    $ENTERED_CAMP_NUMBER == 8
    $ENTERED_CAMP_NUMBER == 9
    $ENTERED_CAMP_NUMBER == 10
        then
        gosub @TRADER_SET_SPOTTED_FLAG_BY_CAMP
        end
    end

end
            
return

:TRADER_SET_SPOTTED_FLAG_BY_CAMP

if or
$CAMP_SPOTTED_FLAG == 1
$CAMP_SPOTTED_FLAG_SAVE == 1
    then
    $TRADER_SPOTTED_FLAG = 1
    end

return            

:PLAY_PICKUP_SOUND3
Audiostream.Volume($PICKUP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($PICKUP_ITEM_SOUND, 0)
Audiostream.PerformAction($PICKUP_ITEM_SOUND, PLAY)
0605: actor TRADER_ACTOR perform_animation "habargive" IFP "CAMERA" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 1170 ms 
return

:TRADER_WEAPON_MODEL_LOADED_CHECK

0781: get_weapon_with_ID 23@ model_to 0@

while not model.Available(0@)    
model.Load(0@)
mload
if
not model.Available(0@)
    then
    wait 0
    model.Load(0@)
    mload
    end    
end

return

:TRADER_SAVE_SET

SAVE_PRE_TP_TEAMMATES_FLAG = 1

repeat
wait 0
until SAVE_PRE_TP_TEAMMATES_FLAG == 0

if and
not $CARL_STORY == 1
not $MIKE_STORY == 1
then
create_thread @DIFF_N
end

$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
create_thread @PTL_TXT
  
wait $GAME_SAVE_WAIT_TIME

while true
wait 0
$END_FADING_MUSIC_FAST = 1

if and
$MUSIC_FADE_ENDED[0] == 1
$MUSIC_FADE_ENDED[1] == 1
$MUSIC_FADE_ENDED[2] == 1
$MUSIC_FADE_ENDED[3] == 1
$MUSIC_FADE_ENDED[4] == 1
then
$END_FADING_MUSIC_FAST = 0
break
end

end

$PREPARING_TEXT_OFF = 1
wait 10
$PLAYER_HEALTH = actor.Health(PLAYER_ACTOR) 

wait 1

065C: release_decision_maker $DEC_PEOPLE 
wait 10

if
UNITED_MAP == 1
then
03F0: enable_text_draw 0
end
03D8: show_save_screen   
  
:CHECKING_SAVE_TRADER
wait 0
fade 0 0 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
if
03D9:   save_done
jf @CHECKING_SAVE_TRADER
0089: 14@ = $TRADER_A[24@] // (float)
Actor.Angle(PLAYER_ACTOR) = 14@
camera.Restore_WithJumpCut()
$CAMP_SPOTTED_FLAG_SAVE = 1

if
$FREEMODE == 0
then
$MINUTES_PLAYED += 6
end

return

/////////////////////////////////////////////////////////////////////////////////   

:TRADER_START_MENU

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PHRASES_OFF_FLAG = 1

0512: show_permanent_text_box 'GAME331'
$PANEL = 0
08D4: $PANEL = create_panel_with_title 'GAME198' position $X_MENU_SELECT_GAMEMODE $Y_MENU_SELECT_GAMEMODE width $WIDTH_MENU_SELECT_GAMEMODE columns 1 interactive 1 background 1 alignment 0  
08DB: set_panel $PANEL column 0 header 'GAME328' data 'GAME326' 'GAME325' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

if
TRADER_TOTAL_MONEY < 0
then
08D9: set_panel $PANEL row 1 enable 0

if
$PANEL22_ACTIVE_ROW == 1
then
$PANEL22_ACTIVE_ROW = 0
end

end

if
$PANEL22_ACTIVE_ROW == 0 
then     
text.ShowH('GMD_86',100,1)  
end   

if
$PANEL22_ACTIVE_ROW == 1 
then     
text.ShowH('GMD_85',100,1)  
end    

090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW 
//wait 100

:TRADER_START_MENU_IDLE
wait 0

if
8A2A: not  text_box 'GAME331' displayed
then
0512: show_permanent_text_box 'GAME331' 
end      

08D7: $PANEL22_ACTIVE_ROW = panel $PANEL active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $PANEL22_ACTIVE_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW > 1
        then
        $PANEL22_ACTIVE_ROW = 0
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $PANEL22_ACTIVE_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW < 0
        then
        $PANEL22_ACTIVE_ROW = 1
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end        

if
$PANEL22_ACTIVE_ROW == 0 
    then     
    text.ShowH('GMD_86',10,1)  
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                
        jump to @TRADER_BUY_MENU
        end
    end     
    
if
$PANEL22_ACTIVE_ROW == 1 
    then     
    text.ShowH('GMD_85',10,1)  
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all        
        jump to @TRADER_SELL_MENU
        end
    end         

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL  
00BE: text_clear_all    
return
else
jump @TRADER_START_MENU_IDLE
end        

jump to @TRADER_START_MENU_IDLE

/////////////////////////////////////////////////////////////////////////////////   

:TRADER_SELL_MENU  

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

0512: show_permanent_text_box 'GAME331'
$PANEL = 0
08D4: $PANEL = create_panel_with_title 'GAME198' position $X_MENU_SELECT_GAMEMODE $Y_MENU_SELECT_GAMEMODE width $WIDTH_MENU_SELECT_GAMEMODE columns 1 interactive 1 background 1 alignment 0  
08DB: set_panel $PANEL column 0 header 'GAME328' data 'GAME329' 'GAME330' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'

if
$PANEL221_ACTIVE_ROW == 0 
then     
text.ShowH('GMD_87',100,1)  
end   

if
$PANEL221_ACTIVE_ROW == 1 
then     
text.ShowH('GMD_88',100,1)  
end    

090E: set_panel $PANEL active_row $PANEL221_ACTIVE_ROW 
//wait 100

:TRADER_SELL_MENU_IDLE
wait 0

if
8A2A: not  text_box 'GAME331' displayed
then
0512: show_permanent_text_box 'GAME331' 
end

08D7: $PANEL221_ACTIVE_ROW = panel $PANEL active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $PANEL221_ACTIVE_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL221_ACTIVE_ROW > 1
        then
        $PANEL221_ACTIVE_ROW = 0
        090E: set_panel $PANEL active_row $PANEL221_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL221_ACTIVE_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $PANEL221_ACTIVE_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL221_ACTIVE_ROW < 0
        then
        $PANEL221_ACTIVE_ROW = 1
        090E: set_panel $PANEL active_row $PANEL221_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL221_ACTIVE_ROW
        end
    end

if
$PANEL221_ACTIVE_ROW == 0 
    then     
    text.ShowH('GMD_87',10,1)  
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                
        jump to @TRADER_SELL_ITEMS_MENU
        end
    end     
    
if
$PANEL221_ACTIVE_ROW == 1 
    then     
    text.ShowH('GMD_88',10,1)  
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all        
        jump to @TRADER_SELL_WEAPONS_MENU
        end
    end         

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
jump to @TRADER_START_MENU
else
jump @TRADER_SELL_MENU_IDLE
end     

jump to @TRADER_SELL_MENU_IDLE   

//////////////////////////////////////////////////////////////////////////////////

:AMMO_BUY_TEXT_PRICE_CHECK

cinema.Widescreen(0)

if or
25@ == 22
25@ == 23
25@ == 111
25@ == 136
25@ == 165
25@ == 195
then
0084: $AMMO_FOR_BUY3 = $7MM_PRICE_SELL // (int)
end

if 
25@ == 24
then
0084: $AMMO_FOR_BUY3 = $DESERT_EAGLE_PRICE_SELL // (int)
end

if or
25@ == 71
25@ == 137
25@ == 166
25@ == 196
then
0084: $AMMO_FOR_BUY3 = $REVOLVER_PRICE_SELL // (int)
end

if
25@ == 76
then
0084: $AMMO_FOR_BUY3 = $FIVESEVEN_PRICE_SELL // (int)
end

if
25@ == 89
then
0084: $AMMO_FOR_BUY3 = $BERETTA_PRICE_SELL // (int)
end

if
25@ == 90
then
0084: $AMMO_FOR_BUY3 = $WIDMAG_PRICE_SELL // (int)
end

if
25@ == 98
then
0084: $AMMO_FOR_BUY3 = $CZ75_PRICE_SELL // (int)
end

if or
25@ == 25
25@ == 113
25@ == 138
25@ == 172
25@ == 202
then
0084: $AMMO_FOR_BUY3 = $SHOTGUN_PRICE_SELL // (int)
end

if or
25@ == 26
25@ == 140
25@ == 174
25@ == 204
then
0084: $AMMO_FOR_BUY3 = $SHOTGUN2_PRICE_SELL // (int)
end

if or
25@ == 27
25@ == 139
25@ == 173
25@ == 203
then
0084: $AMMO_FOR_BUY3 = $SHOTGUN3_PRICE_SELL // (int)
end

if
25@ == 73
then
0084: $AMMO_FOR_BUY3 = $SSG_PRICE_SELL // (int)
end

if
25@ == 78
then
0084: $AMMO_FOR_BUY3 = $AA12_PRICE_SELL // (int)
end

if
25@ == 91
then
0084: $AMMO_FOR_BUY3 = $STUBBY_PRICE_SELL // (int)
end

if
25@ == 100
then
0084: $AMMO_FOR_BUY3 = $SAIGA12_PRICE_SELL // (int)
end

if
25@ == 102
then
0084: $AMMO_FOR_BUY3 = $STRIKER_PRICE_SELL // (int)
end

if
25@ == 103
then
0084: $AMMO_FOR_BUY3 = $XM1014_PRICE_SELL // (int)
end

if or
25@ == 28
25@ == 117
25@ == 142
25@ == 168
25@ == 198
then
0084: $AMMO_FOR_BUY3 = $MICRO_UZI_PRICE_SELL // (int)
end

if or
25@ == 32
25@ == 141
25@ == 167
25@ == 197
then
0084: $AMMO_FOR_BUY3 = $TEC9_PRICE_SELL // (int)
end

if or
25@ == 29
25@ == 143
25@ == 169
25@ == 199
then
0084: $AMMO_FOR_BUY3 = $SMG_PRICE_SELL // (int)
end

if
25@ == 74
then
0084: $AMMO_FOR_BUY3 = $THOMPSON_PRICE_SELL // (int)
end

if
25@ == 77
then
0084: $AMMO_FOR_BUY3 = $BIZON_PRICE_SELL // (int)
end

if
25@ == 79
then
0084: $AMMO_FOR_BUY3 = $UMP45_PRICE_SELL // (int)
end

if
25@ == 84
then
0084: $AMMO_FOR_BUY3 = $MP9_PRICE_SELL // (int)
end

if
25@ == 85
then
0084: $AMMO_FOR_BUY3 = $HKMP5_PRICE_SELL // (int)
end

if
25@ == 86
then
0084: $AMMO_FOR_BUY3 = $P90_PRICE_SELL // (int)
end

if
25@ == 87
then
0084: $AMMO_FOR_BUY3 = $SCORPION_PRICE_SELL // (int)
end

if or
25@ == 30
25@ == 112
25@ == 145
25@ == 171
25@ == 201
then
0084: $AMMO_FOR_BUY3 = $AK47_PRICE_SELL // (int)
end

if or
25@ == 31
25@ == 116
25@ == 144
25@ == 170
25@ == 200
then
0084: $AMMO_FOR_BUY3 = $M4_PRICE_SELL // (int)
end

if
25@ == 72
then
0084: $AMMO_FOR_BUY3 = $FAMAS_PRICE_SELL // (int)
end

if
25@ == 75
then
0084: $AMMO_FOR_BUY3 = $IA2_PRICE_SELL // (int)
end

if
25@ == 81
then
0084: $AMMO_FOR_BUY3 = $GROZA_PRICE_SELL // (int)
end

if
25@ == 82
then
0084: $AMMO_FOR_BUY3 = $SCAR_PRICE_SELL // (int)
end

if
25@ == 83
then
0084: $AMMO_FOR_BUY3 = $AUG_PRICE_SELL // (int)
end

if
25@ == 88
then
0084: $AMMO_FOR_BUY3 = $CAR15_PRICE_SELL // (int)
end

if
25@ == 95
then
0084: $AMMO_FOR_BUY3 = $AR15_PRICE_SELL // (int)
end

if
25@ == 99
then
0084: $AMMO_FOR_BUY3 = $G36C_PRICE_SELL // (int)
end

if
25@ == 101
then
0084: $AMMO_FOR_BUY3 = $SIG550_PRICE_SELL // (int)
end

if
25@ == 104
then
0084: $AMMO_FOR_BUY3 = $GALIL_PRICE_SELL // (int)
end

if
25@ == 105
then
0084: $AMMO_FOR_BUY3 = $HK416_PRICE_SELL // (int)
end

if or
25@ == 33
25@ == 146
25@ == 175
25@ == 205
then
0084: $AMMO_FOR_BUY3 = $RIFLE_PRICE_SELL // (int)
end

if
25@ == 80
then
0084: $AMMO_FOR_BUY3 = $HSNIPER_PRICE_SELL // (int)
end

if
25@ == 96
then
0084: $AMMO_FOR_BUY3 = $SVD_PRICE_SELL // (int)
end

if
25@ == 97
then
0084: $AMMO_FOR_BUY3 = $BOLT308_PRICE_SELL // (int)
end

if or
25@ == 34
25@ == 120
25@ == 147
25@ == 176
25@ == 206
then
0084: $AMMO_FOR_BUY3 = $SNIPER_RIFLE_PRICE_SELL // (int)
end
   
return

//////////////////////////////////////////////////////////////////////////////////  

:TRADER_AMMO_WEAPONS_MENU

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

gosub @TRADER_ITEMS_WEAPONS_SELL_CHECK

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int) 

gosub @TRADER_M16_OR_AK_III

0512: show_permanent_text_box 'TRDR120'
$PANEL_TRADE = 0 
08D4: $PANEL_TRADE = create_panel_with_title 'TRDR61' position 230.0 150.0 width 130.0 columns 2 interactive 1 background 1 alignment 1 //220.0                                                                             
08DB: set_panel $PANEL_TRADE column 0 header 'DUMMY' data v$PISTOL_STRING v$SHOTGUN_STRING v$SMG_STRING v$RIFLE_STRING v$SNIPER_STRING v$GRENADE_STRING v$MOLOTOV_STRING 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY'   
08D6: set_panel $PANEL_TRADE column 1 alignment 1 

gosub @TRADER_ITEMS_CHECK22

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 3 weapon 2@ ammo 0@ model 4@
if
0@ > 0
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "DISP5" number 0@ 21@
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 4 weapon 2@ ammo 0@ model 4@
if
0@ > 0
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "DISP5" number 0@ 21@
end 

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 5 weapon 2@ ammo 0@ model 4@
if
0@ > 0
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "DISP5" number 0@ 21@
end         

if
TRADER_M16_OR_AK_III == 0
then

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 6 weapon 2@ ammo 0@ model 4@
if
0@ > 0
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "DISP5" number 0@ 21@
end 

else

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7 weapon 2@ ammo 0@ model 4@
if and
0@ > 0
not 2@ == 70
not 2@ == 94
not 2@ == 149
not 2@ == 181
not 2@ == 211
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "DISP5" number 0@ 21@
end 

end    

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7 weapon 2@ ammo 0@ model 4@
if and
0@ > 0
not 2@ == 70
not 2@ == 94
not 2@ == 149
not 2@ == 181
not 2@ == 211
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "DISP5" number 0@ 21@
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 9 weapon 2@ ammo 0@ model 4@
if
0@ > 0
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 5 text_2numbers GXT "DISP5" number 0@ 21@
end 

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 8 weapon 2@ ammo 0@ model 4@

if and
0@ > 0
0D49: 4@ = compare_strings v$MOLOTOV_STRING "TRDR19" // IF and SET
not 2@ == 120
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT "DISP5" number 0@ 21@  
end

if
2@ == 120
then
0085: 25@ = 2@ // (int)
gosub @MAX_WEAPON_AMMO_CHECK3
08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "DISP5" number 0@ 21@  
end

if and
$UNITED_III_SPAWN == 1
STORIES_MAP == 0
then
04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 10 weapon 2@ ammo 0@ model 4@
if and
0@ > 0
0D49: 4@ = compare_strings v$MOLOTOV_STRING "TRDR19" // IF and SET
    then
    0085: 25@ = 2@ // (int)
    gosub @MAX_WEAPON_AMMO_CHECK3
    08EF: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT "DISP5" number 0@ 21@  
    end
end

08EE: set_panel $PANEL_TRADE column 1 row 8 text_1number GXT v$WEIGHT_STRING number $ITEMS_WEIGHT3
08EE: set_panel $PANEL_TRADE column 1 row 9 text_1number GXT v$TIME_STRING number 27@
08EE: set_panel $PANEL_TRADE column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY

09DB: set_panel $PANEL_TRADE column 0 width 130 //230
09DB: set_panel $PANEL_TRADE column 1 width 50 
090E: set_panel $PANEL_TRADE active_row $TRADER_AMMO_ROW

08D9: set_panel $PANEL_TRADE row 5 enable 0
08D9: set_panel $PANEL_TRADE row 6 enable 0
08D9: set_panel $PANEL_TRADE row 7 enable 0
08D9: set_panel $PANEL_TRADE row 8 enable 0
08D9: set_panel $PANEL_TRADE row 9 enable 0
08D9: set_panel $PANEL_TRADE row 10 enable 0

//0AD1: show_formatted_text_highpriority "PISTOL_ST_NONE: %d, SHOTGUN_ST_NONE: %d, SMG_ST_NONE: %d, RIFLE_ST_NONE: %d, SNIPER_ST_NONE: %d" time 2000 $PISTOL_ST_NONE $SHOTGUN_ST_NONE $SMG_ST_NONE $RIFLE_ST_NONE $SNIPER_ST_NONE

if
not $CHEATS_ON == 1
then

if
$PISTOL_ST_NONE == 1
then
08D9: set_panel $PANEL_TRADE row 0 enable 0
end

if
$SHOTGUN_ST_NONE == 1
then
08D9: set_panel $PANEL_TRADE row 1 enable 0
end

if
$SMG_ST_NONE == 1
then
08D9: set_panel $PANEL_TRADE row 2 enable 0
end

if
$RIFLE_ST_NONE == 1
then
08D9: set_panel $PANEL_TRADE row 3 enable 0
end

if
$SNIPER_ST_NONE == 1
then
08D9: set_panel $PANEL_TRADE row 4 enable 0
end

end

//wait 100

:TRADER_AMMO_WEAPONS_MENU_IDLE
wait 0

if
8A2A: not  text_box 'TRDR120' displayed
then
0512: show_permanent_text_box 'TRDR120' 
end

08D7: $TRADER_AMMO_ROW = panel $PANEL_TRADE active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $TRADER_AMMO_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_AMMO_ROW > 6
        then
        $TRADER_AMMO_ROW = 0
        090E: set_panel $PANEL_TRADE active_row $TRADER_AMMO_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_AMMO_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $TRADER_AMMO_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_AMMO_ROW < 0
        then
        $TRADER_AMMO_ROW = 6
        090E: set_panel $PANEL_TRADE active_row $TRADER_AMMO_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_AMMO_ROW
        end
    end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$PISTOL_STRING == "TRDR4"
    v$PISTOL_STRING == "TRDR66"
    v$PISTOL_STRING == "TRDR108"
    v$PISTOL_STRING == "TRDR109"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all  
           
        if
        UNITED_MAP == 0
        then
        25@ = 22      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0            
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 111
        else
        25@ = 165
        end
        
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then
        25@ = 136
        else
        25@ = 195
        end
        
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end
        
        26@ = 0
        
        gosub @AMMO_BUY
        
        if or
        $7MM_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0        
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $7MM_PRICE_SELL  // (int)
            then
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $7MM_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $7MM_PRICE_SELL *= -2
            $7MM_PRICE_SELL /= 2           
            player.Money(0) += $7MM_PRICE_SELL 
            0060: TRADER_TOTAL_MONEY -= $7MM_PRICE_SELL // (int)                         
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end
        end 
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR45"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all
        
        25@ = 23      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 3
        
        gosub @AMMO_BUY
        
        if or
        $7MM_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $7MM_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $7MM_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $7MM_PRICE_SELL *= -2
            $7MM_PRICE_SELL /= 2           
            player.Money(0) += $7MM_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $7MM_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end
        end
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR9"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all
                   
        25@ = 24      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $DESERT_EAGLE_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $DESERT_EAGLE_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $DESERT_EAGLE_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $DESERT_EAGLE_PRICE_SELL *= -2
            $DESERT_EAGLE_PRICE_SELL /= 2           
            player.Money(0) += $DESERT_EAGLE_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $DESERT_EAGLE_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end 
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR48"    
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 71      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 137
        else
        25@ = 196
        end              
        
        else
        25@ = 166
        end
        
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
                
        end
        
        gosub @AMMO_BUY  
                          
        if or
        $REVOLVER_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $REVOLVER_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $REVOLVER_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $REVOLVER_PRICE_SELL *= -2
            $REVOLVER_PRICE_SELL /= 2           
            player.Money(0) += $REVOLVER_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $REVOLVER_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end
        end      
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR53"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 76      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $FIVESEVEN_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $FIVESEVEN_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $FIVESEVEN_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $FIVESEVEN_PRICE_SELL *= -2
            $FIVESEVEN_PRICE_SELL /= 2           
            player.Money(0) += $FIVESEVEN_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $FIVESEVEN_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR83"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 89      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $BERETTA_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $BERETTA_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $BERETTA_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $BERETTA_PRICE_SELL *= -2
            $BERETTA_PRICE_SELL /= 2           
            player.Money(0) += $BERETTA_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $BERETTA_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR84"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 90      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $WIDMAG_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $WIDMAG_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $7MM_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $WIDMAG_PRICE_SELL *= -2
            $WIDMAG_PRICE_SELL /= 2           
            player.Money(0) += $WIDMAG_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $WIDMAG_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR100"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 98      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $CZ75_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $CZ75_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $CZ75_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $CZ75_PRICE_SELL *= -2
            $CZ75_PRICE_SELL /= 2           
            player.Money(0) += $CZ75_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $CZ75_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR5"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 25      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 113
        else
        25@ = 172
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then
        25@ = 138
        else
        25@ = 202
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end 
                           
        gosub @AMMO_BUY
        
        if or
        $SHOTGUN_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SHOTGUN_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SHOTGUN_PRICE_SELL *= -2
            $SHOTGUN_PRICE_SELL /= 2           
            player.Money(0) += $SHOTGUN_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SHOTGUN_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SHOTGUN_STRING == "TRDR11"
    v$SHOTGUN_STRING == "TRDR68"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 26      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 140
        else
        25@ = 204
        end              
        
        else
        25@ = 174
        end
        
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
                
        end 
                            
        gosub @AMMO_BUY
        
        if or
        $SHOTGUN2_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN2_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SHOTGUN2_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SHOTGUN2_PRICE_SELL *= -2
            $SHOTGUN2_PRICE_SELL /= 2           
            player.Money(0) += $SHOTGUN2_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SHOTGUN2_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end   
        end  
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR12"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 27      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 139
        else
        25@ = 203
        end      
        
        else
        25@ = 173
        end
        
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
                
        end  
                           
        gosub @AMMO_BUY
        
        if or
        $SHOTGUN3_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN3_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SHOTGUN3_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SHOTGUN3_PRICE_SELL *= -2
            $SHOTGUN3_PRICE_SELL /= 2           
            player.Money(0) += $SHOTGUN3_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SHOTGUN3_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR50"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 73      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SSG_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SSG_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SSG_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SSG_PRICE_SELL *= -2
            $SSG_PRICE_SELL /= 2           
            player.Money(0) += $SSG_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SSG_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR55"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 78      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $AA12_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $AA12_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $AA12_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $AA12_PRICE_SELL *= -2
            $AA12_PRICE_SELL /= 2           
            player.Money(0) += $AA12_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $AA12_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR85"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 91      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $STUBBY_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $STUBBY_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $STUBBY_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $STUBBY_PRICE_SELL *= -2
            $STUBBY_PRICE_SELL /= 2           
            player.Money(0) += $STUBBY_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $STUBBY_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR102"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 100      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SAIGA12_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SAIGA12_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SAIGA12_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SAIGA12_PRICE_SELL *= -2
            $SAIGA12_PRICE_SELL /= 2           
            player.Money(0) += $SAIGA12_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SAIGA12_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR104"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 102      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $STRIKER_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $STRIKER_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $STRIKER_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $STRIKER_PRICE_SELL *= -2
            $STRIKER_PRICE_SELL /= 2           
            player.Money(0) += $STRIKER_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $STRIKER_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR105"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 103      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $XM1014_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $XM1014_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $XM1014_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $XM1014_PRICE_SELL *= -2
            $XM1014_PRICE_SELL /= 2           
            player.Money(0) += $XM1014_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $XM1014_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end                    
        end 
    end
end

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR8"
    v$SMG_STRING == "TRDR113"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if or
        UNITED_MAP == 0
        0491:   actor BUYER_ACTOR has_weapon 28
        then      
        25@ = 28      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 117
        else
        25@ = 168
        end        
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then
        25@ = 142
        else
        25@ = 198
        end        
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end    
                         
        gosub @AMMO_BUY
        
        if or
        $MICRO_UZI_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $MICRO_UZI_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $MICRO_UZI_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $MICRO_UZI_PRICE_SELL *= -2
            $MICRO_UZI_PRICE_SELL /= 2           
            player.Money(0) += $MICRO_UZI_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $MICRO_UZI_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end
    end
end

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR18"
    v$SMG_STRING == "TRDR112"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 32      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 141
        else
        25@ = 197
        end
        
        else
        25@ = 167
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0        
        end    
                            
        gosub @AMMO_BUY
        
        if or
        $TEC9_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $TEC9_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $TEC9_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $TEC9_PRICE_SELL *= -2
            $TEC9_PRICE_SELL /= 2           
            player.Money(0) += $TEC9_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $TEC9_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end           
        end  
    end
end

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR10"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 29      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 143
        else
        25@ = 199
        end
        
        else
        25@ = 169
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0        
        end     
                          
        gosub @AMMO_BUY
        
        if or
        $SMG_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SMG_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SMG_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SMG_PRICE_SELL *= -2
            $SMG_PRICE_SELL /= 2           
            player.Money(0) += $SMG_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SMG_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end
    end
end

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR51"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 74      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $THOMPSON_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $THOMPSON_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $THOMPSON_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $THOMPSON_PRICE_SELL *= -2
            $THOMPSON_PRICE_SELL /= 2           
            player.Money(0) += $THOMPSON_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $THOMPSON_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end           
        end  
    end
end

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR54"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 77      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $BIZON_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $BIZON_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $BIZON_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $BIZON_PRICE_SELL *= -2
            $BIZON_PRICE_SELL /= 2           
            player.Money(0) += $BIZON_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $BIZON_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR65"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 79      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $UMP45_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $UMP45_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $UMP45_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $UMP45_PRICE_SELL *= -2
            $UMP45_PRICE_SELL /= 2           
            player.Money(0) += $UMP45_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $UMP45_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR78"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 84      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $MP9_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $MP9_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $MP9_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $MP9_PRICE_SELL *= -2
            $MP9_PRICE_SELL /= 2           
            player.Money(0) += $MP9_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $MP9_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR79"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 85      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $HKMP5_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $HKMP5_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $HKMP5_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $HKMP5_PRICE_SELL *= -2
            $HKMP5_PRICE_SELL /= 2           
            player.Money(0) += $HKMP5_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $HKMP5_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR80"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 86      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $P90_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $P90_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $P90_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $P90_PRICE_SELL *= -2
            $P90_PRICE_SELL /= 2           
            player.Money(0) += $P90_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $P90_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR81"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 87      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SCORPION_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SCORPION_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SCORPION_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SCORPION_PRICE_SELL *= -2
            $SCORPION_PRICE_SELL /= 2           
            player.Money(0) += $SCORPION_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SCORPION_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end          
        end   
    end
end     

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR13"
    v$RIFLE_STRING == "TRDR70"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 30      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 112
        else
        25@ = 171
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then
        25@ = 145
        else
        25@ = 201
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end     
                           
        gosub @AMMO_BUY
        
        if or
        $AK47_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $AK47_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $AK47_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $AK47_PRICE_SELL *= -2
            $AK47_PRICE_SELL /= 2           
            player.Money(0) += $AK47_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $AK47_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end
        end  
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR14"
    v$RIFLE_STRING == "TRDR72"
    v$RIFLE_STRING == "TRDR111"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE                
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 31      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 116
        else
        25@ = 170
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then     
        25@ = 144
        else
        25@ = 200
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end      
                           
        gosub @AMMO_BUY
        
        if or
        $M4_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $M4_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $M4_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $M4_PRICE_SELL *= -2
            $M4_PRICE_SELL /= 2           
            player.Money(0) += $M4_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $M4_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end  
        end   
    end
end        

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR49"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 72      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $FAMAS_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $FAMAS_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $7MM_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $FAMAS_PRICE_SELL *= -2
            $FAMAS_PRICE_SELL /= 2           
            player.Money(0) += $FAMAS_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $FAMAS_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end 
    end
end        

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR52"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 75      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $IA2_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $IA2_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $IA2_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $IA2_PRICE_SELL *= -2
            $IA2_PRICE_SELL /= 2           
            player.Money(0) += $IA2_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $IA2_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end        

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR75"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 81      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $GROZA_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $GROZA_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $GROZA_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $GROZA_PRICE_SELL *= -2
            $GROZA_PRICE_SELL /= 2           
            player.Money(0) += $GROZA_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $GROZA_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end         

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR76"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 82      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SCAR_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SCAR_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SCAR_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SCAR_PRICE_SELL *= -2
            $SCAR_PRICE_SELL /= 2           
            player.Money(0) += $SCAR_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SCAR_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end        

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR77"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 83      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $AUG_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $AUG_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $AUG_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $AUG_PRICE_SELL *= -2
            $AUG_PRICE_SELL /= 2           
            player.Money(0) += $AUG_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $AUG_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end         

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR82"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 88      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $CAR15_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $CAR15_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $CAR15_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $CAR15_PRICE_SELL *= -2
            $CAR15_PRICE_SELL /= 2           
            player.Money(0) += $CAR15_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $CAR15_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR97"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 95      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $AR15_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $AR15_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $AR15_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $AR15_PRICE_SELL *= -2
            $AR15_PRICE_SELL /= 2           
            player.Money(0) += $AR15_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $AR15_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR101"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 99      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $G36C_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $G36C_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $G36C_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $G36C_PRICE_SELL *= -2
            $G36C_PRICE_SELL /= 2           
            player.Money(0) += $G36C_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $G36C_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR103"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 101      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SIG550_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SIG550_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SIG550_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SIG550_PRICE_SELL *= -2
            $SIG550_PRICE_SELL /= 2           
            player.Money(0) += $SIG550_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SIG550_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR106"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 104      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $GALIL_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $GALIL_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $GALIL_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $GALIL_PRICE_SELL *= -2
            $GALIL_PRICE_SELL /= 2           
            player.Money(0) += $GALIL_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $GALIL_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end

if
$TRADER_AMMO_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR107"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        25@ = 105      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $HK416_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $HK416_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $HK416_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $HK416_PRICE_SELL *= -2
            $HK416_PRICE_SELL /= 2           
            player.Money(0) += $HK416_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $HK416_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end             
        end
    end
end         

if
$TRADER_AMMO_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR15"
    v$SNIPER_STRING == "TRDR71"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
        
        if
        UNITED_MAP == 0
        then      
        25@ = 33      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        25@ = 146
        else
        25@ = 205
        end
        
        else
        25@ = 175
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0        
        end        
                          
        gosub @AMMO_BUY
        
        if or
        $RIFLE_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $RIFLE_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            008B: 27@ = $RIFLE_PRICE_SELL // (int)
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $RIFLE_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $RIFLE_PRICE_SELL *= -2
            $RIFLE_PRICE_SELL /= 2           
            player.Money(0) += $RIFLE_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $RIFLE_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end    
        end 
    end
end         

if
$TRADER_AMMO_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR73"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        25@ = 80      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $HSNIPER_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $HSNIPER_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            008B: 27@ = $HSNIPER_PRICE_SELL // (int)
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $HSNIPER_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $HSNIPER_PRICE_SELL *= -2
            $HSNIPER_PRICE_SELL /= 2           
            player.Money(0) += $HSNIPER_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $HSNIPER_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end 
    end
end

if
$TRADER_AMMO_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR98"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        25@ = 96      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $SVD_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SVD_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            008B: 27@ = $SVD_PRICE_SELL // (int)
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SVD_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SVD_PRICE_SELL *= -2
            $SVD_PRICE_SELL /= 2           
            player.Money(0) += $SVD_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SVD_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end 
    end
end

if
$TRADER_AMMO_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR99"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        25@ = 97      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        
        gosub @AMMO_BUY
        
        if or
        $BOLT308_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $BOLT308_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
                     
            008B: 27@ = $BOLT308_PRICE_SELL // (int)
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $BOLT308_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $BOLT308_PRICE_SELL *= -2
            $BOLT308_PRICE_SELL /= 2           
            player.Money(0) += $BOLT308_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $BOLT308_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end            
        end 
    end
end

if
$TRADER_AMMO_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR16"
    v$SNIPER_STRING == "TRDR16B"
    v$SNIPER_STRING == "TRDR69"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
         
        if
        UNITED_MAP == 0
        then      
        25@ = 34      
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        25@ = 120
        else
        25@ = 176
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        else
        
        if
        STORIES_MAP == 0
        then
        25@ = 147
        else
        25@ = 206
        end
              
        041A: $TRADER_PREV_AMMO = actor BUYER_ACTOR weapon 25@ ammo
        017B: set_actor BUYER_ACTOR weapon 25@ ammo_to 0
        end
        
        end            
                          
        gosub @AMMO_BUY
        
        if or
        $SNIPER_RIFLE_PRICE_SELL <= 0
        26@ == 1
        then
        26@ = 0
        gosub @TRADER_AMMO_BUY_CLIP_LOAD
        01B9: set_actor BUYER_ACTOR armed_weapon_to 0
        jump to @TRADER_AMMO_WEAPONS_MENU
        end
        
        if
        002C:   $PLAYER_MONEY >= $SNIPER_RIFLE_PRICE_SELL  // (int)
            then                                                           
        
            041A: $TRADER_NEXT1_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            041A: $TRADER_NEXT2_AMMO = actor BUYER_ACTOR weapon 25@ ammo
            
            0058: $TRADER_NEXT2_AMMO += $TRADER_NEXT1_AMMO // (int)
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_NEXT2_AMMO                        
            
            32@ = 0
            
            008B: 27@ = $SNIPER_RIFLE_PRICE_SELL // (int)
            
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            
            while 32@ < 1500
            wait 0
            0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY $SNIPER_RIFLE_PRICE_SELL $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 5 flag 1
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            
            $SNIPER_RIFLE_PRICE_SELL *= -2
            $SNIPER_RIFLE_PRICE_SELL /= 2           
            player.Money(0) += $SNIPER_RIFLE_PRICE_SELL
            0060: TRADER_TOTAL_MONEY -= $SNIPER_RIFLE_PRICE_SELL // (int) 
            
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            jump to @TRADER_AMMO_WEAPONS_MENU    
            else
            017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
            TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1
            gosub @TRADER_AMMO_BUY_CLIP_LOAD
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            gosub @NOT_MONEY
            jump to @TRADER_AMMO_WEAPONS_MENU
            end   
        end  
    end
end


if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE    
00BE: text_clear_all    
jump to @TRADER_BUY_2MENU
else
jump @TRADER_AMMO_WEAPONS_MENU_IDLE
end     

jump to @TRADER_AMMO_WEAPONS_MENU_IDLE

//////////////////////////////////////////////////////////////////////////////////

:TRADER_M16_OR_AK_III

if and
UNITED_MAP == 1
STORIES_MAP == 0
$UNITED_III_SPAWN == 1
then
TRADER_M16_OR_AK_III += 1
if and
TRADER_M16_OR_AK_III == 1
0491:   actor PLAYER_ACTOR has_weapon 112
    then
    v$RIFLE_STRING = "TRDR13"
    else
    TRADER_M16_OR_AK_III = 0
    if
    0491:   actor PLAYER_ACTOR has_weapon 116
        then
        v$RIFLE_STRING = "TRDR72"
        else
        v$RIFLE_STRING = "TRDR59"
        end
    end
end

//0AD1: show_formatted_text_highpriority "TRADER_M16_OR_AK_III %d" time 5000 TRADER_M16_OR_AK_III

return

//////////////////////////////////////////////////////////////////////////////////  

:TRADER_SELL_WEAPONS_MENU 

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

gosub @TRADER_ITEMS_WEAPONS_SELL_CHECK

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int) 

gosub @TRADER_M16_OR_AK_III

0512: show_permanent_text_box 'TRDR60'
$PANEL_TRADE = 0 
08D4: $PANEL_TRADE = create_panel_with_title 'TRDR61' position 230.0 140.0 width 130.0 columns 2 interactive 1 background 1 alignment 1 //220.0                                                                             
08DB: set_panel $PANEL_TRADE column 0 header 'DUMMY' data v$PISTOL_STRING v$SHOTGUN_STRING v$SMG_STRING v$RIFLE_STRING v$SNIPER_STRING v$GRENADE_STRING v$MOLOTOV_STRING 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY'  
08D6: set_panel $PANEL_TRADE column 1 alignment 1 

gosub @TRADER_ITEMS_CHECK22          

08EE: set_panel $PANEL_TRADE column 1 row 8 text_1number GXT v$WEIGHT_STRING number $ITEMS_WEIGHT3
08EE: set_panel $PANEL_TRADE column 1 row 9 text_1number GXT v$TIME_STRING number 27@
08EE: set_panel $PANEL_TRADE column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY

09DB: set_panel $PANEL_TRADE column 0 width 130 //130 
09DB: set_panel $PANEL_TRADE column 1 width 50
090E: set_panel $PANEL_TRADE active_row $TRADER_SELL_ROW

08D9: set_panel $PANEL_TRADE row 7 enable 0
08D9: set_panel $PANEL_TRADE row 8 enable 0
08D9: set_panel $PANEL_TRADE row 9 enable 0
08D9: set_panel $PANEL_TRADE row 10 enable 0

//wait 100
if
not DIRECTFONT_INSTALLED == 1
then
cinema.Widescreen(1)
end

:TRADER_SELL_WEAPONS_MENU_IDLE
wait 0

if
8A2A: not  text_box 'TRDR60' displayed
then
0512: show_permanent_text_box 'TRDR60' 
end

08D7: $TRADER_SELL_ROW = panel $PANEL_TRADE active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $TRADER_SELL_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_SELL_ROW > 6
        then
        $TRADER_SELL_ROW = 0
        090E: set_panel $PANEL_TRADE active_row $TRADER_SELL_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_SELL_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $TRADER_SELL_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_SELL_ROW < 0
        then
        $TRADER_SELL_ROW = 6
        090E: set_panel $PANEL_TRADE active_row $TRADER_SELL_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_SELL_ROW
        end
    end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$PISTOL_STRING == "TRDR4"
    v$PISTOL_STRING == "TRDR66"
    v$PISTOL_STRING == "TRDR108"
    v$PISTOL_STRING == "TRDR109"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all  
           
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 22 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 111 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 165 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 136 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 195 from_actor BUYER_ACTOR
        end
        
        end
        
        end
                   
//        player.Money(0) += $7MM_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $7MM_PRICE_SELL // (int)  
        008F: 0@ = integer $7MM_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR45"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 23 from_actor BUYER_ACTOR                    
//        player.Money(0) += $7MM_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $7MM_PRICE_SELL // (int)
        008F: 0@ = integer $7MM_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR9"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 24 from_actor BUYER_ACTOR                    
//        player.Money(0) += $DESERT_EAGLE_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $DESERT_EAGLE_PRICE_SELL // (int)
        008F: 0@ = integer $DESERT_EAGLE_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR48"    
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 71 from_actor BUYER_ACTOR    
        else
        
        if
        $UNITED_VC_FLAG == 1
        then
        
        if
        STORIES_MAP == 0
        then             
        0555: remove_weapon 137 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 196 from_actor BUYER_ACTOR
        end
        
        else
        0555: remove_weapon 166 from_actor BUYER_ACTOR
        end        
                
        end  
                          
//        player.Money(0) += $REVOLVER_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $REVOLVER_PRICE_SELL // (int)
        008F: 0@ = integer $REVOLVER_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR53"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 76 from_actor BUYER_ACTOR                    
//        player.Money(0) += $FIVESEVEN_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $FIVESEVEN_PRICE_SELL // (int)
        008F: 0@ = integer $FIVESEVEN_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR83"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 89 from_actor BUYER_ACTOR                    
//        player.Money(0) += $BERETTA_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $BERETTA_PRICE_SELL // (int)
        008F: 0@ = integer $BERETTA_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR84"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 90 from_actor BUYER_ACTOR                    
//        player.Money(0) += $WIDMAG_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $WIDMAG_PRICE_SELL // (int)
        008F: 0@ = integer $WIDMAG_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR100"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 98 from_actor BUYER_ACTOR                    
//        player.Money(0) += $CZ75_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $CZ75_PRICE_SELL // (int)
        008F: 0@ = integer $CZ75_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR5"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 25 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 113 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 172 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 138 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 202 from_actor BUYER_ACTOR 
        end
        
        end
        
        end 
                           
//        player.Money(0) += $SHOTGUN_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SHOTGUN_PRICE_SELL // (int)
        008F: 0@ = integer $SHOTGUN_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SHOTGUN_STRING == "TRDR11"
    v$SHOTGUN_STRING == "TRDR68"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 26 from_actor BUYER_ACTOR    
        else             
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 174 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 174 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 140 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 204 from_actor BUYER_ACTOR 
        end
        
        end
                
        end 
                            
//        player.Money(0) += $SHOTGUN2_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SHOTGUN2_PRICE_SELL // (int)  
        008F: 0@ = integer $SHOTGUN2_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR12"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 27 from_actor BUYER_ACTOR    
        else             
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 173 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 173 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 139 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 203 from_actor BUYER_ACTOR 
        end
        
        end
                
        end  
                           
//        player.Money(0) += $SHOTGUN3_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SHOTGUN3_PRICE_SELL // (int)
        008F: 0@ = integer $SHOTGUN3_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR50"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 73 from_actor BUYER_ACTOR                    
//        player.Money(0) += $SSG_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SSG_PRICE_SELL // (int)
        008F: 0@ = integer $SSG_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR55"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 78 from_actor BUYER_ACTOR                    
//        player.Money(0) += $AA12_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $AA12_PRICE_SELL // (int)
        008F: 0@ = integer $AA12_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR85"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 91 from_actor BUYER_ACTOR                    
//        player.Money(0) += $STUBBY_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $STUBBY_PRICE_SELL // (int)
        008F: 0@ = integer $STUBBY_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR102"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 100 from_actor BUYER_ACTOR                    
//        player.Money(0) += $SAIGA12_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SAIGA12_PRICE_SELL // (int)
        008F: 0@ = integer $SAIGA12_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR104"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 102 from_actor BUYER_ACTOR                    
//        player.Money(0) += $STRIKER_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $STRIKER_PRICE_SELL // (int)
        008F: 0@ = integer $STRIKER_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR105"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 103 from_actor BUYER_ACTOR                    
//        player.Money(0) += $XM1014_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $XM1014_PRICE_SELL // (int)
        008F: 0@ = integer $XM1014_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR8"
    v$SMG_STRING == "TRDR113"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if or
        UNITED_MAP == 0
        0491:   actor BUYER_ACTOR has_weapon 28
        then      
        0555: remove_weapon 28 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 117 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 168 from_actor BUYER_ACTOR
        end        
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 142 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 198 from_actor BUYER_ACTOR 
        end        
        
        end
        
        end    
                         
//        player.Money(0) += $MICRO_UZI_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $MICRO_UZI_PRICE_SELL // (int)
        008F: 0@ = integer $MICRO_UZI_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR18"
    v$SMG_STRING == "TRDR112"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 32 from_actor BUYER_ACTOR    
        else             
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 167 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 167 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 141 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 197 from_actor BUYER_ACTOR 
        end
        
        end
                
        end    
                            
//        player.Money(0) += $TEC9_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $TEC9_PRICE_SELL // (int)
        008F: 0@ = integer $TEC9_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR10"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 29 from_actor BUYER_ACTOR    
        else             
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 169 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 169 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 143 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 199 from_actor BUYER_ACTOR 
        end
        
        end
                
        end     
                          
//        player.Money(0) += $SMG_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SMG_PRICE_SELL // (int)
        008F: 0@ = integer $SMG_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR51"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 74 from_actor BUYER_ACTOR                    
//        player.Money(0) += $THOMPSON_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $THOMPSON_PRICE_SELL // (int)
        008F: 0@ = integer $THOMPSON_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR54"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 77 from_actor BUYER_ACTOR                    
//        player.Money(0) += $BIZON_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $BIZON_PRICE_SELL // (int)
        008F: 0@ = integer $BIZON_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR65"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 79 from_actor BUYER_ACTOR                    
//        player.Money(0) += $UMP45_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $UMP45_PRICE_SELL // (int)
        008F: 0@ = integer $UMP45_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR78"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 84 from_actor BUYER_ACTOR                    
//        player.Money(0) += $MP9_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $MP9_PRICE_SELL // (int)
        008F: 0@ = integer $MP9_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR79"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 85 from_actor BUYER_ACTOR                    
//        player.Money(0) += $HKMP5_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $HKMP5_PRICE_SELL // (int)
        008F: 0@ = integer $HKMP5_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR80"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 86 from_actor BUYER_ACTOR                    
//        player.Money(0) += $P90_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $P90_PRICE_SELL // (int)
        008F: 0@ = integer $P90_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR81"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 87 from_actor BUYER_ACTOR                    
//        player.Money(0) += $SCORPION_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SCORPION_PRICE_SELL // (int)
        008F: 0@ = integer $SCORPION_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end     

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR13"
    v$RIFLE_STRING == "TRDR70"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 30 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 112 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 171 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 145 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 201 from_actor BUYER_ACTOR 
        end
        
        end
        
        end     
                           
//        player.Money(0) += $AK47_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $AK47_PRICE_SELL // (int)
        008F: 0@ = integer $AK47_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR14"
    v$RIFLE_STRING == "TRDR72"
    v$RIFLE_STRING == "TRDR111"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE                
        00BE: text_clear_all           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 31 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 116 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 170 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 144 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 200 from_actor BUYER_ACTOR 
        end
        
        end
        
        end      
                           
//        player.Money(0) += $M4_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $M4_PRICE_SELL // (int)
        008F: 0@ = integer $M4_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU  
        end   
    end
end        

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR49"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 72 from_actor BUYER_ACTOR                    
//        player.Money(0) += $FAMAS_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $FAMAS_PRICE_SELL // (int) 
        008F: 0@ = integer $FAMAS_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end        

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR52"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 75 from_actor BUYER_ACTOR                    
//        player.Money(0) += $IA2_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $IA2_PRICE_SELL // (int)
        008F: 0@ = integer $IA2_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end        

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR75"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 81 from_actor BUYER_ACTOR                    
//        player.Money(0) += $GROZA_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $GROZA_PRICE_SELL // (int)
        008F: 0@ = integer $GROZA_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end         

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR76"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 82 from_actor BUYER_ACTOR                    
//        player.Money(0) += $SCAR_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SCAR_PRICE_SELL // (int)
        008F: 0@ = integer $SCAR_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end        

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR77"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 83 from_actor BUYER_ACTOR                    
//        player.Money(0) += $AUG_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $AUG_PRICE_SELL // (int)
        008F: 0@ = integer $AUG_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end         

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR82"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 88 from_actor BUYER_ACTOR                    
//        player.Money(0) += $CAR15_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $CAR15_PRICE_SELL // (int)
        008F: 0@ = integer $CAR15_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR97"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 95 from_actor BUYER_ACTOR                    
//        player.Money(0) += $AR15_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $AR15_PRICE_SELL // (int)
        008F: 0@ = integer $AR15_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR101"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 99 from_actor BUYER_ACTOR                    
//        player.Money(0) += $G36C_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $G36C_PRICE_SELL // (int)
        008F: 0@ = integer $G36C_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR103"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 101 from_actor BUYER_ACTOR                    
//        player.Money(0) += $SIG550_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SIG550_PRICE_SELL // (int)
        008F: 0@ = integer $SIG550_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR106"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 104 from_actor BUYER_ACTOR                    
//        player.Money(0) += $GALIL_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $GALIL_PRICE_SELL // (int)
        008F: 0@ = integer $GALIL_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end

if
$TRADER_SELL_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR107"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all           
        0555: remove_weapon 105 from_actor BUYER_ACTOR                    
//        player.Money(0) += $HK416_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $HK416_PRICE_SELL // (int)
        008F: 0@ = integer $HK416_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU     
        end
    end
end         

if
$TRADER_SELL_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR15"
    v$SNIPER_STRING == "TRDR71"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
        
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 33 from_actor BUYER_ACTOR    
        else             
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 175 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 175 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 146 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 205 from_actor BUYER_ACTOR 
        end
        
        end
                
        end        
                          
//        player.Money(0) += $RIFLE_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $RIFLE_PRICE_SELL // (int)
        008F: 0@ = integer $RIFLE_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end         

if
$TRADER_SELL_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR73"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        0555: remove_weapon 80 from_actor BUYER_ACTOR           
                          
//        player.Money(0) += $HSNIPER_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $HSNIPER_PRICE_SELL // (int)
        008F: 0@ = integer $HSNIPER_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR98"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        0555: remove_weapon 96 from_actor BUYER_ACTOR           
                          
//        player.Money(0) += $SVD_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SVD_PRICE_SELL // (int)
        008F: 0@ = integer $SVD_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR99"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
             
        0555: remove_weapon 97 from_actor BUYER_ACTOR           
                          
//        player.Money(0) += $BOLT308_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $BOLT308_PRICE_SELL // (int)
        008F: 0@ = integer $BOLT308_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU    
        end 
    end
end

if
$TRADER_SELL_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR16"
    v$SNIPER_STRING == "TRDR16B"
    v$SNIPER_STRING == "TRDR69"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
         
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 34 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 120 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 176 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 147 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 206 from_actor BUYER_ACTOR 
        end
        
        end
        
        end            
                          
//        player.Money(0) += $SNIPER_RIFLE_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $SNIPER_RIFLE_PRICE_SELL // (int)
        008F: 0@ = integer $SNIPER_RIFLE_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 5 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$GRENADE_STRING == "TRDR86"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
         
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 16 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 115 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 177 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 132 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 207 from_actor BUYER_ACTOR 
        end
        
        end
        
        end            
                          
//        player.Money(0) += $GRENADES_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $GRENADES_PRICE_SELL // (int)
        008F: 0@ = integer $GRENADES_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 5 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$GRENADE_STRING == "TRDR87"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
         
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 17 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 178 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 178 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 133 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 208 from_actor BUYER_ACTOR 
        end
        
        end
        
        end            
                          
//        player.Money(0) += $TEARGAS_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $TEARGAS_PRICE_SELL // (int)
        008F: 0@ = integer $TEARGAS_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
$TRADER_SELL_ROW == 6 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$MOLOTOV_STRING == "TRDR19"
        then   
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        00BE: text_clear_all                           
         
        if
        UNITED_MAP == 0
        then      
        0555: remove_weapon 18 from_actor BUYER_ACTOR    
        else     
        
        if
        $UNITED_VC_FLAG == 0
        then
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 118 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 179 from_actor BUYER_ACTOR
        end
        
        else
        
        if
        STORIES_MAP == 0
        then
        0555: remove_weapon 134 from_actor BUYER_ACTOR
        else
        0555: remove_weapon 209 from_actor BUYER_ACTOR 
        end
        
        end
        
        end            
                          
//        player.Money(0) += $MOLOTOV_PRICE_SELL
//        0060: TRADER_TOTAL_MONEY -= $MOLOTOV_PRICE_SELL // (int)
        008F: 0@ = integer $MOLOTOV_PRICE_SELL to_float
        006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
        0092: 0@ = float 0@ to_integer
        player.Money(0) += 0@
        0066: TRADER_TOTAL_MONEY -= 0@  // (int)
        00BC: show_text_highpriority GXT 'TRDR63' time 2000 flag 1
        05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
        gosub @PLAY_DROP_SOUND2_TRADER
        jump to @TRADER_SELL_WEAPONS_MENU   
        end  
    end
end

if
TRADER_TOTAL_MONEY < 0
    then                    
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE  
    08DA: remove_panel $PANEL_PLAYER  
    00BE: text_clear_all
    
    gosub @RANDOM_DIALOG_NOMONEY_TRADER                       
    v$2NAME3 = "GAME460"                        
    09FD: get_gxt_string v$PHRASE3 width_to 3@
    0093: 3@ = integer 3@ to_float
    3@ *= 8.0
    0092: 3@ = float 3@ to_integer                          
    0384: show_text_1string GXT v$PHRASE3 string v$2NAME3 time 3@ 1
    
    05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
    0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1            
    05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 3@ ms
//    wait 3@
    32@ = 0    
    repeat  
    wait 0
    
    if
    0E3E: is_button_just_pressed BUYER_PLAYER button 17
    then
    break
    end
    
    until 002D:   32@ >= 3@  // (int)
        
    cinema.Widescreen(0)
    jump to @TRADER_START_MENU
    end

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE    
00BE: text_clear_all    
cinema.Widescreen(0)
jump to @TRADER_SELL_MENU
else
jump @TRADER_SELL_WEAPONS_MENU_IDLE
end     

jump to @TRADER_SELL_WEAPONS_MENU_IDLE

:TRADER_SELL_ITEMS_MENU  

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end    

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int)

$INVENTORY_PANEL = 0
08D4: $INVENTORY_PANEL = create_panel_with_title 'INV2' position 230.0 150.0 width 100.0 columns 2 interactive 1 background 1 alignment 1 //200.0
08DB: set_panel $INVENTORY_PANEL column 0 header 'DUMMY' data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY' 
0512: show_permanent_text_box 'TRDR57' 

if
BUYER_PLAYER == 0
then
008C: $KANISTRA222_PRICE = float $KANISTRA_FUEL to_integer
else
008C: $KANISTRA222_PRICE = float $KANISTRA_FUEL_2P to_integer
end
0068: $KANISTRA222_PRICE *= $BENZIN_PRICE // (int)

if
BUYER_PLAYER == 0
then 

if
$KANISTRA > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
$KANISTRA_FUEL2 = 0
end

else

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
else
$KANISTRA_FUEL2 = 0
end

end 

008F: 0@ = integer $BANKA_PRICE to_float
006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 0@ = float 0@ to_integer
008F: 1@ = integer $HEAL_PRICE to_float
006B: 1@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 1@ = float 1@ to_integer
008F: 2@ = integer $BINT_PRICE to_float
006B: 2@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 2@ = float 2@ to_integer
008F: 3@ = integer $KANISTRA222_PRICE to_float
006B: 3@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 3@ = float 3@ to_integer
008F: 4@ = integer $RADIO_PRICE to_float
006B: 4@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 4@ = float 4@ to_integer
008F: 5@ = integer $JIMMY_PRICE to_float
006B: 5@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 5@ = float 5@ to_integer
008F: 6@ = integer $REPAIR_KIT_PRICE to_float
006B: 6@ *= TRADER_SELL_PRICE_COEFF  // (float)
0092: 6@ = float 6@ to_integer

08D6: set_panel $INVENTORY_PANEL column 1 alignment 1
if
BUYER_PLAYER == 0
then 
08EF: set_panel $INVENTORY_PANEL column 1 row 0 text_2numbers GXT 'TRDR56' numbers $BANKA 0@  
08EF: set_panel $INVENTORY_PANEL column 1 row 1 text_2numbers GXT 'TRDR56' numbers $HEAL 1@
08EF: set_panel $INVENTORY_PANEL column 1 row 2 text_2numbers GXT 'TRDR56' numbers $BINT 2@
08EF: set_panel $INVENTORY_PANEL column 1 row 3 text_2numbers GXT 'TRDR56' numbers $KANISTRA_FUEL2 3@
08EF: set_panel $INVENTORY_PANEL column 1 row 4 text_2numbers GXT 'TRDR56' numbers $RADIO 4@
08EF: set_panel $INVENTORY_PANEL column 1 row 5 text_2numbers GXT 'TRDR56' numbers $JIMMY 5@
08EF: set_panel $INVENTORY_PANEL column 1 row 6 text_2numbers GXT 'TRDR56' numbers $REPAIR_KIT 6@
else
08EF: set_panel $INVENTORY_PANEL column 1 row 0 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] 0@  
08EF: set_panel $INVENTORY_PANEL column 1 row 1 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] 1@
08EF: set_panel $INVENTORY_PANEL column 1 row 2 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] 2@
08EF: set_panel $INVENTORY_PANEL column 1 row 3 text_2numbers GXT 'TRDR56' numbers $KANISTRA_FUEL2 3@
08EF: set_panel $INVENTORY_PANEL column 1 row 4 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] 4@
08EF: set_panel $INVENTORY_PANEL column 1 row 5 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] 5@
08EF: set_panel $INVENTORY_PANEL column 1 row 6 text_2numbers GXT 'TRDR56' numbers $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] 6@
end
08EE: set_panel $INVENTORY_PANEL column 1 row 8 text_1number GXT v$WEIGHT_STRING number $ITEMS_WEIGHT3
08EE: set_panel $INVENTORY_PANEL column 1 row 9 text_1number GXT v$TIME_STRING number 27@
08EE: set_panel $INVENTORY_PANEL column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY
09DB: set_panel $INVENTORY_PANEL column 0 width 130 //200
09DB: set_panel $INVENTORY_PANEL column 1 width 25 

090E: set_panel $INVENTORY_PANEL active_row $PANEL222_ACTIVE_ROW

08D9: set_panel $INVENTORY_PANEL row 7 enable 0
08D9: set_panel $INVENTORY_PANEL row 8 enable 0
08D9: set_panel $INVENTORY_PANEL row 9 enable 0
08D9: set_panel $INVENTORY_PANEL row 10 enable 0
08D9: set_panel $INVENTORY_PANEL row 11 enable 0

if
$MONTHS_PASSED >= 2
then
08D9: set_panel $INVENTORY_PANEL row 4 enable 0
end

//wait 100
if
not DIRECTFONT_INSTALLED == 1
then
cinema.Widescreen(1)
end

:TRADER_SELL_ITEMS_IDLE
wait 0

if
8A2A: not  text_box 'TRDR57' displayed
then
0512: show_permanent_text_box 'TRDR57' 
end         

$PLAYER_MONEY = player.Money(0)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

08D7: $PANEL222_ACTIVE_ROW = panel $INVENTORY_PANEL active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $PANEL222_ACTIVE_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL222_ACTIVE_ROW > 6
        then
        $PANEL222_ACTIVE_ROW = 0
        090E: set_panel $INVENTORY_PANEL active_row $PANEL222_ACTIVE_ROW
        else
        090E: set_panel $INVENTORY_PANEL active_row $PANEL222_ACTIVE_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $PANEL222_ACTIVE_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL222_ACTIVE_ROW < 0
        then
        $PANEL222_ACTIVE_ROW = 6
        090E: set_panel $INVENTORY_PANEL active_row $PANEL222_ACTIVE_ROW
        else
        090E: set_panel $INVENTORY_PANEL active_row $PANEL222_ACTIVE_ROW
        end
    end
    
if
BUYER_PLAYER == 0
then    

if
$PANEL222_ACTIVE_ROW == 0 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $BANKA > 0
            then 
            $BANKA -= 1
            $BANKA_COUNT += 1    
//            player.Money(0) += $BANKA_PRICE
//            0060: TRADER_TOTAL_MONEY -= $BANKA_PRICE // (int)
            008F: 0@ = integer $BANKA_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all        
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_DROP_SOUND2_TRADER
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1     
            end
        end
    end         
    
if
$PANEL222_ACTIVE_ROW == 1 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $HEAL > 0
            then 
            $HEAL -= 1                        
            $HEAL_COUNT += 1    
//            player.Money(0) += $HEAL_PRICE
//            0060: TRADER_TOTAL_MONEY -= $HEAL_PRICE // (int)
            008F: 0@ = integer $HEAL_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all        
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_DROP_SOUND2_TRADER
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end  
    
if
$PANEL222_ACTIVE_ROW == 2 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $BINT > 0
            then 
            $BINT -= 1                    
            $BINT_COUNT += 1    
//            player.Money(0) += $BINT_PRICE
//            0060: TRADER_TOTAL_MONEY -= $BINT_PRICE // (int)
            008F: 0@ = integer $BINT_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end       
    
if
$PANEL222_ACTIVE_ROW == 3 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $KANISTRA > 0
            then 
            $KANISTRA -= 1
            0059: $BENZIN_COUNT += $KANISTRA_FUEL // (float)  
            $KANISTRA_FUEL = 0.0              
//            player.Money(0) += $KANISTRA222_PRICE
//            0060: TRADER_TOTAL_MONEY -= $KANISTRA222_PRICE // (int)
            008F: 0@ = integer $KANISTRA222_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end 
    
if
$PANEL222_ACTIVE_ROW == 4 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $RADIO > 1
            then 
            $RADIO -= 1
            $RADIO_COUNT += 1    
//            player.Money(0) += $RADIO_PRICE
//            0060: TRADER_TOTAL_MONEY -= $RADIO_PRICE // (int)
            008F: 0@ = integer $RADIO_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
            gosub @PLAY_DROP_SOUND2_TRADER   
            jump to @TRADER_SELL_ITEMS_MENU
            else
            
            if
            $RADIO > 0
            then
            00BC: show_text_highpriority GXT "TRDR115" time 2000 flag 1
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
            
            end
        end
    end      
    
if
$PANEL222_ACTIVE_ROW == 5 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $JIMMY > 0
            then 
            $JIMMY -= 1
            $JIMMY_COUNT += 1    
//            player.Money(0) += $JIMMY_PRICE
//            0060: TRADER_TOTAL_MONEY -= $JIMMY_PRICE // (int)
            008F: 0@ = integer $JIMMY_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end  
    
if
$PANEL222_ACTIVE_ROW == 6 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $REPAIR_KIT > 0
            then 
            $REPAIR_KIT -= 1
            $REPAIR_KIT_COUNT += 1    
//            player.Money(0) += $REPAIR_KIT_PRICE
//            0060: TRADER_TOTAL_MONEY -= $REPAIR_KIT_PRICE // (int)
            008F: 0@ = integer $REPAIR_KIT_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all    
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end
    
else

if
$PANEL222_ACTIVE_ROW == 0 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
            $BANKA_COUNT += 1    
//            player.Money(0) += $BANKA_PRICE
//            0060: TRADER_TOTAL_MONEY -= $BANKA_PRICE // (int)
            008F: 0@ = integer $BANKA_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all        
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_DROP_SOUND2_TRADER
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1     
            end
        end
    end         
    
if
$PANEL222_ACTIVE_ROW == 1 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] -= 1                        
            $HEAL_COUNT += 1    
//            player.Money(0) += $HEAL_PRICE
//            0060: TRADER_TOTAL_MONEY -= $HEAL_PRICE // (int)
            008F: 0@ = integer $HEAL_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all        
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_DROP_SOUND2_TRADER
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end  
    
if
$PANEL222_ACTIVE_ROW == 2 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] -= 1                    
            $BINT_COUNT += 1    
//            player.Money(0) += $BINT_PRICE
//            0060: TRADER_TOTAL_MONEY -= $BINT_PRICE // (int)
            008F: 0@ = integer $BINT_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end       
    
if
$PANEL222_ACTIVE_ROW == 3 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
            0059: $BENZIN_COUNT += $KANISTRA_FUEL_2P // (float)  
            $KANISTRA_FUEL_2P = 0.0              
//            player.Money(0) += $KANISTRA222_PRICE
//            0060: TRADER_TOTAL_MONEY -= $KANISTRA222_PRICE // (int)
            008F: 0@ = integer $KANISTRA222_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end 
    
if
$PANEL222_ACTIVE_ROW == 4 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 1
            then 
            $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] -= 1
            $RADIO_COUNT += 1    
//            player.Money(0) += $RADIO_PRICE
//            0060: TRADER_TOTAL_MONEY -= $RADIO_PRICE // (int)
            008F: 0@ = integer $RADIO_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
            gosub @PLAY_DROP_SOUND2_TRADER   
            jump to @TRADER_SELL_ITEMS_MENU
            else
            
            if
            $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then
            00BC: show_text_highpriority GXT "TRDR115" time 2000 flag 1
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
            
            end
        end
    end      
    
if
$PANEL222_ACTIVE_ROW == 5 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] -= 1
            $JIMMY_COUNT += 1    
//            player.Money(0) += $JIMMY_PRICE
//            0060: TRADER_TOTAL_MONEY -= $JIMMY_PRICE // (int)
            008F: 0@ = integer $JIMMY_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all   
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188   
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end  
    
if
$PANEL222_ACTIVE_ROW == 6 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] > 0
            then 
            $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] -= 1
            $REPAIR_KIT_COUNT += 1    
//            player.Money(0) += $REPAIR_KIT_PRICE
//            0060: TRADER_TOTAL_MONEY -= $REPAIR_KIT_PRICE // (int)
            008F: 0@ = integer $REPAIR_KIT_PRICE to_float
            006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
            0092: 0@ = float 0@ to_integer
            player.Money(0) += 0@
            0066: TRADER_TOTAL_MONEY -= 0@  // (int)
            03E6: remove_text_box 
            08DA: remove_panel $PANEL  
            00BE: text_clear_all    
            00BC: show_text_highpriority GXT 'TRDR64' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
            gosub @PLAY_DROP_SOUND2_TRADER  
            jump to @TRADER_SELL_ITEMS_MENU
            else
            00BC: show_text_highpriority GXT 'INV7' time 2000 flag 1
            end
        end
    end

end    
    
if
TRADER_TOTAL_MONEY < 0
    then                    
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE  
    08DA: remove_panel $PANEL_PLAYER  
    00BE: text_clear_all
    
    gosub @RANDOM_DIALOG_NOMONEY_TRADER                       
    v$2NAME3 = "GAME460"                        
    09FD: get_gxt_string v$PHRASE3 width_to 3@
    0093: 3@ = integer 3@ to_float
    3@ *= 8.0
    0092: 3@ = float 3@ to_integer                          
    0384: show_text_1string GXT v$PHRASE3 string v$2NAME3 time 3@ 1
    
    05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
    0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
    05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 3@ ms
//    wait 3@
    32@ = 0    
    repeat  
    wait 0
    
    if
    0E3E: is_button_just_pressed BUYER_PLAYER button 17
    then
    break
    end
    
    until 002D:   32@ >= 3@  // (int)
        
    cinema.Widescreen(0)
    jump to @TRADER_START_MENU
    end                                          

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
cinema.Widescreen(0) 
jump to @TRADER_SELL_MENU
else
jump @TRADER_SELL_ITEMS_IDLE
end     

jump to @TRADER_SELL_ITEMS_IDLE              

:TRADER_BUY_MENU

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int)

gosub @TRADER_ITEMS_CHECK

0512: show_permanent_text_box 'TRDR2'
$PANEL_TRADE = 0 
08D4: $PANEL_TRADE = create_panel_with_title 'TRDR3' position 71.0 130.0 width 180.0 columns 2 interactive 1 background 1 alignment 1

/////////////////////////////////////////////

if
$JIMMY_COUNT > 0
then
v$JIMMY_STRING = "TRDR42"
else
v$JIMMY_STRING = "TRDR59"
end

if
$REPAIR_KIT_COUNT > 0
then
TOOLS_STRING = "TRDR42C"
else
TOOLS_STRING = "TRDR59"
end

/////////////////////////////////////////////

if
$BANKA_COUNT == 0
then
v$FOOD_STRING = "TRDR59"
end

/////////////////////////////////////////////

if and
0D49: 0@ = compare_strings v$HEAL_STRING "TRDR17" // IF and SET
$HEAL_COUNT < 1
$TRADER_HEAL[24@] == 0
then                  
v$HEAL_STRING = "TRDR59"  
end

if and
0D49: 0@ = compare_strings v$HEAL_STRING "TRDR6" // IF and SET
$BINT_COUNT < 1
$TRADER_HEAL[24@] == 1
then
v$HEAL_STRING = "TRDR59"
end

/////////////////////////////////////////////

008C: $BENZIN_COUNT2 = float $BENZIN_COUNT to_integer
if
$BENZIN_COUNT2 <= 0
then
v$FUEL_STRING = "TRDR59"
end

if
$ARMOR_COUNT == 0
then
v$ARMOR_STRING = "TRDR59"
end

////////////////////////////////////
                                                                              
08DB: set_panel $PANEL_TRADE column 0 header 'DUMMY' data v$PISTOL_STRING v$SHOTGUN_STRING v$SMG_STRING v$RIFLE_STRING v$SNIPER_STRING 'TRDR23' v$FOOD_STRING v$HEAL_STRING v$FUEL_STRING v$ARMOR_STRING v$JIMMY_STRING TOOLS_STRING  
08D6: set_panel $PANEL_TRADE column 1 alignment 1

if
$BANKA_COUNT > 0
then 
08EF: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT 'TRDR21' numbers $BANKA_PRICE $BANKA_COUNT
end

gosub @TRADER_ITEMS_CHECK2 

if
$BENZIN_COUNT2 > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 8 text_2numbers GXT 'TRDR21' numbers $BENZIN_PRICE $BENZIN_COUNT2
end

if
$ARMOR_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 9 text_2numbers GXT 'TRDR21' numbers $ARMOR_PRICE $ARMOR_COUNT
end 

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

if
$JIMMY_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 10 text_2numbers GXT 'TRDR21' numbers $JIMMY_PRICE $JIMMY_COUNT $REPAIR_KIT_COUNT
end

if
$REPAIR_KIT_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 11 text_2numbers GXT 'TRDR21' numbers $REPAIR_KIT_PRICE $REPAIR_KIT_COUNT
end

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

09DB: set_panel $PANEL_TRADE column 0 width 130 //230  
09DB: set_panel $PANEL_TRADE column 1 width 50 
08D9: set_panel $PANEL_TRADE row 5 enable 0

090E: set_panel $PANEL_TRADE active_row $TRADER_ROW

$PLAYER_MONEY = player.Money(PLAYER_CHAR)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end
$PANEL_PLAYER = 0
08D4: $PANEL_PLAYER = create_panel_with_title 'INV2' position 350.0 130.0 width 100.0 columns 2 interactive 0 background 1 alignment 1 //350.0
08DB: set_panel $PANEL_PLAYER column 0 header 'DUMMY' data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY' 
08D6: set_panel $PANEL_PLAYER column 1 alignment 1
if
BUYER_PLAYER == 0
then

if
$KANISTRA > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
$KANISTRA_FUEL2 = 0
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 0 text_1number GXT 'INV3' number $BANKA 
08EE: set_panel $PANEL_PLAYER column 1 row 1 text_1number GXT 'INV3' number $HEAL 
08EE: set_panel $PANEL_PLAYER column 1 row 2 text_1number GXT 'INV3' number $BINT

if
$KANISTRA > 0
then 
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 4 text_1number GXT 'INV3' number $RADIO
08EE: set_panel $PANEL_PLAYER column 1 row 5 text_1number GXT 'INV3' number $JIMMY
08EE: set_panel $PANEL_PLAYER column 1 row 6 text_1number GXT 'INV3' number $REPAIR_KIT
else

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
else
$KANISTRA_FUEL2 = 0
end

08EE: set_panel $PANEL_PLAYER column 1 row 0 text_1number GXT 'INV3' number $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $PANEL_PLAYER column 1 row 1 text_1number GXT 'INV3' number $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $PANEL_PLAYER column 1 row 2 text_1number GXT 'INV3' number $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM]

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then 
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 4 text_1number GXT 'INV3' number $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $PANEL_PLAYER column 1 row 5 text_1number GXT 'INV3' number $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $PANEL_PLAYER column 1 row 6 text_1number GXT 'INV3' number $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM]
end 
08EE: set_panel $PANEL_PLAYER column 1 row 8 text_1number GXT v$WEIGHT_STRING number $ITEMS_WEIGHT3
08EE: set_panel $PANEL_PLAYER column 1 row 9 text_1number GXT v$TIME_STRING number 27@
08EE: set_panel $PANEL_PLAYER column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY
09DB: set_panel $PANEL_PLAYER column 0 width 130 //230  
09DB: set_panel $PANEL_PLAYER column 1 width 25 
//wait 100
if
not DIRECTFONT_INSTALLED == 1
then
cinema.Widescreen(1)
end

:TRADER_PANEL_IDLE
wait 0

if
8A2A: not  text_box 'TRDR2' displayed
then
0512: show_permanent_text_box 'TRDR2' 
end

08D7: $TRADER_ROW = panel $PANEL_TRADE active_row

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $TRADER_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_ROW > 11
        then
        $TRADER_ROW = 0
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $TRADER_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_ROW < 0
        then
        $TRADER_ROW = 11
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW
        end
    end 

$PLAYER_MONEY = player.Money(PLAYER_CHAR)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

//gosub @TRADER_ATTACK_SYSTEM

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$PISTOL_STRING == "TRDR4"
    v$PISTOL_STRING == "TRDR66"
    v$PISTOL_STRING == "TRDR108"
    v$PISTOL_STRING == "TRDR109"
        then   
        if
        002C:   $PLAYER_MONEY >= $7MM_PRICE  // (int)
            then
            if
            not $7MM_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 22
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,22,$7MM_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 111
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,111,$7MM_COUNT_BUY)
                else
                23@ = 165
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,165,$7MM_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 136
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,136,$7MM_COUNT_BUY)
                else
                23@ = 195
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,195,$7MM_COUNT_BUY)
                end
                 
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
    
                player.Money(0) += $7MM_PRICE2
                0060: TRADER_TOTAL_MONEY -= $7MM_PRICE2 // (int)
                $7MM_COUNT -= 1
                
                if
                $7MM_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR45"
        then
        if
        002C:   $PLAYER_MONEY >= $7MM_PRICE  // (int)
            then
            if
            not $7MM_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 23
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,23,$7MM_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $7MM_PRICE2
                0060: TRADER_TOTAL_MONEY -= $7MM_PRICE2 // (int)
                $7MM_COUNT -= 1
                
                if
                $7MM_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR83"
        then
        if
        002C:   $PLAYER_MONEY >= $BERETTA_PRICE  // (int)
            then
            if
            not $BERETTA_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 89
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,89,$BERETTA_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $BERETTA_PRICE2
                0060: TRADER_TOTAL_MONEY -= $BERETTA_PRICE2 // (int)
                $BERETTA_COUNT -= 1
                
                if
                $BERETTA_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end          

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR84"
        then
        if
        002C:   $PLAYER_MONEY >= $WIDMAG_PRICE  // (int)
            then
            if
            not $WIDMAG_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 90
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,90,$WIDMAG_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $WIDMAG_PRICE2
                0060: TRADER_TOTAL_MONEY -= $WIDMAG_PRICE2 // (int)
                $WIDMAG_COUNT -= 1
                
                if
                $WIDMAG_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end             

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR9"
        then
        if                             
        002C:   $PLAYER_MONEY >= $DESERT_EAGLE_PRICE  // (int)
            then
            if
            not $DESERT_EAGLE_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 24
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,24,$DESERT_EAGLE_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0     
                player.Money(0) += $DESERT_EAGLE_PRICE2
                0060: TRADER_TOTAL_MONEY -= $DESERT_EAGLE_PRICE2 // (int)
                $DESERT_EAGLE_COUNT -= 1
                
                if
                $DESERT_EAGLE_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR48"
        then
        if                             
        002C:   $PLAYER_MONEY >= $REVOLVER_PRICE  // (int)
            then
            if
            not $REVOLVER_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 71
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,71,$REVOLVER_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 1
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 137
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,137,$REVOLVER_COUNT_BUY)
                else
                23@ = 196
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,196,$REVOLVER_COUNT_BUY)
                end
                
                else
                23@ = 166
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,166,$REVOLVER_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end                
                    
                player.Money(0) += $REVOLVER_PRICE2
                0060: TRADER_TOTAL_MONEY -= $REVOLVER_PRICE2 // (int)
                $REVOLVER_COUNT -= 1
                
                if
                $REVOLVER_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR53"
        then
        if                             
        002C:   $PLAYER_MONEY >= $FIVESEVEN_PRICE  // (int)
            then
            if
            not $FIVESEVEN_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 76
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,76,$FIVESEVEN_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $FIVESEVEN_PRICE2
                0060: TRADER_TOTAL_MONEY -= $FIVESEVEN_PRICE2 // (int) 
                $FIVESEVEN_COUNT -= 1
                
                if
                $FIVESEVEN_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$PISTOL_STRING == "TRDR100"
        then
        if                             
        002C:   $PLAYER_MONEY >= $CZ75_PRICE  // (int)
            then
            if
            not $CZ75_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 98
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,98,$CZ75_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $CZ75_PRICE2
                0060: TRADER_TOTAL_MONEY -= $CZ75_PRICE2 // (int)
                $CZ75_COUNT -= 1
                
                if
                $CZ75_COUNT == 0
                then
                $TRADER_PISTOL[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188  
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR5"
        then
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN_PRICE  // (int)
            then
            if
            not $SHOTGUN_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 25
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,25,$SHOTGUN_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 113
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,113,$SHOTGUN_COUNT_BUY)
                else
                23@ = 172
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,172,$SHOTGUN_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 138
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,138,$SHOTGUN_COUNT_BUY)
                else
                23@ = 202
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,202,$SHOTGUN_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
    
                player.Money(0) += $SHOTGUN_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SHOTGUN_PRICE2 // (int)
                $SHOTGUN_COUNT -= 1
                
                if
                $SHOTGUN_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SHOTGUN_STRING == "TRDR11"  
    v$SHOTGUN_STRING == "TRDR68"
        then
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN2_PRICE  // (int)
            then
            if
            not $SHOTGUN2_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 26
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,26,$SHOTGUN2_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 1
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 204
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,204,$SHOTGUN2_COUNT_BUY)
                else
                23@ = 140
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,140,$SHOTGUN2_COUNT_BUY)
                end
                
                else
                23@ = 174
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,174,$SHOTGUN2_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                    
                player.Money(0) += $SHOTGUN2_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SHOTGUN2_PRICE2 // (int)
                $SHOTGUN2_COUNT -= 1
                
                if
                $SHOTGUN2_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR12"
        then
        if
        002C:   $PLAYER_MONEY >= $SHOTGUN3_PRICE  // (int)
            then
            if
            not $SHOTGUN3_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 27
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,27,$SHOTGUN3_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 1
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 139
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,139,$SHOTGUN3_COUNT_BUY)
                else
                23@ = 203
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,203,$SHOTGUN3_COUNT_BUY)
                end
                
                else
                23@ = 173
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,173,$SHOTGUN3_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                    
                player.Money(0) += $SHOTGUN3_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SHOTGUN3_PRICE2 // (int)
                $SHOTGUN3_COUNT -= 1
                
                if
                $SHOTGUN3_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR50"
        then
        if
        002C:   $PLAYER_MONEY >= $SSG_PRICE  // (int)
            then
            if
            not $SSG_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 73
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,73,$SSG_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $SSG_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SSG_PRICE2 // (int) 
                $SSG_COUNT -= 1
                
                if
                $SSG_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR55"
        then
        if
        002C:   $PLAYER_MONEY >= $AA12_PRICE  // (int)
            then
            if
            not $AA12_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 78
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,78,$AA12_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $AA12_PRICE2
                0060: TRADER_TOTAL_MONEY -= $AA12_PRICE2 // (int)
                $AA12_COUNT -= 1
                
                if
                $AA12_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR85"
        then
        if
        002C:   $PLAYER_MONEY >= $STUBBY_PRICE  // (int)
            then
            if
            not $STUBBY_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 91
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,91,$STUBBY_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $STUBBY_PRICE2
                0060: TRADER_TOTAL_MONEY -= $STUBBY_PRICE2 // (int)
                $STUBBY_COUNT -= 1
                
                if
                $STUBBY_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR102"
        then
        if
        002C:   $PLAYER_MONEY >= $SAIGA12_PRICE  // (int)
            then
            if
            not $SAIGA12_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 100
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,100,$SAIGA12_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $SAIGA12_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SAIGA12_PRICE2 // (int)
                $SAIGA12_COUNT -= 1
                
                if
                $SAIGA12_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR104"
        then
        if
        002C:   $PLAYER_MONEY >= $STRIKER_PRICE  // (int)
            then
            if
            not $STRIKER_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 102
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,102,$STRIKER_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $STRIKER_PRICE2
                0060: TRADER_TOTAL_MONEY -= $STRIKER_PRICE2 // (int)
                $STRIKER_COUNT -= 1
                
                if
                $STRIKER_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SHOTGUN_STRING == "TRDR105"
        then
        if
        002C:   $PLAYER_MONEY >= $XM1014_PRICE  // (int)
            then
            if
            not $XM1014_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 103
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,103,$XM1014_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $XM1014_PRICE2
                0060: TRADER_TOTAL_MONEY -= $XM1014_PRICE2 // (int)
                $XM1014_COUNT -= 1
                
                if
                $XM1014_COUNT == 0
                then
                $TRADER_SHOTGUN[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR8"
    v$SMG_STRING == "TRDR113"
        then
        if
        002C:   $PLAYER_MONEY >= $MICRO_UZI_PRICE  // (int)
            then
            if
            not $MICRO_UZI_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 28
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,28,$MICRO_UZI_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0 
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 117
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,117,$MICRO_UZI_COUNT_BUY)
                else
                23@ = 168
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,168,$MICRO_UZI_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 142
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,142,$MICRO_UZI_COUNT_BUY)
                else
                23@ = 198
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,198,$MICRO_UZI_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                    
                player.Money(0) += $MICRO_UZI_PRICE2
                0060: TRADER_TOTAL_MONEY -= $MICRO_UZI_PRICE2 // (int)
                $MICRO_UZI_COUNT -= 1
                
                if
                $MICRO_UZI_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SMG_STRING == "TRDR18"
    v$SMG_STRING == "TRDR112"
        then
        if
        002C:   $PLAYER_MONEY >= $TEC9_PRICE  // (int)
            then
            if
            not $TEC9_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                
                if
                UNITED_MAP == 0
                then
                23@ = 32
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,32,$TEC9_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 1
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 141
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,141,$TEC9_COUNT_BUY)
                else
                23@ = 197
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,197,$TEC9_COUNT_BUY)
                end
                
                else
                23@ = 167
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,167,$TEC9_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                    
                player.Money(0) += $TEC9_PRICE2
                0060: TRADER_TOTAL_MONEY -= $TEC9_PRICE2 // (int)
                $TEC9_COUNT -= 1
                
                if
                $TEC9_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR10"
        then
        if
        002C:   $PLAYER_MONEY >= $SMG_PRICE  // (int)
            then
            if
            not $SMG_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 29
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,29,$SMG_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 1
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 143
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,143,$SMG_COUNT_BUY)
                else
                23@ = 199
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,199,$SMG_COUNT_BUY)
                end
                
                else
                23@ = 169
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,169,$SMG_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                    
                player.Money(0) += $SMG_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SMG_PRICE2 // (int)
                $SMG_COUNT -= 1
                
                if
                $SMG_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR51"
        then
        if
        002C:   $PLAYER_MONEY >= $THOMPSON_PRICE  // (int)
            then
            if
            not $THOMPSON_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 74
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,74,$THOMPSON_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $THOMPSON_PRICE2
                0060: TRADER_TOTAL_MONEY -= $THOMPSON_PRICE2 // (int)
                $THOMPSON_COUNT -= 1
                
                if
                $THOMPSON_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR54"
        then
        if
        002C:   $PLAYER_MONEY >= $BIZON_PRICE  // (int)
            then
            if
            not $BIZON_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 77
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,77,$BIZON_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $BIZON_PRICE2
                0060: TRADER_TOTAL_MONEY -= $BIZON_PRICE2 // (int)
                $BIZON_COUNT -= 1
                
                if
                $BIZON_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end             

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR65"
        then
        if
        002C:   $PLAYER_MONEY >= $UMP45_PRICE  // (int)
            then
            if
            not $UMP45_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 79
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,79,$UMP45_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $UMP45_PRICE2
                0060: TRADER_TOTAL_MONEY -= $UMP45_PRICE2 // (int)
                $UMP45_COUNT -= 1
                
                if
                $UMP45_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end         
end           

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR78"
        then
        if
        002C:   $PLAYER_MONEY >= $MP9_PRICE  // (int)
            then
            if
            not $MP9_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 84
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,84,$MP9_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $MP9_PRICE2
                0060: TRADER_TOTAL_MONEY -= $MP9_PRICE2 // (int)
                $MP9_COUNT -= 1
                
                if
                $MP9_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end         
end             

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR79"
        then
        if
        002C:   $PLAYER_MONEY >= $HKMP5_PRICE  // (int)
            then
            if
            not $HKMP5_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 85
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,85,$HKMP5_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $HKMP5_PRICE2
                0060: TRADER_TOTAL_MONEY -= $HKMP5_PRICE2 // (int)
                $HKMP5_COUNT -= 1
                
                if
                $HKMP5_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end         
end            

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR80"
        then
        if
        002C:   $PLAYER_MONEY >= $P90_PRICE  // (int)
            then
            if
            not $P90_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 86
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,86,$P90_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $P90_PRICE2
                0060: TRADER_TOTAL_MONEY -= $P90_PRICE2 // (int)
                $P90_COUNT -= 1
                
                if
                $P90_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end         
end         

if
$TRADER_ROW == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SMG_STRING == "TRDR81"
        then
        if
        002C:   $PLAYER_MONEY >= $SCORPION_PRICE  // (int)
            then
            if
            not $SCORPION_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 87
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,87,$SCORPION_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $SCORPION_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SCORPION_PRICE2 // (int)
                $SCORPION_COUNT -= 1
                
                if
                $SCORPION_COUNT == 0
                then
                $TRADER_SMG[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end         
end             

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR13"
    v$RIFLE_STRING == "TRDR70"
        then
        if
        002C:   $PLAYER_MONEY >= $AK47_PRICE  // (int)
            then
            if
            not $AK47_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 30
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,30,$AK47_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 112
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,112,$AK47_COUNT_BUY)
                else
                23@ = 171
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,171,$AK47_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 145
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,145,$AK47_COUNT_BUY)
                else
                23@ = 201
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,201,$AK47_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                    
                player.Money(0) += $AK47_PRICE2
                0060: TRADER_TOTAL_MONEY -= $AK47_PRICE2 // (int)
                $AK47_COUNT -= 1
                
                if
                $AK47_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$RIFLE_STRING == "TRDR14"
    v$RIFLE_STRING == "TRDR72"
    v$RIFLE_STRING == "TRDR111"
        then
        if
        002C:   $PLAYER_MONEY >= $M4_PRICE  // (int)
            then
            if
            not $M4_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               

                if
                UNITED_MAP == 0
                then
                23@ = 31
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,31,$M4_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 116
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,116,$M4_COUNT_BUY)
                else
                23@ = 170
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,170,$M4_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 144
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,144,$M4_COUNT_BUY)
                else
                23@ = 200
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,200,$M4_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                    
                player.Money(0) += $M4_PRICE2
                0060: TRADER_TOTAL_MONEY -= $M4_PRICE2 // (int)
                $M4_COUNT -= 1
                
                if
                $M4_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR49"
        then
        if
        002C:   $PLAYER_MONEY >= $FAMAS_PRICE  // (int)
            then
            if
            not $FAMAS_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 72
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,72,$FAMAS_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $FAMAS_PRICE2
                0060: TRADER_TOTAL_MONEY -= $FAMAS_PRICE2 // (int)
                $FAMAS_COUNT -= 1
                
                if
                $FAMAS_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR52"
        then
        if
        002C:   $PLAYER_MONEY >= $IA2_PRICE  // (int)
            then
            if
            not $IA2_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 75
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,75,$IA2_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $IA2_PRICE2
                0060: TRADER_TOTAL_MONEY -= $IA2_PRICE2 // (int)
                $IA2_COUNT -= 1
                
                if
                $IA2_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR75"
        then
        if
        002C:   $PLAYER_MONEY >= $GROZA_PRICE  // (int)
            then
            if
            not $GROZA_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 81
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,81,$GROZA_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $GROZA_PRICE2
                0060: TRADER_TOTAL_MONEY -= $GROZA_PRICE2 // (int)
                $GROZA_COUNT -= 1
                
                if
                $GROZA_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end               

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR76"
        then
        if
        002C:   $PLAYER_MONEY >= $SCAR_PRICE  // (int)
            then
            if
            not $SCAR_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 82
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,82,$SCAR_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $SCAR_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SCAR_PRICE2 // (int)
                $SCAR_COUNT -= 1
                
                if
                $SCAR_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end         

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR77"
        then
        if
        002C:   $PLAYER_MONEY >= $AUG_PRICE  // (int)
            then
            if
            not $AUG_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 83
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,83,$AUG_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $AUG_PRICE2
                0060: TRADER_TOTAL_MONEY -= $AUG_PRICE2 // (int)
                $AUG_COUNT -= 1
                
                if
                $AUG_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end         

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR82"
        then
        if
        002C:   $PLAYER_MONEY >= $CAR15_PRICE  // (int)
            then
            if
            not $CAR15_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 88
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,88,$CAR15_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $CAR15_PRICE2
                0060: TRADER_TOTAL_MONEY -= $CAR15_PRICE2 // (int)
                $CAR15_COUNT -= 1
                
                if
                $CAR15_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR97"
        then
        if
        002C:   $PLAYER_MONEY >= $AR15_PRICE  // (int)
            then
            if
            not $AR15_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 95
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,95,$AR15_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $AR15_PRICE2
                0060: TRADER_TOTAL_MONEY -= $AR15_PRICE2 // (int)
                $AR15_COUNT -= 1
                
                if
                $AR15_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR101"
        then
        if
        002C:   $PLAYER_MONEY >= $G36C_PRICE  // (int)
            then
            if
            not $G36C_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 99
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,99,$G36C_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $G36C_PRICE2
                0060: TRADER_TOTAL_MONEY -= $G36C_PRICE2 // (int)
                $G36C_COUNT -= 1
                
                if
                $G36C_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR103"
        then
        if
        002C:   $PLAYER_MONEY >= $SIG550_PRICE  // (int)
            then
            if
            not $SIG550_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 101
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,101,$SIG550_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $SIG550_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SIG550_PRICE2 // (int)
                $SIG550_COUNT -= 1
                
                if
                $SIG550_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR106"
        then
        if
        002C:   $PLAYER_MONEY >= $GALIL_PRICE  // (int)
            then
            if
            not $GALIL_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 104
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,104,$GALIL_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $GALIL_PRICE2
                0060: TRADER_TOTAL_MONEY -= $GALIL_PRICE2 // (int)
                $GALIL_COUNT -= 1
                
                if
                $GALIL_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$RIFLE_STRING == "TRDR107"
        then
        if
        002C:   $PLAYER_MONEY >= $HK416_PRICE  // (int)
            then
            if
            not $HK416_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                               
                23@ = 105
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,105,$HK416_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0    
                player.Money(0) += $HK416_PRICE2
                0060: TRADER_TOTAL_MONEY -= $HK416_PRICE2 // (int)
                $HK416_COUNT -= 1
                
                if
                $HK416_COUNT == 0
                then
                $TRADER_RIFLE[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end         

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR15"
    v$SNIPER_STRING == "TRDR71"
        then
        if
        002C:   $PLAYER_MONEY >= $RIFLE_PRICE  // (int)
            then
            if
            not $RIFLE_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                          
                
                if
                UNITED_MAP == 0
                then
                23@ = 33
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,33,$RIFLE_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 120
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,120,$RIFLE_COUNT_BUY)
                else
                23@ = 175
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,175,$RIFLE_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 146
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,146,$RIFLE_COUNT_BUY)
                else
                23@ = 205
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,205,$RIFLE_COUNT_BUY)
                end
                 
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                                
                player.Money(0) += $RIFLE_PRICE2
                0060: TRADER_TOTAL_MONEY -= $RIFLE_PRICE2 // (int)
                $RIFLE_COUNT -= 1
                
                if
                $RIFLE_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if or
    v$SNIPER_STRING == "TRDR16"  
    v$SNIPER_STRING == "TRDR16B"
    v$SNIPER_STRING == "TRDR69"
        then
        if
        002C:   $PLAYER_MONEY >= $SNIPER_RIFLE_PRICE  // (int)
            then
            if
            not $SNIPER_RIFLE_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                                  

                if
                UNITED_MAP == 0
                then
                23@ = 34
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,34,$SNIPER_RIFLE_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 120
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,120,$SNIPER_RIFLE_COUNT_BUY)
                else
                23@ = 176
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,176,$SNIPER_RIFLE_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 147
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,147,$SNIPER_RIFLE_COUNT_BUY)
                else
                23@ = 206
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,206,$SNIPER_RIFLE_COUNT_BUY)
                end
                 
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                
                player.Money(0) += $SNIPER_RIFLE_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SNIPER_RIFLE_PRICE2 // (int)
                $SNIPER_RIFLE_COUNT -= 1
                
                if
                $SNIPER_RIFLE_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR73"
        then
        if
        002C:   $PLAYER_MONEY >= $HSNIPER_PRICE  // (int)
            then
            if
            not $HSNIPER_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                                  
                23@ = 80
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,80,$HSNIPER_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0                
                player.Money(0) += $HSNIPER_PRICE2
                0060: TRADER_TOTAL_MONEY -= $HSNIPER_PRICE2 // (int)
                $HSNIPER_COUNT -= 1
                
                if
                $HSNIPER_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR98"
        then
        if
        002C:   $PLAYER_MONEY >= $SVD_PRICE  // (int)
            then
            if
            not $SVD_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                                  
                23@ = 96
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,96,$SVD_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0                
                player.Money(0) += $SVD_PRICE2
                0060: TRADER_TOTAL_MONEY -= $SVD_PRICE2 // (int)
                $SVD_COUNT -= 1
                
                if
                $SVD_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if 
    v$SNIPER_STRING == "TRDR99"
        then
        if
        002C:   $PLAYER_MONEY >= $BOLT308_PRICE  // (int)
            then
            if
            not $BOLT308_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                                  
                23@ = 97
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,97,$BOLT308_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0                
                player.Money(0) += $BOLT308_PRICE2
                0060: TRADER_TOTAL_MONEY -= $BOLT308_PRICE2 // (int)
                $BOLT308_COUNT -= 1
                
                if
                $BOLT308_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SNIPER_STRING == "TRDR19"
        then
        if
        002C:   $PLAYER_MONEY >= $MOLOTOV_PRICE  // (int)
            then
            if
            not $MOLOTOV_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all      
                
                if
                UNITED_MAP == 0
                then
                23@ = 18
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,18,$MOLOTOV_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0 
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 118
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,118,$MOLOTOV_COUNT_BUY)
                else
                23@ = 179
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,179,$MOLOTOV_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 0
                then
                23@ = 134
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,134,$MOLOTOV_COUNT_BUY)
                else
                23@ = 209
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,209,$MOLOTOV_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                
                player.Money(0) += $MOLOTOV_PRICE2
                0060: TRADER_TOTAL_MONEY -= $MOLOTOV_PRICE2 // (int)
                $MOLOTOV_COUNT -= 1
                
                if
                $MOLOTOV_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$SNIPER_STRING == "TRDR29"
        then
        if
        002C:   $PLAYER_MONEY >= $FLAME_PRICE  // (int)
            then
            if
            not $FLAME_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                      

                if
                UNITED_MAP == 0
                then
                23@ = 37
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,37,$FLAME_COUNT_BUY)
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                $UNITED_VC_FLAG == 0
                then
                
                if
                STORIES_MAP == 0
                then
                23@ = 114
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,114,$FLAME_COUNT_BUY)
                else
                23@ = 180
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,180,$FLAME_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                else
                
                if
                STORIES_MAP == 1
                then
                23@ = 210
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,210,$FLAME_COUNT_BUY)
                else
                23@ = 148
                gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
                actor.GiveWeaponAndAmmo(BUYER_ACTOR,148,$FLAME_COUNT_BUY)
                end
                
                01B9: set_actor BUYER_ACTOR armed_weapon_to 0
                end
                
                end
                
                player.Money(0) += $FLAME_PRICE2
                0060: TRADER_TOTAL_MONEY -= $FLAME_PRICE2 // (int)
                $FLAME_COUNT -= 1
                
                if
                $FLAME_COUNT == 0
                then
                $TRADER_SNIPER[24@] = 69
                end
                
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 6 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then   
    if
    002C:   $PLAYER_MONEY >= $BANKA_PRICE  // (int)
        then
        if
        not $BANKA_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all
            if
            BUYER_PLAYER == 0
            then                                         
            0058: $BANKA += $BANKA_COUNT_BUY // (int)
            else
            0058: $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += $BANKA_COUNT_BUY // (int)            
            end
            player.Money(0) += $BANKA_PRICE2
            0060: TRADER_TOTAL_MONEY -= $BANKA_PRICE2 // (int)
            $BANKA_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end      
end

if
$TRADER_ROW == 7 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$HEAL_STRING == "TRDR17"
        then
        if
        002C:   $PLAYER_MONEY >= $HEAL_PRICE  // (int)
            then
            if
            not $HEAL_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all
                if
                BUYER_PLAYER == 0
                then                               
                0058: $HEAL += $HEAL_COUNT_BUY // (int)
                else
                0058: $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += $HEAL_COUNT_BUY // (int)
                end
                player.Money(0) += $HEAL_PRICE2
                0060: TRADER_TOTAL_MONEY -= $HEAL_PRICE2 // (int)
                $HEAL_COUNT -= 1
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if
$TRADER_ROW == 7 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    v$HEAL_STRING == "TRDR6"
        then
        if
        002C:   $PLAYER_MONEY >= $BINT_PRICE  // (int)
            then
            if
            not $BINT_COUNT == 0
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all
                if
                BUYER_PLAYER == 0
                then                               
                0058: $BINT += $BINT_COUNT_BUY // (int)
                else
                0058: $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += $BINT_COUNT_BUY // (int)
                end
                player.Money(0) += $BINT_PRICE2
                0060: TRADER_TOTAL_MONEY -= $BINT_PRICE2 // (int)
                $BINT_COUNT -= 1
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @NOT_COUNT
                end
            else
            gosub @NOT_MONEY
            end           
        end
    end      
end

if and
$TRADER_ROW == 8
BUYER_PLAYER == 0 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        not $BENZIN_COUNT <= 0.9
            then                        
            
            if
            $KANISTRA == 0
            then
            
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all
            
            ///////////////////////////////////////////////////////////////////////
            
            repeat
            wait 0
            
            text.Show1Number('TRDR128',50,10,1)
    
            if 
            0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
                then    
                text.ClearAll()
                jump to @TRADER_BUY_MENU        
                end
                
            if 
            0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
                then       
                text.ClearAll()
                010B: 0@ = player 0 money
                if
                0@ >= 50
                    then
                    $KANISTRA = 1
                    player.Money(0) += -50
                    TRADER_TOTAL_MONEY -= -50                    
                    Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
                    Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
                    Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY)                
                    gosub @BENZIN_BUY                                      
                    jump to @TRADER_BUY_MENU                                
                    else
                    gosub @NOT_MONEY
                    wait 2000
                    jump to @TRADER_BUY_MENU 
                    end   
                end    
            
            until false
            
            ///////////////////////////////////////////////////////////////////////
            
            end
            
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                       
            Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
            Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY)                
            gosub @BENZIN_BUY                                      
            jump to @TRADER_BUY_MENU   
            else
            gosub @NOT_COUNT      
            end  
        end          
    end
    
if and
$TRADER_ROW == 8
BUYER_PLAYER == 1 
    then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
        then   
        if
        not $BENZIN_COUNT <= 0.9
            then                        
            
            if
            $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
            then
            
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all
            
            ///////////////////////////////////////////////////////////////////////
            
            repeat
            wait 0
            
            text.Show1Number('TRDR128',50,10,1)
    
            if 
            0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
                then    
                text.ClearAll()
                jump to @TRADER_BUY_MENU        
                end
                
            if 
            0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
                then       
                text.ClearAll()
                010B: 0@ = player 0 money
                if
                0@ >= 50
                    then
                    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] = 1
                    player.Money(0) += -50
                    TRADER_TOTAL_MONEY -= -50                    
                    Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
                    Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
                    Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY)                
                    gosub @BENZIN_BUY                                      
                    jump to @TRADER_BUY_MENU                                
                    else
                    gosub @NOT_MONEY
                    wait 2000
                    jump to @TRADER_BUY_MENU 
                    end   
                end    
            
            until false
            
            ///////////////////////////////////////////////////////////////////////
            
            end
            
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                       
            Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
            Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY)                
            gosub @BENZIN_BUY                                      
            jump to @TRADER_BUY_MENU   
            else
            gosub @NOT_COUNT      
            end  
        end          
    end    

if
$TRADER_ROW == 9 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then           
    if
    002C:   $PLAYER_MONEY >= $ARMOR_PRICE  // (int)
        then
        if
        not $ARMOR_COUNT == 0
            then
            04DD: 0@ = actor BUYER_ACTOR armour
            0945: get_player BUYER_PLAYER max_armour_to 1@
            if
            803B: not  0@ == 1@  // (int)
                then
                03E6: remove_text_box 
                08DA: remove_panel $PANEL_TRADE  
                08DA: remove_panel $PANEL_PLAYER  
                00BE: text_clear_all                                         
                actor.AddArmour(BUYER_ACTOR,250)
                player.Money(0) += $ARMOR_PRICE2
                0060: TRADER_TOTAL_MONEY -= $ARMOR_PRICE2 // (int)
                $ARMOR_COUNT -= 1
                00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
                05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
                gosub @PLAY_PICKUP_SOUND3
                jump to @TRADER_BUY_MENU
                else
                gosub @ARMOUR_MAX
                end
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end      
end

if
$TRADER_ROW == 10 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then   
    if
    002C:   $PLAYER_MONEY >= $JIMMY_PRICE  // (int)
        then
        if
        not $JIMMY_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all
            if
            BUYER_PLAYER == 0
            then                                        
            0058: $JIMMY += $JIMMY_COUNT_BUY // (int)
            else
            0058: $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += $JIMMY_COUNT_BUY // (int)
            end
            $JIMMY_COUNT -= 1
            player.Money(0) += $JIMMY_PRICE2
            0060: TRADER_TOTAL_MONEY -= $JIMMY_PRICE2 // (int)
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end      
end

if
$TRADER_ROW == 11 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then   
    if
    002C:   $PLAYER_MONEY >= $REPAIR_KIT_PRICE  // (int)
        then
        if
        not $REPAIR_KIT_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all
            if
            BUYER_PLAYER == 0
            then                                        
            0058: $REPAIR_KIT += $REPAIR_KIT_COUNT_BUY // (int)
            else
            0058: $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] += $REPAIR_KIT_COUNT_BUY // (int)
            end
            $REPAIR_KIT_COUNT -= 1
            player.Money(0) += $REPAIR_KIT_PRICE2
            0060: TRADER_TOTAL_MONEY -= $REPAIR_KIT_PRICE2 // (int)
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end      
end

00E2: get_player BUYER_PLAYER key 0 state_to 0@

if or
0A4B:   controls_set_to_joystick
BUYER_PLAYER == 1
    then
    if
    0E3E: is_just player BUYER_PLAYER pressed_key 11
        then
        0@ = 1
        end
    end

if
0@ > 0
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
jump to @TRADER_BUY_2MENU
end

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
cinema.Widescreen(0)
jump to @TRADER_START_MENU
else
jump @TRADER_PANEL_IDLE
end                       

:TRADER_BUY_2MENU

if
$GRENADES_COUNT > 0
then
v$PISTOL_STRING = "TRDR86"
else
v$PISTOL_STRING = "TRDR59"
end

if
$TEARGAS_COUNT > 0
then
v$SHOTGUN_STRING = "TRDR87"
else
v$SHOTGUN_STRING = "TRDR59"
end

if
$MOLOTOV_COUNT > 0
then
v$SMG_STRING = "TRDR19"
else
v$SMG_STRING = "TRDR59"
end

if
NIGHTVISION_COUNT > 0
then
v$RIFLE_STRING = "TRDR117"
else
v$RIFLE_STRING = "TRDR59"
end

if
INFRAVISION_COUNT > 0
then
v$SNIPER_STRING = "TRDR118"
else
v$SNIPER_STRING = "TRDR59"
end

if
$RADIO_COUNT > 0
then
v$GRENADE_STRING = "INV35"
else
v$GRENADE_STRING = "TRDR59"
end

if and
STATE_MAP_BOUGHT_FLAG == 0
$FREEMODE == 1
not USHER_STORY_FLAG == 1
then
v$MOLOTOV_STRING = "TRDR121"
else
v$MOLOTOV_STRING = "TRDR59"
end

if
BUYER_PLAYER == 0
then
$PANEL_OPEN = 1
else
$PANEL_OPEN2P = 1
end

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int)

0512: show_permanent_text_box "TRDR2"
$PANEL_TRADE = 0 
08D4: $PANEL_TRADE = create_panel_with_title "TRDR3" position 71.0 130.0 width 180.0 columns 2 interactive 1 background 1 alignment 1 //29.0

if and
$ENTERED_CAMP_NUMBER == -1
$ONMISSION == 0
not HRDOR_DNGR_FLG == 1
then                                                                                                                                                                                                               
08DB: set_panel $PANEL_TRADE column 0 header "DUMMY" data v$PISTOL_STRING v$SHOTGUN_STRING v$SMG_STRING v$RIFLE_STRING v$SNIPER_STRING v$GRENADE_STRING v$MOLOTOV_STRING "TRDR89" "TRDR96" "TRDR123" "TRDR146" "TRDR127"  
else
08DB: set_panel $PANEL_TRADE column 0 header "DUMMY" data v$PISTOL_STRING v$SHOTGUN_STRING v$SMG_STRING v$RIFLE_STRING v$SNIPER_STRING v$GRENADE_STRING v$MOLOTOV_STRING "TRDR89" "TRDR96" "TRDR123" "TRDR146" "DUMMY"
end
  
08D6: set_panel $PANEL_TRADE column 1 alignment 1

if
$GRENADES_COUNT > 0
then 
08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $GRENADES_PRICE $GRENADES_COUNT
end

if
$TEARGAS_COUNT > 0
then 
08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $TEARGAS_PRICE $TEARGAS_COUNT
end

if
$MOLOTOV_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $MOLOTOV_PRICE $MOLOTOV_COUNT
end

if
NIGHTVISION_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers NIGHTVISION_PRICE NIGHTVISION_COUNT
end

if
INFRAVISION_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers INFRAVISION_PRICE INFRAVISION_COUNT
end

if
$RADIO_COUNT > 0
then
08EF: set_panel $PANEL_TRADE column 1 row 5 text_2numbers GXT "TRDR21" numbers $RADIO_PRICE $RADIO_COUNT
end

if and
$ENTERED_CAMP_NUMBER == -1
$ONMISSION == 0
not HRDOR_DNGR_FLG == 1
then

1@ = 150    
046D: 2@ = actor BUYER_ACTOR members_in_group
if
2@ == 1
    then
    1@ = 175
    end
if
2@ == 2
    then
    1@ = 200
    end
if
2@ == 3
    then
    1@ = 225
    end

08EE: set_panel $PANEL_TRADE column 1 row 11 text_1number GXT "TRDR58" number 1@  // $~1~

end

1@ = 200    
for 0@ = 1 to $MONTHS_PASSED        
1@ += 150        
end

08EE: set_panel $PANEL_TRADE column 1 row 10 text_1number GXT "TRDR58" number 1@  // $~1~

if and
UNITED_MAP == 0
not REALISM_MODE == 1
then

if and
STATE_MAP_BOUGHT_FLAG == 0
$FREEMODE == 1
then
08EF: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT "TRDR21" numbers 650 1
end

else

if and
STATE_MAP_BOUGHT_FLAG == 0
$FREEMODE == 1
then
08EF: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT "TRDR21" numbers 250 1
end

end

09DB: set_panel $PANEL_TRADE column 0 width 130 //230    
09DB: set_panel $PANEL_TRADE column 1 width 50 
08D9: set_panel $PANEL_TRADE row 7 enable 0

if and
UNITED_MAP == 1
STORIES_MAP == 0
$UNITED_III_SPAWN == 1
then
08D9: set_panel $PANEL_TRADE row 1 enable 0 
end

if
UNITED_MAP == 1
then
08D9: set_panel $PANEL_TRADE row 3 enable 0
08D9: set_panel $PANEL_TRADE row 4 enable 0 
end

if
TRADER_HEAVY_AMMO_BUYED == 1
then
08D9: set_panel $PANEL_TRADE row 9 enable 0

if
$TRADER_ROW2 == 9
then
$TRADER_ROW2 = 8
end

end

if or
CUSTOM_MODE_ONLY_MELEE == 1
$MUTATION_ACTIVE == 2
then
08D9: set_panel $PANEL_TRADE row 8 enable 0
08D9: set_panel $PANEL_TRADE row 9 enable 0
end

if and
$PISTOL_ST_NONE == 1
$SHOTGUN_ST_NONE == 1
$SMG_ST_NONE == 1
$RIFLE_ST_NONE == 1
$SNIPER_ST_NONE == 1
then

if or
$TRADER_ROW2 == 8
$TRADER_ROW2 == 9
then
$TRADER_ROW2 = 6
end

08D9: set_panel $PANEL_TRADE row 8 enable 0
08D9: set_panel $PANEL_TRADE row 9 enable 0
end

if or
$FREEMODE == 0
$ALLOW_TREASURES == 0
then
08D9: set_panel $PANEL_TRADE row 10 enable 0
end

090E: set_panel $PANEL_TRADE active_row $TRADER_ROW2

$PLAYER_MONEY = player.Money(0)
if
BUYER_PLAYER == 0
then
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer
else
008C: $ITEMS_WEIGHT3 = float $SURVIVOR_BACKPACK_WEIGHT[COOP_ACTOR_SURV_NUM] to_integer
end

if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end
$PANEL_PLAYER = 0
08D4: $PANEL_PLAYER = create_panel_with_title "INV2" position 350.0 130.0 width 100.0 columns 2 interactive 0 background 1 alignment 1 //350.0
08DB: set_panel $PANEL_PLAYER column 0 header "DUMMY" data "INV1" "INV5" "INV9" "INV18" "INV35" "INV90" "INV196" "INV15" "INV88" s$TIME2_STRING "INV153" "DUMMY" 
08D6: set_panel $PANEL_PLAYER column 1 alignment 1
if
BUYER_PLAYER == 0
then 

if
$KANISTRA > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
$KANISTRA_FUEL2 = 0
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 0 text_1number GXT "INV3" number $BANKA 
08EE: set_panel $PANEL_PLAYER column 1 row 1 text_1number GXT "INV3" number $HEAL 
08EE: set_panel $PANEL_PLAYER column 1 row 2 text_1number GXT "INV3" number $BINT

if
$KANISTRA > 0
then 
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT "INV3B" number $KANISTRA_FUEL2
else
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT "INV3C" number $KANISTRA_FUEL2
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 4 text_1number GXT "INV3" number $RADIO
08EE: set_panel $PANEL_PLAYER column 1 row 5 text_1number GXT "INV3" number $JIMMY
08EE: set_panel $PANEL_PLAYER column 1 row 6 text_1number GXT "INV3" number $REPAIR_KIT
else

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
else
$KANISTRA_FUEL2 = 0
end

08EE: set_panel $PANEL_PLAYER column 1 row 0 text_1number GXT 'INV3' number $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $PANEL_PLAYER column 1 row 1 text_1number GXT 'INV3' number $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $PANEL_PLAYER column 1 row 2 text_1number GXT 'INV3' number $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM]

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then 
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $PANEL_PLAYER column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel $PANEL_PLAYER column 1 row 4 text_1number GXT 'INV3' number $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $PANEL_PLAYER column 1 row 5 text_1number GXT 'INV3' number $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $PANEL_PLAYER column 1 row 6 text_1number GXT 'INV3' number $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM]
end  
08EE: set_panel $PANEL_PLAYER column 1 row 8 text_1number GXT v$WEIGHT_STRING number $ITEMS_WEIGHT3
08EE: set_panel $PANEL_PLAYER column 1 row 9 text_1number GXT v$TIME_STRING number 27@
08EE: set_panel $PANEL_PLAYER column 1 row 10 text_1number GXT "INV3" number $PLAYER_MONEY
09DB: set_panel $PANEL_PLAYER column 0 width 130 //230 
09DB: set_panel $PANEL_PLAYER column 1 width 25
//wait 100
if
not DIRECTFONT_INSTALLED == 1
then
cinema.Widescreen(1)
end

:TRADER_PANEL_2IDLE
wait 0

if
8A2A: not  text_box "TRDR2" displayed
then
0512: show_permanent_text_box "TRDR2" 
end

08D7: $TRADER_ROW2 = panel $PANEL_TRADE active_row 

if and
0E3E: is_button_just_pressed 1 button 9
BUYER_PLAYER == 1
    then
    $TRADER_ROW2 += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_ROW2 > 10
        then
        $TRADER_ROW2 = 0
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW2
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW2
        end
    end
    
if and
0E3E: is_button_just_pressed 1 button 8
BUYER_PLAYER == 1
    then
    $TRADER_ROW2 -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $TRADER_ROW2 < 0
        then
        $TRADER_ROW2 = 10
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW2
        else
        090E: set_panel $PANEL_TRADE active_row $TRADER_ROW2
        end
    end

$PLAYER_MONEY = player.Money(0)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end

if
$TRADER_ROW2 == 0 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= $GRENADES_PRICE  // (int)
        then
        if
        not $GRENADES_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all      
                
            if
            UNITED_MAP == 0
            then
            23@ = 16
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,16,$GRENADES_COUNT_BUY)
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0 
            else
                
            if
            $UNITED_VC_FLAG == 0
            then
            
            if
            STORIES_MAP == 0
            then
            23@ = 115
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,115,$GRENADES_COUNT_BUY)
            else
            23@ = 177
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,177,$GRENADES_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            else
            
            if
            STORIES_MAP == 0
            then
            23@ = 132
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,132,$GRENADES_COUNT_BUY)
            else
            23@ = 207
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,207,$GRENADES_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            end
                
            end
                
            player.Money(0) += $GRENADES_PRICE2
            0060: TRADER_TOTAL_MONEY -= $GRENADES_PRICE2 // (int)
            $GRENADES_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= $TEARGAS_PRICE  // (int)
        then
        if
        not $TEARGAS_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all      
                
            if
            UNITED_MAP == 0
            then
            23@ = 17
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,17,$TEARGAS_COUNT_BUY)
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0 
            else
                
            if
            $UNITED_VC_FLAG == 0
            then
            
            if
            STORIES_MAP == 0
            then
            23@ = 115
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,115,$TEARGAS_COUNT_BUY)
            else
            23@ = 178
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,178,$TEARGAS_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            else
            
            if
            STORIES_MAP == 0
            then
            23@ = 133
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,133,$TEARGAS_COUNT_BUY)
            else
            23@ = 208
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,208,$TEARGAS_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            end
                
            end
                
            player.Money(0) += $TEARGAS_PRICE2
            0060: TRADER_TOTAL_MONEY -= $TEARGAS_PRICE2 // (int)
            $TEARGAS_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 2 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= $MOLOTOV_PRICE  // (int)
        then
        if
        not $MOLOTOV_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all      
                
            if
            UNITED_MAP == 0
            then
            23@ = 18
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,18,$MOLOTOV_COUNT_BUY)
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0 
            else
                
            if
            $UNITED_VC_FLAG == 0
            then
            
            if
            STORIES_MAP == 0
            then
            23@ = 118
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,118,$MOLOTOV_COUNT_BUY)
            else
            23@ = 179
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,179,$MOLOTOV_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            else
            
            if
            STORIES_MAP == 0
            then
            23@ = 134
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,134,$MOLOTOV_COUNT_BUY)
            else
            23@ = 209
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,209,$MOLOTOV_COUNT_BUY)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            end
                
            end
                
            player.Money(0) += $MOLOTOV_PRICE2
            0060: TRADER_TOTAL_MONEY -= $MOLOTOV_PRICE2 // (int)
            $MOLOTOV_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 3 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= NIGHTVISION_PRICE  // (int)
        then
        if
        not NIGHTVISION_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                      
            23@ = 44
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,44,1)
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0                             
            player.Money(0) += NIGHTVISION_PRICE2
            0060: TRADER_TOTAL_MONEY -= NIGHTVISION_PRICE2 // (int)
            NIGHTVISION_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 4 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= INFRAVISION_PRICE  // (int)
        then
        if
        not INFRAVISION_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                      
            23@ = 45
            gosub @TRADER_WEAPON_MODEL_LOADED_CHECK                         
            actor.GiveWeaponAndAmmo(BUYER_ACTOR,45,1)
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0                             
            player.Money(0) += INFRAVISION_PRICE2
            0060: TRADER_TOTAL_MONEY -= INFRAVISION_PRICE2 // (int)
            INFRAVISION_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 5 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    if
    002C:   $PLAYER_MONEY >= $RADIO_PRICE  // (int)
        then
        if
        not $RADIO_COUNT == 0
            then
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                                                               
            player.Money(0) += $RADIO_PRICE2
            0060: TRADER_TOTAL_MONEY -= $RADIO_PRICE2 // (int)
            $RADIO += 1
            $RADIO_COUNT -= 1
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if and
$TRADER_ROW2 == 6
not USHER_STORY_FLAG == 1
$FREEMODE == 1 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    
    if and
    UNITED_MAP == 0
    not REALISM_MODE == 1
    then
    1@ = 650
    else
    1@ = 250
    end
    
    if
    002E:   $PLAYER_MONEY >= 1@  // (int)
        then
        if
        not STATE_MAP_BOUGHT_FLAG == 1
            then
            STATE_MAP_BOUGHT_FLAG = 1
            
            for 1@ = 0xBA3714 to 0xBA376F    
            0A8C: write_memory 1@ size 1 value 1 virtual_protect 0
            end
            
            03E6: remove_text_box 
            08DA: remove_panel $PANEL_TRADE  
            08DA: remove_panel $PANEL_PLAYER  
            00BE: text_clear_all                                                                           
            
            if and
            UNITED_MAP == 0
            not REALISM_MODE == 1
            then
            player.Money(0) += -650
            TRADER_TOTAL_MONEY += 650
            else
            player.Money(0) += -250
            TRADER_TOTAL_MONEY += 250
            end
            
            00BC: show_text_highpriority GXT 'TRDR28' time 2000 flag 1
            05C1: AS_actor TRADER_ACTOR speak_from_audio_table 188
            gosub @PLAY_PICKUP_SOUND3
            jump to @TRADER_BUY_2MENU
            else
            gosub @NOT_COUNT
            end
        else
        gosub @NOT_MONEY
        end           
    end
end

if
$TRADER_ROW2 == 8 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE  
    08DA: remove_panel $PANEL_PLAYER  
    00BE: text_clear_all
    jump to @TRADER_AMMO_WEAPONS_MENU
    end
end

if
$TRADER_ROW2 == 9 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    03E6: remove_text_box 
    08DA: remove_panel $PANEL_TRADE  
    08DA: remove_panel $PANEL_PLAYER  
    00BE: text_clear_all
    jump to @TRADER_HEAVY_AMMO_WEAPONS_MENU
    end
end

if
$TRADER_ROW2 == 10 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    
    1@ = 200    
    for 0@ = 1 to $MONTHS_PASSED        
    1@ += 150        
    end        
    
    if
    002E:   $PLAYER_MONEY >= 1@  // (int)
        then
        1@ *= -2
        1@ /= 2
        player.Money(0) += 1@
        0066: TRADER_TOTAL_MONEY -= 1@  // (int)        
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        08DA: remove_panel $PANEL_PLAYER  
        00BE: text_clear_all
        create_thread @TRS_NVD        
        jump to @TRADER_BUY_2MENU
        else
        gosub @NOT_MONEY
        end    
    end
end

if
$TRADER_ROW2 == 11 
then     
    if
    0E3E: is_justplayer BUYER_PLAYER pressed_key 16
    then
    
    1@ = 150    
    046D: 2@ = actor BUYER_ACTOR members_in_group
    if
    2@ == 1
        then
        1@ = 175
        end
    if
    2@ == 2
        then
        1@ = 200
        end
    if
    2@ == 3
        then
        1@ = 225
        end
        
    if
    002E:   $PLAYER_MONEY >= 1@  // (int)
        then
        1@ *= -2
        1@ /= 2
        player.Money(0) += 1@        
        03E6: remove_text_box 
        08DA: remove_panel $PANEL_TRADE  
        08DA: remove_panel $PANEL_PLAYER  
        00BE: text_clear_all        
        TRADER_SAVE_USLUGA = 1
        return
        else
        gosub @NOT_MONEY
        end    
    end
end

00E2: get_player BUYER_PLAYER key 0 state_to 0@

if or
0A4B:   controls_set_to_joystick
BUYER_PLAYER == 1
    then
    if
    0E3E: is_just player BUYER_PLAYER pressed_key 10
        then
        0@ = -1
        end
    end

if
0@ < 0
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
jump to @TRADER_BUY_MENU
end      

if or
0E3E: is_just player BUYER_PLAYER pressed_key 15 
actor.Dead(BUYER_ACTOR)
actor.Dead(TRADER_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor BUYER_ACTOR in_air
then
03E6: remove_text_box 
08DA: remove_panel $PANEL_TRADE  
08DA: remove_panel $PANEL_PLAYER  
00BE: text_clear_all    
cinema.Widescreen(0)
jump to @TRADER_START_MENU
else
jump @TRADER_PANEL_2IDLE
end

:TRADER_HEAVY_AMMO_WEAPONS_MENU

4@ = 0

if
0491:   actor BUYER_ACTOR has_weapon 35
    then
    1@ = 35
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end

if
0491:   actor BUYER_ACTOR has_weapon 36
    then
    1@ = 36
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end

if
0491:   actor BUYER_ACTOR has_weapon 93
    then
    1@ = 93
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end

if
0491:   actor BUYER_ACTOR has_weapon 119
    then
    1@ = 119
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 135
    then
    1@ = 135
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 183
    then
    1@ = 183
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 213
    then
    1@ = 213
    2@ = 6
    3@ = 0
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 70
    then
    1@ = 70
    2@ = 6
    3@ = 1
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 94
    then
    1@ = 94
    2@ = 6
    3@ = 1
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 149
    then
    1@ = 149
    2@ = 6
    3@ = 1
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end 
    
if
0491:   actor BUYER_ACTOR has_weapon 181
    then
    1@ = 181
    2@ = 6
    3@ = 1
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 211
    then
    1@ = 211
    2@ = 6
    3@ = 1
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 38
    then
    1@ = 38
    2@ = 6
    3@ = 2
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 109
    then
    1@ = 109
    2@ = 6
    3@ = 3
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end    
    
if
0491:   actor BUYER_ACTOR has_weapon 150
    then
    1@ = 150
    2@ = 6
    3@ = 2
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 182
    then
    1@ = 182
    2@ = 6
    3@ = 2
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
0491:   actor BUYER_ACTOR has_weapon 212
    then
    1@ = 212
    2@ = 6
    3@ = 2
    gosub @TRADER_HEAVY_AMMO_BUY_QUESTION
    end
    
if
4@ == 0
    then
    
    32@ = 0
    
    while 32@ < 2000
    wait 0
    text.ShowH('INV363',10,1)
    end
    
    end                                                   

jump to @TRADER_BUY_2MENU

:TRADER_HEAVY_AMMO_BUY_QUESTION

4@ = 1

if
3@ == 0
    then
    
    4@ = 15
    
    if and
    not 1@ == 36
    not 1@ == 93
    then
    5@ = 1000
    else
    5@ = 2000
    end
    
    if
    $MONTHS_PASSED > 0
        then
        
        for 0@ = 1 to $MONTHS_PASSED
        
        if and
        not 1@ == 36
        not 1@ == 93
        then
        5@ += 450
        else
        5@ += 900
        end
        
        end
        
        end
        
    gosub @HEAVY_AMMO_PRICE_COEFF    
    
    repeat
    wait 0
    
    text.Show2Number('TRDR124',4@,5@,10,1)
    
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
        then    
        text.ClearAll()
        break        
        end
        
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
        then       
        text.ClearAll()
        010B: 0@ = player 0 money
        if
        002D:   0@ >= 5@  // (int)
            then
            5@ *= -2
            5@ /= 2
            player.Money(0) += 5@
            0066: TRADER_TOTAL_MONEY -= 5@  // (int)
            0114: set_actor BUYER_ACTOR weapon 1@ add_ammo 4@
            32@ = 0
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 1@
            
            5@ *= -2
            5@ /= 2
            
            while 32@ < 1500
            wait 0
            text.Show2Number('TRDR125',4@,5@,10,1)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            TRADER_HEAVY_AMMO_BUYED = 1            
            else
            gosub @NOT_MONEY
            wait 2000 
            end   
        break
        end    
    
    until false
    
    end
    
if
3@ == 1
    then
    
    4@ = 350    
    5@ = 1000
    
    if
    $MONTHS_PASSED > 0
        then
        
        for 0@ = 1 to $MONTHS_PASSED        
        5@ += 450        
        end
        
        end
        
    gosub @HEAVY_AMMO_PRICE_COEFF    
    
    repeat
    wait 0
    
    text.Show2Number('TRDR124',4@,5@,10,1)
    
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
        then    
        text.ClearAll()
        break        
        end
        
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
        then       
        text.ClearAll()
        010B: 0@ = player 0 money
        if
        002D:   0@ >= 5@  // (int)
            then
            5@ *= -2
            5@ /= 2
            player.Money(0) += 5@
            0066: TRADER_TOTAL_MONEY -= 5@  // (int)
            0114: set_actor BUYER_ACTOR weapon 1@ add_ammo 4@
            32@ = 0
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 1@
            
            5@ *= -2
            5@ /= 2
            
            while 32@ < 1500
            wait 0
            text.Show2Number('TRDR125',4@,5@,10,1)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            TRADER_HEAVY_AMMO_BUYED = 1            
            else
            gosub @NOT_MONEY
            wait 2000 
            end   
        break
        end    
    
    until false
    
    end
    
if
3@ == 2
    then
    
    4@ = 850    
    5@ = 3000
    
    if
    $MONTHS_PASSED > 0
        then
        
        for 0@ = 1 to $MONTHS_PASSED        
        5@ += 1350        
        end
        
        end
        
    gosub @HEAVY_AMMO_PRICE_COEFF    
    
    repeat
    wait 0
    
    text.Show2Number('TRDR124',4@,5@,10,1)
    
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
        then    
        text.ClearAll()
        break        
        end
        
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
        then       
        text.ClearAll()
        010B: 0@ = player 0 money
        if
        002D:   0@ >= 5@  // (int)
            then
            5@ *= -2
            5@ /= 2
            player.Money(0) += 5@
            0066: TRADER_TOTAL_MONEY -= 5@  // (int)
            0114: set_actor BUYER_ACTOR weapon 1@ add_ammo 4@
            32@ = 0
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 1@
            
            5@ *= -2
            5@ /= 2
            
            while 32@ < 1500
            wait 0
            text.Show2Number('TRDR125',4@,5@,10,1)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            TRADER_HEAVY_AMMO_BUYED = 1            
            else
            gosub @NOT_MONEY
            wait 2000 
            end   
        break
        end    
    
    until false
    
    end
    
if
3@ == 3
    then
    
    4@ = 50    
    5@ = 1000
    
    if
    $MONTHS_PASSED > 0
        then
        
        for 0@ = 1 to $MONTHS_PASSED        
        5@ += 450        
        end
        
        end
        
    gosub @HEAVY_AMMO_PRICE_COEFF    
    
    repeat
    wait 0
    
    text.Show2Number('TRDR124',4@,5@,10,1)
    
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 10 //NO
        then    
        text.ClearAll()
        break        
        end
        
    if 
    0E3E: is_button_just_pressed BUYER_PLAYER button 11 //YES
        then       
        text.ClearAll()
        010B: 0@ = player 0 money
        if
        002D:   0@ >= 5@  // (int)
            then
            5@ *= -2
            5@ /= 2
            player.Money(0) += 5@
            0066: TRADER_TOTAL_MONEY -= 5@  // (int)
            0114: set_actor BUYER_ACTOR weapon 1@ add_ammo 4@
            32@ = 0
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 1@
            
            5@ *= -2
            5@ /= 2
            
            while 32@ < 1500
            wait 0
            text.Show2Number('TRDR125',4@,5@,10,1)
            end
            
            01B9: set_actor BUYER_ACTOR armed_weapon_to 0
            TRADER_HEAVY_AMMO_BUYED = 1            
            else
            gosub @NOT_MONEY
            wait 2000 
            end   
        break
        end    
    
    until false
    
    end            

return

:HEAVY_AMMO_PRICE_COEFF
0093: 6@ = integer 5@ to_float
006F: 6@ *= $ADDITIONAL_PRICE_COEFF // (float)
0092: 6@ = float 6@ to_integer
005A: 5@ += 6@  // (int)

if
not WEP_TRADER_ADDITIONAL_PRICE_COEFF == 0.0
then
0093: 6@ = integer 5@ to_float
006F: 6@ *= WEP_TRADER_ADDITIONAL_PRICE_COEFF // (float)
0092: 6@ = float 6@ to_integer
005A: 5@ += 6@  // (int)
end

return
              
:NOT_MONEY
00BC: show_text_highpriority GXT 'TRDR26' time 2000 flag 1
05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
return

:NOT_COUNT
00BC: show_text_highpriority GXT "TRDR27" time 2000 flag 1
05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
return

:ARMOR_FULL
00BC: show_text_highpriority GXT "TRDR41" time 2000 flag 1
05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
return

:ARMOUR_MAX
00BC: show_text_highpriority GXT "TRDR145" time 2000 flag 1
05C1: AS_actor TRADER_ACTOR speak_from_audio_table 161
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
return

:TRADER_ITEMS_CHECK22

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $DESERT_EAGLE_PRICE_SELL = $DESERT_EAGLE_PRICE // (int)
008D: $DESERT_EAGLE_PRICE_SELL = integer $DESERT_EAGLE_PRICE_SELL to_float
$DESERT_EAGLE_PRICE_SELL *= DESERT_EAGLE_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 24 ammo
0093: 1@ = integer 1@ to_float

006D: $DESERT_EAGLE_PRICE_SELL *= 1@ // (float)   
008C: $DESERT_EAGLE_PRICE_SELL = float $DESERT_EAGLE_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$DESERT_EAGLE_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$DESERT_EAGLE_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////   

0084: $REVOLVER_PRICE_SELL = $REVOLVER_PRICE // (int)
008D: $REVOLVER_PRICE_SELL = integer $REVOLVER_PRICE_SELL to_float
$REVOLVER_PRICE_SELL *= REVOLVER_PRICE_SELL 

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 71 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 137 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 196 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 166 ammo
end

0093: 1@ = integer 1@ to_float
end

006D: $REVOLVER_PRICE_SELL *= 1@ // (float)
008C: $REVOLVER_PRICE_SELL = float $REVOLVER_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$REVOLVER_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$REVOLVER_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end     

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $FIVESEVEN_PRICE_SELL = $FIVESEVEN_PRICE // (int)
008D: $FIVESEVEN_PRICE_SELL = integer $FIVESEVEN_PRICE_SELL to_float
$FIVESEVEN_PRICE_SELL *= FIVESEVEN_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 76 ammo
0093: 1@ = integer 1@ to_float

006D: $FIVESEVEN_PRICE_SELL *= 1@ // (float)
008C: $FIVESEVEN_PRICE_SELL = float $FIVESEVEN_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$FIVESEVEN_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$FIVESEVEN_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $BERETTA_PRICE_SELL = $BERETTA_PRICE // (int)
008D: $BERETTA_PRICE_SELL = integer $BERETTA_PRICE_SELL to_float
$BERETTA_PRICE_SELL *= BERETTA_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 89 ammo
0093: 1@ = integer 1@ to_float

006D: $BERETTA_PRICE_SELL *= 1@ // (float)
008C: $BERETTA_PRICE_SELL = float $BERETTA_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$BERETTA_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$BERETTA_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $WIDMAG_PRICE_SELL = $WIDMAG_PRICE // (int)
008D: $WIDMAG_PRICE_SELL = integer $WIDMAG_PRICE_SELL to_float
$WIDMAG_PRICE_SELL *= WIDMAG_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 90 ammo
0093: 1@ = integer 1@ to_float

006D: $WIDMAG_PRICE_SELL *= 1@ // (float)
008C: $WIDMAG_PRICE_SELL = float $WIDMAG_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$WIDMAG_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$WIDMAG_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $CZ75_PRICE_SELL = $CZ75_PRICE // (int)
008D: $CZ75_PRICE_SELL = integer $CZ75_PRICE_SELL to_float
$CZ75_PRICE_SELL *= CZ75_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 98 ammo
0093: 1@ = integer 1@ to_float

006D: $CZ75_PRICE_SELL *= 1@ // (float)
008C: $CZ75_PRICE_SELL = float $CZ75_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$CZ75_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$CZ75_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SHOTGUN_PRICE_SELL = $SHOTGUN_PRICE // (int)
008D: $SHOTGUN_PRICE_SELL = integer $SHOTGUN_PRICE_SELL to_float
$SHOTGUN_PRICE_SELL *= SHOTGUN_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 25 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 113 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 172 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 138 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 202 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end 

006D: $SHOTGUN_PRICE_SELL *= 1@ // (float)
008C: $SHOTGUN_PRICE_SELL = float $SHOTGUN_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SHOTGUN_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SHOTGUN_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SHOTGUN2_PRICE_SELL = $SHOTGUN2_PRICE // (int)
008D: $SHOTGUN2_PRICE_SELL = integer $SHOTGUN2_PRICE_SELL to_float
$SHOTGUN2_PRICE_SELL *= SHOTGUN2_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 26 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 140 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 204 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 174 ammo
end
 
0093: 1@ = integer 1@ to_float
end

006D: $SHOTGUN2_PRICE_SELL *= 1@ // (float)
008C: $SHOTGUN2_PRICE_SELL = float $SHOTGUN2_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SHOTGUN2_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SHOTGUN2_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SHOTGUN3_PRICE_SELL = $SHOTGUN3_PRICE // (int)
008D: $SHOTGUN3_PRICE_SELL = integer $SHOTGUN3_PRICE_SELL to_float
$SHOTGUN3_PRICE_SELL *= SHOTGUN3_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 27 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 139 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 203 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 173 ammo
end
 
0093: 1@ = integer 1@ to_float
end

006D: $SHOTGUN3_PRICE_SELL *= 1@ // (float)
008C: $SHOTGUN3_PRICE_SELL = float $SHOTGUN3_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SHOTGUN3_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SHOTGUN3_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SSG_PRICE_SELL = $SSG_PRICE // (int)
008D: $SSG_PRICE_SELL = integer $SSG_PRICE_SELL to_float
$SSG_PRICE_SELL *= SSG_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 73 ammo
0093: 1@ = integer 1@ to_float

006D: $SSG_PRICE_SELL *= 1@ // (float)
008C: $SSG_PRICE_SELL = float $SSG_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SSG_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SSG_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $AA12_PRICE_SELL = $AA12_PRICE // (int)
008D: $AA12_PRICE_SELL = integer $AA12_PRICE_SELL to_float
$AA12_PRICE_SELL *= AA12_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 78 ammo
0093: 1@ = integer 1@ to_float

006D: $AA12_PRICE_SELL *= 1@ // (float)
008C: $AA12_PRICE_SELL = float $AA12_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$AA12_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$AA12_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

0084: $STUBBY_PRICE_SELL = $STUBBY_PRICE // (int)
008D: $STUBBY_PRICE_SELL = integer $STUBBY_PRICE_SELL to_float
$STUBBY_PRICE_SELL *= STUBBY_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 91 ammo
0093: 1@ = integer 1@ to_float

006D: $STUBBY_PRICE_SELL *= 1@ // (float)
008C: $STUBBY_PRICE_SELL = float $STUBBY_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$STUBBY_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$STUBBY_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SAIGA12_PRICE_SELL = $SAIGA12_PRICE // (int)
008D: $SAIGA12_PRICE_SELL = integer $SAIGA12_PRICE_SELL to_float
$SAIGA12_PRICE_SELL *= SAIGA12_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 100 ammo
0093: 1@ = integer 1@ to_float

006D: $SAIGA12_PRICE_SELL *= 1@ // (float)
008C: $SAIGA12_PRICE_SELL = float $SAIGA12_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SAIGA12_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SAIGA12_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $STRIKER_PRICE_SELL = $STRIKER_PRICE // (int)
008D: $STRIKER_PRICE_SELL = integer $STRIKER_PRICE_SELL to_float
$STRIKER_PRICE_SELL *= STRIKER_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 102 ammo
0093: 1@ = integer 1@ to_float

006D: $STRIKER_PRICE_SELL *= 1@ // (float)
008C: $STRIKER_PRICE_SELL = float $STRIKER_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$STRIKER_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$STRIKER_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $XM1014_PRICE_SELL = $XM1014_PRICE // (int)
008D: $XM1014_PRICE_SELL = integer $XM1014_PRICE_SELL to_float
$XM1014_PRICE_SELL *= XM1014_PRICE_SELL       

041A: 1@ = actor BUYER_ACTOR weapon 103 ammo
0093: 1@ = integer 1@ to_float

006D: $XM1014_PRICE_SELL *= 1@ // (float)
008C: $XM1014_PRICE_SELL = float $XM1014_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$XM1014_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$XM1014_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

0084: $MICRO_UZI_PRICE_SELL = $MICRO_UZI_PRICE // (int)
008D: $MICRO_UZI_PRICE_SELL = integer $MICRO_UZI_PRICE_SELL to_float
$MICRO_UZI_PRICE_SELL *= MICRO_UZI_PRICE_SELL   

if or
UNITED_MAP == 0
0491:   actor BUYER_ACTOR has_weapon 28
then
041A: 1@ = actor BUYER_ACTOR weapon 28 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 117 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 168 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 142 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 198 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $MICRO_UZI_PRICE_SELL *= 1@ // (float)
008C: $MICRO_UZI_PRICE_SELL = float $MICRO_UZI_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$MICRO_UZI_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$MICRO_UZI_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $TEC9_PRICE_SELL = $TEC9_PRICE // (int)
008D: $TEC9_PRICE_SELL = integer $TEC9_PRICE_SELL to_float
$TEC9_PRICE_SELL *= TEC9_PRICE_SELL   

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 32 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then 
041A: 1@ = actor BUYER_ACTOR weapon 141 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 197 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 167 ammo
end
 
0093: 1@ = integer 1@ to_float
end

006D: $TEC9_PRICE_SELL *= 1@ // (float)
008C: $TEC9_PRICE_SELL = float $TEC9_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$TEC9_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$TEC9_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end 

/////////////////////////////////////////////////////////////////////////////////////////////////   

0084: $SMG_PRICE_SELL = $SMG_PRICE // (int)
008D: $SMG_PRICE_SELL = integer $SMG_PRICE_SELL to_float
$SMG_PRICE_SELL *= SMG_PRICE_SELL     

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 29 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then 
041A: 1@ = actor BUYER_ACTOR weapon 143 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 199 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 169 ammo 
end
 
0093: 1@ = integer 1@ to_float
end

006D: $SMG_PRICE_SELL *= 1@ // (float)
008C: $SMG_PRICE_SELL = float $SMG_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SMG_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SMG_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $THOMPSON_PRICE_SELL = $THOMPSON_PRICE // (int)
008D: $THOMPSON_PRICE_SELL = integer $THOMPSON_PRICE_SELL to_float
$THOMPSON_PRICE_SELL *= THOMPSON_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 74 ammo
0093: 1@ = integer 1@ to_float

006D: $THOMPSON_PRICE_SELL *= 1@ // (float)
008C: $THOMPSON_PRICE_SELL = float $THOMPSON_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$THOMPSON_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$THOMPSON_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $BIZON_PRICE_SELL = $BIZON_PRICE // (int)
008D: $BIZON_PRICE_SELL = integer $BIZON_PRICE_SELL to_float
$BIZON_PRICE_SELL *= BIZON_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 77 ammo
0093: 1@ = integer 1@ to_float

006D: $BIZON_PRICE_SELL *= 1@ // (float)
008C: $BIZON_PRICE_SELL = float $BIZON_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$BIZON_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$BIZON_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $UMP45_PRICE_SELL = $UMP45_PRICE // (int)
008D: $UMP45_PRICE_SELL = integer $UMP45_PRICE_SELL to_float
$UMP45_PRICE_SELL *= UMP45_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 79 ammo
0093: 1@ = integer 1@ to_float

006D: $UMP45_PRICE_SELL *= 1@ // (float)
008C: $UMP45_PRICE_SELL = float $UMP45_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$UMP45_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$UMP45_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $MP9_PRICE_SELL = $MP9_PRICE // (int)
008D: $MP9_PRICE_SELL = integer $MP9_PRICE_SELL to_float
$MP9_PRICE_SELL *= MP9_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 84 ammo
0093: 1@ = integer 1@ to_float

006D: $MP9_PRICE_SELL *= 1@ // (float)
008C: $MP9_PRICE_SELL = float $MP9_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$MP9_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$MP9_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $HKMP5_PRICE_SELL = $HKMP5_PRICE // (int)
008D: $HKMP5_PRICE_SELL = integer $HKMP5_PRICE_SELL to_float
$HKMP5_PRICE_SELL *= HKMP5_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 85 ammo
0093: 1@ = integer 1@ to_float

006D: $HKMP5_PRICE_SELL *= 1@ // (float)
008C: $HKMP5_PRICE_SELL = float $HKMP5_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$HKMP5_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$HKMP5_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $P90_PRICE_SELL = $P90_PRICE // (int)
008D: $P90_PRICE_SELL = integer $P90_PRICE_SELL to_float
$P90_PRICE_SELL *= P90_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 86 ammo
0093: 1@ = integer 1@ to_float

006D: $P90_PRICE_SELL *= 1@ // (float)
008C: $P90_PRICE_SELL = float $P90_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$P90_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$P90_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SCORPION_PRICE_SELL = $SCORPION_PRICE // (int)
008D: $SCORPION_PRICE_SELL = integer $SCORPION_PRICE_SELL to_float
$SCORPION_PRICE_SELL *= SCORPION_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 87 ammo
0093: 1@ = integer 1@ to_float

006D: $SCORPION_PRICE_SELL *= 1@ // (float)
008C: $SCORPION_PRICE_SELL = float $SCORPION_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SCORPION_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SCORPION_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $AK47_PRICE_SELL = $AK47_PRICE // (int)
008D: $AK47_PRICE_SELL = integer $AK47_PRICE_SELL to_float
$AK47_PRICE_SELL *= AK47_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 30 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 112 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 171 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 145 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 201 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $AK47_PRICE_SELL *= 1@ // (float)
008C: $AK47_PRICE_SELL = float $AK47_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$AK47_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$AK47_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $M4_PRICE_SELL = $M4_PRICE // (int)
008D: $M4_PRICE_SELL = integer $M4_PRICE_SELL to_float
$M4_PRICE_SELL *= M4_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 31 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 116 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 170 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 144 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 200 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $M4_PRICE_SELL *= 1@ // (float)
008C: $M4_PRICE_SELL = float $M4_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$M4_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$M4_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $FAMAS_PRICE_SELL = $FAMAS_PRICE // (int)
008D: $FAMAS_PRICE_SELL = integer $FAMAS_PRICE_SELL to_float
$FAMAS_PRICE_SELL *= FAMAS_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 72 ammo
0093: 1@ = integer 1@ to_float

006D: $FAMAS_PRICE_SELL *= 1@ // (float)
008C: $FAMAS_PRICE_SELL = float $FAMAS_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$FAMAS_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$FAMAS_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $IA2_PRICE_SELL = $IA2_PRICE // (int)
008D: $IA2_PRICE_SELL = integer $IA2_PRICE_SELL to_float
$IA2_PRICE_SELL *= IA2_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 75 ammo
0093: 1@ = integer 1@ to_float

006D: $IA2_PRICE_SELL *= 1@ // (float)
008C: $IA2_PRICE_SELL = float $IA2_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$IA2_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$IA2_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end 

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $GROZA_PRICE_SELL = $GROZA_PRICE // (int)
008D: $GROZA_PRICE_SELL = integer $GROZA_PRICE_SELL to_float
$GROZA_PRICE_SELL *= GROZA_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 81 ammo
0093: 1@ = integer 1@ to_float

006D: $GROZA_PRICE_SELL *= 1@ // (float)
008C: $GROZA_PRICE_SELL = float $GROZA_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$GROZA_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$GROZA_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end 

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SCAR_PRICE_SELL = $SCAR_PRICE // (int)
008D: $SCAR_PRICE_SELL = integer $SCAR_PRICE_SELL to_float
$SCAR_PRICE_SELL *= SCAR_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 82 ammo
0093: 1@ = integer 1@ to_float

006D: $SCAR_PRICE_SELL *= 1@ // (float)
008C: $SCAR_PRICE_SELL = float $SCAR_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SCAR_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SCAR_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end  

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $AUG_PRICE_SELL = $AUG_PRICE // (int)
008D: $AUG_PRICE_SELL = integer $AUG_PRICE_SELL to_float
$AUG_PRICE_SELL *= AUG_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 83 ammo
0093: 1@ = integer 1@ to_float

006D: $AUG_PRICE_SELL *= 1@ // (float)
008C: $AUG_PRICE_SELL = float $AUG_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$AUG_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$AUG_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end     

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $CAR15_PRICE_SELL = $CAR15_PRICE // (int)
008D: $CAR15_PRICE_SELL = integer $CAR15_PRICE_SELL to_float
$CAR15_PRICE_SELL *= CAR15_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 88 ammo
0093: 1@ = integer 1@ to_float

006D: $CAR15_PRICE_SELL *= 1@ // (float)
008C: $CAR15_PRICE_SELL = float $CAR15_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$CAR15_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$CAR15_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $AR15_PRICE_SELL = $AR15_PRICE // (int)
008D: $AR15_PRICE_SELL = integer $AR15_PRICE_SELL to_float
$AR15_PRICE_SELL *= AR15_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 95 ammo
0093: 1@ = integer 1@ to_float

006D: $AR15_PRICE_SELL *= 1@ // (float)
008C: $AR15_PRICE_SELL = float $AR15_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$AR15_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$AR15_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $G36C_PRICE_SELL = $G36C_PRICE // (int)
008D: $G36C_PRICE_SELL = integer $G36C_PRICE_SELL to_float
$G36C_PRICE_SELL *= G36C_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 99 ammo
0093: 1@ = integer 1@ to_float

006D: $G36C_PRICE_SELL *= 1@ // (float)
008C: $G36C_PRICE_SELL = float $G36C_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$G36C_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$G36C_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SIG550_PRICE_SELL = $SIG550_PRICE // (int)
008D: $SIG550_PRICE_SELL = integer $SIG550_PRICE_SELL to_float
$SIG550_PRICE_SELL *= SIG550_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 101 ammo
0093: 1@ = integer 1@ to_float

006D: $SIG550_PRICE_SELL *= 1@ // (float)
008C: $SIG550_PRICE_SELL = float $SIG550_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SIG550_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SIG550_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $GALIL_PRICE_SELL = $GALIL_PRICE // (int)
008D: $GALIL_PRICE_SELL = integer $GALIL_PRICE_SELL to_float
$GALIL_PRICE_SELL *= GALIL_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 104 ammo
0093: 1@ = integer 1@ to_float

006D: $GALIL_PRICE_SELL *= 1@ // (float)
008C: $GALIL_PRICE_SELL = float $GALIL_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$GALIL_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$GALIL_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $HK416_PRICE_SELL = $HK416_PRICE // (int)
008D: $HK416_PRICE_SELL = integer $HK416_PRICE_SELL to_float
$HK416_PRICE_SELL *= HK416_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 105 ammo
0093: 1@ = integer 1@ to_float

006D: $HK416_PRICE_SELL *= 1@ // (float)
008C: $HK416_PRICE_SELL = float $HK416_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$HK416_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$HK416_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end   

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

0084: $RIFLE_PRICE_SELL = $RIFLE_PRICE // (int)
008D: $RIFLE_PRICE_SELL = integer $RIFLE_PRICE_SELL to_float
$RIFLE_PRICE_SELL *= RIFLE_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 33 ammo
0093: 1@ = integer 1@ to_float
else

if
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 146 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 205 ammo
end

else
041A: 1@ = actor BUYER_ACTOR weapon 175 ammo
end
 
0093: 1@ = integer 1@ to_float
end

006D: $RIFLE_PRICE_SELL *= 1@ // (float)
008C: $RIFLE_PRICE_SELL = float $RIFLE_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$RIFLE_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$RIFLE_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end 

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SNIPER_RIFLE_PRICE_SELL = $SNIPER_RIFLE_PRICE // (int)
008D: $SNIPER_RIFLE_PRICE_SELL = integer $SNIPER_RIFLE_PRICE_SELL to_float
$SNIPER_RIFLE_PRICE_SELL *= SNIPER_RIFLE_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 34 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 120 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 176 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 147 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 206 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $SNIPER_RIFLE_PRICE_SELL *= 1@ // (float)
008C: $SNIPER_RIFLE_PRICE_SELL = float $SNIPER_RIFLE_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SNIPER_RIFLE_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SNIPER_RIFLE_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end     

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $HSNIPER_PRICE_SELL = $HSNIPER_PRICE // (int)
008D: $HSNIPER_PRICE_SELL = integer $HSNIPER_PRICE_SELL to_float
$HSNIPER_PRICE_SELL *= HSNIPER_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 80 ammo
0093: 1@ = integer 1@ to_float

006D: $HSNIPER_PRICE_SELL *= 1@ // (float)
008C: $HSNIPER_PRICE_SELL = float $HSNIPER_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$HSNIPER_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$HSNIPER_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $SVD_PRICE_SELL = $SVD_PRICE // (int)
008D: $SVD_PRICE_SELL = integer $SVD_PRICE_SELL to_float
$SVD_PRICE_SELL *= SVD_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 96 ammo
0093: 1@ = integer 1@ to_float

006D: $SVD_PRICE_SELL *= 1@ // (float)
008C: $SVD_PRICE_SELL = float $SVD_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$SVD_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$SVD_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $BOLT308_PRICE_SELL = $BOLT308_PRICE // (int)
008D: $BOLT308_PRICE_SELL = integer $BOLT308_PRICE_SELL to_float
$BOLT308_PRICE_SELL *= BOLT308_PRICE_SELL

041A: 1@ = actor BUYER_ACTOR weapon 97 ammo
0093: 1@ = integer 1@ to_float

006D: $BOLT308_PRICE_SELL *= 1@ // (float)
008C: $BOLT308_PRICE_SELL = float $BOLT308_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$BOLT308_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$BOLT308_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $GRENADES_PRICE_SELL = $GRENADES_PRICE // (int)
008D: $GRENADES_PRICE_SELL = integer $GRENADES_PRICE_SELL to_float
$GRENADES_PRICE_SELL *= GRENADES_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 16 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 115 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 177 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 132 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 207 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $GRENADES_PRICE_SELL *= 1@ // (float)
008C: $GRENADES_PRICE_SELL = float $GRENADES_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$GRENADES_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$GRENADES_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $TEARGAS_PRICE_SELL = $TEARGAS_PRICE // (int)
008D: $TEARGAS_PRICE_SELL = integer $TEARGAS_PRICE_SELL to_float
$TEARGAS_PRICE_SELL *= TEARGAS_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 17 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 178 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 178 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 133 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 208 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $TEARGAS_PRICE_SELL *= 1@ // (float)
008C: $TEARGAS_PRICE_SELL = float $TEARGAS_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$TEARGAS_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$TEARGAS_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end

/////////////////////////////////////////////////////////////////////////////////////////////////

0084: $MOLOTOV_PRICE_SELL = $MOLOTOV_PRICE // (int)
008D: $MOLOTOV_PRICE_SELL = integer $MOLOTOV_PRICE_SELL to_float
$MOLOTOV_PRICE_SELL *= MOLOTOV_PRICE_SELL

if
UNITED_MAP == 0
then
041A: 1@ = actor BUYER_ACTOR weapon 18 ammo
0093: 1@ = integer 1@ to_float
else

if 
$UNITED_VC_FLAG == 0   
then

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 118 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 179 ammo
end
 
0093: 1@ = integer 1@ to_float
else

if
STORIES_MAP == 0
then  
041A: 1@ = actor BUYER_ACTOR weapon 134 ammo
else
041A: 1@ = actor BUYER_ACTOR weapon 209 ammo
end
 
0093: 1@ = integer 1@ to_float
end

end

006D: $MOLOTOV_PRICE_SELL *= 1@ // (float)
008C: $MOLOTOV_PRICE_SELL = float $MOLOTOV_PRICE_SELL to_integer

if
8A2A: not  text_box 'TRDR94' displayed
then

if
$MOLOTOV_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
then
$MOLOTOV_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
end

end     

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////Пистолет//////////////////////////

if or
v$PISTOL_STRING == "TRDR4"
v$PISTOL_STRING == "TRDR66"
v$PISTOL_STRING == "TRDR108"
v$PISTOL_STRING == "TRDR109"
    then            
    
    0084: $7MM_PRICE_SELL = $7MM_PRICE // (int)
    008D: $7MM_PRICE_SELL = integer $7MM_PRICE_SELL to_float
    $7MM_PRICE_SELL *= COLT_PRICE_SELL
    
    if
    UNITED_MAP == 0
    then
    041A: 1@ = actor BUYER_ACTOR weapon 22 ammo
    0093: 1@ = integer 1@ to_float
    else
    
    if 
    $UNITED_VC_FLAG == 0   
    then
    
    if
    STORIES_MAP == 0
    then  
    041A: 1@ = actor BUYER_ACTOR weapon 111 ammo
    else
    041A: 1@ = actor BUYER_ACTOR weapon 165 ammo
    end
     
    0093: 1@ = integer 1@ to_float
    else
    
    if
    STORIES_MAP == 0
    then  
    041A: 1@ = actor BUYER_ACTOR weapon 136 ammo
    else
    041A: 1@ = actor BUYER_ACTOR weapon 195 ammo
    end
     
    0093: 1@ = integer 1@ to_float
    end
    
    end      
    
    006D: $7MM_PRICE_SELL *= 1@ // (float)
    008C: $7MM_PRICE_SELL = float $7MM_PRICE_SELL to_integer
    
    if
    8A2A: not  text_box 'TRDR94' displayed
    then
    
    if
    $7MM_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
    then
    $7MM_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
    end
    
    end    
    
    008F: 0@ = integer $7MM_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_1number GXT "TRDR58" number 0@  
    end
    
if
v$PISTOL_STRING == "TRDR45"
    then    
                                                 
    0084: $7MM_PRICE_SELL = $7MM_PRICE // (int)
    008D: $7MM_PRICE_SELL = integer $7MM_PRICE_SELL to_float
    $7MM_PRICE_SELL *= COLT_PRICE_SELL
    
    041A: 1@ = actor BUYER_ACTOR weapon 23 ammo
    0093: 1@ = integer 1@ to_float
    
    006D: $7MM_PRICE_SELL *= 1@ // (float)
    008C: $7MM_PRICE_SELL = float $7MM_PRICE_SELL to_integer
    
    if
    8A2A: not  text_box 'TRDR94' displayed
    then
    
    if
    $7MM_PRICE_SELL > TRADER_MAX_WEAPON_SELL_PRICE
    then
    $7MM_PRICE_SELL = TRADER_MAX_WEAPON_SELL_PRICE
    end
    
    end    
    
    008F: 0@ = integer $7MM_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer  
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$PISTOL_STRING == "TRDR9"
    then
    
    008F: 0@ = integer $DESERT_EAGLE_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$PISTOL_STRING == "TRDR48"   
    then    
    008F: 0@ = integer $REVOLVER_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$PISTOL_STRING == "TRDR53"
    then
    008F: 0@ = integer $FIVESEVEN_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end    
    
if
v$PISTOL_STRING == "TRDR83"
    then
    008F: 0@ = integer $BERETTA_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end    
    
if
v$PISTOL_STRING == "TRDR84"
    then
    008F: 0@ = integer $WIDMAG_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$PISTOL_STRING == "TRDR100"
    then
    008F: 0@ = integer $CZ75_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR58" number 0@  
    end                   
    
//////////////////////////Дробовик//////////////////////////

if
v$SHOTGUN_STRING == "TRDR5"
    then
    008F: 0@ = integer $SHOTGUN_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if or
v$SHOTGUN_STRING == "TRDR11"
v$SHOTGUN_STRING == "TRDR68"
    then
    008F: 0@ = integer $SHOTGUN2_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR12"
    then
    008F: 0@ = integer $SHOTGUN3_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR50"
    then
    008F: 0@ = integer $SSG_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR55"
    then
    008F: 0@ = integer $AA12_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end    
    
if
v$SHOTGUN_STRING == "TRDR85"
    then
    008F: 0@ = integer $STUBBY_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR102"
    then
    008F: 0@ = integer $SAIGA12_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR104"
    then
    008F: 0@ = integer $STRIKER_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SHOTGUN_STRING == "TRDR105"
    then
    008F: 0@ = integer $XM1014_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR58" number 0@  
    end                        
    
//////////////////////////SMG//////////////////////////
 
if or
v$SMG_STRING == "TRDR8"
v$SMG_STRING == "TRDR113"
    then
    008F: 0@ = integer $MICRO_UZI_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end
    
if or
v$SMG_STRING == "TRDR18"
v$SMG_STRING == "TRDR112"
    then
    008F: 0@ = integer $TEC9_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SMG_STRING == "TRDR10"
    then
    008F: 0@ = integer $SMG_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SMG_STRING == "TRDR51"
    then
    008F: 0@ = integer $THOMPSON_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end
    
if
v$SMG_STRING == "TRDR54"
    then
    008F: 0@ = integer $BIZON_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end       
    
if
v$SMG_STRING == "TRDR65"
    then
    008F: 0@ = integer $UMP45_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end 
       
if
v$SMG_STRING == "TRDR78"
    then
    008F: 0@ = integer $MP9_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end    
    
if
v$SMG_STRING == "TRDR79"
    then
    008F: 0@ = integer $HKMP5_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end     
    
if
v$SMG_STRING == "TRDR80"
    then
    008F: 0@ = integer $P90_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end    
    
if
v$SMG_STRING == "TRDR81"
    then
    008F: 0@ = integer $SCORPION_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR58" number 0@  
    end                        
    
//////////////////////////Винтовка//////////////////////////

if or
v$RIFLE_STRING == "TRDR13"
v$RIFLE_STRING == "TRDR70"
    then                   
    008F: 0@ = integer $AK47_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if or
v$RIFLE_STRING == "TRDR14"
v$RIFLE_STRING == "TRDR72"
v$RIFLE_STRING == "TRDR111"
    then
    008F: 0@ = integer $M4_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR49"
    then
    008F: 0@ = integer $FAMAS_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR52"
    then
    008F: 0@ = integer $IA2_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end    
    
if
v$RIFLE_STRING == "TRDR75"
    then
    008F: 0@ = integer $GROZA_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end   
    
if
v$RIFLE_STRING == "TRDR76"
    then
    008F: 0@ = integer $SCAR_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end     
    
if
v$RIFLE_STRING == "TRDR77"
    then
    008F: 0@ = integer $AUG_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end     
    
if
v$RIFLE_STRING == "TRDR82"
    then
    008F: 0@ = integer $CAR15_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR97"
    then
    008F: 0@ = integer $AR15_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR101"
    then
    008F: 0@ = integer $G36C_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR103"
    then
    008F: 0@ = integer $SIG550_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR106"
    then
    008F: 0@ = integer $GALIL_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if
v$RIFLE_STRING == "TRDR107"
    then
    008F: 0@ = integer $HK416_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR58" numbers 0@  
    end                                          
    
//////////////////////////Снайперская винтовка//////////////////////////

if or
v$SNIPER_STRING == "TRDR15"
v$SNIPER_STRING == "TRDR71"
    then
    008F: 0@ = integer $RIFLE_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if or
v$SNIPER_STRING == "TRDR16"
v$SNIPER_STRING == "TRDR16B"
v$SNIPER_STRING == "TRDR69"
    then
    008F: 0@ = integer $SNIPER_RIFLE_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$SNIPER_STRING == "TRDR73"
    then
    008F: 0@ = integer $HSNIPER_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$SNIPER_STRING == "TRDR98"
    then
    008F: 0@ = integer $SVD_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$SNIPER_STRING == "TRDR99"
    then
    008F: 0@ = integer $BOLT308_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$GRENADE_STRING == "TRDR86"
    then
    008F: 0@ = integer $GRENADES_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 5 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$GRENADE_STRING == "TRDR87"
    then
    008F: 0@ = integer $TEARGAS_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 5 text_2numbers GXT "TRDR58" numbers 0@  
    end
    
if 
v$MOLOTOV_STRING == "TRDR19"
    then
    008F: 0@ = integer $MOLOTOV_PRICE_SELL to_float
    006B: 0@ *= TRADER_SELL_PRICE_COEFF  // (float)
    0092: 0@ = float 0@ to_integer
    08EE: set_panel $PANEL_TRADE column 1 row 6 text_2numbers GXT "TRDR58" numbers 0@  
    end                                

return

:TRADER_ITEMS_CHECK2

//////////////////////////Пистолет//////////////////////////

if or
v$PISTOL_STRING == "TRDR4"  
v$PISTOL_STRING == "TRDR66"
v$PISTOL_STRING == "TRDR108"
v$PISTOL_STRING == "TRDR109" 
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $7MM_PRICE $7MM_COUNT 
    end
    
if
v$PISTOL_STRING == "TRDR45"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $7MM_PRICE $7MM_COUNT 
    end
    
if 
v$PISTOL_STRING == "TRDR9"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $DESERT_EAGLE_PRICE $DESERT_EAGLE_COUNT 
    end
    
if or
v$PISTOL_STRING == "TRDR48"
v$PISTOL_STRING == "TRDR67"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $REVOLVER_PRICE $REVOLVER_COUNT 
    end
    
if
v$PISTOL_STRING == "TRDR53"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $FIVESEVEN_PRICE $FIVESEVEN_COUNT 
    end     
    
if
v$PISTOL_STRING == "TRDR83"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $BERETTA_PRICE $BERETTA_COUNT 
    end  
    
if
v$PISTOL_STRING == "TRDR84"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $WIDMAG_PRICE $WIDMAG_COUNT 
    end
    
if
v$PISTOL_STRING == "TRDR100"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 0 text_2numbers GXT "TRDR21" numbers $CZ75_PRICE $CZ75_COUNT 
    end                    
    
//////////////////////////Дробовик//////////////////////////

if
v$SHOTGUN_STRING == "TRDR5"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $SHOTGUN_PRICE $SHOTGUN_COUNT 
    end
    
if or
v$SHOTGUN_STRING == "TRDR11"
v$SHOTGUN_STRING == "TRDR68"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $SHOTGUN2_PRICE $SHOTGUN2_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR12"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $SHOTGUN3_PRICE $SHOTGUN3_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR50"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $SSG_PRICE $SSG_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR55"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $AA12_PRICE $AA12_COUNT 
    end   
    
if
v$SHOTGUN_STRING == "TRDR85"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $STUBBY_PRICE $STUBBY_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR102"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $SAIGA12_PRICE $SAIGA12_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR104"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $STRIKER_PRICE $STRIKER_COUNT 
    end
    
if
v$SHOTGUN_STRING == "TRDR105"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 1 text_2numbers GXT "TRDR21" numbers $XM1014_PRICE $XM1014_COUNT 
    end                        
    
//////////////////////////SMG//////////////////////////

if or
v$SMG_STRING == "TRDR8"
v$SMG_STRING == "TRDR113"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $MICRO_UZI_PRICE $MICRO_UZI_COUNT 
    end
    
if or
v$SMG_STRING == "TRDR18"
v$SMG_STRING == "TRDR112"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $TEC9_PRICE $TEC9_COUNT 
    end
    
if
v$SMG_STRING == "TRDR10"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $SMG_PRICE $SMG_COUNT 
    end
    
if
v$SMG_STRING == "TRDR51"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $THOMPSON_PRICE $THOMPSON_COUNT 
    end
    
if
v$SMG_STRING == "TRDR54"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $BIZON_PRICE $BIZON_COUNT 
    end      
    
if
v$SMG_STRING == "TRDR65"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $UMP45_PRICE $UMP45_COUNT 
    end   
    
if
v$SMG_STRING == "TRDR78"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $MP9_PRICE $MP9_COUNT 
    end     
    
if
v$SMG_STRING == "TRDR79"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $HKMP5_PRICE $HKMP5_COUNT 
    end    
    
if
v$SMG_STRING == "TRDR80"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $P90_PRICE $P90_COUNT 
    end   
    
if
v$SMG_STRING == "TRDR81"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 2 text_2numbers GXT "TRDR21" numbers $SCORPION_PRICE $SCORPION_COUNT 
    end                          
    
//////////////////////////Винтовка//////////////////////////

if or
v$RIFLE_STRING == "TRDR13"
v$RIFLE_STRING == "TRDR70"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $AK47_PRICE $AK47_COUNT 
    end
    
if or
v$RIFLE_STRING == "TRDR14"
v$RIFLE_STRING == "TRDR72"
v$RIFLE_STRING == "TRDR111"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $M4_PRICE $M4_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR49"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $FAMAS_PRICE $FAMAS_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR52"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $IA2_PRICE $IA2_COUNT 
    end  
    
if
v$RIFLE_STRING == "TRDR75"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $GROZA_PRICE $GROZA_COUNT 
    end    
    
if
v$RIFLE_STRING == "TRDR76"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $SCAR_PRICE $SCAR_COUNT 
    end    
    
if
v$RIFLE_STRING == "TRDR77"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $AUG_PRICE $AUG_COUNT 
    end    
    
if
v$RIFLE_STRING == "TRDR82"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $CAR15_PRICE $CAR15_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR97"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $AR15_PRICE $AR15_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR101"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $G36C_PRICE $G36C_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR103"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $SIG550_PRICE $SIG550_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR106"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $GALIL_PRICE $GALIL_COUNT 
    end
    
if
v$RIFLE_STRING == "TRDR107"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 3 text_2numbers GXT "TRDR21" numbers $HK416_PRICE $HK416_COUNT 
    end                                            
    
//////////////////////////Снайперская винтовка//////////////////////////

if or
v$SNIPER_STRING == "TRDR15"
v$SNIPER_STRING == "TRDR71"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $RIFLE_PRICE $RIFLE_COUNT 
    end
    
if or
v$SNIPER_STRING == "TRDR16"
v$SNIPER_STRING == "TRDR16B"
v$SNIPER_STRING == "TRDR69"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $SNIPER_RIFLE_PRICE $SNIPER_RIFLE_COUNT 
    end
    
if
v$SNIPER_STRING == "TRDR19"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $MOLOTOV_PRICE $MOLOTOV_COUNT 
    end
    
if
v$SNIPER_STRING == "TRDR29"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $FLAME_PRICE $FLAME_COUNT 
    end
    
if
v$SNIPER_STRING == "TRDR73"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $HSNIPER_PRICE $HSNIPER_COUNT 
    end
    
if
v$SNIPER_STRING == "TRDR98"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $SVD_PRICE $SVD_COUNT 
    end
    
if
v$SNIPER_STRING == "TRDR99"
    then
    08EF: set_panel $PANEL_TRADE column 1 row 4 text_2numbers GXT "TRDR21" numbers $BOLT308_PRICE $BOLT308_COUNT 
    end            
    
//////////////////////////Медикаменты//////////////////////////

if
v$HEAL_STRING == "TRDR17"
    then
    
    if
    $HEAL_COUNT > 0
    then
    08EF: set_panel $PANEL_TRADE column 1 row 7 text_2numbers GXT "TRDR21" numbers $HEAL_PRICE $HEAL_COUNT
    end
     
    end
    
if
v$HEAL_STRING == "TRDR6"
    then
    
    if
    $BINT_COUNT > 0
    then
    08EF: set_panel $PANEL_TRADE column 1 row 7 text_2numbers GXT "TRDR21" numbers $BINT_PRICE $BINT_COUNT
    end
     
    end         

return

:TRADER_ITEMS_CHECK

v$PISTOL_STRING = "TRDR59"
v$SHOTGUN_STRING = "TRDR59"
v$SMG_STRING = "TRDR59"
v$RIFLE_STRING = "TRDR59"
v$SNIPER_STRING = "TRDR59"
v$GRENADE_STRING = "TRDR59"
v$MOLOTOV_STRING = "TRDR59"

//////////////////////////Пистолет//////////////////////////

if and
$TRADER_PISTOL[24@] == 22
$7MM_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then    
    v$PISTOL_STRING = "TRDR4"
    else
    
    if
    STORIES_MAP == 0
    then
    v$PISTOL_STRING = "TRDR66"
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    v$PISTOL_STRING = "TRDR108"
    else
    v$PISTOL_STRING = "TRDR109"
    end
    
    end
    
    end
    
    end
    
if and
$TRADER_PISTOL[24@] == 23
$7MM_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR45"
    end
    
if and
$TRADER_PISTOL[24@] == 24
$DESERT_EAGLE_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR9"
    end
    
if and
$TRADER_PISTOL[24@] == 71
$REVOLVER_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR48"
    end    
    
if and
$TRADER_PISTOL[24@] == 76
$FIVESEVEN_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR53"
    end  
    
if and
$TRADER_PISTOL[24@] == 89
$BERETTA_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR83"
    end    
    
if and
$TRADER_PISTOL[24@] == 90
$WIDMAG_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR84"
    end
    
if and
$TRADER_PISTOL[24@] == 98
$CZ75_COUNT > 0
    then
    v$PISTOL_STRING = "TRDR100"
    end                    

//////////////////////////Дробовик//////////////////////////
    
if and
$TRADER_SHOTGUN[24@] == 25
$SHOTGUN_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR5"
    end
    
if and
$TRADER_SHOTGUN[24@] == 26
$SHOTGUN2_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then
    v$SHOTGUN_STRING = "TRDR11"
    else
    v$SHOTGUN_STRING = "TRDR68"
    end
    
    end
    
if and
$TRADER_SHOTGUN[24@] == 27
$SHOTGUN3_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR12"
    end
    
if and
$TRADER_SHOTGUN[24@] == 73
$SSG_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR50"
    end    
    
if and
$TRADER_SHOTGUN[24@] == 78
$AA12_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR55"
    end  
    
if and
$TRADER_SHOTGUN[24@] == 91
$STUBBY_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR85"
    end
    
if and
$TRADER_SHOTGUN[24@] == 100
$SAIGA12_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR102"
    end
    
if and
$TRADER_SHOTGUN[24@] == 102
$STRIKER_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR104"
    end
    
if and
$TRADER_SHOTGUN[24@] == 103
$XM1014_COUNT > 0
    then
    v$SHOTGUN_STRING = "TRDR105"
    end                        
    
//////////////////////////SMG//////////////////////////
    
if and
$TRADER_SMG[24@] == 28
$MICRO_UZI_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then
    v$SMG_STRING = "TRDR8"
    else
    
    if and
    $UNITED_VC_FLAG == 0
    STORIES_MAP == 0
    then
    v$SMG_STRING = "TRDR8"
    else
    v$SMG_STRING = "TRDR113"
    end
    
    end
    
    end
    
if and
$TRADER_SMG[24@] == 29
$TEC9_COUNT > 0
    then
    
    if
    STORIES_MAP == 0
    then
    v$SMG_STRING = "TRDR18"
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    v$SMG_STRING = "TRDR18"
    else
    v$SMG_STRING = "TRDR112"
    end
    
    end
    
    end
    
if and
$TRADER_SMG[24@] == 32
$SMG_COUNT > 0
    then
    v$SMG_STRING = "TRDR10"
    end
    
if and
$TRADER_SMG[24@] == 74
$THOMPSON_COUNT > 0
    then
    v$SMG_STRING = "TRDR51"
    end
    
if and
$TRADER_SMG[24@] == 77
$BIZON_COUNT > 0
    then
    v$SMG_STRING = "TRDR54"
    end     
    
if and
$TRADER_SMG[24@] == 79
$UMP45_COUNT > 0
    then
    v$SMG_STRING = "TRDR65"
    end  
    
if and
$TRADER_SMG[24@] == 84
$MP9_COUNT > 0
    then
    v$SMG_STRING = "TRDR78"
    end   
    
if and
$TRADER_SMG[24@] == 85
$HKMP5_COUNT > 0
    then
    v$SMG_STRING = "TRDR79"
    end  
    
if and
$TRADER_SMG[24@] == 86
$P90_COUNT > 0
    then
    v$SMG_STRING = "TRDR80"
    end   
    
if and
$TRADER_SMG[24@] == 87
$SCORPION_COUNT > 0
    then
    v$SMG_STRING = "TRDR81"
    end                            
    
//////////////////////////Винтовка//////////////////////////
    
if and
$TRADER_RIFLE[24@] == 30
$AK47_COUNT > 0
    then     
            
    if
    UNITED_MAP == 0
    then
    v$RIFLE_STRING = "TRDR13"
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    v$RIFLE_STRING = "TRDR13"
    else
    
    if
    STORIES_MAP == 0
    then
    v$RIFLE_STRING = "TRDR70"
    else
    v$RIFLE_STRING = "TRDR13"
    end
    
    end
    
    end
    
    end
    
if and
$TRADER_RIFLE[24@] == 31
$M4_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then    
    v$RIFLE_STRING = "TRDR14"
    else
    
    if
    $UNITED_VC_FLAG == 0
    then
    
    if
    STORIES_MAP == 0
    then
    v$RIFLE_STRING = "TRDR72"
    else
    v$RIFLE_STRING = "TRDR14"
    end
    
    else
    
    if
    STORIES_MAP == 0
    then
    v$RIFLE_STRING = "TRDR14"
    else
    v$RIFLE_STRING = "TRDR111"
    end
    
    end
    
    end
    
    end
    
if and
$TRADER_RIFLE[24@] == 72
$FAMAS_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR49"
    end    
    
if and
$TRADER_RIFLE[24@] == 75
$IA2_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR52"
    end     
    
if and
$TRADER_RIFLE[24@] == 81
$GROZA_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR75"
    end    
    
if and
$TRADER_RIFLE[24@] == 82
$SCAR_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR76"
    end    
    
if and
$TRADER_RIFLE[24@] == 83
$AUG_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR77"
    end   
    
if and
$TRADER_RIFLE[24@] == 88
$CAR15_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR82"
    end
    
if and
$TRADER_RIFLE[24@] == 95
$AR15_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR97"
    end
    
if and
$TRADER_RIFLE[24@] == 99
$G36C_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR101"
    end
    
if and
$TRADER_RIFLE[24@] == 101
$SIG550_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR103"
    end
    
if and
$TRADER_RIFLE[24@] == 104
$GALIL_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR106"
    end
    
if and
$TRADER_RIFLE[24@] == 105
$HK416_COUNT > 0
    then
    v$RIFLE_STRING = "TRDR107"
    end                                            
    
//////////////////////////Снайперская винтовка//////////////////////////
    
if and
$TRADER_SNIPER[24@] == 33
$RIFLE_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then
    v$SNIPER_STRING = "TRDR15"
    else
    
    if
    STORIES_MAP == 0
    then
    v$SNIPER_STRING = "TRDR71"
    else
    v$SNIPER_STRING = "TRDR71"
    end
    
    end
    
    end
    
if and
$TRADER_SNIPER[24@] == 34
$SNIPER_RIFLE_COUNT > 0
    then
    
    if
    UNITED_MAP == 0
    then    
    v$SNIPER_STRING = "TRDR16"
    else
    
    if
    STORIES_MAP == 0
    then
         
    if
    $UNITED_VC_FLAG == 1
    then
    v$SNIPER_STRING = "TRDR69"
    else
    v$SNIPER_STRING = "TRDR16B"
    end
    
    else
    
    if
    $UNITED_VC_FLAG == 1
    then
    v$SNIPER_STRING = "TRDR69"
    else
    v$SNIPER_STRING = "TRDR69"
    end
    
    end   
    
    end
    
    end
    
if and
$TRADER_SNIPER[24@] == 18
$MOLOTOV_COUNT > 0
    then
    v$SNIPER_STRING = "TRDR19"
    end
    
if and
$TRADER_SNIPER[24@] == 37
$FLAME_COUNT > 0
    then
    v$SNIPER_STRING = "TRDR29"
    end
    
if and
$TRADER_SNIPER[24@] == 80
$HSNIPER_COUNT > 0
    then
    v$SNIPER_STRING = "TRDR73"
    end
    
if and
$TRADER_SNIPER[24@] == 96
$SVD_COUNT > 0
    then
    v$SNIPER_STRING = "TRDR98"
    end
    
if and
$TRADER_SNIPER[24@] == 97
$BOLT308_COUNT > 0
    then
    v$SNIPER_STRING = "TRDR99"
    end            
    
//////////////////////////Медикаменты//////////////////////////
    
if
$TRADER_HEAL[24@] == 0
    then
    v$HEAL_STRING = "TRDR17"
    end
    
if
$TRADER_HEAL[24@] == 1
    then
    v$HEAL_STRING = "TRDR6"
    end
    
//////////////////////////Еда//////////////////////////    
    
v$FOOD_STRING = "TRDR7"

//////////////////////////Топливо//////////////////////////

v$FUEL_STRING = "TRDR20"

//////////////////////////Бронежилет//////////////////////////

v$ARMOR_STRING = "TRDR40"    
    
return

:TRADER_ITEMS_WEAPONS_SELL_CHECK

v$PISTOL_STRING = "TRDR59"
v$SHOTGUN_STRING = "TRDR59"
v$SMG_STRING = "TRDR59"
v$RIFLE_STRING = "TRDR59"
v$SNIPER_STRING = "TRDR59"
v$GRENADE_STRING = "TRDR59"
v$MOLOTOV_STRING = "TRDR59"

//////////////////////////Пистолет//////////////////////////

041A: 1@ = actor BUYER_ACTOR weapon 22 ammo

if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 22
    then
    v$PISTOL_STRING = "TRDR4"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 111 ammo

if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 111
    then
    v$PISTOL_STRING = "TRDR66"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 136 ammo

if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 136
    then
    v$PISTOL_STRING = "TRDR66"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 165 ammo

if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 165
    then
    v$PISTOL_STRING = "TRDR108"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 195 ammo

if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 195
    then
    v$PISTOL_STRING = "TRDR109"
    end                

041A: 1@ = actor BUYER_ACTOR weapon 23 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 23
    then
    v$PISTOL_STRING = "TRDR45"
    end

041A: 1@ = actor BUYER_ACTOR weapon 24 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 24
    then
    v$PISTOL_STRING = "TRDR9"
    end  

041A: 1@ = actor BUYER_ACTOR weapon 71 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 71
    then
    v$PISTOL_STRING = "TRDR48"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 137 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 137
    then
    v$PISTOL_STRING = "TRDR48"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 166 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 166
    then
    v$PISTOL_STRING = "TRDR48"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 196 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 196
    then
    v$PISTOL_STRING = "TRDR48"
    end            

041A: 1@ = actor BUYER_ACTOR weapon 76 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 76
    then
    v$PISTOL_STRING = "TRDR53"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 89 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 89
    then
    v$PISTOL_STRING = "TRDR83"
    end   
    
041A: 1@ = actor BUYER_ACTOR weapon 90 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 90
    then
    v$PISTOL_STRING = "TRDR84"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 98 ammo
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 98
    then
    v$PISTOL_STRING = "TRDR100"
    end                    

//////////////////////////Дробовик//////////////////////////  

041A: 1@ = actor BUYER_ACTOR weapon 25 ammo 
 
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 25
    then
    v$SHOTGUN_STRING = "TRDR5"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 113 ammo 
 
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 113
    then
    v$SHOTGUN_STRING = "TRDR5"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 138 ammo 
 
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 138
    then
    v$SHOTGUN_STRING = "TRDR5"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 172 ammo 
 
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 172
    then
    v$SHOTGUN_STRING = "TRDR5"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 202 ammo 
 
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 202
    then
    v$SHOTGUN_STRING = "TRDR5"
    end            
    
041A: 1@ = actor BUYER_ACTOR weapon 26 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 26
    then
    v$SHOTGUN_STRING = "TRDR11"
    end      
    
041A: 1@ = actor BUYER_ACTOR weapon 140 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 140
    then
    v$SHOTGUN_STRING = "TRDR68"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 174 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 174
    then
    v$SHOTGUN_STRING = "TRDR68"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 203 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 203
    then
    v$SHOTGUN_STRING = "TRDR12"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 204 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 204
    then
    v$SHOTGUN_STRING = "TRDR68"
    end                      
    
041A: 1@ = actor BUYER_ACTOR weapon 27 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 27
    then
    v$SHOTGUN_STRING = "TRDR12"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 139 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 139
    then
    v$SHOTGUN_STRING = "TRDR12"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 173 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 173
    then
    v$SHOTGUN_STRING = "TRDR12"
    end                
    
041A: 1@ = actor BUYER_ACTOR weapon 73 ammo    
    
if and
1@ > 0
0491:   actor BUYER_ACTOR has_weapon 73
    then
    v$SHOTGUN_STRING = "TRDR50"
    end   
    
041A: 1@ = actor BUYER_ACTOR weapon 78 ammo     
    
if and
1@ > 0 
0491:   actor BUYER_ACTOR has_weapon 78
    then
    v$SHOTGUN_STRING = "TRDR55"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 91 ammo     
    
if and
1@ > 0 
0491:   actor BUYER_ACTOR has_weapon 91
    then
    v$SHOTGUN_STRING = "TRDR85"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 100 ammo     
    
if and
1@ > 0 
0491:   actor BUYER_ACTOR has_weapon 100
    then
    v$SHOTGUN_STRING = "TRDR102"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 102 ammo     
    
if and
1@ > 0 
0491:   actor BUYER_ACTOR has_weapon 102
    then
    v$SHOTGUN_STRING = "TRDR104"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 103 ammo     
    
if and
1@ > 0 
0491:   actor BUYER_ACTOR has_weapon 103
    then
    v$SHOTGUN_STRING = "TRDR105"
    end                        
    
//////////////////////////SMG////////////////////////// 

041A: 1@ = actor BUYER_ACTOR weapon 28 ammo   

if and
0491:   actor BUYER_ACTOR has_weapon 28
1@ > 0
    then
    v$SMG_STRING = "TRDR8"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 117 ammo   

if and
0491:   actor BUYER_ACTOR has_weapon 117
1@ > 0
    then
    v$SMG_STRING = "TRDR8"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 142 ammo   

if and
0491:   actor BUYER_ACTOR has_weapon 142
1@ > 0
    then
    v$SMG_STRING = "TRDR8"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 168 ammo   

if and
0491:   actor BUYER_ACTOR has_weapon 168
1@ > 0
    then
    v$SMG_STRING = "TRDR8"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 198 ammo   

if and
0491:   actor BUYER_ACTOR has_weapon 198
1@ > 0
    then
    v$SMG_STRING = "TRDR113"
    end                
    
041A: 1@ = actor BUYER_ACTOR weapon 29 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 29
1@ > 0
    then
    v$SMG_STRING = "TRDR10"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 143 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 143
1@ > 0
    then
    v$SMG_STRING = "TRDR10"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 169 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 169
1@ > 0
    then
    v$SMG_STRING = "TRDR10"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 199 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 199
1@ > 0
    then
    v$SMG_STRING = "TRDR10"
    end            
    
041A: 1@ = actor BUYER_ACTOR weapon 32 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 32
1@ > 0
    then
    v$SMG_STRING = "TRDR18"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 141 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 141
1@ > 0
    then
    v$SMG_STRING = "TRDR18"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 167 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 167
1@ > 0
    then
    v$SMG_STRING = "TRDR18"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 197 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 197
1@ > 0
    then
    v$SMG_STRING = "TRDR112"
    end            
    
041A: 1@ = actor BUYER_ACTOR weapon 74 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 74
1@ > 0
    then
    v$SMG_STRING = "TRDR51"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 77 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 77
1@ > 0
    then
    v$SMG_STRING = "TRDR54"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 79 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 79
1@ > 0
    then
    v$SMG_STRING = "TRDR65"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 84 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 84
1@ > 0
    then
    v$SMG_STRING = "TRDR78"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 85 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 85
1@ > 0
    then
    v$SMG_STRING = "TRDR79"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 86 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 86
1@ > 0
    then
    v$SMG_STRING = "TRDR80"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 87 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 87
1@ > 0
    then
    v$SMG_STRING = "TRDR81"
    end                            
    
//////////////////////////Винтовка//////////////////////////   

041A: 1@ = actor BUYER_ACTOR weapon 30 ammo
 
if and
0491:   actor BUYER_ACTOR has_weapon 30
1@ > 0
    then
    v$RIFLE_STRING = "TRDR13"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 112 ammo
 
if and
0491:   actor BUYER_ACTOR has_weapon 112
1@ > 0
    then
    v$RIFLE_STRING = "TRDR13"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 145 ammo
 
if and
0491:   actor BUYER_ACTOR has_weapon 145
1@ > 0
    then
    v$RIFLE_STRING = "TRDR70"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 171 ammo
 
if and
0491:   actor BUYER_ACTOR has_weapon 171
1@ > 0
    then
    v$RIFLE_STRING = "TRDR13"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 201 ammo
 
if and
0491:   actor BUYER_ACTOR has_weapon 201
1@ > 0
    then
    v$RIFLE_STRING = "TRDR13"
    end            
    
041A: 1@ = actor BUYER_ACTOR weapon 31 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 31
1@ > 0
    then
    v$RIFLE_STRING = "TRDR14"
    end   
    
041A: 1@ = actor BUYER_ACTOR weapon 116 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 116
1@ > 0
    then
    v$RIFLE_STRING = "TRDR72"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 144 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 144
1@ > 0
    then
    v$RIFLE_STRING = "TRDR14"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 170 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 170
1@ > 0
    then
    v$RIFLE_STRING = "TRDR14"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 200 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 200
1@ > 0
    then
    v$RIFLE_STRING = "TRDR111"
    end                
    
041A: 1@ = actor BUYER_ACTOR weapon 72 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 72
1@ > 0
    then
    v$RIFLE_STRING = "TRDR49"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 75 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 75
1@ > 0
    then
    v$RIFLE_STRING = "TRDR52"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 81 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 81
1@ > 0
    then
    v$RIFLE_STRING = "TRDR75"
    end     
    
041A: 1@ = actor BUYER_ACTOR weapon 82 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 82
1@ > 0
    then
    v$RIFLE_STRING = "TRDR76"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 83 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 83
1@ > 0
    then
    v$RIFLE_STRING = "TRDR77"
    end   
    
041A: 1@ = actor BUYER_ACTOR weapon 88 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 88
1@ > 0
    then
    v$RIFLE_STRING = "TRDR82"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 95 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 95
1@ > 0
    then
    v$RIFLE_STRING = "TRDR97"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 99 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 99
1@ > 0
    then
    v$RIFLE_STRING = "TRDR101"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 101 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 101
1@ > 0
    then
    v$RIFLE_STRING = "TRDR103"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 104 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 104
1@ > 0
    then
    v$RIFLE_STRING = "TRDR106"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 105 ammo      
    
if and
0491:   actor BUYER_ACTOR has_weapon 105
1@ > 0
    then
    v$RIFLE_STRING = "TRDR107"
    end                                                    
    
//////////////////////////Снайперская винтовка//////////////////////////  

041A: 1@ = actor BUYER_ACTOR weapon 33 ammo
  
if and
0491:   actor BUYER_ACTOR has_weapon 33
1@ > 0
    then
    v$SNIPER_STRING = "TRDR15"
    end  
    
041A: 1@ = actor BUYER_ACTOR weapon 146 ammo
  
if and
0491:   actor BUYER_ACTOR has_weapon 146
1@ > 0
    then
    v$SNIPER_STRING = "TRDR71"
    end       
    
041A: 1@ = actor BUYER_ACTOR weapon 34 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 34
1@ > 0
    then
    v$SNIPER_STRING = "TRDR16"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 120 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 120
1@ > 0
    then
    v$SNIPER_STRING = "TRDR16B"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 147 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 147
1@ > 0
    then
    v$SNIPER_STRING = "TRDR69"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 175 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 175
1@ > 0
    then
    v$SNIPER_STRING = "TRDR71"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 205 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 205
1@ > 0
    then
    v$SNIPER_STRING = "TRDR71"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 176 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 176
1@ > 0
    then
    v$SNIPER_STRING = "TRDR69"
    end    
    
041A: 1@ = actor BUYER_ACTOR weapon 206 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 206
1@ > 0
    then
    v$SNIPER_STRING = "TRDR69"
    end           
    
041A: 1@ = actor BUYER_ACTOR weapon 80 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 80
1@ > 0
    then
    v$SNIPER_STRING = "TRDR73"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 96 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 96
1@ > 0
    then
    v$SNIPER_STRING = "TRDR98"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 97 ammo    
    
if and
0491:   actor BUYER_ACTOR has_weapon 97
1@ > 0
    then
    v$SNIPER_STRING = "TRDR99"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 16 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 16
1@ > 0
    then
    v$GRENADE_STRING = "TRDR86"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 115 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 115
1@ > 0
    then
    v$GRENADE_STRING = "TRDR86"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 132 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 132
1@ > 0
    then
    v$GRENADE_STRING = "TRDR86"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 177 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 177
1@ > 0
    then
    v$GRENADE_STRING = "TRDR86"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 207 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 207
1@ > 0
    then
    v$GRENADE_STRING = "TRDR86"
    end                
    
041A: 1@ = actor BUYER_ACTOR weapon 17 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 17
1@ > 0
    then
    v$GRENADE_STRING = "TRDR87"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 133 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 133
1@ > 0
    then
    v$GRENADE_STRING = "TRDR87"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 178 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 178
1@ > 0
    then
    v$GRENADE_STRING = "TRDR87"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 208 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 208
1@ > 0
    then
    v$GRENADE_STRING = "TRDR87"
    end            
    
041A: 1@ = actor BUYER_ACTOR weapon 18 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 18
1@ > 0
    then
    v$MOLOTOV_STRING = "TRDR19"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 118 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 118
1@ > 0
    then
    v$MOLOTOV_STRING = "TRDR19"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 134 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 134
1@ > 0
    then
    v$MOLOTOV_STRING = "TRDR19"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 179 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 179
1@ > 0
    then
    v$MOLOTOV_STRING = "TRDR19"
    end
    
041A: 1@ = actor BUYER_ACTOR weapon 209 ammo        
if and
0491:   actor BUYER_ACTOR has_weapon 209
1@ > 0
    then
    v$MOLOTOV_STRING = "TRDR19"
    end                                                       
    
return

:AMMO_BUY        
0512: show_permanent_text_box 'TRDR94'
$AMMO_FOR_BUY = 0.0 
gosub @AMMO_BUY_TEXT 
wait 100      

:2BANK_MONEY_1066
wait 0

if
8A2A: not  text_box 'TRDR94' displayed
then
0512: show_permanent_text_box 'TRDR94' 
end  

00E2: get_player BUYER_PLAYER key 1 state_to 0@
if and
32@ > 5
0@ < 0 
    then
    32@ = 0
     
    $AMMO_FOR_BUY += 1.0
    
    if 
    00E1:   player BUYER_PLAYER pressed_key 14
    then
    $AMMO_FOR_BUY += 10.0
    end
    
    if
    $AMMO_FOR_BUY < 0.0 
    then
    $AMMO_FOR_BUY = 0.0
    end
    
    end

008C: $AMMO_FOR_BUY22 = float $AMMO_FOR_BUY to_integer
017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $AMMO_FOR_BUY22 

gosub @MAX_WEAPON_AMMO_CHECK3
0058: $AMMO_FOR_BUY22 += $TRADER_PREV_AMMO // (int)

if
001E:   $AMMO_FOR_BUY22 > 21@ // (int)
then
0093: 21@ = integer 21@ to_float
0088: $AMMO_FOR_BUY = 21@ // (float)
008D: $TRADER_PREV_AMMO2 = integer $TRADER_PREV_AMMO to_float
0061: $AMMO_FOR_BUY -= $TRADER_PREV_AMMO2 // (float)
end

gosub @AMMO_BUY_TEXT                 

00E2: get_player BUYER_PLAYER key 1 state_to 0@
if and
32@ > 5
0@ > 0
    then
    32@ = 0
     
    $AMMO_FOR_BUY -= 1.0
    
    if 
    00E1:   player BUYER_PLAYER pressed_key 14
    then
    $AMMO_FOR_BUY -= 10.0
    end
    
    if
    $AMMO_FOR_BUY < 1.0
    then
    $AMMO_FOR_BUY = 1.0
    end
    
    end   

008C: $AMMO_FOR_BUY22 = float $AMMO_FOR_BUY to_integer
017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $AMMO_FOR_BUY22                    

gosub @MAX_WEAPON_AMMO_CHECK3
0058: $AMMO_FOR_BUY22 += $TRADER_PREV_AMMO // (int)

if
001E:   $AMMO_FOR_BUY22 > 21@ // (int)
then
0093: 21@ = integer 21@ to_float
0088: $AMMO_FOR_BUY = 21@ // (float)
008D: $TRADER_PREV_AMMO2 = integer $TRADER_PREV_AMMO to_float
0061: $AMMO_FOR_BUY -= $TRADER_PREV_AMMO2 // (float)
end

gosub @AMMO_BUY_TEXT

:2BANK_MONEY_1660
if and
0E3E: is_just_player BUYER_PLAYER pressed_key 16 
$AMMO_FOR_BUY > 0.0
jf @2BANK_MONEY_1661          

text.RemoveTextBox()
text.ClearAll()    

008C: $AMMO_FOR_BUY = float $AMMO_FOR_BUY to_integer
017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $AMMO_FOR_BUY    
return  

:2BANK_MONEY_1661 
if or
0E3E: is_just_player BUYER_PLAYER pressed_key 15
actor.Dead(BUYER_ACTOR) 
actor.Dead(TRADER_ACTOR)
jf @2BANK_MONEY_1066
26@ = 1
text.RemoveTextBox()
00BE: text_clear_all
017B: set_actor BUYER_ACTOR weapon 25@ ammo_to $TRADER_PREV_AMMO
TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 1 
return

:AMMO_BUY_TEXT
008C: $AMMO_FOR_BUY2 = float $AMMO_FOR_BUY to_integer
$PLAYER_MONEY = player.Money(0)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end
gosub @TRADER_ITEMS_CHECK22
gosub @AMMO_BUY_TEXT_PRICE_CHECK

if
$AMMO_FOR_BUY2 < 0
then
$AMMO_FOR_BUY2 = 0
$AMMO_FOR_BUY3 = 0
end

0303: show_text_4numbers_highpriority GXT 'TRDR93' numbers $AMMO_FOR_BUY2 $AMMO_FOR_BUY3 $PLAYER_MONEY $TRADER_PREV_AMMO time 2000 flag 1

if
CURRENT_USHER_TUTORIAL_NUM == 12
then
CURRENT_USHER_TUTORIAL_NUM = 0
v$OBJECTIVE = "STRB64"
end

return

:BENZIN_BUY_TEXT
cinema.Widescreen(0)
008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer
$PLAYER_MONEY = player.Money(0)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end
008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer
008C: $BENZIN_FOR_BUY3 = float $BENZIN_FOR_BUY to_integer
0068: $BENZIN_FOR_BUY3 *= $BENZIN_PRICE // (int)
if
BUYER_PLAYER == 0
then 
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
end
0303: show_text_4numbers_highpriority GXT 'TRDR30' numbers $BENZIN_FOR_BUY2 $BENZIN_FOR_BUY3 $PLAYER_MONEY $KANISTRA_FUEL2 time 2000 flag 1
return

:BENZIN_BUY        
0512: show_permanent_text_box 'TRDR44'
$BENZIN_FOR_BUY = 1.0 
gosub @BENZIN_BUY_TEXT 
wait 100      

:BANK_MONEY_1066
wait 0

if
8A2A: not  text_box 'TRDR44' displayed
then
0512: show_permanent_text_box 'TRDR44' 
end  

gosub @BENZIN_BUY_TEXT

00E2: get_player BUYER_PLAYER key 1 state_to 0@
if and
32@ > 100
0@ < 0 
jf @BANK_MONEY_1185
32@ = 0 
$BENZIN_FOR_BUY += 1.0

if 
00E1:   player BUYER_PLAYER pressed_key 14
then
$BENZIN_FOR_BUY += 1.0
end

if
$BENZIN_FOR_BUY < 0.0 
then
$BENZIN_FOR_BUY = 0.0
end        
 
008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer
008C: $BENZIN_COUNT2 = float $BENZIN_COUNT to_integer
if 
001C:   $BENZIN_FOR_BUY2 > $BENZIN_COUNT2 // (int)
then
0086: $BENZIN_FOR_BUY = $BENZIN_COUNT // (float) 
end         

gosub @BENZIN_BUY_TEXT

:BANK_MONEY_1185

00E2: get_player BUYER_PLAYER key 1 state_to 0@
if and
32@ > 100
0@ > 0 
jf @BANK_MONEY_1660
32@ = 0 
$BENZIN_FOR_BUY -= 1.0

if 
00E1:   player BUYER_PLAYER pressed_key 14
then
$BENZIN_FOR_BUY -= 1.0
end

if
$BENZIN_FOR_BUY < 1.0
then
$BENZIN_FOR_BUY = 1.0
end

008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer
008C: $BENZIN_COUNT2 = float $BENZIN_COUNT to_integer
if 
001C:   $BENZIN_FOR_BUY2 > $BENZIN_COUNT2 // (int)
then
0086: $BENZIN_FOR_BUY = $BENZIN_COUNT // (float) 
end   

gosub @BENZIN_BUY_TEXT

:BANK_MONEY_1660
if and
0E3E: is_just_player BUYER_PLAYER pressed_key 16 
$BENZIN_FOR_BUY > 0.0
jf @BANK_MONEY_1661
$PLAYER_MONEY = player.Money(0)
if
$PLAYER_MONEY > PLAYER_MAX_MONEY_4999
then
$PLAYER_MONEY = PLAYER_MAX_MONEY_5000
end
008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer
008C: $BENZIN_FOR_BUY3 = float $BENZIN_FOR_BUY to_integer
0068: $BENZIN_FOR_BUY3 *= $BENZIN_PRICE // (int)
if or
001C:   $PLAYER_MONEY > $BENZIN_FOR_BUY3 // (int)
003A:   $PLAYER_MONEY == $BENZIN_FOR_BUY3 // (int) 
jf @BENZIN_NOT_ENOUGHT_MONEY 
008C: $BENZIN_COUNT2 = float $BENZIN_COUNT to_integer  
008C: $BENZIN_FOR_BUY2 = float $BENZIN_FOR_BUY to_integer       
if 
801C:   $BENZIN_FOR_BUY2 > $BENZIN_COUNT2 // (int)
jf @BENZIN_NOT_ENOUGHT
if
BUYER_PLAYER == 0
then
0086: $KANISTRA_FUEL2 = $KANISTRA_FUEL // (float)
0059: $KANISTRA_FUEL += $BENZIN_FOR_BUY // (float)
if
not $KANISTRA_FUEL > 25.1
jf @BENZIN_TOO_MANY
else
0086: $KANISTRA_FUEL2 = $KANISTRA_FUEL_2P // (float)
0059: $KANISTRA_FUEL_2P += $BENZIN_FOR_BUY // (float)
if
not $KANISTRA_FUEL_2P > 25.1
jf @BENZIN_TOO_MANY
end
0061: $BENZIN_COUNT -= $BENZIN_FOR_BUY // (float)
0084: $BENZIN_FOR_BUY3 = $BENZIN_FOR_BUY2 // (int)
0068: $BENZIN_FOR_BUY3 *= $BENZIN_PRICE // (int)
text.RemoveTextBox()
text.ClearAll()
if
BUYER_PLAYER == 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL to_integer
else
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
end

0068: $BENZIN_FOR_BUY2 *= $BENZIN_PRICE2 // (int)
player.Money(0) += $BENZIN_FOR_BUY2
0060: TRADER_TOTAL_MONEY -= $BENZIN_FOR_BUY2 // (int)

if
BUYER_PLAYER == 0
then
  
if
$KANISTRA == 0
then
$KANISTRA = 1
end

else

if
$KANISTRA == 0
then
$KANISTRA = 1
end

end  

32@ = 0

008C: $BENZIN_FOR_BUY = float $BENZIN_FOR_BUY to_integer

while 32@ < 1500
wait 0
0303: show_text_4numbers_highpriority GXT 'TRDR32' numbers $BENZIN_FOR_BUY $BENZIN_FOR_BUY3 $KANISTRA_FUEL2 $KANISTRA_FUEL2 time 5 flag 1
end     

text.ClearAll()
return  

:BANK_MONEY_1661 
if or
0E3E: is_just_player BUYER_PLAYER pressed_key 15 
actor.Dead(TRADER_ACTOR)
actor.Dead(BUYER_ACTOR)
jf @BANK_MONEY_1066
text.RemoveTextBox()
00BE: text_clear_all 
return

:BENZIN_NOT_ENOUGHT_MONEY 
00BC: show_text_highpriority GXT 'TRDR26' time 99999999 flag 1
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
wait 1000 
jump @BANK_MONEY_1066

:BENZIN_NOT_ENOUGHT
00BC: show_text_highpriority GXT 'TRDR31' time 99999999 flag 1
0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
wait 1000    
jump @BANK_MONEY_1066   

:BENZIN_TOO_MANY

if
BUYER_PLAYER == 0
then
0AED: v$PHRASE3 = float $KANISTRA_FUEL to_string_format "%.4g"
else
0AED: v$PHRASE3 = float $KANISTRA_FUEL_2P to_string_format "%.4g"
end

//00BC: show_text_highpriority GXT 'TRDR46' time 99999999 flag 1
if
ENGLISH_TRANSLATE == 0
then
0AD1: show_formatted_text_highpriority "~r~ЊepeЈoћ®e®њe ka®њc¦pЁ (%s/25)!~w~" time 1000 v$PHRASE3 
else
0AD1: show_formatted_text_highpriority "~r~Canister overflow! (%s/25)!~w~" time 1000 v$PHRASE3
end

0605: actor TRADER_ACTOR perform_animation "endchat_02" IFP "PED" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor TRADER_ACTOR look_at_actor BUYER_ACTOR 2000 ms
wait 1000
if
BUYER_PLAYER == 0
then    
0086: $KANISTRA_FUEL = $KANISTRA_FUEL2 // (float)
else
0086: $KANISTRA_FUEL_2P = $KANISTRA_FUEL2 // (float)
end
jump @BANK_MONEY_1066   

:RANDOM_DIALOG_ATTACK_TRADER

for 1@ = 0 to 200

v$PHRASE1 = "PH86_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH86_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2  

return  

:RANDOM_DIALOG_HELLO1_TRADER

for 1@ = 0 to 200

v$PHRASE1 = "PH87_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH87_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2   

return  

:RANDOM_DIALOG_HELLO2_TRADER

for 1@ = 0 to 200

v$PHRASE1 = "PH90_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH90_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2        

return  

:RANDOM_DIALOG_HELLO3_TRADER

for 1@ = 0 to 200

v$PHRASE1 = "PH89_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH89_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2      

return  

:RANDOM_DIALOG_HELLO4_TRADER

for 1@ = 0 to 200

v$PHRASE1 = "PH88_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 0@ 0 1@
    end

end      

v$PHRASE1 = "PH88_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2     

return

:RANDOM_DIALOG_DEAD_TRADER
    
for 1@ = 0 to 200

v$PHRASE1 = "PH1_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 30@ 0 1@
    end

end  

v$PHRASE1 = "PH1_"
0AD3: v$PHRASE2 = format "%d" 30@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

:RANDOM_DIALOG_NEW_SPISOK_TRADER
    
for 1@ = 0 to 200

v$PHRASE1 = "PH131_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 30@ 0 1@
    end

end  

v$PHRASE1 = "PH131_"
0AD3: v$PHRASE2 = format "%d" 30@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

:RANDOM_DIALOG_STVOL_TRADER
    
for 1@ = 0 to 200

v$PHRASE1 = "PH138_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 30@ 0 1@
    end

end  

v$PHRASE1 = "PH138_"
0AD3: v$PHRASE2 = format "%d" 30@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

:RANDOM_DIALOG_NOMONEY_TRADER
    
for 1@ = 0 to 200

v$PHRASE1 = "PH178_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 30@ 0 1@
    end

end  

v$PHRASE1 = "PH178_"
0AD3: v$PHRASE2 = format "%d" 30@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return  

:RANDOM_PRICE2

gosub @NEW_SPISOK_NO_AMMO_FOR_SOMETHING
if
0E4D:  random_percent 0@
then
$PISTOL_ST_NONE = 1
else
$PISTOL_ST_NONE = 0
end

gosub @NEW_SPISOK_NO_AMMO_FOR_SOMETHING
if
0E4D:  random_percent 0@
then
$SHOTGUN_ST_NONE = 1
else
$SHOTGUN_ST_NONE = 0
end

gosub @NEW_SPISOK_NO_AMMO_FOR_SOMETHING
if
0E4D:  random_percent 0@
then
$SMG_ST_NONE = 1
else
$SMG_ST_NONE = 0
end

gosub @NEW_SPISOK_NO_AMMO_FOR_SOMETHING
if
0E4D:  random_percent 0@
then
$RIFLE_ST_NONE = 1
else
$RIFLE_ST_NONE = 0
end

gosub @NEW_SPISOK_NO_AMMO_FOR_SOMETHING
if
0E4D:  random_percent 0@
then
$SNIPER_ST_NONE = 1
else
$SNIPER_ST_NONE = 0
end

if
$MONTHS_PASSED < 1
then

    if or
    803B: not  TRADER_PREV_NUM == 24@  // (int)
    33@ > 360000
    then
    0085: TRADER_PREV_NUM = 24@ // (int)
    
    if and
    33@ > 360000
    003B:   TRADER_PREV_NUM == 24@  // (int)
    then
    0085: 1@ = 24@ // (int)
    gosub @NEW_SPISOK    
    TRADER_NEW_SPISOK_PHRASE_FLAG = 1
    end
    
    33@ = 0
    else
    return
    end

end

if and
$MONTHS_PASSED < 2
$MONTHS_PASSED > 0
    then
    
    if or
    803B: not  TRADER_PREV_NUM == 24@  // (int)
    33@ > 720000
    then
    0085: TRADER_PREV_NUM = 24@ // (int)
    
    if and
    33@ > 720000
    003B:   TRADER_PREV_NUM == 24@  // (int)
    then
    0085: 1@ = 24@ // (int)
    gosub @NEW_SPISOK
    TRADER_NEW_SPISOK_PHRASE_FLAG = 1
    end
    
    33@ = 0
    else
    return
    end
    
    end
    
if
$MONTHS_PASSED >= 2
    then
    
    if or
    803B: not  TRADER_PREV_NUM == 24@  // (int)
    33@ > 1440000
    then
    0085: TRADER_PREV_NUM = 24@ // (int)
    
    if and
    33@ > 1440000
    003B:   TRADER_PREV_NUM == 24@  // (int)
    then
    0085: 1@ = 24@ // (int)
    gosub @NEW_SPISOK
    TRADER_NEW_SPISOK_PHRASE_FLAG = 1
    end
    
    33@ = 0
    else
    return
    end
    
    end 
    
:RANDOM_PRICE2_SCRIPTED       

/////////////////////ЦЕНЫ ПРЕДМЕТОВ/////////////////////
if
$FREEMODE == 0
then
0209: $BINT_PRICE = random_int_in_ranges -40 -50
0209: $HEAL_PRICE = random_int_in_ranges -70 -90
0209: $BANKA_PRICE = random_int_in_ranges -20 -35
0209: $MOLOTOV_PRICE = random_int_in_ranges -250 -300
0209: $GRENADES_PRICE = random_int_in_ranges -250 -300
0209: $TEARGAS_PRICE = random_int_in_ranges -250 -300 
0209: $FLAME_PRICE = random_int_in_ranges -300 -400
0209: $BENZIN_PRICE = random_int_in_ranges -12 -17  
0209: $ARMOR_PRICE = random_int_in_ranges -200 -250
0209: $JIMMY_PRICE = random_int_in_ranges -20 -35
0209: $REPAIR_KIT_PRICE = random_int_in_ranges -130 -200
0209: $RADIO_PRICE = random_int_in_ranges 150 200
0209: NIGHTVISION_PRICE = random_int_in_ranges -200 -250
0209: INFRAVISION_PRICE = random_int_in_ranges -200 -250

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP

////////////////////////////////////////////////////////////////////////////

008F: 1@ = integer $BINT_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BINT_PRICE += 1@  // (int)

008F: 1@ = integer $HEAL_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HEAL_PRICE += 1@  // (int)

008F: 1@ = integer $BANKA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BANKA_PRICE += 1@  // (int)

008F: 1@ = integer $MOLOTOV_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MOLOTOV_PRICE += 1@  // (int)

008F: 1@ = integer $GRENADES_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GRENADES_PRICE += 1@  // (int)

008F: 1@ = integer $TEARGAS_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $TEARGAS_PRICE += 1@  // (int)

008F: 1@ = integer $FLAME_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FLAME_PRICE += 1@  // (int)

008F: 1@ = integer $BENZIN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BENZIN_PRICE += 1@  // (int)

008F: 1@ = integer $ARMOR_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $ARMOR_PRICE += 1@  // (int)

008F: 1@ = integer $JIMMY_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $JIMMY_PRICE += 1@  // (int)

008F: 1@ = integer $REPAIR_KIT_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $REPAIR_KIT_PRICE += 1@  // (int)

008F: 1@ = integer $RADIO_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $RADIO_PRICE += 1@  // (int)

////////////////////////////////////////////////////////////////////////////

else

0209: $BINT_PRICE = random_int_in_ranges -45 -65
0209: $HEAL_PRICE = random_int_in_ranges -90 -120
0209: $BANKA_PRICE = random_int_in_ranges -35 -55
0209: $MOLOTOV_PRICE = random_int_in_ranges -250 -300
0209: $GRENADES_PRICE = random_int_in_ranges -250 -300
0209: $TEARGAS_PRICE = random_int_in_ranges -250 -300 
0209: $FLAME_PRICE = random_int_in_ranges -350 -450
0209: $BENZIN_PRICE = random_int_in_ranges -15 -21  
0209: $ARMOR_PRICE = random_int_in_ranges -250 -300
0209: $JIMMY_PRICE = random_int_in_ranges -40 -55
0209: $REPAIR_KIT_PRICE = random_int_in_ranges -230 -300
0209: $RADIO_PRICE = random_int_in_ranges 200 250
0209: NIGHTVISION_PRICE = random_int_in_ranges -250 -300
0209: INFRAVISION_PRICE = random_int_in_ranges -250 -300

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP

////////////////////////////////////////////////////////////////////////////

008F: 1@ = integer $BINT_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BINT_PRICE += 1@  // (int)

008F: 1@ = integer $HEAL_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HEAL_PRICE += 1@  // (int)

008F: 1@ = integer $BANKA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BANKA_PRICE += 1@  // (int)

008F: 1@ = integer $MOLOTOV_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MOLOTOV_PRICE += 1@  // (int)

008F: 1@ = integer $GRENADES_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GRENADES_PRICE += 1@  // (int)

008F: 1@ = integer $TEARGAS_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $TEARGAS_PRICE += 1@  // (int)

008F: 1@ = integer $FLAME_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FLAME_PRICE += 1@  // (int)

008F: 1@ = integer $BENZIN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BENZIN_PRICE += 1@  // (int)

008F: 1@ = integer $ARMOR_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $ARMOR_PRICE += 1@  // (int)

008F: 1@ = integer $JIMMY_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $JIMMY_PRICE += 1@  // (int)

008F: 1@ = integer $REPAIR_KIT_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $REPAIR_KIT_PRICE += 1@  // (int)

008F: 1@ = integer $RADIO_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $RADIO_PRICE += 1@  // (int)

////////////////////////////////////////////////////////////////////////////

if
$MONTHS_PASSED > 0
    then
    
    for 0@ = 1 to $MONTHS_PASSED
    $BINT_PRICE -= 30
    $HEAL_PRICE -= 50
    $BANKA_PRICE -= 60
    $MOLOTOV_PRICE -= 100
    $GRENADES_PRICE -= 100
    $TEARGAS_PRICE -= 100
    $FLAME_PRICE -= 200
    $BENZIN_PRICE -= 5
    $ARMOR_PRICE -= 200
    $JIMMY_PRICE -= 30
    $REPAIR_KIT_PRICE -= 150
    
    if
    $MONTHS_PASSED < 2
    then
    $RADIO_PRICE += 250
    else
    $RADIO_PRICE -= 100
    
    if
    $RADIO_PRICE < 0
    then
    $RADIO_PRICE = 0
    end
    
    end
    
    NIGHTVISION_PRICE -= 100
    INFRAVISION_PRICE -= 100
    end
    
    end

end

if
$FREEMODE == 0
then
0209: $BANKA_COUNT = random_int_in_ranges 1 4
else
0209: $BANKA_COUNT = random_int_in_ranges 1 2
end

if 
$ALLOW_MEDS == 1
then

////////////////////////////////////////////////////////////////////////////

if
$FREEMODE == 0
then
0209: $BINT_COUNT = random_int_in_ranges 2 4
0209: $HEAL_COUNT = random_int_in_ranges 2 4
else

if
$MONTHS_PASSED < 1
then
0209: $BINT_COUNT = random_int_in_ranges 1 3
0209: $HEAL_COUNT = random_int_in_ranges 1 3
end

if and
$MONTHS_PASSED > 0
$MONTHS_PASSED < 2
then
0209: $BINT_COUNT = random_int_in_ranges 0 2
0209: $HEAL_COUNT = random_int_in_ranges 0 2
end

if
$MONTHS_PASSED >= 2
then

if
0E4D: random_percent 60
then
0209: $BINT_COUNT = random_int_in_ranges 0 2
0209: $HEAL_COUNT = random_int_in_ranges 0 2
else
0209: $BINT_COUNT = random_int_in_ranges 0 1
0209: $HEAL_COUNT = random_int_in_ranges 0 1
end

end

end

end

////////////////////////////////////////////////////////////////////////////

if and
PLAYER_FOOD_ZAPAS > 35
8E4D: not random_percent 15
then
$BANKA_COUNT = 0
end

if and
PLAYER_HEAL_ZAPAS > 25
8E4D: not random_percent 15
then
$HEAL_COUNT = 0
end

if and
PLAYER_BINT_ZAPAS > 25
8E4D: not random_percent 15
then
$BINT_COUNT = 0
end
    
////////////////////////////////////////////////////////////////////////////    

if
$FREEMODE == 0
then
0209: $MOLOTOV_COUNT = random_int_in_ranges 2 6
0209: $GRENADES_COUNT = random_int_in_ranges 2 6
0209: $TEARGAS_COUNT = random_int_in_ranges 2 6  
0209: $FLAME_COUNT = random_int_in_ranges 1 3  
random_float $BENZIN_COUNT 10.0 25.0
0209: $ARMOR_COUNT = random_int_in_ranges 2 5
0209: $JIMMY_COUNT = random_int_in_ranges 2 6
0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
0209: NIGHTVISION_COUNT = random_int_in_ranges 1 2
0209: INFRAVISION_COUNT = random_int_in_ranges 1 2
$RADIO_COUNT = 0 
else

if
$MONTHS_PASSED < 1
    then
    0209: $MOLOTOV_COUNT = random_int_in_ranges 1 2
    0209: $GRENADES_COUNT = random_int_in_ranges 1 2
    0209: $TEARGAS_COUNT = random_int_in_ranges 1 2  
    0209: $FLAME_COUNT = random_int_in_ranges 1 2  
    random_float $BENZIN_COUNT 7.5 12.5
    if
    COOP_ACTIVE_FLAG == 0
    then
    0209: $ARMOR_COUNT = random_int_in_ranges 1 2
    else
    0209: $ARMOR_COUNT = random_int_in_ranges 2 3
    end
    0209: $JIMMY_COUNT = random_int_in_ranges 2 6
    0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
    0209: NIGHTVISION_COUNT = random_int_in_ranges 1 2
    0209: INFRAVISION_COUNT = random_int_in_ranges 1 2
    $RADIO_COUNT = 1
    end

////////////////////////////////////////////////////////////////////////////

if and
$MONTHS_PASSED > 0
$MONTHS_PASSED < 2
    then
    
    if
    0E4D: random_percent 60
    then
    0209: $MOLOTOV_COUNT = random_int_in_ranges 1 2
    0209: $GRENADES_COUNT = random_int_in_ranges 1 2
    0209: $TEARGAS_COUNT = random_int_in_ranges 1 2  
    0209: $FLAME_COUNT = random_int_in_ranges 1 2
    else
    0209: $MOLOTOV_COUNT = random_int_in_ranges 0 2
    0209: $GRENADES_COUNT = random_int_in_ranges 0 2
    0209: $TEARGAS_COUNT = random_int_in_ranges 0 2  
    0209: $FLAME_COUNT = random_int_in_ranges 0 2
    end
      
    random_float $BENZIN_COUNT 5.5 10.5
    
    if
    0E4D: random_percent 60
    then
    
    if
    COOP_ACTIVE_FLAG == 0
    then
    0209: $ARMOR_COUNT = random_int_in_ranges 1 2
    else
    0209: $ARMOR_COUNT = random_int_in_ranges 2 3
    end
    
    0209: $JIMMY_COUNT = random_int_in_ranges 1 5
    0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
    0209: NIGHTVISION_COUNT = random_int_in_ranges 1 2
    0209: INFRAVISION_COUNT = random_int_in_ranges 1 2
    else
    
    if
    COOP_ACTIVE_FLAG == 0
    then
    0209: $ARMOR_COUNT = random_int_in_ranges 0 2
    else
    0209: $ARMOR_COUNT = random_int_in_ranges 1 3
    end
    
    0209: $JIMMY_COUNT = random_int_in_ranges 0 4
    0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
    0209: NIGHTVISION_COUNT = random_int_in_ranges 0 2
    0209: INFRAVISION_COUNT = random_int_in_ranges 0 2
    end
    
    $RADIO_COUNT = 1
    
    end

////////////////////////////////////////////////////////////////////////////

if
$MONTHS_PASSED >= 2
    then
    
    if
    0E4D: random_percent 30
    then
    0209: $MOLOTOV_COUNT = random_int_in_ranges 1 2
    0209: $GRENADES_COUNT = random_int_in_ranges 1 2
    0209: $TEARGAS_COUNT = random_int_in_ranges 1 2  
    0209: $FLAME_COUNT = random_int_in_ranges 1 2
    random_float $BENZIN_COUNT 3.5 8.5
    else
    0209: $MOLOTOV_COUNT = random_int_in_ranges 0 2
    0209: $GRENADES_COUNT = random_int_in_ranges 0 2
    0209: $TEARGAS_COUNT = random_int_in_ranges 0 2  
    0209: $FLAME_COUNT = random_int_in_ranges 0 2
    random_float $BENZIN_COUNT 2.5 6.5
    end
    
    if
    0E4D: random_percent 30
    then
    
    if
    COOP_ACTIVE_FLAG == 0
    then
    0209: $ARMOR_COUNT = random_int_in_ranges 1 2
    else
    0209: $ARMOR_COUNT = random_int_in_ranges 2 3    
    end
    
    0209: $JIMMY_COUNT = random_int_in_ranges 0 4
    0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
    0209: NIGHTVISION_COUNT = random_int_in_ranges 1 2
    0209: INFRAVISION_COUNT = random_int_in_ranges 1 2
    $RADIO_COUNT = 1
    else
    
    if
    COOP_ACTIVE_FLAG == 0
    then
    0209: $ARMOR_COUNT = random_int_in_ranges 0 2
    else
    0209: $ARMOR_COUNT = random_int_in_ranges 1 3
    end
    
    0209: $JIMMY_COUNT = random_int_in_ranges 0 2
    0209: $REPAIR_KIT_COUNT = random_int_in_ranges 0 2
    0209: NIGHTVISION_COUNT = random_int_in_ranges 0 2
    0209: INFRAVISION_COUNT = random_int_in_ranges 0 2
    $RADIO_COUNT = 0
    end
    
    end

////////////////////////////////////////////////////////////////////////////

end

0209: $BANKA_COUNT_BUY = random_int_in_ranges 1 2
0209: $BINT_COUNT_BUY = random_int_in_ranges 1 2
0209: $HEAL_COUNT_BUY = random_int_in_ranges 1 2

0209: $MOLOTOV_COUNT_BUY = random_int_in_ranges 10 15
0209: $GRENADES_COUNT_BUY = random_int_in_ranges 10 15
0209: $TEARGAS_COUNT_BUY = random_int_in_ranges 10 15   
0209: $FLAME_COUNT_BUY = random_int_in_ranges 550 650
   
0209: $JIMMY_COUNT_BUY = random_int_in_ranges 1 2
0209: $REPAIR_KIT_COUNT_BUY = random_int_in_ranges 1 2

0084: $BINT_PRICE2 = $BINT_PRICE // (int)
0084: $HEAL_PRICE2 = $HEAL_PRICE // (int)
0084: $BANKA_PRICE2 = $BANKA_PRICE // (int)

0084: $MOLOTOV_PRICE2 = $MOLOTOV_PRICE // (int)
0084: $GRENADES_PRICE2 = $GRENADES_PRICE // (int)
0084: $TEARGAS_PRICE2 = $TEARGAS_PRICE // (int)
0084: $FLAME_PRICE2 = $FLAME_PRICE // (int)
0084: $BENZIN_PRICE2 = $BENZIN_PRICE // (int)
0084: $ARMOR_PRICE2 = $ARMOR_PRICE // (int)
0084: $JIMMY_PRICE2 = $JIMMY_PRICE // (int)
0084: $REPAIR_KIT_PRICE2 = $REPAIR_KIT_PRICE // (int)
0084: NIGHTVISION_PRICE2 = NIGHTVISION_PRICE // (int)
0084: INFRAVISION_PRICE2 = INFRAVISION_PRICE // (int)
0084: $RADIO_PRICE2 = $RADIO_PRICE // (int)

$BINT_PRICE *= -2
$BINT_PRICE /= 2 
$BANKA_PRICE *= -2
$BANKA_PRICE /= 2
$HEAL_PRICE *= -2
$HEAL_PRICE /= 2
$MOLOTOV_PRICE *= -2
$MOLOTOV_PRICE /= 2
$GRENADES_PRICE *= -2
$GRENADES_PRICE /= 2
$TEARGAS_PRICE *= -2
$TEARGAS_PRICE /= 2
$FLAME_PRICE *= -2
$FLAME_PRICE /= 2
$BENZIN_PRICE *= -2
$BENZIN_PRICE /= 2
$ARMOR_PRICE *= -2
$ARMOR_PRICE /= 2
$JIMMY_PRICE *= -2
$JIMMY_PRICE /= 2
$REPAIR_KIT_PRICE *= -2
$REPAIR_KIT_PRICE /= 2
NIGHTVISION_PRICE *= -2
NIGHTVISION_PRICE /= 2
INFRAVISION_PRICE *= -2
INFRAVISION_PRICE /= 2
$RADIO_PRICE2 *= -2
$RADIO_PRICE2 /= 2

gosub @BANDITS_COUNT_FOR_GOES_TO_BUY

return

:NEW_SPISOK    
{$INCLUDE Traders Goods Generate 2.txt}
return

:NEW_SPISOK_NO_AMMO_FOR_SOMETHING

if
CURRENT_USHER_TUTORIAL_NUM == 12
then
0@ = 0
return
end

008B: 0@ = $MONTHS_PASSED // (int)
0@ *= 30
    
if
$MONTHS_PASSED > 1
then
0@ += 15
end

if
$MONTHS_PASSED < 1
then
0@ = 25
end
    
if
0@ > 80
then
0@ = 80
end

//0@ = 90

return

:RANDOM_PRICE

if
803B: not  TRADER_PREV_NUM == 24@  // (int)
then
else
return
end

:RANDOM_PRICE_SCRIPTED

random_float TRADER_SELL_PRICE_COEFF 0.45 0.7
if
PERK_MERCHANT == 1
then
TRADER_SELL_PRICE_COEFF *= 1.15
end

if
PERK_MERCHANT == 2
then
TRADER_SELL_PRICE_COEFF = 1.0
end

if
TRADER_SELL_PRICE_COEFF > 1.0
then
TRADER_SELL_PRICE_COEFF = 1.0
end  

/////////////////////СТАРОЕ ОРУЖИЕ (ЦЕНА)/////////////////////
if
$FREEMODE == 0
then   
0209: $7MM_PRICE = random_int_in_ranges -220 -265 
0209: $SHOTGUN_PRICE = random_int_in_ranges -185 -205
0209: $SHOTGUN2_PRICE = random_int_in_ranges -200 -215
0209: $SHOTGUN3_PRICE = random_int_in_ranges -340 -355
0209: $MICRO_UZI_PRICE = random_int_in_ranges -215 -225
0209: $DESERT_EAGLE_PRICE = random_int_in_ranges -320 -330
0209: $SMG_PRICE = random_int_in_ranges -440 -455
0209: $AK47_PRICE = random_int_in_ranges -420 -435
0209: $M4_PRICE = random_int_in_ranges -440 -465
0209: $RIFLE_PRICE = random_int_in_ranges -195 -205  
0209: $SNIPER_RIFLE_PRICE = random_int_in_ranges -445 -455   
0209: $TEC9_PRICE = random_int_in_ranges -230 -245

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP_WEP

///////////////////////////////////////////////// 
        
008F: 1@ = integer $7MM_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $7MM_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN2_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN2_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN3_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN3_PRICE += 1@  // (int)

008F: 1@ = integer $MICRO_UZI_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MICRO_UZI_PRICE += 1@  // (int)

008F: 1@ = integer $DESERT_EAGLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $DESERT_EAGLE_PRICE += 1@  // (int)

008F: 1@ = integer $SMG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SMG_PRICE += 1@  // (int)

008F: 1@ = integer $AK47_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AK47_PRICE += 1@  // (int)

008F: 1@ = integer $M4_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $M4_PRICE += 1@  // (int)

008F: 1@ = integer $RIFLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $RIFLE_PRICE += 1@  // (int)

008F: 1@ = integer $SNIPER_RIFLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SNIPER_RIFLE_PRICE -= 1@  // (int)

008F: 1@ = integer $TEC9_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $TEC9_PRICE += 1@  // (int)
    
/////////////////////////////////////////////////

else
0209: $7MM_PRICE = random_int_in_ranges -320 -365 
0209: $SHOTGUN_PRICE = random_int_in_ranges -285 -305
0209: $SHOTGUN2_PRICE = random_int_in_ranges -300 -315
0209: $SHOTGUN3_PRICE = random_int_in_ranges -440 -455
0209: $MICRO_UZI_PRICE = random_int_in_ranges -315 -325
0209: $DESERT_EAGLE_PRICE = random_int_in_ranges -420 -430
0209: $SMG_PRICE = random_int_in_ranges -540 -555
0209: $AK47_PRICE = random_int_in_ranges -520 -535
0209: $M4_PRICE = random_int_in_ranges -540 -565
0209: $RIFLE_PRICE = random_int_in_ranges -295 -305  
0209: $SNIPER_RIFLE_PRICE = random_int_in_ranges -545 -555   
0209: $TEC9_PRICE = random_int_in_ranges -330 -345

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP_WEP

///////////////////////////////////////////////// 
        
008F: 1@ = integer $7MM_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $7MM_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN2_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN2_PRICE += 1@  // (int)

008F: 1@ = integer $SHOTGUN3_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SHOTGUN3_PRICE += 1@  // (int)

008F: 1@ = integer $MICRO_UZI_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MICRO_UZI_PRICE += 1@  // (int)

008F: 1@ = integer $DESERT_EAGLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $DESERT_EAGLE_PRICE += 1@  // (int)

008F: 1@ = integer $SMG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SMG_PRICE += 1@  // (int)

008F: 1@ = integer $AK47_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AK47_PRICE += 1@  // (int)

008F: 1@ = integer $M4_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $M4_PRICE += 1@  // (int)

008F: 1@ = integer $RIFLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $RIFLE_PRICE += 1@  // (int)

008F: 1@ = integer $SNIPER_RIFLE_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SNIPER_RIFLE_PRICE -= 1@  // (int)

008F: 1@ = integer $TEC9_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $TEC9_PRICE += 1@  // (int)
    
/////////////////////////////////////////////////

TRADER_HEAVY_AMMO_BUYED = 0

if
$FREEMODE == 1
then
random_int TRADER_TOTAL_MONEY 2000 4000
else
TRADER_TOTAL_MONEY = 9999999999999
end

if
$MONTHS_PASSED > 0
    then
    
    for 0@ = 1 to $MONTHS_PASSED
    
    ///////////////////////////////////////////////// 
        
    008F: 1@ = integer $7MM_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $7MM_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SHOTGUN_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SHOTGUN_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SHOTGUN2_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SHOTGUN2_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SHOTGUN3_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SHOTGUN3_PRICE += 1@  // (int)
    
    008F: 1@ = integer $MICRO_UZI_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $MICRO_UZI_PRICE += 1@  // (int)
    
    008F: 1@ = integer $DESERT_EAGLE_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $DESERT_EAGLE_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SMG_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SMG_PRICE += 1@  // (int)
    
    008F: 1@ = integer $AK47_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $AK47_PRICE += 1@  // (int)
    
    008F: 1@ = integer $M4_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $M4_PRICE += 1@  // (int)
    
    008F: 1@ = integer $RIFLE_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $RIFLE_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SNIPER_RIFLE_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SNIPER_RIFLE_PRICE -= 1@  // (int)
    
    008F: 1@ = integer $TEC9_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $TEC9_PRICE += 1@  // (int)
    
    /////////////////////////////////////////////////    
        
    end
    
    end

end   

/////////////////////НОВОЕ ОРУЖИЕ (ЦЕНА)/////////////////////
if
$FREEMODE == 0
then
0209: $REVOLVER_PRICE = random_int_in_ranges -220 -235 
0209: $FAMAS_PRICE = random_int_in_ranges -250 -275
0209: $SSG_PRICE = random_int_in_ranges -200 -210
0209: $THOMPSON_PRICE = random_int_in_ranges -180 -195
0209: $IA2_PRICE = random_int_in_ranges -310 -325
0209: $FIVESEVEN_PRICE = random_int_in_ranges -170 -185
0209: $BIZON_PRICE = random_int_in_ranges -230 -245
0209: $AA12_PRICE = random_int_in_ranges -300 -315
0209: $UMP45_PRICE = random_int_in_ranges -240 -260   
0209: $HSNIPER_PRICE = random_int_in_ranges -650 -670

0209: $GROZA_PRICE = random_int_in_ranges -350 -370
0209: $SCAR_PRICE = random_int_in_ranges -315 -325
0209: $AUG_PRICE = random_int_in_ranges -305 -320
0209: $MP9_PRICE = random_int_in_ranges -100 -120
0209: $HKMP5_PRICE = random_int_in_ranges -340 -355
0209: $P90_PRICE = random_int_in_ranges -360 -380
0209: $SCORPION_PRICE = random_int_in_ranges -120 -135
0209: $CAR15_PRICE = random_int_in_ranges -320 -335
0209: $BERETTA_PRICE = random_int_in_ranges -120 -130
0209: $WIDMAG_PRICE = random_int_in_ranges -235 -245
0209: $STUBBY_PRICE = random_int_in_ranges -115 -125

0209: $AR15_PRICE = random_int_in_ranges -325 -335
0209: $SVD_PRICE = random_int_in_ranges -330 -350
0209: $BOLT308_PRICE = random_int_in_ranges -290 -315
0209: $CZ75_PRICE = random_int_in_ranges -260 -280
0209: $G36C_PRICE = random_int_in_ranges -290 -315
0209: $SAIGA12_PRICE = random_int_in_ranges -270 -280
0209: $SIG550_PRICE = random_int_in_ranges -270 -290
0209: $STRIKER_PRICE = random_int_in_ranges -250 -265
0209: $XM1014_PRICE = random_int_in_ranges -190 -205
0209: $GALIL_PRICE = random_int_in_ranges -215 -230
0209: $HK416_PRICE = random_int_in_ranges -225 -240

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP_WEP

///////////////////////////////////////////////// 

008F: 1@ = integer $REVOLVER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $REVOLVER_PRICE += 1@  // (int)

008F: 1@ = integer $FAMAS_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FAMAS_PRICE += 1@  // (int)

008F: 1@ = integer $SSG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SSG_PRICE += 1@  // (int)

008F: 1@ = integer $THOMPSON_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $THOMPSON_PRICE += 1@  // (int)

008F: 1@ = integer $IA2_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $IA2_PRICE += 1@  // (int)

008F: 1@ = integer $FIVESEVEN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FIVESEVEN_PRICE += 1@  // (int)

008F: 1@ = integer $BIZON_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BIZON_PRICE += 1@  // (int)

008F: 1@ = integer $AA12_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AA12_PRICE += 1@  // (int)

008F: 1@ = integer $UMP45_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $UMP45_PRICE += 1@  // (int)

008F: 1@ = integer $HSNIPER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HSNIPER_PRICE += 1@  // (int)

/////////////////////////////////////////////////

008F: 1@ = integer $GROZA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GROZA_PRICE += 1@  // (int)

008F: 1@ = integer $SCAR_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SCAR_PRICE += 1@  // (int)

008F: 1@ = integer $AUG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AUG_PRICE += 1@  // (int)

008F: 1@ = integer $MP9_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MP9_PRICE += 1@  // (int)

008F: 1@ = integer $HKMP5_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HKMP5_PRICE += 1@  // (int)

008F: 1@ = integer $P90_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $P90_PRICE += 1@  // (int)

008F: 1@ = integer $SCORPION_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SCORPION_PRICE += 1@  // (int)

008F: 1@ = integer $CAR15_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $CAR15_PRICE += 1@  // (int)

008F: 1@ = integer $BERETTA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BERETTA_PRICE += 1@  // (int)

008F: 1@ = integer $WIDMAG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $WIDMAG_PRICE += 1@  // (int)

008F: 1@ = integer $STUBBY_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $STUBBY_PRICE += 1@  // (int)

/////////////////////////////////////////////////

008F: 1@ = integer $AR15_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AR15_PRICE += 1@  // (int)

008F: 1@ = integer $SVD_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SVD_PRICE += 1@  // (int)

008F: 1@ = integer $BOLT308_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BOLT308_PRICE += 1@  // (int)

008F: 1@ = integer $CZ75_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $CZ75_PRICE += 1@  // (int)

008F: 1@ = integer $G36C_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $G36C_PRICE += 1@  // (int)

008F: 1@ = integer $SAIGA12_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SAIGA12_PRICE += 1@  // (int)

008F: 1@ = integer $SIG550_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SIG550_PRICE += 1@  // (int)

008F: 1@ = integer $STRIKER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $STRIKER_PRICE += 1@  // (int)

008F: 1@ = integer $XM1014_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $XM1014_PRICE += 1@  // (int)

008F: 1@ = integer $GALIL_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GALIL_PRICE += 1@  // (int)

008F: 1@ = integer $HK416_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HK416_PRICE += 1@  // (int)

/////////////////////////////////////////////////

else
0209: $REVOLVER_PRICE = random_int_in_ranges -320 -335 
0209: $FAMAS_PRICE = random_int_in_ranges -350 -375
0209: $SSG_PRICE = random_int_in_ranges -300 -310
0209: $THOMPSON_PRICE = random_int_in_ranges -280 -295
0209: $IA2_PRICE = random_int_in_ranges -410 -425
0209: $FIVESEVEN_PRICE = random_int_in_ranges -270 -285
0209: $BIZON_PRICE = random_int_in_ranges -330 -345
0209: $AA12_PRICE = random_int_in_ranges -400 -415
0209: $UMP45_PRICE = random_int_in_ranges -340 -360   
0209: $HSNIPER_PRICE = random_int_in_ranges -750 -770

0209: $GROZA_PRICE = random_int_in_ranges -450 -470
0209: $SCAR_PRICE = random_int_in_ranges -415 -425
0209: $AUG_PRICE = random_int_in_ranges -405 -420
0209: $MP9_PRICE = random_int_in_ranges -200 -220
0209: $HKMP5_PRICE = random_int_in_ranges -440 -455
0209: $P90_PRICE = random_int_in_ranges -460 -480
0209: $SCORPION_PRICE = random_int_in_ranges -220 -235
0209: $CAR15_PRICE = random_int_in_ranges -420 -435
0209: $BERETTA_PRICE = random_int_in_ranges -220 -230
0209: $WIDMAG_PRICE = random_int_in_ranges -335 -345
0209: $STUBBY_PRICE = random_int_in_ranges -215 -225

0209: $AR15_PRICE = random_int_in_ranges -425 -435
0209: $SVD_PRICE = random_int_in_ranges -430 -450
0209: $BOLT308_PRICE = random_int_in_ranges -390 -415
0209: $CZ75_PRICE = random_int_in_ranges -360 -380
0209: $G36C_PRICE = random_int_in_ranges -390 -415
0209: $SAIGA12_PRICE = random_int_in_ranges -370 -380
0209: $SIG550_PRICE = random_int_in_ranges -370 -390
0209: $STRIKER_PRICE = random_int_in_ranges -350 -365
0209: $XM1014_PRICE = random_int_in_ranges -290 -305
0209: $GALIL_PRICE = random_int_in_ranges -315 -330
0209: $HK416_PRICE = random_int_in_ranges -325 -340

/////////////////////////////////////////////////

gosub @TRADER_PRICES_ADDITIONAL_FUCKUP_WEP

///////////////////////////////////////////////// 

008F: 1@ = integer $REVOLVER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $REVOLVER_PRICE += 1@  // (int)

008F: 1@ = integer $FAMAS_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FAMAS_PRICE += 1@  // (int)

008F: 1@ = integer $SSG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SSG_PRICE += 1@  // (int)

008F: 1@ = integer $THOMPSON_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $THOMPSON_PRICE += 1@  // (int)

008F: 1@ = integer $IA2_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $IA2_PRICE += 1@  // (int)

008F: 1@ = integer $FIVESEVEN_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $FIVESEVEN_PRICE += 1@  // (int)

008F: 1@ = integer $BIZON_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BIZON_PRICE += 1@  // (int)

008F: 1@ = integer $AA12_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AA12_PRICE += 1@  // (int)

008F: 1@ = integer $UMP45_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $UMP45_PRICE += 1@  // (int)

008F: 1@ = integer $HSNIPER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HSNIPER_PRICE += 1@  // (int)

/////////////////////////////////////////////////

008F: 1@ = integer $GROZA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GROZA_PRICE += 1@  // (int)

008F: 1@ = integer $SCAR_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SCAR_PRICE += 1@  // (int)

008F: 1@ = integer $AUG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AUG_PRICE += 1@  // (int)

008F: 1@ = integer $MP9_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $MP9_PRICE += 1@  // (int)

008F: 1@ = integer $HKMP5_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HKMP5_PRICE += 1@  // (int)

008F: 1@ = integer $P90_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $P90_PRICE += 1@  // (int)

008F: 1@ = integer $SCORPION_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SCORPION_PRICE += 1@  // (int)

008F: 1@ = integer $CAR15_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $CAR15_PRICE += 1@  // (int)

008F: 1@ = integer $BERETTA_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BERETTA_PRICE += 1@  // (int)

008F: 1@ = integer $WIDMAG_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $WIDMAG_PRICE += 1@  // (int)

008F: 1@ = integer $STUBBY_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $STUBBY_PRICE += 1@  // (int)

/////////////////////////////////////////////////

008F: 1@ = integer $AR15_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $AR15_PRICE += 1@  // (int)

008F: 1@ = integer $SVD_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SVD_PRICE += 1@  // (int)

008F: 1@ = integer $BOLT308_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $BOLT308_PRICE += 1@  // (int)

008F: 1@ = integer $CZ75_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $CZ75_PRICE += 1@  // (int)

008F: 1@ = integer $G36C_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $G36C_PRICE += 1@  // (int)

008F: 1@ = integer $SAIGA12_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SAIGA12_PRICE += 1@  // (int)

008F: 1@ = integer $SIG550_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $SIG550_PRICE += 1@  // (int)

008F: 1@ = integer $STRIKER_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $STRIKER_PRICE += 1@  // (int)

008F: 1@ = integer $XM1014_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $XM1014_PRICE += 1@  // (int)

008F: 1@ = integer $GALIL_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $GALIL_PRICE += 1@  // (int)

008F: 1@ = integer $HK416_PRICE to_float
006B: 1@ *= 2@  // (float)
0092: 1@ = float 1@ to_integer
005E: $HK416_PRICE += 1@  // (int)

/////////////////////////////////////////////////

if
$MONTHS_PASSED > 0
    then
    
    for 0@ = 1 to $MONTHS_PASSED

    ///////////////////////////////////////////////// 
        
    008F: 1@ = integer $REVOLVER_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $REVOLVER_PRICE += 1@  // (int)
    
    008F: 1@ = integer $FAMAS_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $FAMAS_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SSG_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SSG_PRICE += 1@  // (int)
    
    008F: 1@ = integer $THOMPSON_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $THOMPSON_PRICE += 1@  // (int)
    
    008F: 1@ = integer $IA2_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $IA2_PRICE += 1@  // (int)
    
    008F: 1@ = integer $FIVESEVEN_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $FIVESEVEN_PRICE += 1@  // (int)
    
    008F: 1@ = integer $BIZON_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $BIZON_PRICE += 1@  // (int)
    
    008F: 1@ = integer $AA12_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $AA12_PRICE += 1@  // (int)
    
    008F: 1@ = integer $UMP45_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $UMP45_PRICE += 1@  // (int)
    
    008F: 1@ = integer $HSNIPER_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $HSNIPER_PRICE += 1@  // (int)
    
    /////////////////////////////////////////////////
    
    008F: 1@ = integer $GROZA_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $GROZA_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SCAR_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SCAR_PRICE += 1@  // (int)
    
    008F: 1@ = integer $AUG_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $AUG_PRICE += 1@  // (int)
    
    008F: 1@ = integer $MP9_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $MP9_PRICE += 1@  // (int)
    
    008F: 1@ = integer $HKMP5_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $HKMP5_PRICE += 1@  // (int)
    
    008F: 1@ = integer $P90_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $P90_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SCORPION_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SCORPION_PRICE += 1@  // (int)
    
    008F: 1@ = integer $CAR15_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $CAR15_PRICE += 1@  // (int)
    
    008F: 1@ = integer $BERETTA_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $BERETTA_PRICE += 1@  // (int)
    
    008F: 1@ = integer $WIDMAG_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $WIDMAG_PRICE += 1@  // (int)
    
    008F: 1@ = integer $STUBBY_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $STUBBY_PRICE += 1@  // (int)
    
    /////////////////////////////////////////////////
    
    008F: 1@ = integer $AR15_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $AR15_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SVD_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SVD_PRICE += 1@  // (int)
    
    008F: 1@ = integer $BOLT308_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $BOLT308_PRICE += 1@  // (int)
    
    008F: 1@ = integer $CZ75_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $CZ75_PRICE += 1@  // (int)
    
    008F: 1@ = integer $G36C_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $G36C_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SAIGA12_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SAIGA12_PRICE += 1@  // (int)
    
    008F: 1@ = integer $SIG550_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $SIG550_PRICE += 1@  // (int)
    
    008F: 1@ = integer $STRIKER_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $STRIKER_PRICE += 1@  // (int)
    
    008F: 1@ = integer $XM1014_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $XM1014_PRICE += 1@  // (int)
    
    008F: 1@ = integer $GALIL_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $GALIL_PRICE += 1@  // (int)
    
    008F: 1@ = integer $HK416_PRICE to_float
    1@ *= 0.45
    0092: 1@ = float 1@ to_integer
    005E: $HK416_PRICE += 1@  // (int)
    
    /////////////////////////////////////////////////
    
    end
    
    end

end 

/////////////////////СТАРОЕ ОРУЖИЕ (КОЛИЧЕСТВО)/////////////////////
0209: $7MM_COUNT = random_int_in_ranges 1 7
0209: $SHOTGUN_COUNT = random_int_in_ranges 1 3
0209: $SHOTGUN2_COUNT = random_int_in_ranges 1 4
0209: $SHOTGUN3_COUNT = random_int_in_ranges 1 3
0209: $MICRO_UZI_COUNT = random_int_in_ranges 1 4
0209: $DESERT_EAGLE_COUNT = random_int_in_ranges 1 4
0209: $SMG_COUNT = random_int_in_ranges 1 4
0209: $AK47_COUNT = random_int_in_ranges 2 5
0209: $M4_COUNT = random_int_in_ranges 2 5
0209: $RIFLE_COUNT = random_int_in_ranges 1 3  
0209: $SNIPER_RIFLE_COUNT = random_int_in_ranges 1 3   
0209: $TEC9_COUNT = random_int_in_ranges 1 4   

/////////////////////НОВОЕ ОРУЖИЕ (КОЛИЧЕСТВО)/////////////////////
0209: $REVOLVER_COUNT = random_int_in_ranges 1 4
0209: $FAMAS_COUNT = random_int_in_ranges 2 5
0209: $SSG_COUNT = random_int_in_ranges 1 3
0209: $THOMPSON_COUNT = random_int_in_ranges 1 4
0209: $IA2_COUNT = random_int_in_ranges 2 5
0209: $FIVESEVEN_COUNT = random_int_in_ranges 1 4
0209: $BIZON_COUNT = random_int_in_ranges 1 4
0209: $AA12_COUNT = random_int_in_ranges 1 3
0209: $UMP45_COUNT = random_int_in_ranges 1 4
0209: $HSNIPER_COUNT = random_int_in_ranges 1 3

0209: $GROZA_COUNT = random_int_in_ranges 2 5
0209: $SCAR_COUNT = random_int_in_ranges 2 5
0209: $AUG_COUNT = random_int_in_ranges 2 5
0209: $MP9_COUNT = random_int_in_ranges 1 4
0209: $HKMP5_COUNT = random_int_in_ranges 1 4
0209: $P90_COUNT = random_int_in_ranges 1 4
0209: $SCORPION_COUNT = random_int_in_ranges 1 4
0209: $CAR15_COUNT = random_int_in_ranges 2 5
0209: $BERETTA_COUNT = random_int_in_ranges 1 7
0209: $WIDMAG_COUNT = random_int_in_ranges 1 4
0209: $STUBBY_COUNT = random_int_in_ranges 1 4

0209: $AR15_COUNT = random_int_in_ranges 2 5
0209: $SVD_COUNT = random_int_in_ranges 1 3
0209: $BOLT308_COUNT = random_int_in_ranges 1 3
0209: $CZ75_COUNT = random_int_in_ranges 1 4
0209: $G36C_COUNT = random_int_in_ranges 2 5
0209: $SAIGA12_COUNT = random_int_in_ranges 1 3
0209: $SIG550_COUNT = random_int_in_ranges 2 5
0209: $STRIKER_COUNT = random_int_in_ranges 1 3
0209: $XM1014_COUNT = random_int_in_ranges 1 3
0209: $GALIL_COUNT = random_int_in_ranges 2 5
0209: $HK416_COUNT = random_int_in_ranges 2 5 

//////////////////////Рандомное количество покупаемого количества/////////////////

0209: $7MM_COUNT_BUY = random_int_in_ranges 105 110
0209: $SHOTGUN_COUNT_BUY = random_int_in_ranges 55 60
0209: $SHOTGUN2_COUNT_BUY = random_int_in_ranges 55 60
0209: $SHOTGUN3_COUNT_BUY = random_int_in_ranges 95 100
0209: $MICRO_UZI_COUNT_BUY = random_int_in_ranges 75 80
0209: $DESERT_EAGLE_COUNT_BUY = random_int_in_ranges 85 90
0209: $SMG_COUNT_BUY = random_int_in_ranges 220 225
0209: $AK47_COUNT_BUY = random_int_in_ranges 175 180 
0209: $M4_COUNT_BUY = random_int_in_ranges 175 180
0209: $RIFLE_COUNT_BUY = random_int_in_ranges 35 40  
0209: $SNIPER_RIFLE_COUNT_BUY = random_int_in_ranges 105 110
0209: $TEC9_COUNT_BUY = random_int_in_ranges 80 85 

0209: $REVOLVER_COUNT_BUY = random_int_in_ranges 85 90
0209: $FAMAS_COUNT_BUY = random_int_in_ranges 175 180
0209: $SSG_COUNT_BUY = random_int_in_ranges 80 85
0209: $THOMPSON_COUNT_BUY = random_int_in_ranges 145 150
0209: $IA2_COUNT_BUY = random_int_in_ranges 175 180
0209: $FIVESEVEN_COUNT_BUY = random_int_in_ranges 90 95
0209: $BIZON_COUNT_BUY = random_int_in_ranges 210 215
0209: $AA12_COUNT_BUY = random_int_in_ranges 85 90 
0209: $UMP45_COUNT_BUY = random_int_in_ranges 180 220 
0209: $HSNIPER_COUNT_BUY = random_int_in_ranges 75 80
0209: $GROZA_COUNT_BUY = random_int_in_ranges 175 180
0209: $SCAR_COUNT_BUY = random_int_in_ranges 175 180
0209: $AUG_COUNT_BUY = random_int_in_ranges 175 180
0209: $MP9_COUNT_BUY = random_int_in_ranges 75 80     
0209: $HKMP5_COUNT_BUY = random_int_in_ranges 220 225
0209: $P90_COUNT_BUY = random_int_in_ranges 220 225
0209: $SCORPION_COUNT_BUY = random_int_in_ranges 80 85  
0209: $CAR15_COUNT_BUY = random_int_in_ranges 175 180
0209: $BERETTA_COUNT_BUY = random_int_in_ranges 80 85
0209: $WIDMAG_COUNT_BUY = random_int_in_ranges 85 90
0209: $STUBBY_COUNT_BUY = random_int_in_ranges 50 55

0209: $AR15_COUNT_BUY = random_int_in_ranges 175 180
0209: $SVD_COUNT_BUY = random_int_in_ranges 75 80
0209: $BOLT308_COUNT_BUY = random_int_in_ranges 75 80
0209: $CZ75_COUNT_BUY = random_int_in_ranges 125 135
0209: $G36C_COUNT_BUY = random_int_in_ranges 175 180
0209: $SAIGA12_COUNT_BUY = random_int_in_ranges 55 60
0209: $SIG550_COUNT_BUY = random_int_in_ranges 175 180
0209: $STRIKER_COUNT_BUY = random_int_in_ranges 55 60
0209: $XM1014_COUNT_BUY = random_int_in_ranges 50 55
0209: $GALIL_COUNT_BUY = random_int_in_ranges 175 180
0209: $HK416_COUNT_BUY = random_int_in_ranges 175 180

//////////////////////////////////////////////

if
REALISM_MODE == 1
then

$7MM_COUNT_BUY /= 3 
$SHOTGUN_COUNT_BUY /= 3 
$SHOTGUN2_COUNT_BUY /= 3
$SHOTGUN3_COUNT_BUY /= 3
$MICRO_UZI_COUNT_BUY /= 3
$DESERT_EAGLE_COUNT_BUY /= 3
$SMG_COUNT_BUY /= 3 
$AK47_COUNT_BUY /= 3
$M4_COUNT_BUY /= 3
$RIFLE_COUNT_BUY /= 3
$SNIPER_RIFLE_COUNT_BUY /= 3
$TEC9_COUNT_BUY /= 3

$REVOLVER_COUNT_BUY /= 3
$FAMAS_COUNT_BUY /= 3
$SSG_COUNT_BUY /= 3
$THOMPSON_COUNT_BUY /= 3
$IA2_COUNT_BUY /= 3 
$FIVESEVEN_COUNT_BUY /= 3
$BIZON_COUNT_BUY /= 3
$AA12_COUNT_BUY /= 3
$UMP45_COUNT_BUY /= 3
$HSNIPER_COUNT_BUY /= 3
$GROZA_COUNT_BUY /= 3
$SCAR_COUNT_BUY /= 3
$AUG_COUNT_BUY /= 3
$MP9_COUNT_BUY /= 3  
$HKMP5_COUNT_BUY /= 3
$P90_COUNT_BUY /= 3
$SCORPION_COUNT_BUY /= 3 
$CAR15_COUNT_BUY /= 3
$BERETTA_COUNT_BUY /= 3
$WIDMAG_COUNT_BUY /= 3
$STUBBY_COUNT_BUY /= 3

$AR15_COUNT_BUY /= 3
$SVD_COUNT_BUY /= 3
$BOLT308_COUNT_BUY /= 3
$CZ75_COUNT_BUY /= 3
$G36C_COUNT_BUY /= 3
$SAIGA12_COUNT_BUY /= 3
$SIG550_COUNT_BUY /= 3
$STRIKER_COUNT_BUY /= 3
$XM1014_COUNT_BUY /= 3
$GALIL_COUNT_BUY /= 3
$HK416_COUNT_BUY /= 3

end

$7MM_PRICE *= -2
$7MM_PRICE /= 2
$SHOTGUN_PRICE *= -2
$SHOTGUN_PRICE /= 2
$SHOTGUN2_PRICE *= -2
$SHOTGUN2_PRICE /= 2
$SHOTGUN3_PRICE *= -2
$SHOTGUN3_PRICE /= 2
$MICRO_UZI_PRICE *= -2
$MICRO_UZI_PRICE /= 2
$DESERT_EAGLE_PRICE *= -2
$DESERT_EAGLE_PRICE /= 2
$SMG_PRICE *= -2
$SMG_PRICE /= 2
$AK47_PRICE *= -2
$AK47_PRICE /= 2
$M4_PRICE *= -2
$M4_PRICE /= 2
$RIFLE_PRICE *= -2
$RIFLE_PRICE /= 2
$SNIPER_RIFLE_PRICE *= -2
$SNIPER_RIFLE_PRICE /= 2
$TEC9_PRICE *= -2
$TEC9_PRICE /= 2

//////////////////////////////////////////////

$REVOLVER_PRICE *= -2
$REVOLVER_PRICE /= 2
$FAMAS_PRICE *= -2
$FAMAS_PRICE /= 2
$SSG_PRICE *= -2
$SSG_PRICE /= 2
$THOMPSON_PRICE *= -2
$THOMPSON_PRICE /= 2
$IA2_PRICE *= -2
$IA2_PRICE /= 2
$FIVESEVEN_PRICE *= -2
$FIVESEVEN_PRICE /= 2
$BIZON_PRICE *= -2
$BIZON_PRICE /= 2
$AA12_PRICE *= -2
$AA12_PRICE /= 2
$UMP45_PRICE *= -2
$UMP45_PRICE /= 2
$HSNIPER_PRICE *= -2
$HSNIPER_PRICE /= 2
$GROZA_PRICE *= -2
$GROZA_PRICE /= 2
$SCAR_PRICE *= -2
$SCAR_PRICE /= 2
$AUG_PRICE *= -2
$AUG_PRICE /= 2
$MP9_PRICE *= -2
$MP9_PRICE /= 2  
$HKMP5_PRICE *= -2
$HKMP5_PRICE /= 2
$P90_PRICE *= -2
$P90_PRICE /= 2
$SCORPION_PRICE *= -2
$SCORPION_PRICE /= 2
$CAR15_PRICE *= -2
$CAR15_PRICE /= 2
$BERETTA_PRICE *= -2
$BERETTA_PRICE /= 2
$WIDMAG_PRICE *= -2
$WIDMAG_PRICE /= 2
$STUBBY_PRICE *= -2
$STUBBY_PRICE /= 2
$AR15_PRICE *= -2
$AR15_PRICE /= 2
$SVD_PRICE *= -2
$SVD_PRICE /= 2
$BOLT308_PRICE *= -2
$BOLT308_PRICE /= 2
$CZ75_PRICE *= -2
$CZ75_PRICE /= 2
$G36C_PRICE *= -2
$G36C_PRICE /= 2
$SAIGA12_PRICE *= -2
$SAIGA12_PRICE /= 2
$SIG550_PRICE *= -2
$SIG550_PRICE /= 2
$STRIKER_PRICE *= -2
$STRIKER_PRICE /= 2
$XM1014_PRICE *= -2
$XM1014_PRICE /= 2
$GALIL_PRICE *= -2
$GALIL_PRICE /= 2
$HK416_PRICE *= -2
$HK416_PRICE /= 2

/////////////////////////////////////////////

gosub @TRADER_PRICE_WEAPON_CHECK

0084: $7MM_PRICE2 = $7MM_PRICE // (int)
0084: $SHOTGUN_PRICE2 = $SHOTGUN_PRICE // (int)
0084: $SHOTGUN2_PRICE2 = $SHOTGUN2_PRICE // (int)
0084: $SHOTGUN3_PRICE2 = $SHOTGUN3_PRICE // (int)
0084: $MICRO_UZI_PRICE2 = $MICRO_UZI_PRICE // (int)
0084: $DESERT_EAGLE_PRICE2 = $DESERT_EAGLE_PRICE // (int)
0084: $SMG_PRICE2 = $SMG_PRICE // (int)
0084: $AK47_PRICE2 = $AK47_PRICE // (int)
0084: $M4_PRICE2 = $M4_PRICE // (int)
0084: $RIFLE_PRICE2 = $RIFLE_PRICE // (int)
0084: $SNIPER_RIFLE_PRICE2 = $SNIPER_RIFLE_PRICE // (int)
0084: $TEC9_PRICE2 = $TEC9_PRICE // (int)

//////////////////////////////////////////////

0084: $REVOLVER_PRICE2 = $REVOLVER_PRICE // (int)
0084: $FAMAS_PRICE2 = $FAMAS_PRICE // (int)
0084: $SSG_PRICE2 = $SSG_PRICE // (int)
0084: $THOMPSON_PRICE2 = $THOMPSON_PRICE // (int)
0084: $IA2_PRICE2 = $IA2_PRICE // (int)
0084: $FIVESEVEN_PRICE2 = $FIVESEVEN_PRICE // (int)
0084: $BIZON_PRICE2 = $BIZON_PRICE // (int)
0084: $AA12_PRICE2 = $AA12_PRICE // (int)
0084: $UMP45_PRICE2 = $UMP45_PRICE // (int)
0084: $HSNIPER_PRICE2 = $HSNIPER_PRICE // (int)
0084: $GROZA_PRICE2 = $GROZA_PRICE // (int)
0084: $SCAR_PRICE2 = $SCAR_PRICE // (int)
0084: $AUG_PRICE2 = $AUG_PRICE // (int)
0084: $MP9_PRICE2 = $MP9_PRICE // (int)
0084: $HKMP5_PRICE2 = $HKMP5_PRICE // (int)
0084: $P90_PRICE2 = $P90_PRICE // (int)
0084: $SCORPION_PRICE2 = $SCORPION_PRICE // (int)
0084: $CAR15_PRICE2 = $CAR15_PRICE // (int)
0084: $BERETTA_PRICE2 = $BERETTA_PRICE // (int)
0084: $WIDMAG_PRICE2 = $WIDMAG_PRICE // (int)
0084: $STUBBY_PRICE2 = $STUBBY_PRICE // (int)

0084: $AR15_PRICE2 = $AR15_PRICE // (int)
0084: $SVD_PRICE2 = $SVD_PRICE // (int)
0084: $BOLT308_PRICE2 = $BOLT308_PRICE // (int)
0084: $CZ75_PRICE2 = $CZ75_PRICE // (int)
0084: $G36C_PRICE2 = $G36C_PRICE // (int)
0084: $SAIGA12_PRICE2 = $SAIGA12_PRICE // (int)
0084: $SIG550_PRICE2 = $SIG550_PRICE // (int)
0084: $STRIKER_PRICE2 = $STRIKER_PRICE // (int)
0084: $XM1014_PRICE2 = $XM1014_PRICE // (int)
0084: $GALIL_PRICE2 = $GALIL_PRICE // (int)
0084: $HK416_PRICE2 = $HK416_PRICE // (int)

/////////////////////////////////////////////

$7MM_PRICE2 *= -2
$7MM_PRICE2 /= 2
$SHOTGUN_PRICE2 *= -2
$SHOTGUN_PRICE2 /= 2
$SHOTGUN2_PRICE2 *= -2
$SHOTGUN2_PRICE2 /= 2
$SHOTGUN3_PRICE2 *= -2
$SHOTGUN3_PRICE2 /= 2
$MICRO_UZI_PRICE2 *= -2
$MICRO_UZI_PRICE2 /= 2
$DESERT_EAGLE_PRICE2 *= -2
$DESERT_EAGLE_PRICE2 /= 2
$SMG_PRICE2 *= -2
$SMG_PRICE2 /= 2
$AK47_PRICE2 *= -2
$AK47_PRICE2 /= 2
$M4_PRICE2 *= -2
$M4_PRICE2 /= 2
$RIFLE_PRICE2 *= -2
$RIFLE_PRICE2 /= 2
$SNIPER_RIFLE_PRICE2 *= -2
$SNIPER_RIFLE_PRICE2 /= 2
$TEC9_PRICE2 *= -2
$TEC9_PRICE2 /= 2

//////////////////////////////////////////////

$REVOLVER_PRICE2 *= -2
$REVOLVER_PRICE2 /= 2
$FAMAS_PRICE2 *= -2
$FAMAS_PRICE2 /= 2
$SSG_PRICE2 *= -2
$SSG_PRICE2 /= 2
$THOMPSON_PRICE2 *= -2
$THOMPSON_PRICE2 /= 2
$IA2_PRICE2 *= -2
$IA2_PRICE2 /= 2
$FIVESEVEN_PRICE2 *= -2
$FIVESEVEN_PRICE2 /= 2
$BIZON_PRICE2 *= -2
$BIZON_PRICE2 /= 2
$AA12_PRICE2 *= -2
$AA12_PRICE2 /= 2
$UMP45_PRICE2 *= -2
$UMP45_PRICE2 /= 2
$HSNIPER_PRICE2 *= -2
$HSNIPER_PRICE2 /= 2
$GROZA_PRICE2 *= -2
$GROZA_PRICE2 /= 2
$SCAR_PRICE2 *= -2
$SCAR_PRICE2 /= 2
$AUG_PRICE2 *= -2
$AUG_PRICE2 /= 2
$MP9_PRICE2 *= -2
$MP9_PRICE2 /= 2  
$HKMP5_PRICE2 *= -2
$HKMP5_PRICE2 /= 2
$P90_PRICE2 *= -2
$P90_PRICE2 /= 2
$SCORPION_PRICE2 *= -2
$SCORPION_PRICE2 /= 2
$CAR15_PRICE2 *= -2
$CAR15_PRICE2 /= 2
$BERETTA_PRICE2 *= -2
$BERETTA_PRICE2 /= 2
$WIDMAG_PRICE2 *= -2
$WIDMAG_PRICE2 /= 2
$STUBBY_PRICE2 *= -2
$STUBBY_PRICE2 /= 2
$AR15_PRICE2 *= -2
$AR15_PRICE2 /= 2
$SVD_PRICE2 *= -2
$SVD_PRICE2 /= 2
$BOLT308_PRICE2 *= -2
$BOLT308_PRICE2 /= 2
$CZ75_PRICE2 *= -2
$CZ75_PRICE2 /= 2
$G36C_PRICE2 *= -2
$G36C_PRICE2 /= 2
$SAIGA12_PRICE2 *= -2
$SAIGA12_PRICE2 /= 2
$SIG550_PRICE2 *= -2
$SIG550_PRICE2 /= 2
$STRIKER_PRICE2 *= -2
$STRIKER_PRICE2 /= 2
$XM1014_PRICE2 *= -2
$XM1014_PRICE2 /= 2
$GALIL_PRICE2 *= -2
$GALIL_PRICE2 /= 2
$HK416_PRICE2 *= -2
$HK416_PRICE2 /= 2

/////////////////////////////////////////////

return

/////////////////////Союзники атакуют марадеров которых увидили///////////////

:RANDOM_TRADER_ATTACK_PEOPLE1

if
$TRADER_ANGRY_FLAG[24@] == 0
then

if 
$PLAYER_SURVIVOR_SIDE == 1
    then
    return
    end 
    
end     

092B: 3@ = group PLAYER_GROUP member 0@

if
07D6:   3@ == COOP_ACTOR // @ == $ (int)
then
return
end

if
056D:  actor 3@ defined
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN

if
056D:   actor TRADER_ACTOR defined
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN    

if
056D:   actor 3@ defined
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN

if
$MISSION14_ACTIVE == 1
    then
    if
    not 0@ == 1
    jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
    end
    
if
$QUEST_TYPE == 9
    then
    if
    87D6: not  3@ == $VERSUS_PEOPLE[1] // @ == $ (int)
    jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
    end

if or
00DF:   actor 3@ driving
0449:   actor 3@ in_a_car
    then
    if
    $HUNTER_ON_PLAYER == 0
    //$PEOPLE_DONT_ATTACK == 0
    //$COMMAND_STAY_IN_CAR == 0
        then                     
        gosub @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR
        end
    end 

if and 
not actor.Driving(PLAYER_ACTOR)
$RANDOM_CAR_FLAG == 0  
89DE:   actor 3@ entering_car  
80DF:   actor 3@ in_a_car
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if or
0364:   actor 3@ spotted_actor TRADER_ACTOR
0364:   actor TRADER_ACTOR spotted_actor 3@
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if
00F2:   actor 3@ near_actor TRADER_ACTOR radius 50.0 50.0 sphere 0
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
$HUNTER_ON_PLAYER == 0
$PEOPLE_DONT_ATTACK == 0
$COMMAND_STAY_IN_CAR == 0
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if
not actor.Animation(3@) == "FLOOR_hit"
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if
$HUNTER_ON_GROUP == 0
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN  
if
044B:   actor 3@ on_foot
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN  
if
82E0: not actor 3@ firing_weapon
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
062E: get_actor 3@ task 1506 status_store_to 1@ // ret 7 if not found
if 
1@ == 7
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "colt45_fire_2hands"
not actor.Animation(3@) == "python_fire" 
not actor.Animation(3@) == "shotgun_fire" 
not actor.Animation(3@) == "buddy_fire" 
not actor.Animation(3@) == "UZI_fire"
not actor.Animation(3@) == "RIFLE_fire" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "FLAME_fire" 
not actor.Animation(3@) == "RocketFire" 
not actor.Animation(3@) == "WEAPON_sniper" 
not actor.Animation(3@) == "WEAPON_throw"
not actor.Animation(3@) == "BOM_PLANT"   
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN       
if and
not actor.Animation(3@) == "colt45_crouchfire"
not actor.Animation(3@) == "python_crouchfire" 
not actor.Animation(3@) == "shotgun_crouchfire" 
not actor.Animation(3@) == "buddy_crouchfire" 
not actor.Animation(3@) == "UZI_crouchfire"
not actor.Animation(3@) == "RIFLE_crouchfire" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_reload"
not actor.Animation(3@) == "python_reload" 
not actor.Animation(3@) == "shotgun_reload" 
not actor.Animation(3@) == "buddy_reload" 
not actor.Animation(3@) == "UZI_reload"
not actor.Animation(3@) == "RIFLE_load" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_crouchreload"
not actor.Animation(3@) == "python_crouchreload" 
not actor.Animation(3@) == "shotgun_crouchreload" 
not actor.Animation(3@) == "buddy_crouchreload" 
not actor.Animation(3@) == "UZI_crouchreload"
not actor.Animation(3@) == "RIFLE_crouchload" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "GunMove_BWD"
not actor.Animation(3@) == "GunMove_FWD"
not actor.Animation(3@) == "GunMove_L"
not actor.Animation(3@) == "GunMove_R"
not actor.Animation(3@) == "Gun_2_IDLE"
not actor.Animation(3@) == "GUN_BUTT"
not actor.Animation(3@) == "GUN_BUTT_crouch"
not actor.Animation(3@) == "Gun_stand" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "CLIMB_idle"
not actor.Animation(3@) == "CLIMB_jump"
not actor.Animation(3@) == "CLIMB_jump2fall"
not actor.Animation(3@) == "CLIMB_jump_B"
not actor.Animation(3@) == "CLIMB_Pull"
not actor.Animation(3@) == "CLIMB_Stand"
not actor.Animation(3@) == "CLIMB_Stand_finish" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN   
05C1: AS_actor 3@ speak_from_audio_table $PEOPLE_ZOMBIE_ATTACK_AUDIO_TABLE
if
056D:   actor 3@ defined
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN 
Actor.StorePos(TRADER_ACTOR,2@,4@,5@) 
Actor.StorePos(3@,27@,28@,29@)   
if
06BD:   no_obstacles_between 27@ 28@ 29@ and 2@ 4@ 5@ solid 1 car 1 actor 0 object 0 particle 0 
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
if and
not actor.Driving(PLAYER_ACTOR)
89DE:   actor PLAYER_ACTOR entering_car
80DF:   actor PLAYER_ACTOR in_a_car
80DF:   actor 3@ in_a_car   
not actor.Dead(3@)
jf @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
//0647: AS_actor 3@ clear_look_task
//05B9: AS_actor 3@ stay_idle 50 ms 
wait 50
if
056D:   actor 3@ defined  
then
05E2: AS_actor 3@ kill_actor $ZOMBIE[24@]
end
jump @RANDOM_TRADER_ATTACK_PEOPLE_BEGIN   
                                
:RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR   
if and
not actor.Animation(3@) == "Gang_DrivebyLHS"
not actor.Animation(3@) == "Gang_DrivebyLHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyLHS_Fwd"
not actor.Animation(3@) == "Gang_DrivebyRHS"
not actor.Animation(3@) == "Gang_DrivebyRHS_Bwd"
not actor.Animation(3@) == "Gang_DrivebyRHS_Fwd" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN 
if and
not actor.Animation(3@) == "Gang_DrivebyTop_LHS"
not actor.Animation(3@) == "Gang_DrivebyTop_RHS" 
jf @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN 
if 
00F2:   actor 3@ near_actor TRADER_ACTOR radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
jf @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
if or
0364:   actor 3@ spotted_actor TRADER_ACTOR
0364:   actor TRADER_ACTOR spotted_actor 3@
jf @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN

///////////////////////////////////////////////////////////////////////////
if and
0@ == 0
TEAMMATE1_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 1
TEAMMATE2_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 2
TEAMMATE3_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 3
TEAMMATE4_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
    end
if and
0@ == 4
TEAMMATE5_ATTACK_TIMER < TEAMMATE_ATTACK_TIMER_MAX
    then
    jump to @RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
    end
///////////////////////////////////////////////////////////////////////////

if and
8E42: not is_char_doing_task_id 3@ 243
not $COMMAND_STAY_IN_CAR == 1
then
06C9: remove_actor 3@ from_group
0631: put_actor 3@ in_group PLAYER_GROUP
end          
0713: actor 3@ driveby_actor TRADER_ACTOR car -1 point 0.0 0.0 0.0 radius 180.0 8 1 firing_rate 360

///////////////////////////////////////////////////////////////////////////
if
0@ == 0
    then
    TEAMMATE1_ATTACK_TIMER = 0
    end
if
0@ == 1
    then
    TEAMMATE2_ATTACK_TIMER = 0
    end
if
0@ == 2
    then
    TEAMMATE3_ATTACK_TIMER = 0
    end
if
0@ == 3
    then
    TEAMMATE4_ATTACK_TIMER = 0
    end
if
0@ == 4
    then
    TEAMMATE5_ATTACK_TIMER = 0
    end
///////////////////////////////////////////////////////////////////////////
 
return       

:RANDOM_TRADER_ATTACK_PEOPLE_IN_CAR_RETURN
return

:RANDOM_TRADER_ATTACK_PEOPLE_BEGIN
return

:MAX_WEAPON_AMMO_CHECK3

if
25@ == 16 //Grenades
then
21@ = 35
end

if
25@ == 17 //Teargas
then
21@ = 30
end

if
25@ == 18 //Molotov
then
21@ = 25
end

if
25@ == 22 //9mm
then
21@ = 290
end

if
25@ == 23 //Silenced
then
21@ = 310
end

if
25@ == 24 //Desert Eagle
then
21@ = 190
end

if
25@ == 25 //Chromegun
then
21@ = 200
end

if
25@ == 26 //Sawnoff
then
21@ = 210
end

if
25@ == 27 //Spas-12 
then
21@ = 180
end

if
25@ == 28 //Micro-UZI
then
21@ = 600
end

if
25@ == 29 //MP5
then
21@ = 500
end

if
25@ == 30 //AK-47
then
21@ = 410
end

if
25@ == 31 //M4
then
21@ = 450
end

if
25@ == 32 //TEC-9
then
21@ = 460
end

if
25@ == 33 //Rifle
then
21@ = 190
end

if
25@ == 34 //Sniper Rifle
then
21@ = 130
end

if
25@ == 35 //Rocket Launcher
then
21@ = 30
end

if
25@ == 36 //Missile Launcher
then
21@ = 30
end

if
25@ == 37 //Flame Thrower
then
21@ = 2000
end

if
25@ == 38 //Minigun
then
21@ = 2000
end

if
25@ == 39 //Satchel
then
21@ = 20
end

///////////////////////NEW WEAPS///////////////////////

if
25@ == 70 //M60
then
21@ = 1000
end

if
25@ == 71 //Revovler
then
21@ = 210
end

if
25@ == 72 //Famas
then
21@ = 480
end

if
25@ == 73 //SSG
then
21@ = 200
end

if
25@ == 74 //Thompson
then
21@ = 500
end

if
25@ == 75 //IA2
then
21@ = 500
end

if
25@ == 76 //Five-Seven
then
21@ = 210
end

if
25@ == 77 //Kriss-Vector
then
21@ = 550
end

if
25@ == 78 //AA-12
then
21@ = 210
end

if
25@ == 79 //UMP45
then
21@ = 450
end  

if
25@ == 80 //Heavy Sniper
then
21@ = 120
end  

if
25@ == 81 //Groza
then
21@ = 460
end   

if
25@ == 82 //Scar
then
21@ = 500
end   

if
25@ == 83 //Aug
then
21@ = 500
end   

if
25@ == 84 //MP9
then
21@ = 530
end   

if
25@ == 85 //HK-MP5
then
21@ = 500
end   

if
25@ == 86 //P90
then
21@ = 500
end   

if
25@ == 87 //Scorpion
then
21@ = 460
end   

if
25@ == 88 //CAR-15
then
21@ = 500
end   

if
25@ == 89 //Beretta
then
21@ = 290
end   

if
25@ == 90 //Wildey Magnum
then
21@ = 210
end   

if
25@ == 91 //Stubby
then
21@ = 210
end

if
25@ == 93 //Quad Rocket
then
21@ = 50
end

if
25@ == 94 //M249
then
21@ = 1200
end

if
25@ == 95 //AR-15
then
21@ = 490
end

if
25@ == 96 //SVD
then
21@ = 130
end

if
25@ == 97 //SVD
then
21@ = 130
end

if
25@ == 98 //CZ75
then
21@ = 190
end

if
25@ == 99 //G36C
then
21@ = 490
end

if
25@ == 100 //SAIGA12
then
21@ = 190
end

if
25@ == 101 //SIG550
then
21@ = 490
end

if
25@ == 102 //STRIKER
then
21@ = 190
end

if
25@ == 103 //XM1014
then
21@ = 210
end

if
25@ == 104 //GALIL
then
21@ = 510
end

if
25@ == 105 //HK416
then
21@ = 510
end      

///////////////////////GTA 3 WEAPS///////////////////////

if
25@ == 111 //Colt45
then
21@ = 290
end    

if
25@ == 112 //AK-47
then
21@ = 410
end     

if
25@ == 113 //Shotgun
then
21@ = 200
end    

if
25@ == 114 //Flame
then
21@ = 2000
end    

if
25@ == 115 //Grenade
then
21@ = 35
end    

if
25@ == 116 //M4
then
21@ = 450
end    

if
25@ == 117 //UZI
then
21@ = 600
end    

if
25@ == 118 //Molotov
then
21@ = 25
end    

if
25@ == 119 //Rocket
then
21@ = 30
end    

if
25@ == 120 //Sniper
then
21@ = 130
end    

///////////////////////GTA VC WEAPS///////////////////////

if
25@ == 132 //Grenade
then
21@ = 35
end   

if
25@ == 133 //Gas
then
21@ = 30
end   

if
25@ == 134 //Molotov
then
21@ = 25
end   

if
25@ == 135 //Rocket
then
21@ = 30
end   

if
25@ == 136 //Colt45
then
21@ = 290
end   

if
25@ == 137 //Python
then
21@ = 190
end   

if
25@ == 138 //Shotgun
then
21@ = 200
end   

if
25@ == 139 //SPAS-12
then
21@ = 180
end   

if
25@ == 140 //Stubby Shotgun
then
21@ = 210
end   

if
25@ == 141 //TEC-9
then
21@ = 460
end   

if
25@ == 142 //UZI
then
21@ = 600
end   

if
25@ == 143 //MP5
then
21@ = 500
end   

if
25@ == 144 //M4
then
21@ = 450
end   

if
25@ == 145 //KRUGER
then
21@ = 410
end   

if
25@ == 146 //Sniper
then
21@ = 160
end   

if
25@ == 147 //Laser Sniper
then
21@ = 130
end     

if
25@ == 148 //Flame
then
21@ = 2000
end   

if
25@ == 149 //M60
then
21@ = 1000
end    

if
25@ == 149 //Minigun
then
21@ = 2000
end

///////////////////////GTA LCS WEAPS///////////////////////

if
25@ == 177 //Grenade
then
21@ = 35
end   

if
25@ == 178 //Gas
then
21@ = 30
end   

if
25@ == 179 //Molotov
then
21@ = 25
end   

if
25@ == 183 //Rocket
then
21@ = 30
end   

if
25@ == 165 //Glock17
then
21@ = 290
end   

if
25@ == 166 //Python
then
21@ = 190
end   

if
25@ == 172 //Shotgun
then
21@ = 200
end   

if
25@ == 173 //SPAS-12
then
21@ = 180
end   

if
25@ == 174 //Stubby Shotgun
then
21@ = 210
end   

if
25@ == 167 //TEC-9
then
21@ = 460
end   

if
25@ == 168 //UZI
then
21@ = 600
end   

if
25@ == 169 //MP5
then
21@ = 500
end   

if
25@ == 170 //M4
then
21@ = 450
end   

if
25@ == 171 //AK
then
21@ = 410
end   

if
25@ == 175 //Sniper
then
21@ = 160
end   

if
25@ == 176 //Laser Sniper
then
21@ = 130
end     

if
25@ == 180 //Flame
then
21@ = 2000
end   

if
25@ == 181 //M60
then
21@ = 1000
end    

if
25@ == 182 //Minigun
then
21@ = 2000
end

///////////////////////GTA VCS WEAPS///////////////////////

if
25@ == 197 //Grenade
then
21@ = 35
end   

if
25@ == 198 //Gas
then
21@ = 30
end   

if
25@ == 199 //Molotov
then
21@ = 25
end   

if
25@ == 213 //Rocket
then
21@ = 30
end   

if
25@ == 195 //Glock17
then
21@ = 290
end   

if
25@ == 196 //Python
then
21@ = 190
end   

if
25@ == 202 //Shotgun
then
21@ = 200
end   

if
25@ == 203 //SPAS-12
then
21@ = 180
end   

if
25@ == 204 //Stubby Shotgun
then
21@ = 210
end   

if
25@ == 197 //TEC-9
then
21@ = 460
end   

if
25@ == 198 //UZI
then
21@ = 600
end   

if
25@ == 199 //MP5
then
21@ = 500
end   

if
25@ == 200 //M4
then
21@ = 450
end   

if
25@ == 201 //AK
then
21@ = 410
end   

if
25@ == 205 //Sniper
then
21@ = 160
end   

if
25@ == 206 //Laser Sniper
then
21@ = 130
end     

if
25@ == 210 //Flame
then
21@ = 2000
end   

if
25@ == 211 //M60
then
21@ = 1000
end    

if
25@ == 212 //Minigun
then
21@ = 2000
end  
                
if or
$GAMEMODE_HOLD == 1
$GAMEMODE_WAR == 1
then                
21@ *= 2                
end

if
PERK_AMMO == 1
then
0093: 21@ = integer 21@ to_float
21@ *= 1.10
0092: 21@ = float 21@ to_integer
end
                    
if
PERK_AMMO == 2
then
0093: 21@ = integer 21@ to_float
21@ *= 1.20
0092: 21@ = float 21@ to_integer
end
                    
if
PERK_AMMO == 3
then
0093: 21@ = integer 21@ to_float
21@ *= 1.30
0092: 21@ = float 21@ to_integer
end

if
SURVIVAL_CUSTOM_WEAPON_NABOR == 3
then
0093: 21@ = integer 21@ to_float
21@ *= 1.25
0092: 21@ = float 21@ to_integer
end

return

:TRADER_RELOAD_AMMO_CHECK
0E83: get_current_char_weaponinfo BUYER_ACTOR store_to 2@
0E88: get_weaponinfo_total_clip 2@ store_to 3@
return

3@ = 0    

if
25@ == 22
then
3@ = 17
end

if
25@ == 23
then
3@ = 34
end

if
25@ == 24
then
3@ = 9
end

if
25@ == 25
then
3@ = 9
end

if
25@ == 26
then
3@ = 2
end

if
25@ == 27
then
3@ = 7
end

if
25@ == 28
then
3@ = 30
end

if
25@ == 29
then
3@ = 40
end

if
25@ == 30
then
3@ = 30
end

if
25@ == 31
then
3@ = 50
end

if
25@ == 32
then
3@ = 50
end

if
25@ == 33
then
3@ = 8
end

if
25@ == 34
then
3@ = 8
end

////////////////////////////////////

if
25@ == 71
then
3@ = 6
end

if
25@ == 72
then
3@ = 30
end

if
25@ == 73
then
3@ = 2
end

if
25@ == 74
then
3@ = 100
end

if
25@ == 75
then
3@ = 20
end

if
25@ == 76
then
3@ = 30
end

if
25@ == 77
then
3@ = 64
end

if
25@ == 78
then
3@ = 20
end   

if
25@ == 79
then
3@ = 25
end    

if
25@ == 80
then
3@ = 6
end

if
25@ == 81
then
3@ = 20
end    

if
25@ == 82
then
3@ = 30
end    

if
25@ == 83
then
3@ = 30
end    

if
25@ == 84
then
3@ = 30
end    

if
25@ == 85
then
3@ = 30
end    

if
25@ == 86
then
3@ = 50
end 

if
25@ == 87
then
3@ = 30
end 

if
25@ == 88
then
3@ = 30
end 

if
25@ == 89
then
3@ = 17
end 

if
25@ == 90
then
3@ = 8
end

if
25@ == 91
then
3@ = 1
end

if
25@ == 95
then
3@ = 25
end

if
25@ == 96
then
3@ = 6
end

if
25@ == 97
then
3@ = 6
end

if
25@ == 98
then
3@ = 12
end

if
25@ == 99
then
3@ = 30
end

if
25@ == 100
then
3@ = 12
end

if
25@ == 101
then
3@ = 30
end

if
25@ == 102
then
3@ = 12
end

if
25@ == 103
then
3@ = 6
end

if
25@ == 104
then
3@ = 35
end

if
25@ == 105
then
3@ = 30
end   

///////////////////////GTA 3 WEAPS///////////////////////

if
25@ == 111
then
3@ = 12
end  

if
25@ == 112
then
3@ = 30
end

if
25@ == 113
then
3@ = 1
end    

if
25@ == 116
then
3@ = 60
end  

if
25@ == 117
then
3@ = 25
end

if
25@ == 120
then
3@ = 1
end    

///////////////////////GTA VC WEAPS///////////////////////

if
25@ == 136
then
3@ = 17
end   

if
25@ == 137
then
3@ = 6
end   

if
25@ == 138
then
3@ = 1
end

if
25@ == 139
then
3@ = 7
end

if
25@ == 140
then
3@ = 1
end   

if
25@ == 141
then
3@ = 50
end   

if
25@ == 141
then
3@ = 50
end   

if
25@ == 142
then
3@ = 30
end  

if
25@ == 143
then
3@ = 30
end   

if
25@ == 144
then
3@ = 30
end    

if
25@ == 145
then
3@ = 30
end   

if
25@ == 147
then
3@ = 7
end

///////////////////////GTA LCS WEAPS///////////////////////

if
25@ == 165
then
3@ = 17
end   

if
25@ == 166
then
3@ = 6
end   

if
25@ == 167
then
3@ = 50
end   

if
25@ == 168
then
3@ = 30
end   

if
25@ == 169
then
3@ = 30
end   

if
25@ == 170
then
3@ = 30
end  

if
25@ == 171
then
3@ = 30
end   

if
25@ == 173
then
3@ = 7
end

if
25@ == 174
then
3@ = 1
end

if
25@ == 175
then
3@ = 1
end

if
25@ == 176
then
3@ = 8
end

///////////////////////GTA VCS WEAPS///////////////////////

if
25@ == 195
then
3@ = 17
end   

if
25@ == 196
then
3@ = 6
end   

if
25@ == 197
then
3@ = 30
end   

if
25@ == 198
then
3@ = 30
end   

if
25@ == 199
then
3@ = 30
end   

if
25@ == 200
then
3@ = 30
end  

if
25@ == 201
then
3@ = 30
end   

if
25@ == 203
then
3@ = 7
end

if
25@ == 205
then
3@ = 1
end

if
25@ == 206
then
3@ = 8
end       

return

:TRADER_AMMO_BUY_CLIP_LOAD
01B9: set_actor BUYER_ACTOR armed_weapon_to 25@
wait 1

0085: 0@ = 25@ // (int)  
0012: 0@ *= 0x70 
000A: 0@ += 0xC8AAB8 
000A: 0@ += 0x20 
0A8D: 3@ = read_memory 0@ size 1 virtual_protect 0  

0A96: 0@ = actor BUYER_ACTOR struct 
000A: 0@ += 0x718 
0A8D: 4@ = read_memory 0@ size 1 virtual_protect 0

0A96: 0@ = actor BUYER_ACTOR struct 
000A: 0@ += 0x5A0 
4@ *= 0x1C 
005A: 0@ += 4@ // (int) 
000A: 0@ += 0x8 
0A8D: 5@ = read_memory 0@ size 4 virtual_protect 0 // GetAmmoClip

gosub @TRADER_RELOAD_AMMO_CHECK

041A: 28@ = actor BUYER_ACTOR weapon 25@ ammo

if
002D:   28@ >= 3@  // (int)
then
0A8C: write_memory 0@ size 4 value 3@ virtual_protect 0 // SetAmmoClip
end

0@ = 0

if or
02D8:   actor BUYER_ACTOR current_weapon == 25
02D8:   actor BUYER_ACTOR current_weapon == 34
02D8:   actor BUYER_ACTOR current_weapon == 80
02D8:   actor BUYER_ACTOR current_weapon == 96
02D8:   actor BUYER_ACTOR current_weapon == 97
02D8:   actor BUYER_ACTOR current_weapon == 147
02D8:   actor BUYER_ACTOR current_weapon == 176
02D8:   actor BUYER_ACTOR current_weapon == 206
then
0@ = 1
end

if or
02D8:   actor BUYER_ACTOR current_weapon == 113
02D8:   actor BUYER_ACTOR current_weapon == 138
02D8:   actor BUYER_ACTOR current_weapon == 140
02D8:   actor BUYER_ACTOR current_weapon == 172
02D8:   actor BUYER_ACTOR current_weapon == 174
02D8:   actor BUYER_ACTOR current_weapon == 202
02D8:   actor BUYER_ACTOR current_weapon == 204
then
0@ = 1
end

if
TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG == 0
then

if or
02D8:   actor BUYER_ACTOR current_weapon == 34
02D8:   actor BUYER_ACTOR current_weapon == 80
02D8:   actor BUYER_ACTOR current_weapon == 96
02D8:   actor BUYER_ACTOR current_weapon == 97
02D8:   actor BUYER_ACTOR current_weapon == 120
02D8:   actor BUYER_ACTOR current_weapon == 146
02D8:   actor BUYER_ACTOR current_weapon == 147
02D8:   actor BUYER_ACTOR current_weapon == 175
then
gosub @RELOAD_SNIPER_TRADER
end

if or
02D8:   actor BUYER_ACTOR current_weapon == 176
02D8:   actor BUYER_ACTOR current_weapon == 205
02D8:   actor BUYER_ACTOR current_weapon == 206
then
gosub @RELOAD_SNIPER_TRADER
end

end

if
TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG == 1
then
TRADER_AMMO_RELOAD_DO_NOT_ANIM_FLAG = 0
0@ = 1
end

if
0@ == 0
then
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x718 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x5A0 
1@ *= 0x1C 
005A: 0@ += 1@ // (int) 
0@ += 0x4 
0A8C: write_memory 0@ size 4 value 2 virtual_protect 1
end
 
return

:RELOAD_SNIPER_TRADER

if or
0800:   in_two_players_mode
SNIPER_GAYMPAD_FLAG == 1
then
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x718 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x5A0 
1@ *= 0x1C 
005A: 0@ += 1@ // (int) 
0@ += 0x4 
0A8C: write_memory 0@ size 4 value 2 virtual_protect 1
return
end

$PLAYER_RELOADING = 1

if and
not actor.Animation(BUYER_ACTOR) == "RIFLE_fire"
not actor.Animation(BUYER_ACTOR) == "RIFLE_crouchfire"
then
0A1A: actor BUYER_ACTOR perform_walk_animation "RIFLE_load" IFP "RIFLE" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 -1 ms // versionC
end

audiostream.LinkToActor($SNIPER_RELOAD_SOUND,BUYER_ACTOR)
audiostream.Loop($SNIPER_RELOAD_SOUND,0)
0089: 1@ = $SOUNDS_VOLUME // (float)
1@ *= 0.35
audiostream.Volume($SNIPER_RELOAD_SOUND) = 1@
audiostream.PerformAction($SNIPER_RELOAD_SOUND,PLAY)

32@ = 0
0@ = 0

repeat
wait 0

0303: show_text_4numbers_highpriority GXT 'TRDR95' numbers $AMMO_FOR_BUY 27@ $TRADER_NEXT2_AMMO $TRADER_NEXT2_AMMO time 500 flag 1

0901: enable_player PLAYER_CHAR jump_key 0
audiostream.Volume($SNIPER_RELOAD_SOUND) = 1@

if and
not actor.Animation(BUYER_ACTOR) == "RIFLE_load"
not actor.Animation(BUYER_ACTOR) == "RIFLE_fire"
not actor.Animation(BUYER_ACTOR) == "RIFLE_crouchfire"
    then
    0@ = 1
    audiostream.PerformAction($SNIPER_RELOAD_SOUND,STOP)
    break
    end

until 32@ >= 1200

if
0@ == 0
then
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x718 
0A8D: 1@ = read_memory 0@ size 1 virtual_protect 0 
0A96: 0@ = actor BUYER_ACTOR struct 
0@ += 0x5A0 
1@ *= 0x1C 
005A: 0@ += 1@ // (int) 
0@ += 0x4 
0A8C: write_memory 0@ size 4 value 2 virtual_protect 1
end

repeat
wait 0
until not actor.Animation(BUYER_ACTOR) == "RIFLE_load"

if and
not actor.Animation(BUYER_ACTOR) == "RIFLE_fire"
not actor.Animation(BUYER_ACTOR) == "RIFLE_crouchfire"
then
0A1A: actor BUYER_ACTOR perform_walk_animation "fucku" IFP "PED" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 1 ms // versionC
end 

$PLAYER_RELOADING = 0
082A: set_player PLAYER_CHAR able_to_use_crouch_button 1

if and
$EXTRA_BORING_PLUS == 1
not $PLAYER_BLEEDING == 1
not $FATIGUE_STATUS == 1
then
//0901: enable_player BUYER_PLAYER jump_key 0
else   
0901: enable_player BUYER_PLAYER jump_key 1
end

return 

:PLAY_DROP_SOUND2_TRADER
Audiostream.Volume($DROP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($DROP_ITEM_SOUND, 0)
Audiostream.PerformAction($DROP_ITEM_SOUND, PLAY)
0605: actor BUYER_ACTOR perform_animation "habargive" IFP "CAMERA" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1
05BF: AS_actor BUYER_ACTOR look_at_actor TRADER_ACTOR 1170 ms 
return

:TRADER_PRICE_WEAPON_CHECK

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $DESERT_EAGLE_PRICE = integer $DESERT_EAGLE_PRICE to_float
$DESERT_EAGLE_PRICE *= DESERT_EAGLE_PRICE_SELL

008B: 1@ = $DESERT_EAGLE_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $DESERT_EAGLE_PRICE *= 1@ // (float)   
008C: $DESERT_EAGLE_PRICE = float $DESERT_EAGLE_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////   

008D: $REVOLVER_PRICE = integer $REVOLVER_PRICE to_float
$REVOLVER_PRICE *= REVOLVER_PRICE_SELL 

008B: 1@ = $REVOLVER_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $REVOLVER_PRICE *= 1@ // (float)
008C: $REVOLVER_PRICE = float $REVOLVER_PRICE to_integer     

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $FIVESEVEN_PRICE = integer $FIVESEVEN_PRICE to_float
$FIVESEVEN_PRICE *= FIVESEVEN_PRICE_SELL       

008B: 1@ = $FIVESEVEN_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $FIVESEVEN_PRICE *= 1@ // (float)
008C: $FIVESEVEN_PRICE = float $FIVESEVEN_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $BERETTA_PRICE = integer $BERETTA_PRICE to_float
$BERETTA_PRICE *= BERETTA_PRICE_SELL       

008B: 1@ = $BERETTA_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $BERETTA_PRICE *= 1@ // (float)
008C: $BERETTA_PRICE = float $BERETTA_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $WIDMAG_PRICE = integer $WIDMAG_PRICE to_float
$WIDMAG_PRICE *= WIDMAG_PRICE_SELL       

008B: 1@ = $WIDMAG_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $WIDMAG_PRICE *= 1@ // (float)
008C: $WIDMAG_PRICE = float $WIDMAG_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $CZ75_PRICE = integer $CZ75_PRICE to_float
$CZ75_PRICE *= CZ75_PRICE_SELL       

008B: 1@ = $CZ75_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $CZ75_PRICE *= 1@ // (float)
008C: $CZ75_PRICE = float $CZ75_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SHOTGUN_PRICE = integer $SHOTGUN_PRICE to_float
$SHOTGUN_PRICE *= SHOTGUN_PRICE_SELL

008B: 1@ = $SHOTGUN_COUNT_BUY // (int) 
0093: 1@ = integer 1@ to_float

006D: $SHOTGUN_PRICE *= 1@ // (float)
008C: $SHOTGUN_PRICE = float $SHOTGUN_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SHOTGUN2_PRICE = integer $SHOTGUN2_PRICE to_float
$SHOTGUN2_PRICE *= SHOTGUN2_PRICE_SELL

008B: 1@ = $SHOTGUN2_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SHOTGUN2_PRICE *= 1@ // (float)
008C: $SHOTGUN2_PRICE = float $SHOTGUN2_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SHOTGUN3_PRICE = integer $SHOTGUN3_PRICE to_float
$SHOTGUN3_PRICE *= SHOTGUN3_PRICE_SELL

008B: 1@ = $SHOTGUN3_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SHOTGUN3_PRICE *= 1@ // (float)
008C: $SHOTGUN3_PRICE = float $SHOTGUN3_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SSG_PRICE = integer $SSG_PRICE to_float
$SSG_PRICE *= SSG_PRICE_SELL

008B: 1@ = $SSG_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SSG_PRICE *= 1@ // (float)
008C: $SSG_PRICE = float $SSG_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $AA12_PRICE = integer $AA12_PRICE to_float
$AA12_PRICE *= AA12_PRICE_SELL       

008B: 1@ = $AA12_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $AA12_PRICE *= 1@ // (float)
008C: $AA12_PRICE = float $AA12_PRICE to_integer

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

008D: $STUBBY_PRICE = integer $STUBBY_PRICE to_float
$STUBBY_PRICE *= STUBBY_PRICE_SELL       

008B: 1@ = $STUBBY_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $STUBBY_PRICE *= 1@ // (float)
008C: $STUBBY_PRICE = float $STUBBY_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SAIGA12_PRICE = integer $SAIGA12_PRICE to_float
$SAIGA12_PRICE *= SAIGA12_PRICE_SELL       

008B: 1@ = $SAIGA12_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SAIGA12_PRICE *= 1@ // (float)
008C: $SAIGA12_PRICE = float $SAIGA12_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $STRIKER_PRICE = integer $STRIKER_PRICE to_float
$STRIKER_PRICE *= STRIKER_PRICE_SELL       

008B: 1@ = $STRIKER_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $STRIKER_PRICE *= 1@ // (float)
008C: $STRIKER_PRICE = float $STRIKER_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $XM1014_PRICE = integer $XM1014_PRICE to_float
$XM1014_PRICE *= XM1014_PRICE_SELL       

008B: 1@ = $XM1014_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $XM1014_PRICE *= 1@ // (float)
008C: $XM1014_PRICE = float $XM1014_PRICE to_integer

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

008D: $MICRO_UZI_PRICE = integer $MICRO_UZI_PRICE to_float
$MICRO_UZI_PRICE *= MICRO_UZI_PRICE_SELL   

008B: 1@ = $MICRO_UZI_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $MICRO_UZI_PRICE *= 1@ // (float)
008C: $MICRO_UZI_PRICE = float $MICRO_UZI_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $TEC9_PRICE = integer $TEC9_PRICE to_float
$TEC9_PRICE *= TEC9_PRICE_SELL   

008B: 1@ = $TEC9_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $TEC9_PRICE *= 1@ // (float)
008C: $TEC9_PRICE = float $TEC9_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////   

008D: $SMG_PRICE = integer $SMG_PRICE to_float
$SMG_PRICE *= SMG_PRICE_SELL     

008B: 1@ = $SMG_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SMG_PRICE *= 1@ // (float)
008C: $SMG_PRICE = float $SMG_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $THOMPSON_PRICE = integer $THOMPSON_PRICE to_float
$THOMPSON_PRICE *= THOMPSON_PRICE_SELL

008B: 1@ = $THOMPSON_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $THOMPSON_PRICE *= 1@ // (float)
008C: $THOMPSON_PRICE = float $THOMPSON_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $BIZON_PRICE = integer $BIZON_PRICE to_float
$BIZON_PRICE *= BIZON_PRICE_SELL

008B: 1@ = $BIZON_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $BIZON_PRICE *= 1@ // (float)
008C: $BIZON_PRICE = float $BIZON_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $UMP45_PRICE = integer $UMP45_PRICE to_float
$UMP45_PRICE *= UMP45_PRICE_SELL

008B: 1@ = $UMP45_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $UMP45_PRICE *= 1@ // (float)
008C: $UMP45_PRICE = float $UMP45_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $MP9_PRICE = integer $MP9_PRICE to_float
$MP9_PRICE *= MP9_PRICE_SELL

008B: 1@ = $MP9_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $MP9_PRICE *= 1@ // (float)
008C: $MP9_PRICE = float $MP9_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $HKMP5_PRICE = integer $HKMP5_PRICE to_float
$HKMP5_PRICE *= HKMP5_PRICE_SELL

008B: 1@ = $HKMP5_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $HKMP5_PRICE *= 1@ // (float)
008C: $HKMP5_PRICE = float $HKMP5_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $P90_PRICE = integer $P90_PRICE to_float
$P90_PRICE *= P90_PRICE_SELL

008B: 1@ = $P90_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $P90_PRICE *= 1@ // (float)
008C: $P90_PRICE = float $P90_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SCORPION_PRICE = integer $SCORPION_PRICE to_float
$SCORPION_PRICE *= SCORPION_PRICE_SELL

008B: 1@ = $SCORPION_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SCORPION_PRICE *= 1@ // (float)
008C: $SCORPION_PRICE = float $SCORPION_PRICE to_integer

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $AK47_PRICE = integer $AK47_PRICE to_float
$AK47_PRICE *= AK47_PRICE_SELL

008B: 1@ = $AK47_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $AK47_PRICE *= 1@ // (float)
008C: $AK47_PRICE = float $AK47_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $M4_PRICE = integer $M4_PRICE to_float
$M4_PRICE *= M4_PRICE_SELL

008B: 1@ = $M4_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $M4_PRICE *= 1@ // (float)
008C: $M4_PRICE = float $M4_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $FAMAS_PRICE = integer $FAMAS_PRICE to_float
$FAMAS_PRICE *= FAMAS_PRICE_SELL

008B: 1@ = $FAMAS_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $FAMAS_PRICE *= 1@ // (float)
008C: $FAMAS_PRICE = float $FAMAS_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $IA2_PRICE = integer $IA2_PRICE to_float
$IA2_PRICE *= IA2_PRICE_SELL

008B: 1@ = $IA2_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $IA2_PRICE *= 1@ // (float)
008C: $IA2_PRICE = float $IA2_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $GROZA_PRICE = integer $GROZA_PRICE to_float
$GROZA_PRICE *= GROZA_PRICE_SELL

008B: 1@ = $GROZA_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $GROZA_PRICE *= 1@ // (float)
008C: $GROZA_PRICE = float $GROZA_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SCAR_PRICE = integer $SCAR_PRICE to_float
$SCAR_PRICE *= SCAR_PRICE_SELL

008B: 1@ = $SCAR_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SCAR_PRICE *= 1@ // (float)
008C: $SCAR_PRICE = float $SCAR_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $AUG_PRICE = integer $AUG_PRICE to_float
$AUG_PRICE *= AUG_PRICE_SELL

008B: 1@ = $AUG_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $AUG_PRICE *= 1@ // (float)
008C: $AUG_PRICE = float $AUG_PRICE to_integer   

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $CAR15_PRICE = integer $CAR15_PRICE to_float
$CAR15_PRICE *= CAR15_PRICE_SELL

008B: 1@ = $CAR15_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $CAR15_PRICE *= 1@ // (float)
008C: $CAR15_PRICE = float $CAR15_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $AR15_PRICE = integer $AR15_PRICE to_float
$AR15_PRICE *= AR15_PRICE_SELL

008B: 1@ = $AR15_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $AR15_PRICE *= 1@ // (float)
008C: $AR15_PRICE = float $AR15_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $G36C_PRICE = integer $G36C_PRICE to_float
$G36C_PRICE *= G36C_PRICE_SELL

008B: 1@ = $G36C_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $G36C_PRICE *= 1@ // (float)
008C: $G36C_PRICE = float $G36C_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SIG550_PRICE = integer $SIG550_PRICE to_float
$SIG550_PRICE *= SIG550_PRICE_SELL

008B: 1@ = $SIG550_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SIG550_PRICE *= 1@ // (float)
008C: $SIG550_PRICE = float $SIG550_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $GALIL_PRICE = integer $GALIL_PRICE to_float
$GALIL_PRICE *= GALIL_PRICE_SELL

008B: 1@ = $GALIL_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $GALIL_PRICE *= 1@ // (float)
008C: $GALIL_PRICE = float $GALIL_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $HK416_PRICE = integer $HK416_PRICE to_float
$HK416_PRICE *= HK416_PRICE_SELL

008B: 1@ = $HK416_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $HK416_PRICE *= 1@ // (float)
008C: $HK416_PRICE = float $HK416_PRICE to_integer 

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

008D: $RIFLE_PRICE = integer $RIFLE_PRICE to_float
$RIFLE_PRICE *= RIFLE_PRICE_SELL

008B: 1@ = $RIFLE_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $RIFLE_PRICE *= 1@ // (float)
008C: $RIFLE_PRICE = float $RIFLE_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SNIPER_RIFLE_PRICE = integer $SNIPER_RIFLE_PRICE to_float
$SNIPER_RIFLE_PRICE *= SNIPER_RIFLE_PRICE_SELL

008B: 1@ = $SNIPER_RIFLE_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SNIPER_RIFLE_PRICE *= 1@ // (float)
008C: $SNIPER_RIFLE_PRICE = float $SNIPER_RIFLE_PRICE to_integer  

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $HSNIPER_PRICE = integer $HSNIPER_PRICE to_float
$HSNIPER_PRICE *= HSNIPER_PRICE_SELL

008B: 1@ = $HSNIPER_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $HSNIPER_PRICE *= 1@ // (float)
008C: $HSNIPER_PRICE = float $HSNIPER_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $SVD_PRICE = integer $SVD_PRICE to_float
$SVD_PRICE *= SVD_PRICE_SELL

008B: 1@ = $SVD_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $SVD_PRICE *= 1@ // (float)
008C: $SVD_PRICE = float $SVD_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $BOLT308_PRICE = integer $BOLT308_PRICE to_float
$BOLT308_PRICE *= BOLT308_PRICE_SELL

008B: 1@ = $BOLT308_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $BOLT308_PRICE *= 1@ // (float)
008C: $BOLT308_PRICE = float $BOLT308_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $GRENADES_PRICE = integer $GRENADES_PRICE to_float
$GRENADES_PRICE *= GRENADES_PRICE_SELL

008B: 1@ = $GRENADES_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $GRENADES_PRICE *= 1@ // (float)
008C: $GRENADES_PRICE = float $GRENADES_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $MOLOTOV_PRICE = integer $MOLOTOV_PRICE to_float
$MOLOTOV_PRICE *= MOLOTOV_PRICE_SELL

008B: 1@ = $MOLOTOV_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $MOLOTOV_PRICE *= 1@ // (float)
008C: $MOLOTOV_PRICE = float $MOLOTOV_PRICE to_integer

/////////////////////////////////////////////////////////////////////////////////////////////////

008D: $TEARGAS_PRICE = integer $TEARGAS_PRICE to_float
$TEARGAS_PRICE *= TEARGAS_PRICE_SELL

008B: 1@ = $TEARGAS_COUNT_BUY // (int)
0093: 1@ = integer 1@ to_float

006D: $TEARGAS_PRICE *= 1@ // (float)
008C: $TEARGAS_PRICE = float $TEARGAS_PRICE to_integer

return

:TRADER_PRICES_ADDITIONAL_FUCKUP
0089: 2@ = $ADDITIONAL_PRICE_COEFF // (float)
0089: 1@ = ITEMS_TRADER_ADDITIONAL_PRICE_COEFF // (float)
////////////////////////Бандитская наценка для гоев////////////////////////
if and
$TRADER_MODEL[24@] >= 14990
$TRADER_MODEL[24@] < 14998
UNITED_MAP == 0
then
1@ += 0.25
end

if
UNITED_MAP == 1
then
if or
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN2 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN2 // (int)
    then
    1@ += 0.25
    end
end

005B: 2@ += 1@  // (float)
return

:TRADER_PRICES_ADDITIONAL_FUCKUP_WEP
0089: 2@ = $ADDITIONAL_PRICE_COEFF // (float)
0089: 1@ = WEP_TRADER_ADDITIONAL_PRICE_COEFF // (float)
////////////////////////Бандитская наценка для гоев////////////////////////
if and
$TRADER_MODEL[24@] >= 14990
$TRADER_MODEL[24@] < 14998
UNITED_MAP == 0
then
1@ += 0.25
end

if
UNITED_MAP == 1
then
if or
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN2 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN2 // (int)
    then
    1@ += 0.25
    end
end

005B: 2@ += 1@  // (float)
return

:BANDITS_COUNT_FOR_GOES_TO_BUY

if or
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $III_BANDITS_SKIN2 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN1 // (int)
003A:   $TRADER_MODEL[24@] == $VC_BANDITS_SKIN2 // (int)
    then
    jump to @BANDITS_COUNT_FOR_GOES_TO_BUY_UNITED
    end

if and
$TRADER_MODEL[24@] >= 14990
$TRADER_MODEL[24@] < 14998
UNITED_MAP == 0
then

:BANDITS_COUNT_FOR_GOES_TO_BUY_UNITED

$ARMOR_COUNT *= 2
$JIMMY_COUNT *= 2
$REPAIR_KIT_COUNT *= 2
$BINT_COUNT *= 2
$BANKA_COUNT *= 2
$HEAL_COUNT *= 2

if
0E4D: random_percent 60
then
$ARMOR_COUNT += 1
end

if
0E4D: random_percent 60
then
$JIMMY_COUNT += 1
end

if
0E4D: random_percent 60
then
$REPAIR_KIT_COUNT += 1
end

if
0E4D: random_percent 60
then
$BINT_COUNT += 1
end

if
0E4D: random_percent 60
then
$HEAL_COUNT += 1
end

if
0E4D: random_percent 60
then
$BANKA_COUNT += 1
end

$MOLOTOV_COUNT *= 2
$GRENADES_COUNT *= 2
$TEARGAS_COUNT *= 2
$FLAME_COUNT *= 2

if
0E4D: random_percent 60
then
$MOLOTOV_COUNT += 1
end

if
0E4D: random_percent 60
then
$GRENADES_COUNT += 1
end

if
0E4D: random_percent 60
then
$TEARGAS_COUNT += 1
end

if
0E4D: random_percent 60
then
$FLAME_COUNT += 1
end

end

return

:TRADER_ZONE_CHECK

06D1: v$TFUCK = "" // v$ = string

if
UNITED_MAP == 0
then

if 
24@ == 0  
then  
06D1: v$TFUCK = "DLR0" // v$ = string
end

if 
24@ == 2  
then
06D1: v$TFUCK = "DLR1" // v$ = string
end

if 
24@ == 12  
then  
06D1: v$TFUCK = "DLR2" // v$ = string
end

if 
24@ == 4
then
06D1: v$TFUCK = "DLR4" // v$ = string
end

if 
24@ == 3
then
06D1: v$TFUCK = "DLR5" // v$ = string
end

if 
24@ == 8
then
06D1: v$TFUCK = "DLR6" // v$ = string
end

if 
24@ == 1
then
06D1: v$TFUCK = "DLR7" // v$ = string
end

if 
24@ == 9
then
06D1: v$TFUCK = "DLR9" // v$ = string
end

if 
24@ == 5
then
06D1: v$TFUCK = "DLR10" // v$ = string
end

if 
24@ == 7
then
06D1: v$TFUCK = "DLR11" // v$ = string
end

if 
24@ == 14
then
06D1: v$TFUCK = "DLR12" // v$ = string
end

if 
24@ == 10
then
06D1: v$TFUCK = "DLR13" // v$ = string
end

else        

/////////////////////////////////////////////

if 
24@ == 2  
then  
06D1: v$TFUCK = "DLR1" // v$ = string
end

if 
24@ == 3  
then  
06D1: v$TFUCK = "DLR4" // v$ = string
end

if 
24@ == 6  
then  
06D1: v$TFUCK = "DLR3" // v$ = string
end

/////////////////////////////////////////////

if 
24@ == 7  
then  
06D1: v$TFUCK = "DLR0" // v$ = string
end   

end

return