const
CAR_BACK_DOOR_FLAG = 29@
CAR_NO_DOOR_FLAG = 30@
CAR_TRUNK_FRONT_FLAG = 31@
end

//Даешь в самой старой системе в ZA наследие остатков древнего кода!

:C_SRCH2
thread 'C_SRCH2'

$CAR_CHECKING_FLAG_2P = 0
    
:CAR_SEARCH_COOP_START    
    
repeat
wait 0
until 0800:   in_two_players_mode    

:CAR_SEARCH_COOP_CHECK_IDLE

while 0800:   in_two_players_mode
wait 0

if and
056D:   actor COOP_ACTOR defined
not COOP_ACTOR == -69
then

if and
$JIMMY_USING == 0
$KANISTRA_USING == 0 
$EATING_STATUS_2P == 0
$GAMEMODE_WAR == 0
$PANEL_OPEN == 0
8E46: not is_char_using_gun COOP_ACTOR
    then
    if and
    00E1:   player 1 pressed_key 11
//    80E1: not  player 1 pressed_key 6
    09E7:   player 1 not_frozen
    044B:   actor COOP_ACTOR on_foot
    89DE: not  actor COOP_ACTOR entering_car
    8A32:  not actor COOP_ACTOR on_turret_of_car
    $HUD_REMOVE == 0
    not actor.Driving(COOP_ACTOR)
        then        
        gosub @SURV_CHECK_COOP        
        if
        1@ == 0
            then        
            0AB5: store_actor COOP_ACTOR closest_vehicle_to $CR_SRCH2 closest_ped_to 1@
            if and
            056E:   car $CR_SRCH2 defined
            8597: not  actor COOP_ACTOR crouching
            PLAYER2_STANDING_ON_CAR_FLAG == 0    
                then        
                if
                not PLAYER_DONT_HAVE_BACKPACK == 1                  
                    then
                    if and
                    056E:   car $CR_SRCH2 defined                    
                    803A: not  $USED_CAR[0] == $CR_SRCH2 // (int)
                    803A: not  $USED_CAR[1] == $CR_SRCH2 // (int)
                    803A: not  $USED_CAR[2] == $CR_SRCH2 // (int)
                    803A: not  $USED_CAR[3] == $CR_SRCH2 // (int)
                    803A: not  $USED_CAR[4] == $CR_SRCH2 // (int)
                        then
                        gosub @CAR_SEACRH_DAMAGED_CHECK_COOP
                        if
                        0@ == 1
                            then
                            gosub @CAR_SEARCH_COOP_MODEL_CHECK
                            0441: 2@ = car $CR_SRCH2 model
                            if and
                            0A01:   model 2@ car
                            0@ == 1
                                then
                                gosub @CAR_SEARCH_COOP_POINT_CHECK                            
                                if and
                                00EF:   actor COOP_ACTOR sphere 0 near_point 4@ 5@ radius 0.8 0.8 stopped 
                                not car.Wrecked($CR_SRCH2)
                                01C1:   car $CR_SRCH2 stopped
                                    then
                                    0A97: 11@ = car $CR_SRCH2 struct 
                                    11@ += 16
                                    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
                                    if
                                    08B4:   test 12@ bit 1
                                        then
                                        08C3: clear 12@ bit 1
                                        if
                                        88FE: not  text_box_displayed
                                            then
                                            text.ShowTextBox('INV119')
                                            end
                                        else
                                        jump to @CAR_SEARCH_COOP_ANIM_CHECK    
                                        end
                                    else
                                    
                                    if and
                                    $CHEATS_ON == 1
                                    0AB0:   key_pressed 122
                                    then
                                    0AD1: show_formatted_text_highpriority "SEARCH CAR: NOT NEAR SEARCH POSITION" time 2000
                                    end
                                     
                                    end
                                else
                                
                                if and
                                $CHEATS_ON == 1
                                0AB0:   key_pressed 122
                                then
                                0AD1: show_formatted_text_highpriority "SEARCH CAR: NOT GOOD MODEL" time 2000
                                end
                                 
                                end
                            else
                            
                            if and
                            $CHEATS_ON == 1
                            0AB0:   key_pressed 122
                            then
                            0AD1: show_formatted_text_highpriority "SEARCH CAR: NOT DAMAGED" time 2000
                            end
                             
                            end
                        else
                        
                        if and
                        $CHEATS_ON == 1
                        0AB0:   key_pressed 122
                        then
                        0AD1: show_formatted_text_highpriority "SEARCH CAR: NOT ANY CAR NEAR" time 2000
                        end
                         
                        end
                    else
                    text.RemoveTextBox()
                    text.ShowTextBox('INV87')                                                    
                    05C1: AS_actor COOP_ACTOR speak_from_audio_table 181                                               
                    wait 1000
                    end
                else                   
                end
            end
        end        
    else 
    end
    
if and
$JIMMY_USING == 0
$KANISTRA_USING == 0 
$EATING_STATUS_2P == 0
$PANEL_OPEN == 0
not USHER_STORY_FEATRUES_LOCKED == 1
8E46: not is_char_using_gun COOP_ACTOR
    then
    if and
    00E1:   player 1 pressed_key 11
//    00E1:   player 1 pressed_key 6
    09E7:   player 1 not_frozen
    044B:   actor COOP_ACTOR on_foot
    89DE: not  actor COOP_ACTOR entering_car
    8A32:  not actor COOP_ACTOR on_turret_of_car
    $HUD_REMOVE == 0
    not actor.Driving(COOP_ACTOR)
        then        
        gosub @SURV_CHECK_COOP        
        if
        1@ == 0
            then
            
            for CARINV_SLOT = 0 to 4
                                
            0084: $CR_SRCH2 = $USED_CAR[CARINV_SLOT] // (int)
            
            if 
            056E:   car $CR_SRCH2 defined   
                then        
                if
                not PLAYER_DONT_HAVE_BACKPACK == 1  
                    then
                    if
                    056E:   car $CR_SRCH2 defined
                        then
                        gosub @CAR_SEACRH_DAMAGED_CHECK_COOP
                        if or
                        0@ == 1
                        0@ == 0
                            then
                            0441: 2@ = car $CR_SRCH2 model
                            
                            if
                            UNITED_MAP == 0
                            then
                            
                            if or
                            2@ == 15420                            
                            2@ == 406
                            2@ == 444
                            2@ == 556
                            2@ == 557
                            2@ == 573
                            2@ == #WAYFARER                            
                            2@ == #COPBIKE
                            then
                            jump to @DEVILMAN_TRUNK_JUMP_COOP
                            end
                            
                            if                            
                            2@ == #PIZZABOY
                            then
                            jump to @DEVILMAN_TRUNK_JUMP_COOP
                            end
                            
                            if or
                            2@ == 406
                            2@ == 444
                            2@ == 556
                            2@ == 557
                            2@ == 573
                            2@ == 15496
                            2@ == 15497
                            2@ == 15594
                            then
                            jump to @OTHER_CAR_TRUNK_JUMP_COOP
                            end
                            
                            else
                            
                            if or
                            2@ == 15299                            
                            2@ == 15322
                            2@ == 15430
                            2@ == 15457
                            2@ == 15454
                            2@ == 15552
                            2@ == 15526                            
                            2@ == 15566
                            then
                            jump to @DEVILMAN_TRUNK_JUMP_COOP
                            end
                            
                            if
                            2@ == 15565                            
                            then
                            jump to @DEVILMAN_TRUNK_JUMP_COOP
                            end
                            
                            end
                            
                            if and
                            $CAR_WHEEL_INSTALLED[CARINV_SLOT] == 1
                            8A01: not  model 2@ car
                            8820: not  model 2@ heli
                            881E: not  model 2@ boat
                            881F: not  model 2@ plane
                            then
                            :DEVILMAN_TRUNK_JUMP_COOP                            
                            CAR_BACK_DOOR_FLAG = 0
                            CAR_NO_DOOR_FLAG = 1
                            CAR_TRUNK_FRONT_FLAG = 0
                            car.StorePos($CR_SRCH2,4@,5@,6@)                                                                                     
                            if and
                            00EF:   actor COOP_ACTOR sphere 0 near_point 4@ 5@ radius 1.0 1.0 stopped 
                            not car.Wrecked($CR_SRCH2)
                            01C1:   car $CR_SRCH2 stopped
                            8597: not  actor COOP_ACTOR crouching
                            PLAYER2_STANDING_ON_CAR_FLAG == 0
                                then
                                jump to @BIKE_TRUNK_JUMP_COOP
                                end                           
                            end                                                   
                            
                            if or
                            0A01:   model 2@ car
                            0820:   model 2@ heli
                            081E:   model 2@ boat
                            081F:   model 2@ plane
                                then
                                :OTHER_CAR_TRUNK_JUMP_COOP
                                gosub @CAR_SEARCH_COOP_POINT_CHECK                                                          
                                if and
                                00EF:   actor COOP_ACTOR sphere 0 near_point 4@ 5@ radius 0.8 0.8 stopped 
                                not car.Wrecked($CR_SRCH2)
                                01C1:   car $CR_SRCH2 stopped
                                8597: not  actor COOP_ACTOR crouching
                                PLAYER2_STANDING_ON_CAR_FLAG == 0
                                    then
                                    :BIKE_TRUNK_JUMP_COOP                                    
                                    if or                                    
                                    $EXPE_FLAG == 1
                                    $EXPE_FLAG == 0
                                        then
                                        
                                        0A97: 11@ = car $CR_SRCH2 struct 
                                        11@ += 16
                                        0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
                                        
                                        if
                                        88B4: not  test 12@ bit 1
                                        then
                                        0A97: 11@ = car $CR_SRCH2 struct 
                                        11@ += 16
                                        0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
                                        08BD: set 12@ bit 1 
                                        0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
                                        08C3: clear 12@ bit 1
                                        end                                        
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        if and
                                        CAR_NO_DOOR_FLAG == 0
                                        CAR_TRUNK_FRONT_FLAG == 0
                                        then
                                        
                                        if and
                                        0D0C: get_car $CR_SRCH2 component "boot_dummy" matrix_pointer_to 1@ // IF and SET
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        04E1: open_and_freeze_car_trunk $CR_SRCH2
                                        else
                                        
                                        if
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        
                                        if
                                        not 2@ == #BUS
                                        then
                                        0657: car $CR_SRCH2 open_door 3
                                        else
                                        0657: car $CR_SRCH2 open_door 2
                                        end
                                        
                                        else
                                        0657: car $CR_SRCH2 open_door 4
                                        0657: car $CR_SRCH2 open_door 5
                                        end
                                        
                                        end
                                        
                                        end
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        if
                                        CAR_TRUNK_FRONT_FLAG == 1
                                        then
                                        
                                        if and
                                        0D0C: get_car $CR_SRCH2 component "bonnet_dummy" matrix_pointer_to 1@ // IF and SET
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        0657: car $CR_SRCH2 open_door 0
                                        end
                                        
                                        end
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        gosub @CAR_INV_START_MENU_COOP
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        if and
                                        CAR_NO_DOOR_FLAG == 0
                                        CAR_TRUNK_FRONT_FLAG == 0
                                        then
                                        
                                        if and
                                        0D0C: get_car $CR_SRCH2 component "boot_dummy" matrix_pointer_to 1@ // IF and SET
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        08A6: set_car $CR_SRCH2 door 1 rotation_to 0.0
                                        else
                                        
                                        if
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        
                                        0441: 2@ = car $CR_SRCH2 model
                                        if
                                        not 2@ == #BUS
                                        then
                                        08A6: set_car $CR_SRCH2 door 3 rotation_to 0.0
                                        else
                                        08A6: set_car $CR_SRCH2 door 2 rotation_to 0.0
                                        end
                                        
                                        else
                                        08A6: set_car $CR_SRCH2 door 4 rotation_to 0.0
                                        08A6: set_car $CR_SRCH2 door 5 rotation_to 0.0
                                        end
                                        
                                        end
                                        
                                        end
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        if
                                        CAR_TRUNK_FRONT_FLAG == 1
                                        then
                                        
                                        if and
                                        0D0C: get_car $CR_SRCH2 component "bonnet_dummy" matrix_pointer_to 1@ // IF and SET
                                        CAR_BACK_DOOR_FLAG == 0
                                        then
                                        08A6: set_car $CR_SRCH2 door 0 rotation_to 0.0
                                        end
                                        
                                        end
                                        
                                        /////////////////////////////////////////////////////
                                        
                                        end
                                    else 
                                    end
                                else 
                                end
                            else 
                            end
                        else 
                        end
                    else
                    text.RemoveTextBox()
                    text.ShowTextBox('INV87')                                                    
                    05C1: AS_actor COOP_ACTOR speak_from_audio_table 181                                             
                    wait 1000
                    end
                else                   
                end
            end
            end
        end        
    else 
    end           
    
end

end

jump to @CAR_SEARCH_COOP_START

:SURV_CHECK_COOP

1@ = 0
return

for 0@ = 0 to 4

if
056D:   actor $SURVIVER[0@] defined
    then
    if and
    0104:   actor COOP_ACTOR near_actor $SURVIVER[0@] radius 1.2 1.2 1.2 sphere 0
    847A: not  actor $SURVIVER[0@] driving_bike
    not actor.DrivingVehicleType($SURVIVER[0@],#QUAD)
    not actor.DrivingVehicleType($SURVIVER[0@],15426)
    not actor.DrivingVehicleType($SURVIVER[0@],15558)
        then
        1@ = 1
        end  
    end
    
end

if or
actor.Animation(COOP_ACTOR) == "EAT_Vomit_P"
PUKE_PROCESS_FLAG_2P == 1
then
1@ = 1
end    
    
return

:CAR_SEARCH_COOP_MODEL_CHECK
0@ = 1

if
//car.Model($CR_SRCH2) == #LINERUN
//car.Model($CR_SRCH2) == #DUMPER
//car.Model($CR_SRCH2) == #FIRETRUK
//car.Model($CR_SRCH2) == #TRASH
//car.Model($CR_SRCH2) == #INFERNUS
//car.Model($CR_SRCH2) == #MRWHOOP
car.Model($CR_SRCH2) == #BFINJECT
    then
    0@ = 0
    end

if or
//car.Model($CR_SRCH2) == #BUS
car.Model($CR_SRCH2) == RHINO_MODEL_NUMBER
//car.Model($CR_SRCH2) == #BARRACKS
//car.Model($CR_SRCH2) == #HOTKNIFE
car.Model($CR_SRCH2) == #ARTICT1
//car.Model($CR_SRCH2) == #COACH
//car.Model($CR_SRCH2) == #PACKER
car.Model($CR_SRCH2) == #MONSTER
    then
    0@ = 0
    end

if or
//car.Model($CR_SRCH2) == #FLATBED
car.Model($CR_SRCH2) == #CADDY
//car.Model($CR_SRCH2) == #ZR350
car.Model($CR_SRCH2) == #BAGGAGE
car.Model($CR_SRCH2) == #BLOODRA
//car.Model($CR_SRCH2) == #JOURNEY
//car.Model($CR_SRCH2) == #PETRO
    then
    0@ = 0
    end

if or
//car.Model($CR_SRCH2) == #RDTRAIN
//car.Model($CR_SRCH2) == #CEMENT
//car.Model($CR_SRCH2) == #TOWTRUCK
car.Model($CR_SRCH2) == #FBITRUCK
car.Model($CR_SRCH2) == #FORKLIFT
car.Model($CR_SRCH2) == #TRACTOR
car.Model($CR_SRCH2) == #COMBINE
car.Model($CR_SRCH2) == #VORTEX
    then
    0@ = 0
    end

if or
//car.Model($CR_SRCH2) == #FIRELA
car.Model($CR_SRCH2) == #MONSTERA
car.Model($CR_SRCH2) == #MONSTERB
car.Model($CR_SRCH2) == #BANDITO
car.Model($CR_SRCH2) == #KART
car.Model($CR_SRCH2) == #MOWER
//car.Model($CR_SRCH2) == #DUNERIDE
    then
    0@ = 0
    end

if or
car.Model($CR_SRCH2) == #SWEEPER
//car.Model($CR_SRCH2) == #DFT30
car.Model($CR_SRCH2) == #TUG
car.Model($CR_SRCH2) == #PETROTR
//car.Model($CR_SRCH2) == #HOTDOG
car.Model($CR_SRCH2) == #FREIBOX
car.Model($CR_SRCH2) == #ARTICT3
car.Model($CR_SRCH2) == #SWATVAN
    then
    0@ = 0
    end

if or
car.Model($CR_SRCH2) == #BAGBOXA
car.Model($CR_SRCH2) == #BAGBOXB
car.Model($CR_SRCH2) == #TUGSTAIR
car.Model($CR_SRCH2) == #FARMTR1
car.Model($CR_SRCH2) == #UTILTR1
//car.Model($CR_SRCH2) == #LINERUN
//car.Model($CR_SRCH2) == #FIRETRUK
    then
    0@ = 0
    end
    
if
//car.Model($CR_SRCH2) == #TRASH
car.Model($CR_SRCH2) == #BFINJECT
//car.Model($CR_SRCH2) == #BUS
//car.Model($CR_SRCH2) == #PACKER
//car.Model($CR_SRCH2) == #COACH
//car.Model($CR_SRCH2) == #FLATBED
//car.Model($CR_SRCH2) == #FIRETRUK
    then
    0@ = 0
    end
    
if
//car.Model($CR_SRCH2) == #PETRO
//car.Model($CR_SRCH2) == #RDTRAIN
//car.Model($CR_SRCH2) == #CEMENT
//car.Model($CR_SRCH2) == #SLAMVAN
car.Model($CR_SRCH2) == #MONSTER
//car.Model($CR_SRCH2) == #DUNERIDE
//car.Model($CR_SRCH2) == #DFT30
    then
    0@ = 0
    end
    
if
UNITED_MAP == 0
then    
    
if or
//car.Model($CR_SRCH2) == 15361
car.Model($CR_SRCH2) == 15284
car.Model($CR_SRCH2) == 15283
//car.Model($CR_SRCH2) == 15414
//car.Model($CR_SRCH2) == 15502
    then
    0@ = 0
    end
    
else

if or
car.Model($CR_SRCH2) == 15288
car.Model($CR_SRCH2) == 15573
    then
    0@ = 0
    end    
    
end    
    
if or
car.Model($CR_SRCH2) == 15352
car.Model($CR_SRCH2) == 15271
car.Model($CR_SRCH2) == 15409
car.Model($CR_SRCH2) == 15495
    then
    0@ = 0
    end                        

return    

:CAR_SEARCH_COOP_POINT_CHECK

CAR_BACK_DOOR_FLAG = 0
CAR_NO_DOOR_FLAG = 0
CAR_TRUNK_FRONT_FLAG = 0

if or
car.Model($CR_SRCH2) == 15266
car.Model($CR_SRCH2) == 15399
car.Model($CR_SRCH2) == 15291
car.Model($CR_SRCH2) == 15365
car.Model($CR_SRCH2) == 15435
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if or
car.Model($CR_SRCH2) == 15391
car.Model($CR_SRCH2) == 15350
car.Model($CR_SRCH2) == 15370
car.Model($CR_SRCH2) == 15269
car.Model($CR_SRCH2) == 15295
car.Model($CR_SRCH2) == 15410
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end

if
UNITED_MAP == 1
then    
if or
car.Model($CR_SRCH2) == 15304
car.Model($CR_SRCH2) == 15383
car.Model($CR_SRCH2) == 15386
car.Model($CR_SRCH2) == 15331
car.Model($CR_SRCH2) == 15491
car.Model($CR_SRCH2) == 15406
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
else
if
car.Model($CR_SRCH2) == 15490
    then
    gosub @CAR_SEARCH_POINT_BACK_CHECK 
    return
    end    
end
    
if or
car.Model($CR_SRCH2) == 15440
car.Model($CR_SRCH2) == 15537
car.Model($CR_SRCH2) == 15416
car.Model($CR_SRCH2) == 15505
car.Model($CR_SRCH2) == 15444
car.Model($CR_SRCH2) == 15545
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if or
car.Model($CR_SRCH2) == #AMBULAN
car.Model($CR_SRCH2) == #PONY
car.Model($CR_SRCH2) == #RUMPO
car.Model($CR_SRCH2) == #TOPFUN
car.Model($CR_SRCH2) == #BURRITO
car.Model($CR_SRCH2) == #NEWSVAN
car.Model($CR_SRCH2) == #BOXVILLE
car.Model($CR_SRCH2) == #BOXBURG
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if or
car.Model($CR_SRCH2) == #UTILITY
car.Model($CR_SRCH2) == #SECURICA
car.Model($CR_SRCH2) == #YANKEE
car.Model($CR_SRCH2) == #BOXVILLE
car.Model($CR_SRCH2) == #ENFORCER
car.Model($CR_SRCH2) == #CAMPER
car.Model($CR_SRCH2) == 15486
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if and
car.Model($CR_SRCH2) == 15422
UNITED_MAP == 0
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end        
    
if or
car.Model($CR_SRCH2) == 15399
car.Model($CR_SRCH2) == 15358
car.Model($CR_SRCH2) == 15365
car.Model($CR_SRCH2) == 15385
car.Model($CR_SRCH2) == 15353
car.Model($CR_SRCH2) == 15386
car.Model($CR_SRCH2) == 15397
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if or
car.Model($CR_SRCH2) == 15266
car.Model($CR_SRCH2) == 15276
car.Model($CR_SRCH2) == 15279
car.Model($CR_SRCH2) == 15280
car.Model($CR_SRCH2) == 15291
car.Model($CR_SRCH2) == 15328
car.Model($CR_SRCH2) == 15331
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end

if
UNITED_MAP == 1
then     
if or
car.Model($CR_SRCH2) == 15345
car.Model($CR_SRCH2) == 15323
car.Model($CR_SRCH2) == 15406
car.Model($CR_SRCH2) == 15416
car.Model($CR_SRCH2) == 15431
car.Model($CR_SRCH2) == 15451
car.Model($CR_SRCH2) == 15434
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
end
    
if or
car.Model($CR_SRCH2) == 15449
car.Model($CR_SRCH2) == 15464
car.Model($CR_SRCH2) == 15436
car.Model($CR_SRCH2) == 15452
car.Model($CR_SRCH2) == 15491
car.Model($CR_SRCH2) == 15498
car.Model($CR_SRCH2) == 15549
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end
    
if or
car.Model($CR_SRCH2) == 15505
car.Model($CR_SRCH2) == 15527
car.Model($CR_SRCH2) == 15530
car.Model($CR_SRCH2) == 15534
car.Model($CR_SRCH2) == 15379
car.Model($CR_SRCH2) == 15351
    then
    gosub @CAR_SEARCH_COOP_POINT_BACK_CHECK 
    return
    end                    
    
if or
car.Model($CR_SRCH2) == #CHEETAH
car.Model($CR_SRCH2) == #BULLET
car.Model($CR_SRCH2) == #TURISMO
car.Model($CR_SRCH2) == 15468
car.Model($CR_SRCH2) == 15307
car.Model($CR_SRCH2) == 15514
car.Model($CR_SRCH2) == 15502
car.Model($CR_SRCH2) == 15503
    then
    gosub @CAR_SEARCH_COOP_POINT_FRONT_CHECK 
    return
    end    
    
if or
car.Model($CR_SRCH2) == #BFINJECT
car.Model($CR_SRCH2) == #CADDY
car.Model($CR_SRCH2) == #BAGGAGE
car.Model($CR_SRCH2) == #DOZER
//car.Model($CR_SRCH2) == #BLOODRA
car.Model($CR_SRCH2) == RHINO_MODEL_NUMBER
car.Model($CR_SRCH2) == #FORKLIFT
car.Model($CR_SRCH2) == #TRACTOR
then
CAR_NO_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return
end

if or
car.Model($CR_SRCH2) == #BANDITO
car.Model($CR_SRCH2) == #KART
car.Model($CR_SRCH2) == #MOWER
car.Model($CR_SRCH2) == #RCCAM
car.Model($CR_SRCH2) == #RCBANDIT
car.Model($CR_SRCH2) == #RCTIGER
car.Model($CR_SRCH2) == #DUNERIDE
car.Model($CR_SRCH2) == 15497
then
CAR_NO_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return
end

if
UNITED_MAP == 0
then

if
car.Model($CR_SRCH2) == 15420
then
CAR_NO_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return
end
    
end

if or
car.Model($CR_SRCH2) == 15352
car.Model($CR_SRCH2) == 15267
car.Model($CR_SRCH2) == 15271
car.Model($CR_SRCH2) == 15288
car.Model($CR_SRCH2) == 15306
car.Model($CR_SRCH2) == 15244
then
CAR_NO_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return
end

if or
car.Model($CR_SRCH2) == 15409
car.Model($CR_SRCH2) == 15495
car.Model($CR_SRCH2) == 15548
car.Model($CR_SRCH2) == 15558
car.Model($CR_SRCH2) == 15571
car.Model($CR_SRCH2) == 15580
car.Model($CR_SRCH2) == 15581
then
CAR_NO_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return
end

if
UNITED_MAP == 0
    then
    if or
    car.Model($CR_SRCH2) == 15406
    car.Model($CR_SRCH2) == 15409
    car.Model($CR_SRCH2) == 15411
    car.Model($CR_SRCH2) == 15412
    car.Model($CR_SRCH2) == 15418
    car.Model($CR_SRCH2) == 15488
    then
    CAR_NO_DOOR_FLAG = 1
    gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
    return
    end
end

gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET     

return

:CAR_SEARCH_COOP_POINT_BACK_CHECK
CAR_BACK_DOOR_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return

:CAR_SEARCH_COOP_POINT_FRONT_CHECK
CAR_TRUNK_FRONT_FLAG = 1
gosub @CAR_SEARCH_COOP_TRUNK_OFFSET_GET
return

:CAR_SEARCH_COOP_TRUNK_OFFSET_GET
0441: 15@ = car $CR_SRCH2 model

0AD3: v$GAS_TANK_X = format "X%d" 15@
0AD3: v$GAS_TANK_Y = format "Y%d" 15@
0AD3: v$GAS_TANK_Z = format "Z%d" 15@

0AF2: 4@ = get_float_from_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_X
0AF2: 5@ = get_float_from_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Y
0AF2: 6@ = get_float_from_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Z

if and
4@ <= -100.0
5@ <= -100.0
6@ <= -100.0
    then
    0AF3: write_float 0.0 to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_X
    0AF3: write_float -3.0 to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Y
    0AF3: write_float 0.0 to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Z        
    4@ = 0.0
    5@ = 3.0
    6@ = 0.0
    end
    
if and
0AB0:   key_pressed 187
$CHEATS_ON == 1
    then
    car.StorePos($CR_SRCH2,4@,5@,6@)
    actor.StorePos(COOP_ACTOR,18@,19@,20@)
    0063: 4@ -= 18@  // (float)
    0063: 5@ -= 19@  // (float)
    0063: 6@ -= 20@  // (float)    
    0AF3: write_float 4@ to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_X
    0AF3: write_float 5@ to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Y
    0AF3: write_float 6@ to_ini_file "data/skins.ini" section "TRUNK" key v$GAS_TANK_Z
    gosub @CAR_TRUNK_OFFSET_WRITE_COOP        
    end
    
0407: store_coords_to 4@ 5@ 6@ from_car $CR_SRCH2 with_offset 4@ 5@ 6@        

return

:CAR_TRUNK_OFFSET_WRITE_COOP

if
UNITED_MAP == 0
then
0B00: delete_file "data/skins_Andreas.ini"  // IF and SET
0B04: copy_file "data/skins.ini" to "data/skins_Andreas.ini" //IF and SET
end

if and
UNITED_MAP == 1
STORIES_MAP == 0
then
0B00: delete_file "data/skins_United.ini"  // IF and SET
0B04: copy_file "data/skins.ini" to "data/skins_United.ini" //IF and SET
end

if and
UNITED_MAP == 1
STORIES_MAP == 1
then
0B00: delete_file "data/skins_Stories.ini"  // IF and SET
0B04: copy_file "data/skins.ini" to "data/skins_Stories.ini" //IF and SET
end

return

:CAR_SEACRH_DAMAGED_CHECK_COOP
0@ = 0

if
UNITED_MAP == 0
then

///////////////////////////////////////////////////////////////////////////

if or
car.Model($CR_SRCH2) == 413
car.Model($CR_SRCH2) == 428
car.Model($CR_SRCH2) == 498
car.Model($CR_SRCH2) == 582
car.Model($CR_SRCH2) == 482
car.Model($CR_SRCH2) == 427
car.Model($CR_SRCH2) == 416
car.Model($CR_SRCH2) == 440
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
if
car.Model($CR_SRCH2) == #CAMPER
    then
    if
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
        then
        0@ = 1
        return
        end
    end    
    
if or
car.Model($CR_SRCH2) == #CHEETAH
car.Model($CR_SRCH2) == #BULLET
car.Model($CR_SRCH2) == #TURISMO
car.Model($CR_SRCH2) == 15468
car.Model($CR_SRCH2) == 15503
    then
    if
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 0
        then
        0@ = 1
        return
        end
    end    

if or   
car.Model($CR_SRCH2) == 15422
car.Model($CR_SRCH2) == #BOXVILLE
car.Model($CR_SRCH2) == 15486
car.Model($CR_SRCH2) == 15435
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
///////////////////////////////////////////////////////////////////////////        
    
else

///////////////////////////////////////////////////////////////////////////

if or
car.Model($CR_SRCH2) == 15307
car.Model($CR_SRCH2) == 15514
    then
    if
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 0
        then
        0@ = 1
        return
        end
    end

if or
car.Model($CR_SRCH2) == 15266
car.Model($CR_SRCH2) == 15399
car.Model($CR_SRCH2) == 15291
car.Model($CR_SRCH2) == 15365
car.Model($CR_SRCH2) == 15279
car.Model($CR_SRCH2) == 15280
car.Model($CR_SRCH2) == 15328
car.Model($CR_SRCH2) == 15345
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
if or
car.Model($CR_SRCH2) == 15498
car.Model($CR_SRCH2) == 15530
car.Model($CR_SRCH2) == 15534
car.Model($CR_SRCH2) == 15385
car.Model($CR_SRCH2) == 15451
car.Model($CR_SRCH2) == 15452
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end          
    
if or
car.Model($CR_SRCH2) == 15358
car.Model($CR_SRCH2) == 15379
car.Model($CR_SRCH2) == 15385
car.Model($CR_SRCH2) == 15323
car.Model($CR_SRCH2) == 15351
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
if or
car.Model($CR_SRCH2) == 15386
car.Model($CR_SRCH2) == 15331
car.Model($CR_SRCH2) == 15491
car.Model($CR_SRCH2) == 15406
car.Model($CR_SRCH2) == 15505
car.Model($CR_SRCH2) == 15416
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
if or
car.Model($CR_SRCH2) == 15431
car.Model($CR_SRCH2) == 15527
car.Model($CR_SRCH2) == 15331
car.Model($CR_SRCH2) == 15449
car.Model($CR_SRCH2) == 15276
car.Model($CR_SRCH2) == 15353
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
if or
car.Model($CR_SRCH2) == 15434
car.Model($CR_SRCH2) == 15449
car.Model($CR_SRCH2) == 15464
car.Model($CR_SRCH2) == 15549
    then
    if or
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 4
    09BB:   car $CR_SRCH2 has_visible_damage_on_component 5
        then
        0@ = 1
        return
        end
    end
    
///////////////////////////////////////////////////////////////////////////        

end                                           

if 
09BB:   car $CR_SRCH2 has_visible_damage_on_component 1
    then 
    0@ = 1  
    end

if
UNITED_MAP == 0
then    
if or
8D0C: not get_car $CR_SRCH2 component "boot_dummy" matrix_pointer_to 1@ // IF and SET
car.Model($CR_SRCH2) == #HOTDOG
car.Model($CR_SRCH2) == #CAMPER 
    then
    if
    0D0C: get_car $CR_SRCH2 component "door_rf_dummy" matrix_pointer_to 1@ // IF and SET
        then
        if
        09BB:   car $CR_SRCH2 has_visible_damage_on_component 3
            then
            0@ = 1
            else
            0@ = 0
            end
        end
    end
else
if or
8D0C: not get_car $CR_SRCH2 component "boot_dummy" matrix_pointer_to 1@ // IF and SET
car.Model($CR_SRCH2) == 15420
    then
    if
    0D0C: get_car $CR_SRCH2 component "door_rf_dummy" matrix_pointer_to 1@ // IF and SET
        then
        if
        09BB:   car $CR_SRCH2 has_visible_damage_on_component 3
            then
            0@ = 1
            else
            0@ = 0
            end
        end
    end
end        

return

:CAR_SEARCH_COOP_ANIM_CHECK
$CAR_CHECKING_FLAG_2P = 1
6@ = Car.Angle($CR_SRCH2)
0470: 1@ = actor COOP_ACTOR current_weapon
01B9: set_actor COOP_ACTOR armed_weapon_to 0
0992: set_player 1 weapons_scrollable 0

while not animation.Available("CAR_CHECKS")
wait 0 
animation.Load("CAR_CHECKS")
end

if or
car.Id($CR_SRCH2) == #BULLET
car.Id($CR_SRCH2) == #CHEETAH
car.Id($CR_SRCH2) == #TURISMO
car.Id($CR_SRCH2) == 15468
car.Id($CR_SRCH2) == 15307
car.Id($CR_SRCH2) == 15514
car.Id($CR_SRCH2) == 15503
then
0D0C: get_car $CR_SRCH2 component "bonnet_dummy" matrix_pointer_to 1@ // IF and SET
0D06: get_matrix 1@ position_to 2@ 3@ 4@
actor.StorePos(COOP_ACTOR,5@,6@,4@)
0E27: get_angle_from_two_coords 5@ 6@ and 2@ 3@ to 6@ 
end

if and
8D0C: not get_car $CR_SRCH2 component "boot_dummy" matrix_pointer_to 1@ // IF and SET
CAR_BACK_DOOR_FLAG == 0
then
0D0C: get_car $CR_SRCH2 component "door_rf_dummy" matrix_pointer_to 1@ // IF and SET
0D06: get_matrix 1@ position_to 2@ 3@ 4@
actor.StorePos(COOP_ACTOR,5@,6@,4@)
0E27: get_angle_from_two_coords 5@ 6@ and 2@ 3@ to 6@
end

05D4: AS_actor COOP_ACTOR rotate_angle 6@

0A96: 10@ = actor COOP_ACTOR struct
0A96: 11@ = actor COOP_ACTOR struct
0A8E: 10@ = 10@ + 0x558
0A8E: 11@ = 11@ + 0x55C
32@ = 0

for 21@ = 1 to 109

if
003A:   $CR_SRCH2 == $PARK_CAR[21@] // (int)
    then
    $PARK_CAR_ID[21@] = 0
    end

end  

:CAR_SEACRH_CHECK_COOP_22
wait 0
0A8D: 12@ = read_memory 10@ size 4 virtual_protect 0
0A8D: 13@ = read_memory 11@ size 4 virtual_protect 0

if
32@ > 1500
    then
    $CAR_CHECKING_FLAG_2P = 0
    32@ = 0
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0
    0992: set_player 1 weapons_scrollable 1     
    jump to @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
if or
0045:   12@ == 13@  // (float)
$FP_ACTIVATED == 1
jf @CAR_SEACRH_CHECK_COOP_22   

while not animation.Available("CAR_CHECKS")
wait 0 
animation.Load("CAR_CHECKS")
end

0605: actor COOP_ACTOR perform_animation "car_check" IFP "CAR_CHECKS" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time 2839 

Audiostream.LinkToActor($CAR_SEARCH_COOP_SOUND,COOP_ACTOR)
Audiostream.Volume($CAR_SEARCH_COOP_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($CAR_SEARCH_COOP_SOUND, 0)
Audiostream.PerformAction($CAR_SEARCH_COOP_SOUND, PLAY)

32@ = 0 

:CAR_SEACRH_CHECK_COOP_3
wait 0

if
0E3E: is_button_just_pressed 1 button 15
then
wait 0
0687: clear_actor COOP_ACTOR task
end

if and
not actor.Animation(COOP_ACTOR) == "car_check"
32@ > 50
    then
    $CAR_CHECKING_FLAG_2P = 0
    32@ = 0
    06AB: set_actor COOP_ACTOR all_weapons_hidden 0 
    01B9: set_actor COOP_ACTOR armed_weapon_to 1@  
    0992: set_player 1 weapons_scrollable 1
    Audiostream.PerformAction($CAR_SEARCH_COOP_SOUND, STOP)  
    jump to @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
if
32@ > 2839
jf @CAR_SEACRH_CHECK_COOP_3
Audiostream.PerformAction($CAR_SEARCH_COOP_SOUND, STOP) 
04EF: release_animation "CAR_CHECKS"

if and
QUEST_CARSEARCH_HOUSESEARCH_MODE == 1
$ONMISSION == 1
$QUEST_TYPE == 5
then
//ass
else

if or
not $QUEST_TYPE == 5
$RQUEST_TIMER_STOPPED_FLAG == 1
then
CAR_OBISKENO += 1
end

end

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_CAR_OBISKENO"

if
$CHEATED_FLAG == 0 
then    
0@ += 1
end    
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_CAR_OBISKENO"
0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT41_GOT"
    
if and
2@ == 0
0@ >= 300
    then
    v$ACHIEVEMNT = "ACH41"
    $ACHIEVEMENT_GOT_FLAG = 1    
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT41_GOT"    
    end

$CAR_CHECKING_FLAG_2P = 0  
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
01B9: set_actor COOP_ACTOR armed_weapon_to 1@  
0992: set_player 1 weapons_scrollable 1
wait 100
32@ = 0
0A97: 11@ = car $CR_SRCH2 struct 
11@ += 16
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0    
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 1

if and
not $MUTATION_ACTIVE == 4
not CUSTOM_MODE_ONLY_MELEE == 1
then
if and
not Car.Id($CR_SRCH2) == #PATRIOT
not Car.Id($CR_SRCH2) == #BARRACKS
not Car.Id($CR_SRCH2) == 15318
not Car.Id($CR_SRCH2) == 15377
not Car.Id($CR_SRCH2) == 15522
not Car.Id($CR_SRCH2) == 15427
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND   
if and
not Car.Id($CR_SRCH2) == 15350
not Car.Id($CR_SRCH2) == 15269
not Car.Id($CR_SRCH2) == 15408
not Car.Id($CR_SRCH2) == 15493
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND

if and
Car.Id($CR_SRCH2) == 15422
UNITED_MAP == 0
then
jump to @CAR_SEACRH_COOP_SKIP_MONEY_FIND
end

if and
not Car.Id($CR_SRCH2) == 15334
not Car.Id($CR_SRCH2) == 15382
not Car.Id($CR_SRCH2) == 15433
not Car.Id($CR_SRCH2) == 15563
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
if or
not Car.Id($CR_SRCH2) == 15423
UNITED_MAP == 1
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
if and
not Car.Id($CR_SRCH2) == #COPCARLA
not Car.Id($CR_SRCH2) == #COPCARSF
not Car.Id($CR_SRCH2) == #COPCARVG
not Car.Id($CR_SRCH2) == #COPCARRU
not Car.Id($CR_SRCH2) == #ENFORCER
not Car.Id($CR_SRCH2) == 15286
not Car.Id($CR_SRCH2) == 15362
not Car.Id($CR_SRCH2) == 15291
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
if and
not Car.Id($CR_SRCH2) == 15250
not Car.Id($CR_SRCH2) == 15544
not Car.Id($CR_SRCH2) == 15486
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
if
not Car.Id($CR_SRCH2) == #FBIRANCH
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
if and
not Car.Id($CR_SRCH2) == 15365
not Car.Id($CR_SRCH2) == 15415
not Car.Id($CR_SRCH2) == 15416
not Car.Id($CR_SRCH2) == 15504
not Car.Id($CR_SRCH2) == 15505
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND
end

if and
not Car.Id($CR_SRCH2) == #AMBULAN
not car.Model($CR_SRCH2) == 15266
not car.Model($CR_SRCH2) == 15399
not car.Model($CR_SRCH2) == 15406
not car.Model($CR_SRCH2) == 15491
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND

if and
not car.Id($CR_SRCH2) == #UTILITY
not car.Id($CR_SRCH2) == #TOWTRUCK
not car.Id($CR_SRCH2) == 15289 //SPAND VC
not car.Id($CR_SRCH2) == 15351 //PANLTC III
not car.Id($CR_SRCH2) == 15451 //PANLTC LCS
not car.Id($CR_SRCH2) == 15545 //YANKEE VCS
jf @CAR_SEACRH_COOP_SKIP_MONEY_FIND

if or
$MONTHS_PASSED > 0
$GAMEMODE_EDITOR == 1
    then
    008B: 0@ = $MONTHS_PASSED // (int)
    0@ *= 30
    
    if
    $MONTHS_PASSED > 1
    then
    0@ += 15
    end
    
    if
    $GAMEMODE_EDITOR == 1
    then
    0@ = 25
    end
    
    if and
    QUEST_CARSEARCH_HOUSESEARCH_MODE == 0
    $ONMISSION == 1
    $QUEST_TYPE == 5
    then
    //ass
    
    if
    0@ > 65
    then
    0@ = 65
    end
    
    else
    
    if
    0@ > 85
    then
    0@ = 85
    end
        
    end
    
    if
    PERK_FINDGOODS == 1
    then
    0@ -= 15
    end
    
    if
    PERK_FINDGOODS == 2
    then
    0@ -= 25
    end
    
    if
    0@ < 0
    then
    0@ = 5
    end
        
    if
    0E4D: random_percent 0@
        then
        03E5: show_text_box 'INV110'
        jump @CAR_SEARCH_COOP_CHECK_IDLE
        else
        if and
        0E4D: random_percent 5
        not $QUEST_TYPE == 5
            then
            
            if
            PERK_FINDGOODS == 0
            then
            
            if
            $FREEMODE == 0
            then
            random_int 0@ 15 125
            else
            random_int 0@ 25 200
            end
            
            else
            
            if
            $FREEMODE == 0
            then
            random_int 0@ 65 175
            else
            random_int 0@ 125 300
            end
            
            end
            
            0513: show_text_box_1number 'INV310' number 0@  // ~k~~VEHICLE_ENTER_EXIT~ Use Slot Machine $~1~
            MONEY_FOUND_TEXT_TIME = 85
            0109: player 1 money += 0@
            018C: play_sound 1057 at 0.0 0.0 0.0
            $TEMP_XP = CASH_FIND_XP
            008D: $TEMP_XP = integer $TEMP_XP to_float
            0069: $TEMP_XP *= $XP_COEFF // (float)
            008C: $TEMP_XP = float $TEMP_XP to_integer
            0058: $PLAYER_XP += $TEMP_XP // (int)
            jump @CAR_SEARCH_COOP_CHECK_IDLE
            end
        end
    else
    if and
    0E4D: random_percent 5
    not $QUEST_TYPE == 5
        then
        
        if
        PERK_FINDGOODS == 0
        then
            
        if
        $FREEMODE == 0
        then
        random_int 0@ 15 125
        else
        random_int 0@ 25 200
        end
            
        else
            
        if
        $FREEMODE == 0
        then
        random_int 0@ 65 175
        else
        random_int 0@ 125 300
        end
            
        end
        
        0513: show_text_box_1number 'INV310' number 0@  // ~k~~VEHICLE_ENTER_EXIT~ Use Slot Machine $~1~
        MONEY_FOUND_TEXT_TIME = 85
        0109: player 1 money += 0@
        018C: play_sound 1057 at 0.0 0.0 0.0
        $TEMP_XP = CASH_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)
        jump @CAR_SEARCH_COOP_CHECK_IDLE
        end    
    end
    
:CAR_SEACRH_COOP_SKIP_MONEY_FIND    

if and
QUEST_CARSEARCH_HOUSESEARCH_MODE == 1
$ONMISSION == 1
$QUEST_TYPE == 5
then
//ass
else

if and
$QUEST_TYPE == 5
RQUEST_TIMER_STOPPED_FLAG == 0
then

if
$MONTHS_PASSED > 0
then
random_int 0@ 0 to 10
else
0@ = 1
end

if
not 0@ == 5
then

if
CAR_SEARCH_DO_NOT_GIVE == 1
then
03E5: show_text_box 'INV300'
else
03E5: show_text_box 'INV300A'
end

random_float 0@ 0.25 0.95
CAR_OBISKENO += 1
005F: EXTRA_WEIGHT += 0@  // (float)
else
03E5: show_text_box 'INV110'
end
 
jump @CAR_SEARCH_COOP_CHECK_IDLE
end  

end

if and
not $MUTATION_ACTIVE == 4
not CUSTOM_MODE_ONLY_MELEE == 1
then
if and
not Car.Id($CR_SRCH2) == #PATRIOT
not Car.Id($CR_SRCH2) == #BARRACKS
not Car.Id($CR_SRCH2) == 15318
not Car.Id($CR_SRCH2) == 15377
not Car.Id($CR_SRCH2) == 15522
not Car.Id($CR_SRCH2) == 15427
jf @CAR_SEACRH_CHECK_COOP_PATRIOT
if and
not Car.Id($CR_SRCH2) == 15350
not Car.Id($CR_SRCH2) == 15269
not Car.Id($CR_SRCH2) == 15408
not Car.Id($CR_SRCH2) == 15493
jf @CAR_SEACRH_CHECK_COOP_PATRIOT

if and
Car.Id($CR_SRCH2) == 15422
UNITED_MAP == 0
then
jump to @CAR_SEACRH_CHECK_COOP_BANDITS
end

if and
not Car.Id($CR_SRCH2) == 15333
not Car.Id($CR_SRCH2) == 15382
not Car.Id($CR_SRCH2) == 15433
not Car.Id($CR_SRCH2) == 15563
jf @CAR_SEACRH_CHECK_COOP_BANDITS
if or
not Car.Id($CR_SRCH2) == 15423
UNITED_MAP == 1
jf @CAR_SEACRH_CHECK_COOP_FERMERS
if and
not Car.Id($CR_SRCH2) == #COPCARLA
not Car.Id($CR_SRCH2) == #COPCARSF
not Car.Id($CR_SRCH2) == #COPCARVG
not Car.Id($CR_SRCH2) == #COPCARRU
not Car.Id($CR_SRCH2) == #ENFORCER
not Car.Id($CR_SRCH2) == 15286
not Car.Id($CR_SRCH2) == 15362
not Car.Id($CR_SRCH2) == 15291
jf @CAR_SEACRH_CHECK_COOP_POLICE
if and
not Car.Id($CR_SRCH2) == 15250
not Car.Id($CR_SRCH2) == 15544
not Car.Id($CR_SRCH2) == 15486
jf @CAR_SEACRH_CHECK_COOP_POLICE
if
not Car.Id($CR_SRCH2) == #FBIRANCH
jf @CAR_SEACRH_CHECK_COOP_POLICE
if and
not Car.Id($CR_SRCH2) == 15365
not Car.Id($CR_SRCH2) == 15415
not Car.Id($CR_SRCH2) == 15416
not Car.Id($CR_SRCH2) == 15504
not Car.Id($CR_SRCH2) == 15505
jf @CAR_SEACRH_CHECK_COOP_POLICE
end

if and
not Car.Id($CR_SRCH2) == #AMBULAN
not car.Model($CR_SRCH2) == 15266
not car.Model($CR_SRCH2) == 15399
not car.Model($CR_SRCH2) == 15406
not car.Model($CR_SRCH2) == 15491
jf @CAR_SEACRH_CHECK_COOP_AMBULAN

if and
not car.Id($CR_SRCH2) == #UTILITY
not car.Id($CR_SRCH2) == #TOWTRUCK
not car.Id($CR_SRCH2) == 15289 //SPAND VC
not car.Id($CR_SRCH2) == 15351 //PANLTC III
not car.Id($CR_SRCH2) == 15451 //PANLTC LCS
not car.Id($CR_SRCH2) == 15545 //YANKEE VCS
jf @CAR_SEARCH_COOP_REPAIR_KIT 

:CAR_SEACRH_NORMAL_COOP_WEAPON
0209: 10@ = random_int_in_ranges 0 5 
if and
10@ == 2
$MIKE_STORY == 0
not $MUTATION_ACTIVE == 4
not CUSTOM_MODE_ONLY_MELEE == 1 
jf @CAR_SEACRH_NORMAL_COOP_BANKA

$WEAPON_FIND += 1
$TEMP_XP = WEAPON_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_WEAPON_FIND"

if
$CHEATED_FLAG == 0 
then        
0@ += 1
end        
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_WEAPON_FIND"

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT64_GOT"
0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_WEAPON_FIND"    
    
if and
0@ == 0
2@ >= 200
$CHEATED_FLAG == 0
    then
    v$ACHIEVEMNT = "ACH64"
    $ACHIEVEMENT_GOT_FLAG = 1        
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT64_GOT"        
    end
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

if
09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
    then
    pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
    end             

:OHFUCK23_COOP

if
UNITED_MAP == 0
then
random_int 11@ MIN_WEAP_GEN to MAX_WEAP_GEN
end
        
if
not 11@ == WEAP_GEN_SET
then
0209: 10@ = random_int_in_ranges 22 35 
else
0209: 10@ = random_int_in_ranges MIN_WEAPON_NUM MAX_WEAPON_NUM
end           

if
UNITED_MAP == 1
then

if 
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges MINID_VC_WEAP MAXID_VC_WEAP
else
0209: 10@ = random_int_in_ranges MINID_VCS_WEAP MAXID_VCS_WEAP
end

else

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges MINID_III_WEAP MAXID_III_WEAP
else
0209: 10@ = random_int_in_ranges MINID_LCS_WEAP MAXID_LCS_WEAP
end

end

end

if and
not 10@ == 119
not 10@ == 115
not 10@ == 114
not 10@ == 118
not 10@ == 132
not 10@ == 133
not 10@ == 134
not 10@ == 135
jf @OHFUCK23_COOP

if and
not 10@ == 148
not 10@ == 149
not 10@ == 150
not 10@ == 92
not 10@ == 93
not 10@ == 94
jf @OHFUCK23_COOP

0781: get_weapon_with_ID 10@ model_to 11@  

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

gosub @6CHECKING_COOP_AMMO

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then
04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup 11@ type 3 ammo 12@ at 4@ 5@ 6@
end

wait 200
03E5: show_text_box 'INV107'
jump @CAR_SEARCH_COOP_CHECK_IDLE

///////////////////////////////////////////////////////////////////////////////////////////////

:CAR_SEACRH_NORMAL_COOP_BANKA

0209: 10@ = random_int_in_ranges 0 7                    
008B: 12@ = PLAYER_FOOD_ZAPAS // (int)
if
0E4D: random_percent 12@
    then
    10@ = -1
    
    if and
    PERK_FINDGOODS == 1
    0E4D:  random_percent 8
    then
    0209: 10@ = random_int_in_ranges 0 7
    end
    
    if and
    PERK_FINDGOODS == 2
    0E4D:  random_percent 13
    then
    0209: 10@ = random_int_in_ranges 0 7
    end
    
    end                  
 
if 
10@ == 3 
    then
    $BANKA_FIND += 1
    $TEMP_XP = BANKA_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)    
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANKA_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANKA_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT83_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BANKA_FIND"        
        
    if and
    0@ == 0
    2@ >= 100
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH83"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT83_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then 
    $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += 1
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 15
        then
        $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $BANKA_FIND += 1
        $TEMP_XP = BANKA_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 30
        then
        $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $BANKA_FIND += 1
        $TEMP_XP = BANKA_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)
        end 
    end
     
    03E5: show_text_box 'INV109' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
///////////////////////////////////////////////////////////////////////////////////////////////    

0209: 10@ = random_int_in_ranges 0 7                    
008B: 12@ = PLAYER_HEAL_ZAPAS // (int)
12@ *= 2
if
0E4D: random_percent 12@
    then
    10@ = -1
    end                  
 
if
10@ == 4 
    then
    $HEAL_FIND += 1
    $TEMP_XP = HEAL_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)    
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_HEAL_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_HEAL_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT84_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_HEAL_FIND"        
        
    if and
    0@ == 0
    2@ >= 50
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH84"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT84_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 1
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 10
        then
        $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $HEAL_FIND += 1
        $TEMP_XP = HEAL_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)   
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 25
        then
        $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $HEAL_FIND += 1
        $TEMP_XP = HEAL_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)   
        end
    end
     
    03E5: show_text_box 'INV108' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
///////////////////////////////////////////////////////////////////////////////////////////////        

0209: 10@ = random_int_in_ranges 0 5 
if or
10@ == 0
10@ == 2 
    then
    $JIMMY_FIND += 1
    $TEMP_XP = JIMMY_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)     
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT87_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_JIMMY_FIND"
                
    if and
    0@ == 0
    2@ >= 100
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH87"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT87_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += 1
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 15
        then
        $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $JIMMY_FIND += 1
        $TEMP_XP = JIMMY_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)   
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 30
        then
        $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $JIMMY_FIND += 1
        $TEMP_XP = JIMMY_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)   
        end
    end
     
    03E5: show_text_box 'INV91'
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
///////////////////////////////////////////////////////////////////////////////////////////////    

0209: 10@ = random_int_in_ranges 0 5 
if
10@ == 2  
    then
    $BINT_FIND += 1
    $TEMP_XP = BINT_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)    
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BINT_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_BINT_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT85_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_BINT_FIND"        
        
    if and
    0@ == 0
    2@ >= 80
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH85"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT85_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 15
        then
        $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $BINT_FIND += 1
        $TEMP_XP = BINT_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int) 
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 30
        then
        $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
        $BINT_FIND += 1
        $TEMP_XP = BINT_FIND_XP
        008D: $TEMP_XP = integer $TEMP_XP to_float
        0069: $TEMP_XP *= $XP_COEFF // (float)
        008C: $TEMP_XP = float $TEMP_XP to_integer
        0058: $PLAYER_XP += $TEMP_XP // (int)
        end
    end
     
    03E5: show_text_box 'INV16' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE 
    end
    
///////////////////////////////////////////////////////////////////////////////////////////////    

if
CAR_SEARCH_DO_NOT_GIVE == 0
then

0209: 10@ = random_int_in_ranges 0 5
if
$KANISTRA_FUEL_2P > 23.0
then
10@ = 1
end

if or   
10@ == 2
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
    then
    $KANISTRA_FIND += 1
    $TEMP_XP = KANISTRA_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)     
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT86_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"        
        
    if and
    0@ == 0
    2@ >= 20
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH86"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT86_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] = 1 
    random_float $KANISTRA_FUEL2 $KANISTRA_FUEL_MIN $KANISTRA_FUEL_MAX
    $KANISTRA_FUEL2 *= 2.0
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 15
        then
        $KANISTRA_FUEL2 *= 1.5
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 30
        then
        $KANISTRA_FUEL2 *= 2.0
        end    
    0059: $KANISTRA_FUEL_2P += $KANISTRA_FUEL2 // (float)    
    end
    
    03E5: show_text_box 'INV111' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
else

0209: 10@ = random_int_in_ranges 0 5
if
$KANISTRA_FUEL_2P > 23.0
then
10@ = 1
end

if  
10@ == 2
    then
    $KANISTRA_FIND += 1
    $TEMP_XP = KANISTRA_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)     
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"    
    
    if
    $CHEATED_FLAG == 0 
    then    
    0@ += 1
    end        
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT86_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_KANISTRA_FIND"        
        
    if and
    0@ == 0
    2@ >= 20
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH86"
        $ACHIEVEMENT_GOT_FLAG = 1            
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT86_GOT"            
        end    
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] = 1 
    random_float $KANISTRA_FUEL2 $KANISTRA_FUEL_MIN $KANISTRA_FUEL_MAX
    if and
    PERK_FINDGOODS == 1
    0E4D: random_percent 15
        then
        $KANISTRA_FUEL2 *= 1.5
        end
    if and
    PERK_FINDGOODS == 2
    0E4D: random_percent 30
        then
        $KANISTRA_FUEL2 *= 2.0
        end     
    0059: $KANISTRA_FUEL_2P += $KANISTRA_FUEL2 // (float)    
    end
    
    03E5: show_text_box 'INV111' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
end
    
///////////////////////////////////////////////////////////////////////////////////////////////    

0209: 10@ = random_int_in_ranges 0 20
if and   
10@ == 10
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] == 0
    then
    :CAR_SEARCH_COOP_REPAIR_KIT
    
    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then        
    $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] += 1
    end
    
    $TEMP_XP = REPAIR_KIT_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)         
    03E5: show_text_box 'INV225' 
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end
    
///////////////////////////////////////////////////////////////////////////////////////////////        

:PUST_BAGA_JUMP_COOP

$PUST_BAGA += 1

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"

if
$CHEATED_FLAG == 0 
then        
0@ += 1
end        
 
0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT88_GOT"
0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"        
        
if and
0@ == 0
2@ >= 90
$CHEATED_FLAG == 0
    then
    v$ACHIEVEMNT = "ACH88"
    $ACHIEVEMENT_GOT_FLAG = 1            
    0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT88_GOT"            
    end
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

03E5: show_text_box 'INV110'

05C1: AS_actor COOP_ACTOR speak_from_audio_table 181

jump @CAR_SEARCH_COOP_CHECK_IDLE

/////////////////////////////////////////////////////////////////////////////////////////////// 

:CAR_SEACRH_CHECK_COOP_PATRIOT       

random_int 10@ 0 to 2

if
10@ == 0
then
10@ = 77
else
10@ = 75
end

if
UNITED_MAP == 1
then

if 
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
10@ = 144
else
10@ = 200
end

else

if
STORIES_MAP == 0
then
10@ = 116
else
10@ = 170
end

end

end

if or 
10@ == 77 
10@ == 75  
10@ == 116
10@ == 144
10@ == 170
10@ == 200 
jf @CAR_SEACRH_CHECK_COOP_PATRIOT  

random_int 1@ 0 3

if and
not 1@ == 2
0491:   actor COOP_ACTOR has_weapon 92
8491: not  actor COOP_ACTOR has_weapon 107
jf @CAR_SEACRH_CHECK_COOP_PATRIOT_GLASSES

if
0E4D: random_percent 5
then

if
10@ == 77
then
10@ = 70
end

if
10@ == 75
then
10@ = 94
end

if
10@ == 144
then
10@ = 149
end

if
10@ == 170
then
10@ = 181
end

if
10@ == 200
then
10@ = 211
end

end

$WEAPON_FIND += 1
$TEMP_XP = WEAPON_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

if
09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
    then
    pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
    end

0781: get_weapon_with_ID 10@ model_to 11@  

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

gosub @4CHECKING_COOP_AMMO
if or 
10@ == 70 
10@ == 94  
10@ == 149
10@ == 181
10@ == 211
then
12@ = 100
end

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then
04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup 11@ type 3 ammo 12@ at 4@ 5@ 6@
end

wait 200 
03E5: show_text_box 'INV107' 
jump @CAR_SEARCH_COOP_CHECK_IDLE

///////////////////////////////////////////////////////////////////////////////////////////////

:CAR_SEACRH_CHECK_COOP_PATRIOT_GLASSES
random_int 1@ 0 3

if and
8491: not  actor COOP_ACTOR has_weapon 92
8491: not  actor COOP_ACTOR has_weapon 107
then
1@ = 2
end

if and
1@ == 0
UNITED_MAP == 0
8491: not  actor COOP_ACTOR has_weapon 44
8491: not  actor COOP_ACTOR has_weapon 45
    then
    
    $WEAPON_FIND += 1
    $TEMP_XP = WEAPON_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)
 
    if
    $WEAPON_FIND == 18
        then
        $WEAPON_FIND = 0
        end
    
    if
    09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
        then
        pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
        end     

    while not model.Available(#NVGOGGLES)
    wait 0
    model.Load(#NVGOGGLES)
    mload
    end

    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
    032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup #NVGOGGLES type 3 ammo 1 at 4@ 5@ 6@
    end
    
    wait 200 
    03E5: show_text_box 'INV114'
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end

if and
1@ == 1
UNITED_MAP == 0
8491: not  actor COOP_ACTOR has_weapon 44
8491: not  actor COOP_ACTOR has_weapon 45
    then
    
    $WEAPON_FIND += 1
    $TEMP_XP = WEAPON_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)
 
    if
    $WEAPON_FIND == 18
        then
        $WEAPON_FIND = 0
        end
    
    if
    09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
        then
        pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
        end     

    while not model.Available(#IRGOGGLES)
    wait 0
    model.Load(#IRGOGGLES)
    mload
    end

    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
    032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup #IRGOGGLES type 3 ammo 1 at 4@ 5@ 6@
    end
        
    wait 200 
    03E5: show_text_box 'INV115'
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end        
    
if and
1@ == 2
8491: not  actor COOP_ACTOR has_weapon 92
8491: not  actor COOP_ACTOR has_weapon 107
    then
    
    $WEAPON_FIND += 1
    $TEMP_XP = WEAPON_FIND_XP
    008D: $TEMP_XP = integer $TEMP_XP to_float
    0069: $TEMP_XP *= $XP_COEFF // (float)
    008C: $TEMP_XP = float $TEMP_XP to_integer
    0058: $PLAYER_XP += $TEMP_XP // (int)
 
    if
    $WEAPON_FIND == 18
        then
        $WEAPON_FIND = 0
        end
    
    if
    09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
        then
        pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
        end     

    while not model.Available(#M79)
    wait 0
    model.Load(#M79)
    mload
    end

    if
    not CAR_SEARCH_DO_NOT_GIVE == 1
    then
    04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
    032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup #M79 type 3 ammo 1 at 4@ 5@ 6@
    end
    
    wait 200 
    03E5: show_text_box 'INV224'
    jump @CAR_SEARCH_COOP_CHECK_IDLE
    end            

if or    
0491:   actor COOP_ACTOR has_weapon 44
0491:   actor COOP_ACTOR has_weapon 45
UNITED_MAP == 1
    then
    
    $PUST_BAGA += 1

    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"    
    
    if
    $CHEATED_FLAG == 0 
    then        
    0@ += 1
    end            
     
    0AF1: write_int 0@ to_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"
    
    0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT88_GOT"
    0AF0: 2@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "STATS_PUST_BAGA"            
            
    if and
    0@ == 0
    2@ >= 90
    $CHEATED_FLAG == 0
        then
        v$ACHIEVEMNT = "ACH88"
        $ACHIEVEMENT_GOT_FLAG = 1                
        0AF1: write_int 1 to_ini_file "saves/ZACM.set" section "SCR" key "ACHIEVEMENT88_GOT"                
        end
    
    03E5: show_text_box 'INV110'    
    05C1: AS_actor COOP_ACTOR speak_from_audio_table 181
    
    end    

jump @CAR_SEARCH_COOP_CHECK_IDLE

/////////////////////////////////////////////////////////////////////////////////////////////// 

:CAR_SEACRH_CHECK_COOP_BANDITS 

0209: 10@ = random_int_in_ranges 22 35 

if
UNITED_MAP == 1
then

if 
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges MINID_VC_WEAP MAXID_VC_WEAP
else
0209: 10@ = random_int_in_ranges MINID_VCS_WEAP MAXID_VCS_WEAP
end

else

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges MINID_III_WEAP MAXID_III_WEAP
else
0209: 10@ = random_int_in_ranges MINID_LCS_WEAP MAXID_LCS_WEAP
end

end

end

if or
10@ == 28 
10@ == 30 
10@ == 25
10@ == 111
10@ == 112
10@ == 113
10@ == 117
    then
    else
    if or
    10@ == 136 
    10@ == 138 
    10@ == 142
    10@ == 145    
    10@ == 168 
    10@ == 171 
    10@ == 172
        then
        else
        if or
        10@ == 198 
        10@ == 202 
        10@ == 201
            then
            else
            jump to @CAR_SEACRH_CHECK_COOP_BANDITS
            end
        end
    end
    
if
0E4D: random_percent 5
then

if or
10@ == 28
10@ == 30
10@ == 25
then
10@ = 34
end

if or
10@ == 111
10@ == 112
10@ == 113
10@ == 117
then
10@ = 120
end

if or
10@ == 136
10@ == 138
10@ == 142
then
10@ = 146
end

if or
10@ == 168
10@ == 171
10@ == 172
then
10@ = 175
end

if or
10@ == 198
10@ == 202
10@ == 201
then
10@ = 211
end

end     

$WEAPON_FIND += 1
$TEMP_XP = WEAPON_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

if
09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
    then
    pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
    end

0781: get_weapon_with_ID 10@ model_to 11@  

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

gosub @4CHECKING_COOP_AMMO

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then 
04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup 11@ type 3 ammo 12@ at 4@ 5@ 6@
end
 
wait 200 
03E5: show_text_box 'INV107' 
jump @CAR_SEARCH_COOP_CHECK_IDLE

///////////////////////////////////////////////////////////////////////////////////////////////

:CAR_SEACRH_CHECK_COOP_FERMERS 

random_int 10@ 0 2

if
10@ == 0
then
10@ = 73
else
10@ = 33
end
 
if or
10@ == 73 
10@ == 33 
jf @CAR_SEACRH_CHECK_COOP_FERMERS

$WEAPON_FIND += 1
$TEMP_XP = WEAPON_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

if
09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
    then
    pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
    end

0781: get_weapon_with_ID 10@ model_to 11@   

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

gosub @5CHECKING_COOP_AMMO

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then
04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup 11@ type 3 ammo 12@ at 4@ 5@ 6@
end

wait 200 
03E5: show_text_box 'INV107' 
jump @CAR_SEARCH_COOP_CHECK_IDLE

///////////////////////////////////////////////////////////////////////////////////////////////

:CAR_SEACRH_CHECK_COOP_POLICE

10@ = 0

for 21@ = 1 to 109

if
003A:   $CR_SRCH2 == $PARK_CAR[21@] // (int)
    then
    10@ = 1
    end

end

if or
10@ == 1
0E4D: random_percent 5
jf @PUST_BAGA_JUMP_COOP
 
if
UNITED_MAP == 0
then
0209: 10@ = random_int_in_ranges 22 35 
else

if
$UNITED_VC_FLAG == 0
then

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges 111 120
else
0209: 10@ = random_int_in_ranges MINID_LCS_WEAP MAXID_LCS_WEAP
end
      
else

if
STORIES_MAP == 0
then
0209: 10@ = random_int_in_ranges 136 145
else
0209: 10@ = random_int_in_ranges MINID_VCS_WEAP MAXID_VCS_WEAP
end

end

end

if or
10@ == 22 
10@ == 29
10@ == 25
10@ == 111
10@ == 113
10@ == 136
10@ == 138
10@ == 143
    then    
    else
    if or
    10@ == 165 
    10@ == 169
    10@ == 172
    10@ == 195
    10@ == 199
    10@ == 202
        then    
        else
        jump to @CAR_SEACRH_CHECK_COOP_POLICE
        end
    end

$WEAPON_FIND += 1
$TEMP_XP = WEAPON_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
 
if
$WEAPON_FIND == 18
    then
    $WEAPON_FIND = 0
    end

if
09D1:   pickup $CAR_PICKUP[$WEAPON_FIND] created
    then
    pickup.Destroy($CAR_PICKUP[$WEAPON_FIND])
    end

0781: get_weapon_with_ID 10@ model_to 11@  

while not model.Available(11@)
wait 0
model.Load(11@)
mload
end

gosub @4CHECKING_COOP_AMMO

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then 
04C4: store_coords_to 4@ 5@ 6@ from_actor COOP_ACTOR with_offset 0.0 1.0 0.5 
032B: $CAR_PICKUP[$WEAPON_FIND] = create_weapon_pickup 11@ type 3 ammo 12@ at 4@ 5@ 6@
end

wait 200 
03E5: show_text_box 'INV107' 
jump @CAR_SEARCH_COOP_CHECK_IDLE

:CAR_SEACRH_CHECK_COOP_AMBULAN

10@ = 0

for 21@ = 1 to 109

if
003A:   $CR_SRCH2 == $PARK_CAR[21@] // (int)
    then
    10@ = 1
    end

end

if or
10@ == 1
0E4D: random_percent 5
jf @PUST_BAGA_JUMP_COOP

if
$ALLOW_MEDS == 1
jf @CAR_SEACRH_NORMAL_COOP_WEAPON

if
$FREEMODE == 0
then
0209: 0@ = random_int_in_ranges 2 4
else
0209: 0@ = random_int_in_ranges 1 3
end
 
005E: $HEAL_FIND += 0@  // (int)

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then
005E: $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 0@  // (int)
end

$TEMP_XP = HEAL_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
$TEMP_XP = HEAL_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)

if
0@ == 3
then
$TEMP_XP = HEAL_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
end

if
0@ == 4
then
$TEMP_XP = HEAL_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
end

if
0@ == 5
then
$TEMP_XP = HEAL_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
end

$BINT_FIND += 1

if
not CAR_SEARCH_DO_NOT_GIVE == 1
then
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
end

$TEMP_XP = BINT_FIND_XP
008D: $TEMP_XP = integer $TEMP_XP to_float
0069: $TEMP_XP *= $XP_COEFF // (float)
008C: $TEMP_XP = float $TEMP_XP to_integer
0058: $PLAYER_XP += $TEMP_XP // (int)
03E5: show_text_box 'INV12' 
jump @CAR_SEARCH_COOP_CHECK_IDLE

:4CHECKING_COOP_AMMO  

////////////////////AMMOGEN_SETTINGS_HERE////////////////////

if and
not 10@ == 25
not 10@ == 26
not 10@ == 27
not 10@ == 33
not 10@ == 34
not 10@ == 24
not 10@ == 71
jf @44AMMO_COOP_SMALL
if and
not 10@ == 73
not 10@ == 113
not 10@ == 120
not 10@ == 137
not 10@ == 138
not 10@ == 139
not 10@ == 140
not 10@ == 146
jf @44AMMO_COOP_SMALL
if and
not 10@ == 147
not 10@ == 80
not 10@ == 78
not 10@ == 89
jf @44AMMO_COOP_SMALL
if and
not 10@ == 166
not 10@ == 172
not 10@ == 173
not 10@ == 174
not 10@ == 175
not 10@ == 176    
jf @44AMMO_COOP_SMALL
if and
not 10@ == 196
not 10@ == 202
not 10@ == 203
not 10@ == 204
not 10@ == 205
not 10@ == 206    
jf @44AMMO_COOP_SMALL
if and
not 10@ == 96
not 10@ == 97
not 10@ == 100
not 10@ == 102
not 10@ == 103    
jf @44AMMO_COOP_SMALL
jump to @44AMMO_COOP_NORMAL

    
:44AMMO_COOP_SMALL
0209: 12@ = random_int_in_ranges $W2_FIND_AMMO_MIN $W2_FIND_AMMO_MAX   
0093: 12@ = integer 12@ to_float 
12@ *= 0.4
12@ *= 1.0
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND_SPEC // (float)
0092: 12@ = float 12@ to_integer  

jump to @44AMMO_COOP_NORMAL_SKIP

:44AMMO_COOP_NORMAL
0209: 12@ = random_int_in_ranges $W2_FIND_AMMO_MIN $W2_FIND_AMMO_MAX 
0093: 12@ = integer 12@ to_float 
12@ *= 1.0
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND_SPEC // (float)
0092: 12@ = float 12@ to_integer 

:44AMMO_COOP_NORMAL_SKIP    
return

:5CHECKING_COOP_AMMO

////////////////////AMMOGEN_SETTINGS_HERE////////////////////

if and
not 10@ == 25
not 10@ == 26
not 10@ == 27
not 10@ == 33
not 10@ == 34
not 10@ == 24
not 10@ == 71
jf @441AMMO_COOP_SMALL
if and
not 10@ == 73
not 10@ == 113
not 10@ == 120
not 10@ == 137
not 10@ == 138
not 10@ == 139
not 10@ == 140
not 10@ == 146
jf @441AMMO_COOP_SMALL
if and
not 10@ == 147
not 10@ == 80
not 10@ == 78
not 10@ == 89
jf @441AMMO_COOP_SMALL
if and
not 10@ == 166
not 10@ == 172
not 10@ == 173
not 10@ == 174
not 10@ == 175
not 10@ == 176    
jf @441AMMO_COOP_SMALL
if and
not 10@ == 196
not 10@ == 202
not 10@ == 203
not 10@ == 204
not 10@ == 205
not 10@ == 206    
jf @441AMMO_COOP_SMALL
if and
not 10@ == 96
not 10@ == 97
not 10@ == 100
not 10@ == 102
not 10@ == 103    
jf @441AMMO_COOP_SMALL
jump to @441AMMO_COOP_NORMAL

    
:441AMMO_COOP_SMALL
0209: 12@ = random_int_in_ranges $W3_FIND_AMMO_MIN $W3_FIND_AMMO_MAX   
0093: 12@ = integer 12@ to_float 
12@ *= 0.4
12@ *= 1.0
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND_SPEC // (float)
0092: 12@ = float 12@ to_integer  

jump to @441AMMO_COOP_NORMAL_SKIP

:441AMMO_COOP_NORMAL
0209: 12@ = random_int_in_ranges $W3_FIND_AMMO_MIN $W3_FIND_AMMO_MAX 
0093: 12@ = integer 12@ to_float 
12@ *= 1.0
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND_SPEC // (float)
0092: 12@ = float 12@ to_integer 

:441AMMO_COOP_NORMAL_SKIP  
return

:6CHECKING_COOP_AMMO

////////////////////AMMOGEN_SETTINGS_HERE////////////////////

if and
not 10@ == 25
not 10@ == 26
not 10@ == 27
not 10@ == 33
not 10@ == 34
not 10@ == 24
not 10@ == 71
jf @45AMMO_COOP_SMALL
if and
not 10@ == 73
not 10@ == 113
not 10@ == 120
not 10@ == 137
not 10@ == 138
not 10@ == 139
not 10@ == 140
not 10@ == 146
jf @45AMMO_COOP_SMALL
if and
not 10@ == 147
not 10@ == 80
not 10@ == 78
not 10@ == 89
jf @45AMMO_COOP_SMALL
if and
not 10@ == 166
not 10@ == 172
not 10@ == 173
not 10@ == 174
not 10@ == 175
not 10@ == 176    
jf @45AMMO_COOP_SMALL
if and
not 10@ == 196
not 10@ == 202
not 10@ == 203
not 10@ == 204
not 10@ == 205
not 10@ == 206    
jf @45AMMO_COOP_SMALL
if and
not 10@ == 96
not 10@ == 97
not 10@ == 100
not 10@ == 102
not 10@ == 103    
jf @45AMMO_COOP_SMALL
jump to @45AMMO_COOP_NORMAL

    
:45AMMO_COOP_SMALL
0209: 12@ = random_int_in_ranges $W_FIND_AMMO_MIN $W_FIND_AMMO_MAX   
0093: 12@ = integer 12@ to_float 
12@ *= 0.4
12@ *= 1.8
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND // (float)
0092: 12@ = float 12@ to_integer  

jump to @45AMMO_COOP_NORMAL_SKIP

:45AMMO_COOP_NORMAL
0209: 12@ = random_int_in_ranges $W_FIND_AMMO_MIN $W_FIND_AMMO_MAX 
0093: 12@ = integer 12@ to_float 
12@ *= 1.65
006F: 12@ *= AMMO_TRUNKS_COEFF_RAND // (float)
0092: 12@ = float 12@ to_integer 

:45AMMO_COOP_NORMAL_SKIP  
return

////////////////////////////////////////////////////////////////////////////////

:CAR_INV_COOP_TRUCK_SHOW_START

gosub @WEIGHT_SET_CAR_INV_COOP
008C: $ITEMS_WEIGHT3 = float $ITEMS_WEIGHT to_integer

///////////////////////////////////////////////////////////////////////////////////

0A97: 22@ = car $CR_SRCH2 struct 
0A8E: 23@ = 22@ + CAR_ENGINE_POWER_PLUS_STRUCT // int 
0A8D: 3@ = read_memory 23@ size 4 virtual_protect 1

if
UNITED_MAP == 0
then

if or
car.Model($CR_SRCH2) == 15405
car.Model($CR_SRCH2) == 15406
car.Model($CR_SRCH2) == 15407
car.Model($CR_SRCH2) == 15408
car.Model($CR_SRCH2) == 15409
car.Model($CR_SRCH2) == 15410
car.Model($CR_SRCH2) == 15411
car.Model($CR_SRCH2) == 15412
then
3@ = 1.3
end

if or
car.Model($CR_SRCH2) == 15413
car.Model($CR_SRCH2) == 15414
car.Model($CR_SRCH2) == 15415
car.Model($CR_SRCH2) == 15416
car.Model($CR_SRCH2) == 15417
car.Model($CR_SRCH2) == 15418
car.Model($CR_SRCH2) == 15419
car.Model($CR_SRCH2) == 15427
then
3@ = 1.3
end

if or
car.Model($CR_SRCH2) == 15428
car.Model($CR_SRCH2) == 15429
car.Model($CR_SRCH2) == 15430
car.Model($CR_SRCH2) == 15431
car.Model($CR_SRCH2) == 15432
car.Model($CR_SRCH2) == 15433
car.Model($CR_SRCH2) == 15434
car.Model($CR_SRCH2) == 15426
then
3@ = 1.3
end

if or
car.Model($CR_SRCH2) == 15465
car.Model($CR_SRCH2) == 15466
car.Model($CR_SRCH2) == 15467
car.Model($CR_SRCH2) == 15468
car.Model($CR_SRCH2) == 15484
car.Model($CR_SRCH2) == 15485
car.Model($CR_SRCH2) == 15488
car.Model($CR_SRCH2) == 15490
then
3@ = 1.3
end

if or
car.Model($CR_SRCH2) == 15495
car.Model($CR_SRCH2) == 15496
car.Model($CR_SRCH2) == 15497
car.Model($CR_SRCH2) == 15498
car.Model($CR_SRCH2) == 15499
car.Model($CR_SRCH2) == 15500
car.Model($CR_SRCH2) == 15501
car.Model($CR_SRCH2) == 15592
then
3@ = 1.3
end

if or
car.Model($CR_SRCH2) == 15502
car.Model($CR_SRCH2) == 15503
car.Model($CR_SRCH2) == 15594
then
3@ = 1.3
end

end

3@ /= 0.325
0092: 3@ = float 3@ to_integer
    
$PANEL_OPEN2P = 1
gosub @DISEMB_JETP_CHECK_2P
0792: disembark_instantly_actor COOP_ACTOR
05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
015D: set_gamespeed 0.1  
$PLAYER_MONEY = player.Money(1)
0581: enable_radar 0 
$MAX_WEIGHT2 = 80

v$NAME1 = "N_ME"
0665: get_actor COOP_ACTOR model_to 1@ 
if
1@ > 10000
then
v$NAME1 = "N_"
end
0AD3: v$NAME2 = format "%d" 1@
098B: v$NAME3 = v$NAME1 + v$NAME2

if and
18@ == 0
TEAM1_SKIN > 0
not $GAMEMODE_EDITOR == 1
then
06D1: v$2NAME3 = "F_NAME1" // v$ = string
end

if and
18@ == 1
TEAM2_SKIN > 0
not $GAMEMODE_EDITOR == 1
then
06D1: v$2NAME3 = "F_NAME2" // v$ = string
end

if and
18@ == 2
TEAM3_SKIN > 0
not $GAMEMODE_EDITOR == 1
then
06D1: v$2NAME3 = "F_NAME3" // v$ = string
end 

008B: 27@ = $MINUTES_PLAYED // (int)
008B: 28@ = $HOURS_PLAYED // (int)
28@ *= 60
005A: 27@ += 28@  // (int)

0441: 1@ = car $CR_SRCH2 model
0ADB: 7@v = car_model 1@ name

0227: 5@ = car $CR_SRCH2 health
5@ -= 250
0093: 5@ = integer 5@ to_float
5@ /= 7.5
0092: 5@ = float 5@ to_integer

0A97: 22@ = car $CR_SRCH2 struct 
0A8E: 23@ = 22@ + 5 // int 
0A8D: 6@ = read_memory 23@ size 4 virtual_protect 0
0092: 6@ = float 6@ to_integer

0@ = 0 
08D4: 0@ = create_panel_with_title 'INV372' position 71.0 150.0 width 300.0 columns 2 interactive 1 background 1 alignment 1

if and
8820: not  model 1@ heli
881E: not  model 1@ boat
881F: not  model 1@ plane
then 
08DB: set_panel 0@ column 0 header 7@v data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV280' 'INV281' 'INV282' 'DUMMY'
else
08DB: set_panel 0@ column 0 header 7@v data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV280' 'INV282' 'DUMMY' 'DUMMY'
end
  
0512: show_permanent_text_box 'INV341B' 
08D6: set_panel 0@ column 1 alignment 1 
08EE: set_panel 0@ column 1 row 0 text_1number GXT 'INV3' number $CAR_SAVE_BANKA_COUNT[CARINV_SLOT] 
08EE: set_panel 0@ column 1 row 1 text_1number GXT 'INV3' number $CAR_SAVE_HEAL_COUNT[CARINV_SLOT] 
08EE: set_panel 0@ column 1 row 2 text_1number GXT 'INV3' number $CAR_SAVE_BINT_COUNT[CARINV_SLOT]

if
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] > 0
then
008C: $KANISTRA_FUEL2 = float $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT] to_integer
else
$KANISTRA_FUEL2 = 0
end

if
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] > 0
then 
08EE: set_panel 0@ column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel 0@ column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end
 
08EE: set_panel 0@ column 1 row 4 text_1number GXT 'INV3' number $CAR_SAVE_RADIO_COUNT[CARINV_SLOT]
08EE: set_panel 0@ column 1 row 5 text_1number GXT 'INV3' number $CAR_SAVE_JIMMY_COUNT[CARINV_SLOT]
08EE: set_panel 0@ column 1 row 6 text_1number GXT 'INV3' number $CAR_SAVE_REPAIR_COUNT[CARINV_SLOT]
08EE: set_panel 0@ column 1 row 8 text_1number GXT 'DISP3' number 5@

if and
8820: not  model 1@ heli
881E: not  model 1@ boat
881F: not  model 1@ plane
then
08EE: set_panel 0@ column 1 row 9 text_1number GXT 'INV283' number 3@
08EE: set_panel 0@ column 1 row 10 text_1number GXT 'INV3' number 6@
gosub @CAR_TRUNK_SPACE_CHECK_COOP
0093: 22@ = integer 22@ to_float
0093: 23@ = integer 23@ to_float                                             
23@ /= 100.0                     
0073: 22@ /= 23@ // (float)
0092: 22@ = float 22@ to_integer
08EE: set_panel 0@ column 1 row 11 text_1number GXT 'DISP3' number 22@
08D9: set_panel 0@ row 11 enable 0
else
08EE: set_panel 0@ column 1 row 9 text_1number GXT 'INV3' number 6@
gosub @CAR_TRUNK_SPACE_CHECK_COOP
0093: 22@ = integer 22@ to_float
0093: 23@ = integer 23@ to_float                                             
23@ /= 100.0                     
0073: 22@ /= 23@ // (float)
0092: 22@ = float 22@ to_integer
08EE: set_panel 0@ column 1 row 10 text_1number GXT 'DISP3' number 22@
08D9: set_panel 0@ row 10 enable 0
end

if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
008C: $KANISTRA_FUEL2 = float $KANISTRA_FUEL_2P to_integer
else
$KANISTRA_FUEL2 = 0
end

09DB: set_panel 0@ column 0 width 142 //230
09DB: set_panel 0@ column 1 width 25
$INVENTORY_PANEL = 0
08D4: $INVENTORY_PANEL = create_panel_with_title 'INV2' position 352.0 150.0 width 100.0 columns 2 interactive 0 background 1 alignment 1 
08DB: set_panel $INVENTORY_PANEL column 0 header 'DUMMY' data 'INV1' 'INV5' 'INV9' 'INV18' 'INV35' 'INV90' 'INV196' 'INV15' 'INV88' s$TIME2_STRING 'INV153' 'DUMMY' 
08D6: set_panel $INVENTORY_PANEL column 1 alignment 1 
08EE: set_panel $INVENTORY_PANEL column 1 row 0 text_1number GXT 'INV3' number $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $INVENTORY_PANEL column 1 row 1 text_1number GXT 'INV3' number $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] 
08EE: set_panel $INVENTORY_PANEL column 1 row 2 text_1number GXT 'INV3' number $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] 
if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
then
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3B' number $KANISTRA_FUEL2
else
08EE: set_panel $INVENTORY_PANEL column 1 row 3 text_1number GXT 'INV3C' number $KANISTRA_FUEL2
end 
08EE: set_panel $INVENTORY_PANEL column 1 row 4 text_1number GXT 'INV3' number $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $INVENTORY_PANEL column 1 row 5 text_1number GXT 'INV3' number $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $INVENTORY_PANEL column 1 row 6 text_1number GXT 'INV3' number $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM]
08EE: set_panel $INVENTORY_PANEL column 1 row 8 text_1number GXT s$WEIGHT_STRING number $ITEMS_WEIGHT3  
08EE: set_panel $INVENTORY_PANEL column 1 row 9 text_1number GXT s$TIME_STRING number 27@
08EE: set_panel $INVENTORY_PANEL column 1 row 10 text_1number GXT 'INV3' number $PLAYER_MONEY
09DB: set_panel $INVENTORY_PANEL column 0 width 142 //230
09DB: set_panel $INVENTORY_PANEL column 1 width 25
08D9: set_panel 0@ row 7 enable 0
08D9: set_panel 0@ row 8 enable 0
08D9: set_panel 0@ row 9 enable 0
08D9: set_panel 0@ row 10 enable 0
090E: set_panel 0@ active_row $ROW_INV
090E: set_panel $INVENTORY_PANEL active_row $ROW_INV
wait 10
32@ = 0
//cinema.Widescreen(1)
jump @CAR_INV_COOP_TRUCK_CHECK1

//Проверка инвертаря//

:CAR_TRUNK_GIVE_COOP_MENU 
if
00E1:   player 1 pressed_key 10
jf @CAR_INV_COOP_TRUCK_TAKE_MENU
08D7: $ROW_INV = panel 0@ active_row 
08DA: remove_panel 0@
08DA: remove_panel $INVENTORY_PANEL 
03E6: remove_text_box
0871: init_jump_table $ROW_INV total_jumps 7 default_jump 0 @CAR_INV_COOP_TRUCK_CHECK1 jumps 0 @CAR_TRUNK_GIVE_COOP_EAT 1 @CAR_TRUNK_GIVE_COOP_HEAL 2 @CAR_TRUNK_GIVE_COOP_BINT 3 @CAR_TRUNK_GIVE_COOP_KANISTRA 4 @CAR_TRUNK_GIVE_COOP_RADIO 5 @CAR_TRUNK_GIVE_COOP_JIMMY 6 @CAR_TRUNK_GIVE_COOP_REPAIR_KIT
0872: jump_table_jumps 7 @CAR_TRUNK_GIVE_COOP_RADIO 8 @CAR_TRUNK_GIVE_COOP_RADIO 9 @CAR_TRUNK_GIVE_COOP_RADIO 10 @CAR_TRUNK_GIVE_COOP_RADIO 11 @CAR_TRUNK_GIVE_COOP_RADIO 12 @CAR_TRUNK_GIVE_COOP_RADIO 13 @CAR_TRUNK_GIVE_COOP_RADIO 14 @CAR_TRUNK_GIVE_COOP_RADIO 15 @CAR_TRUNK_GIVE_COOP_RADIO

:CAR_INV_COOP_TRUCK_TAKE_MENU 
if
00E1:   player 1 pressed_key 11
jf @CAR_INV_COOP_TRUCK_CHECK1
08D7: $ROW_INV = panel 0@ active_row 
08DA: remove_panel 0@
08DA: remove_panel $INVENTORY_PANEL 
03E6: remove_text_box
0871: init_jump_table $ROW_INV total_jumps 7 default_jump 0 @CAR_INV_COOP_TRUCK_CHECK1 jumps 0 @CAR_INV_COOP_TRUCK_TAKE_EAT 1 @CAR_INV_COOP_TRUCK_TAKE_HEAL 2 @CAR_INV_COOP_TRUCK_TAKE_BINT 3 @CAR_INV_COOP_TRUCK_TAKE_KANISTRA 4 @CAR_INV_COOP_TRUCK_TAKE_RADIO 5 @CAR_INV_COOP_TRUCK_TAKE_JIMMY 6 @CAR_INV_COOP_TRUCK_TAKE_REPAIR_KIT
0872: jump_table_jumps 7 @CAR_INV_COOP_TRUCK_TAKE_RADIO 8 @CAR_INV_COOP_TRUCK_TAKE_RADIO 9 @CAR_INV_COOP_TRUCK_TAKE_RADIO 10 @CAR_INV_COOP_TRUCK_TAKE_RADIO 11 @CAR_INV_COOP_TRUCK_TAKE_RADIO 12 @CAR_INV_COOP_TRUCK_TAKE_RADIO 13 @CAR_INV_COOP_TRUCK_TAKE_RADIO 14 @CAR_INV_COOP_TRUCK_TAKE_RADIO 15 @CAR_INV_COOP_TRUCK_TAKE_RADIO

:CAR_INV_COOP_TRUCK_CHECK1
wait 0
$PANEL_OPEN2P = 1
08D7: $ROW_INV = panel 0@ active_row
090E: set_panel $INVENTORY_PANEL active_row $ROW_INV

if
0E3E: is_button_just_pressed 1 button 9
    then
    $ROW_INV += 1
    if
    $ROW_INV > 6
        then
        $ROW_INV = 0
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV
        090E: set_panel 0@ active_row $ROW_INV
        else
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV
        090E: set_panel 0@ active_row $ROW_INV
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $ROW_INV -= 1
    if
    $ROW_INV < 0
        then
        $ROW_INV = 6
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV
        090E: set_panel 0@ active_row $ROW_INV
        else
        090E: set_panel $INVENTORY_PANEL active_row $ROW_INV
        090E: set_panel 0@ active_row $ROW_INV
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 14
    then
    jump to @CAR_INV_TAKE_ALL_ITEMS_JOY2P
    end    

//Забрать все вещи из ТС
if
0E3D: is_key_just_pressed 79
    then
    :CAR_INV_TAKE_ALL_ITEMS_JOY2P
    
    08DA: remove_panel 0@
    08DA: remove_panel $INVENTORY_PANEL 
    03E6: remove_text_box
    
    0058: $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_BANKA_COUNT[CARINV_SLOT]  // (int)     
    0058: $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_HEAL_COUNT[CARINV_SLOT]  // (int)    
    0058: $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_BINT_COUNT[CARINV_SLOT]  // (int)        
    if
    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
    then
    0058: $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT]  // (int)
    end
    
    0059: $KANISTRA_FUEL_2P += $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT]                                        
    0058: $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_RADIO_COUNT[CARINV_SLOT]  // (int)    
    0058: $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_JIMMY_COUNT[CARINV_SLOT]  // (int)    
    0058: $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] += $CAR_SAVE_REPAIR_COUNT[CARINV_SLOT]  // (int)
    
    $CAR_SAVE_BANKA_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_HEAL_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_BINT_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT] = 0.0
    $CAR_SAVE_RADIO_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_JIMMY_COUNT[CARINV_SLOT] = 0
    $CAR_SAVE_REPAIR_COUNT[CARINV_SLOT] = 0
    
    00BC: show_text_highpriority GXT 'INV342' time 200 flag 1
    
    jump @CAR_INV_COOP_TRUCK_SHOW_START
    
    end
    
if
0E3E: is_button_just_pressed 1 button 16
    then
    jump to @CAR_INV_GIVE_ALL_ITEMS_JOY2P
    end    
    
//Положить все вещи в ТС
if
0E3D: is_key_just_pressed 80
    then
    :CAR_INV_GIVE_ALL_ITEMS_JOY2P
    
    08DA: remove_panel 0@
    08DA: remove_panel $INVENTORY_PANEL 
    03E6: remove_text_box
    
    while $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] > 0
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_BANKA_COUNT[CARINV_SLOT] += 1
    end
    
    while $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] > 0
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_HEAL_COUNT[CARINV_SLOT] += 1
    end
    
    while $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] > 0
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_BINT_COUNT[CARINV_SLOT] += 1
    end
    
    if and
    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 1
    $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] == 0
    then
    
    $SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] += 1
    if
    $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] > 1
    then
    $CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] = 1
    end
    
    $KANISTRA_FUEL_2P = 0.0
    end
    
    if
    $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 1
    then
    
    while $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 1
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_RADIO_COUNT[CARINV_SLOT] += 1
    end
    
    end
    
    while $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] > 0
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_JIMMY_COUNT[CARINV_SLOT] += 1
    end
    
    while $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] > 0
    
    gosub @CAR_TRUNK_SPACE_CHECK_COOP
    if
    801D: not  22@ > 23@  // (int)
    jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
    
    $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] -= 1
    $CAR_SAVE_REPAIR_COUNT[CARINV_SLOT] += 1
    end
    
    00BC: show_text_highpriority GXT 'INV343' time 200 flag 1
    
    jump @CAR_INV_COOP_TRUCK_SHOW_START    
    
    end    

if or
00E1:   player 1 pressed_key 15
actor.Dead(COOP_ACTOR) 
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
jf @CAR_TRUNK_GIVE_COOP_MENU
0581: enable_radar 1 
03E6: remove_text_box
text.ClearAll() 
08DA: remove_panel 0@
08DA: remove_panel $INVENTORY_PANEL
015D: set_gamespeed 1.0
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
0992: set_player 1 weapons_scrollable 1
$PANEL_OPEN2P = 0
0792: COOP_ACTOR
0792: COOP_ACTOR
$INV_CLOSED2P = 1
//cinema.Widescreen(0)
create_thread @ANT_2PC
//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 100
//07CC: set_player 1 can_enter_exit_vehicles 1
$INV_CLOSED2P = 0   
return

//Давание вещей//

:CAR_TRUNK_GIVE_COOP_EAT
if
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_BANKA_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV253' time 200 flag 1
gosub @TRUNK_PLAY_COOP_DROP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_HEAL
if
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_HEAL_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV254' time 200 flag 1  
gosub @TRUNK_PLAY_COOP_DROP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_BINT
if
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_BINT_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV255' time 200 flag 1
gosub @TRUNK_PLAY_COOP_DROP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_KANISTRA
if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
if
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] == 0
jf @CAR_TRUNK_GIVE_COOP_KANISTRA_HAVE
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] += 1
0059: $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT] += $KANISTRA_FUEL_2P
$KANISTRA_FUEL_2P = 0.0
00BC: show_text_highpriority GXT 'INV256' time 200 flag 1
gosub @TRUNK_PLAY_COOP_KANISTRA_SOUND2  
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_RADIO
if
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
if
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] > 1
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE2
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_RADIO_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV257' time 200 flag 1
gosub @TRUNK_PLAY_COOP_DROP_SOUND2 
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_JIMMY
if
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_JIMMY_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV258' time 200 flag 1
gosub @TRUNK_PLAY_COOP_DROP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_REPAIR_KIT
if
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] > 0
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE
gosub @CAR_TRUNK_SPACE_CHECK_COOP
if
801D: not  22@ > 23@  // (int)
jf @CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] -= 1
$CAR_SAVE_REPAIR_COUNT[CARINV_SLOT] += 1
00BC: show_text_highpriority GXT 'INV259' time 200 flag 1
gosub @TRUNK_PLAY_COOP_DROP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

//Взятие вещей//

:CAR_INV_COOP_TRUCK_TAKE_EAT
if
$CAR_SAVE_BANKA_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_BANKA_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV260' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_HEAL
if
$CAR_SAVE_HEAL_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_HEAL_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV261' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_BINT
if
$CAR_SAVE_BINT_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_BINT_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV262' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_KANISTRA
if
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
if
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] == 0
jf @CAR_INV_COOP_TRUCK_TAKE_KANISTRA_HAVE2
$SURVIVOR_KANISTRA_COUNT[COOP_ACTOR_SURV_NUM] += 1
0059: $KANISTRA_FUEL_2P += $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT]  // (float) 
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] -= 1
$CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT] = 0.0
00BC: show_text_highpriority GXT 'INV263' time 200 flag 1
gosub @TRUNK_PLAY_COOP_KANISTRA_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_RADIO
if
$CAR_SAVE_RADIO_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_RADIO_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV264' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_JIMMY
if
$CAR_SAVE_JIMMY_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_JIMMY_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV265' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_REPAIR_KIT
if
$CAR_SAVE_REPAIR_COUNT[CARINV_SLOT] > 0
jf @CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
$SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] += 1
$CAR_SAVE_REPAIR_COUNT[CARINV_SLOT] -= 1
00BC: show_text_highpriority GXT 'INV266' time 200 flag 1
gosub @TRUNK_PLAY_COOP_PICKUP_SOUND2
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_SPACE_CHECK_COOP
22@ = 0
23@ = 120

if
UNITED_MAP == 0
then

if or
car.Model($CR_SRCH2) == 15420
car.Model($CR_SRCH2) == #PCJ600
car.Model($CR_SRCH2) == #BF400
car.Model($CR_SRCH2) == #FCR900
car.Model($CR_SRCH2) == #NRG500
car.Model($CR_SRCH2) == #FREEWAY
car.Model($CR_SRCH2) == #SANCHEZ
car.Model($CR_SRCH2) == #FAGGIO
then
23@ = 60
end
if or
car.Model($CR_SRCH2) == #QUAD
car.Model($CR_SRCH2) == #WAYFARER
car.Model($CR_SRCH2) == #PIZZABOY
car.Model($CR_SRCH2) == #COPBIKE
car.Model($CR_SRCH2) == #BMX
car.Model($CR_SRCH2) == #BIKE
car.Model($CR_SRCH2) == #MTBIKE
car.Model($CR_SRCH2) == 15426
then
23@ = 60
end

else

if or
car.Model($CR_SRCH2) == 15299
car.Model($CR_SRCH2) == 15322
car.Model($CR_SRCH2) == 15430
car.Model($CR_SRCH2) == 15457
car.Model($CR_SRCH2) == 15454
car.Model($CR_SRCH2) == 15552
car.Model($CR_SRCH2) == 15526
car.Model($CR_SRCH2) == 15566
then
23@ = 60
end

if or
car.Model($CR_SRCH2) == 15565
car.Model($CR_SRCH2) == 15403
car.Model($CR_SRCH2) == 15404
car.Model($CR_SRCH2) == 15491
car.Model($CR_SRCH2) == 15492
car.Model($CR_SRCH2) == 15493
car.Model($CR_SRCH2) == 15494
then
23@ = 60
end

if
car.Model($CR_SRCH2) == 15558
then
23@ = 60
end

end

1@ = car.Model($CR_SRCH2)
if
081F:  model 1@ plane
then
23@ = 480
end
005C: 22@ += $CAR_SAVE_BANKA_COUNT[CARINV_SLOT]  // (int)
005C: 22@ += $CAR_SAVE_HEAL_COUNT[CARINV_SLOT]  // (int)
005C: 22@ += $CAR_SAVE_BINT_COUNT[CARINV_SLOT]  // (int)
005C: 22@ += $CAR_SAVE_RADIO_COUNT[CARINV_SLOT]  // (int)
005C: 22@ += $CAR_SAVE_JIMMY_COUNT[CARINV_SLOT]  // (int)
005C: 22@ += $CAR_SAVE_REPAIR_COUNT[CARINV_SLOT]  // (int)
return

//Текстовые сообщения//

:CAR_TRUNK_GIVE_COOP_DONT_HAVE
00BC: show_text_highpriority GXT 'INV7' time 200 flag 1
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_DONT_HAVE2
00BC: show_text_highpriority GXT 'INV279' time 200 flag 1
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_DONT_HAVE_SPACE
00BC: show_text_highpriority GXT 'INV297' time 200 flag 1
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_TRUNK_GIVE_COOP_KANISTRA_HAVE
00BC: show_text_highpriority GXT 'INV269' time 200 flag 1
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_DONT_HAVE
00BC: show_text_highpriority GXT 'INV268' time 200 flag 1
jump @CAR_INV_COOP_TRUCK_SHOW_START

:CAR_INV_COOP_TRUCK_TAKE_KANISTRA_HAVE2
00BC: show_text_highpriority GXT 'INV267' time 200 flag 1
0059: $KANISTRA_FUEL_2P += $CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT]  // (float) 
$CAR_SAVE_KANISTRA_COUNT[CARINV_SLOT] -= 1
$CAR_SAVE_KANISTRA_GASOLINE_COUNT[CARINV_SLOT] = 0.0
jump @CAR_INV_COOP_TRUCK_SHOW_START

:TRUNK_PLAY_COOP_DROP_SOUND2
Audiostream.Volume($DROP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($DROP_ITEM_SOUND, 0)
Audiostream.PerformAction($DROP_ITEM_SOUND, PLAY) 
return

:TRUNK_PLAY_COOP_PICKUP_SOUND2
Audiostream.Volume($PICKUP_ITEM_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($PICKUP_ITEM_SOUND, 0)
Audiostream.PerformAction($PICKUP_ITEM_SOUND, PLAY) 
return

:TRUNK_PLAY_COOP_KANISTRA_SOUND2
Audiostream.Volume($GASCAN_PICKUP_SOUND) = $SOUNDS_VOLUME 
Audiostream.Loop($GASCAN_PICKUP_SOUND, 0)
Audiostream.PerformAction($GASCAN_PICKUP_SOUND, PLAY) 
return

:WEIGHT_SET_CAR_INV_COOP

$TEMP_WEIGHT = 0.0

0089: BANKA_WEIGHT2 = $BANKA_WEIGHT // (float)
0089: HEAL_WEIGHT2 = $HEAL_WEIGHT // (float)
0089: BINT_WEIGHT2 = $BINT_WEIGHT // (float)
0089: RADIO_WEIGHT2 = $RADIO_WEIGHT // (float)
0089: KANISTRA_WEIGHT2 = $KANISTRA_WEIGHT // (float)
0089: JIMMY_WEIGHT2 = $JIMMY_WEIGHT // (float)
0089: REPAIR_KIT_WEIGHT2 = $REPAIR_KIT_WEIGHT // (float)

008B: BANKA2 = $SURVIVOR_BANKA_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: HEAL2 = $SURVIVOR_HEAL_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: BINT2 = $SURVIVOR_BINT_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: RADIO2 = $SURVIVOR_RADIO_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: JIMMY2 = $SURVIVOR_JIMMY_COUNT[COOP_ACTOR_SURV_NUM] // (int)
008B: REPAIR_KIT2 = $SURVIVOR_REPAIR_COUNT[COOP_ACTOR_SURV_NUM] // (int)

0093: BANKA2 = integer BANKA2 to_float
0093: HEAL2 = integer HEAL2 to_float
0093: BINT2 = integer BINT2 to_float
0093: RADIO2 = integer RADIO2 to_float
0093: JIMMY2 = integer JIMMY2 to_float
0093: REPAIR_KIT2 = integer REPAIR_KIT2 to_float
         
006B: BANKA_WEIGHT2 *= BANKA2 // (float)
006B: HEAL_WEIGHT2 *= HEAL2 // (float)
006B: BINT_WEIGHT2 *= BINT2 // (float)
006B: RADIO_WEIGHT2 *= RADIO2 // (float)
006F: KANISTRA_WEIGHT2 *= $KANISTRA_FUEL_2P // (float)
006B: JIMMY_WEIGHT2 *= JIMMY2 // (float)
006B: REPAIR_KIT_WEIGHT2 *= REPAIR_KIT2 // (float)

005F: $TEMP_WEIGHT += BANKA_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += HEAL_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += BINT_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += RADIO_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += JIMMY_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += REPAIR_KIT_WEIGHT2 // (float)
005F: $TEMP_WEIGHT += KANISTRA_WEIGHT2 // (float)

0059: $TEMP_WEIGHT += EXTRA_WEIGHT // (float)

010B: 0@ = player 1 money
0093: 0@ = integer 0@ to_float
0@ /= 10000.0
if
0@ < 0.0
then
0@ = 0.0
end
005F: $TEMP_WEIGHT += 0@  // (float)

04DD: 0@ = actor COOP_ACTOR armour
if
0@ > 0
    then
    $TEMP_WEIGHT += 1.5
    end
    
if
not $ALLOW_BACKPACK_WEIGHT == 0    
then
0086: $ITEMS_WEIGHT = $TEMP_WEIGHT // (float)
else
$ITEMS_WEIGHT = 0.0
return
end

gosub @WEAPON_WEIGHT_SET_CAR_INV_COOP

return

:WEAPON_WEIGHT_SET_CAR_INV_COOP

if or
0491:   actor COOP_ACTOR has_weapon 22
0491:   actor COOP_ACTOR has_weapon 111
0491:   actor COOP_ACTOR has_weapon 136
0491:   actor COOP_ACTOR has_weapon 165
0491:   actor COOP_ACTOR has_weapon 195 
    then   
    041A: 0@ = actor COOP_ACTOR weapon 22 ammo
    041A: 1@ = actor COOP_ACTOR weapon 111 ammo
    041A: 2@ = actor COOP_ACTOR weapon 136 ammo
    041A: 3@ = actor COOP_ACTOR weapon 165 ammo
    041A: 4@ = actor COOP_ACTOR weapon 195 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $PISTOL_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COLT_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 23
    then
    
    041A: 0@ = actor COOP_ACTOR weapon 23 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COLT_SILENCED_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 24
    then
    041A: 0@ = actor COOP_ACTOR weapon 24 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $HPISTOL_AMMO_WEIGHT // (float) 
    0059: $ITEMS_WEIGHT += $DESERT_EAGLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 25
0491:   actor COOP_ACTOR has_weapon 138
0491:   actor COOP_ACTOR has_weapon 113
0491:   actor COOP_ACTOR has_weapon 172
0491:   actor COOP_ACTOR has_weapon 202
    then
    041A: 0@ = actor COOP_ACTOR weapon 25 ammo
    041A: 1@ = actor COOP_ACTOR weapon 138 ammo
    041A: 2@ = actor COOP_ACTOR weapon 113 ammo
    041A: 3@ = actor COOP_ACTOR weapon 172 ammo
    041A: 4@ = actor COOP_ACTOR weapon 202 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SHOTGUN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 26
0491:   actor COOP_ACTOR has_weapon 140
0491:   actor COOP_ACTOR has_weapon 174
0491:   actor COOP_ACTOR has_weapon 204
    then
    041A: 0@ = actor COOP_ACTOR weapon 26 ammo
    041A: 1@ = actor COOP_ACTOR weapon 140 ammo
    041A: 2@ = actor COOP_ACTOR weapon 174 ammo
    041A: 3@ = actor COOP_ACTOR weapon 204 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SAWNOFF_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 27
0491:   actor COOP_ACTOR has_weapon 139
0491:   actor COOP_ACTOR has_weapon 173
0491:   actor COOP_ACTOR has_weapon 203
    then
    041A: 0@ = actor COOP_ACTOR weapon 27 ammo
    041A: 1@ = actor COOP_ACTOR weapon 139 ammo
    041A: 2@ = actor COOP_ACTOR weapon 173 ammo
    041A: 3@ = actor COOP_ACTOR weapon 203 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SHOTGSPA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 28
0491:   actor COOP_ACTOR has_weapon 117
0491:   actor COOP_ACTOR has_weapon 142
0491:   actor COOP_ACTOR has_weapon 168
0491:   actor COOP_ACTOR has_weapon 198
    then
    041A: 0@ = actor COOP_ACTOR weapon 28 ammo
    041A: 1@ = actor COOP_ACTOR weapon 117 ammo
    041A: 2@ = actor COOP_ACTOR weapon 142 ammo
    041A: 3@ = actor COOP_ACTOR weapon 168 ammo
    041A: 4@ = actor COOP_ACTOR weapon 198 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MICRO_UZI_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 29
0491:   actor COOP_ACTOR has_weapon 143
0491:   actor COOP_ACTOR has_weapon 169
0491:   actor COOP_ACTOR has_weapon 199
    then
    041A: 0@ = actor COOP_ACTOR weapon 29 ammo
    041A: 1@ = actor COOP_ACTOR weapon 143 ammo
    041A: 2@ = actor COOP_ACTOR weapon 169 ammo
    041A: 3@ = actor COOP_ACTOR weapon 199 ammo 
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MP5_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 32
0491:   actor COOP_ACTOR has_weapon 141
0491:   actor COOP_ACTOR has_weapon 167
0491:   actor COOP_ACTOR has_weapon 197
    then
    041A: 0@ = actor COOP_ACTOR weapon 32 ammo
    041A: 1@ = actor COOP_ACTOR weapon 141 ammo
    041A: 2@ = actor COOP_ACTOR weapon 167 ammo
    041A: 3@ = actor COOP_ACTOR weapon 197 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $UZI_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $TEC9_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 30
0491:   actor COOP_ACTOR has_weapon 112
0491:   actor COOP_ACTOR has_weapon 145
0491:   actor COOP_ACTOR has_weapon 171
0491:   actor COOP_ACTOR has_weapon 201
    then
    041A: 0@ = actor COOP_ACTOR weapon 30 ammo
    041A: 1@ = actor COOP_ACTOR weapon 112 ammo
    041A: 2@ = actor COOP_ACTOR weapon 145 ammo
    041A: 3@ = actor COOP_ACTOR weapon 171 ammo
    041A: 4@ = actor COOP_ACTOR weapon 201 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then    
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AK47_WEIGHT // (float)
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)    
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 31
0491:   actor COOP_ACTOR has_weapon 116
0491:   actor COOP_ACTOR has_weapon 144
0491:   actor COOP_ACTOR has_weapon 170
0491:   actor COOP_ACTOR has_weapon 200
    then
    041A: 0@ = actor COOP_ACTOR weapon 31 ammo
    041A: 1@ = actor COOP_ACTOR weapon 116 ammo
    041A: 2@ = actor COOP_ACTOR weapon 144 ammo
    041A: 3@ = actor COOP_ACTOR weapon 170 ammo
    041A: 4@ = actor COOP_ACTOR weapon 200 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $RIFLE_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $RIFLE_AMMO_WEIGHT // (float)    
    0059: $ITEMS_WEIGHT += $M4_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)    
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 33
0491:   actor COOP_ACTOR has_weapon 120
0491:   actor COOP_ACTOR has_weapon 146
0491:   actor COOP_ACTOR has_weapon 175
0491:   actor COOP_ACTOR has_weapon 205
    then
    041A: 0@ = actor COOP_ACTOR weapon 33 ammo
    041A: 1@ = actor COOP_ACTOR weapon 120 ammo
    041A: 2@ = actor COOP_ACTOR weapon 146 ammo
    041A: 3@ = actor COOP_ACTOR weapon 175 ammo
    041A: 4@ = actor COOP_ACTOR weapon 205 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $COUNTRY_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 34
0491:   actor COOP_ACTOR has_weapon 147
0491:   actor COOP_ACTOR has_weapon 176
0491:   actor COOP_ACTOR has_weapon 206
    then
    041A: 0@ = actor COOP_ACTOR weapon 34 ammo
    041A: 1@ = actor COOP_ACTOR weapon 147 ammo
    041A: 2@ = actor COOP_ACTOR weapon 176 ammo
    041A: 3@ = actor COOP_ACTOR weapon 206 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $SNIPER_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SNIPER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 35
0491:   actor COOP_ACTOR has_weapon 119
0491:   actor COOP_ACTOR has_weapon 135
0491:   actor COOP_ACTOR has_weapon 183
0491:   actor COOP_ACTOR has_weapon 213
    then
    041A: 0@ = actor COOP_ACTOR weapon 35 ammo
    041A: 1@ = actor COOP_ACTOR weapon 119 ammo
    041A: 2@ = actor COOP_ACTOR weapon 135 ammo
    041A: 3@ = actor COOP_ACTOR weapon 183 ammo
    041A: 4@ = actor COOP_ACTOR weapon 213 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $ROCKET_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $ROCKET_LAUNCHER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end 

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 36
    then
    041A: 0@ = actor COOP_ACTOR weapon 36 ammo
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $ROCKET_LAUNCHER2_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 37
0491:   actor COOP_ACTOR has_weapon 114
0491:   actor COOP_ACTOR has_weapon 148
0491:   actor COOP_ACTOR has_weapon 180
0491:   actor COOP_ACTOR has_weapon 210
    then   
    041A: 0@ = actor COOP_ACTOR weapon 37 ammo
    041A: 1@ = actor COOP_ACTOR weapon 114 ammo
    041A: 2@ = actor COOP_ACTOR weapon 148 ammo
    041A: 3@ = actor COOP_ACTOR weapon 180 ammo
    041A: 4@ = actor COOP_ACTOR weapon 210 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $FLAME_AMMO_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $FLAME_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FLAME_THROWER_RIFLE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end   

//////////////////

if or
0491:   actor COOP_ACTOR has_weapon 38
0491:   actor COOP_ACTOR has_weapon 150
0491:   actor COOP_ACTOR has_weapon 182
0491:   actor COOP_ACTOR has_weapon 212
    then   
    041A: 0@ = actor COOP_ACTOR weapon 38 ammo
    041A: 1@ = actor COOP_ACTOR weapon 150 ammo
    041A: 2@ = actor COOP_ACTOR weapon 182 ammo
    041A: 3@ = actor COOP_ACTOR weapon 212 ammo
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MINIGUN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)  
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 70
    then
    041A: 0@ = actor COOP_ACTOR weapon 70 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $M60_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if or
0491:   actor COOP_ACTOR has_weapon 71
0491:   actor COOP_ACTOR has_weapon 137
0491:   actor COOP_ACTOR has_weapon 166
0491:   actor COOP_ACTOR has_weapon 196
    then
    041A: 0@ = actor COOP_ACTOR weapon 71 ammo
    041A: 1@ = actor COOP_ACTOR weapon 137 ammo
    041A: 2@ = actor COOP_ACTOR weapon 166 ammo
    041A: 3@ = actor COOP_ACTOR weapon 196 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $HPISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $REVOLVER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor COOP_ACTOR has_weapon 72
    then
    041A: 0@ = actor COOP_ACTOR weapon 72 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FAMAS_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

////////////////// 

if
0491:   actor COOP_ACTOR has_weapon 73
    then
    041A: 0@ = actor COOP_ACTOR weapon 73 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SSG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

////////////////// 

if
0491:   actor COOP_ACTOR has_weapon 74
    then
    041A: 0@ = actor COOP_ACTOR weapon 74 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $THOMPSON_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor COOP_ACTOR has_weapon 75
    then
    041A: 0@ = actor COOP_ACTOR weapon 75 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $IA2_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor COOP_ACTOR has_weapon 76
    then
    041A: 0@ = actor COOP_ACTOR weapon 76 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $FIVESEVEN_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor COOP_ACTOR has_weapon 77
    then
    041A: 0@ = actor COOP_ACTOR weapon 77 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BIZON_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 78
    then
    041A: 0@ = actor COOP_ACTOR weapon 78 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AA12_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 79
    then
    041A: 0@ = actor COOP_ACTOR weapon 79 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $UMP45_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 80
    then
    041A: 0@ = actor COOP_ACTOR weapon 80 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HSNIPER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 81
    then
    041A: 0@ = actor COOP_ACTOR weapon 81 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $GROZA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 82
    then
    041A: 0@ = actor COOP_ACTOR weapon 82 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SCAR_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 83
    then
    041A: 0@ = actor COOP_ACTOR weapon 83 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AUG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 84
    then
    041A: 0@ = actor COOP_ACTOR weapon 84 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $MP9_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 85
    then
    041A: 0@ = actor COOP_ACTOR weapon 85 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HKMP5_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 86
    then
    041A: 0@ = actor COOP_ACTOR weapon 86 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $UZI_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $P90_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 87
    then
    041A: 0@ = actor COOP_ACTOR weapon 87 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SCORPION_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////   

if
0491:   actor COOP_ACTOR has_weapon 88
    then
    041A: 0@ = actor COOP_ACTOR weapon 88 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $CAR15_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 89
    then
    041A: 0@ = actor COOP_ACTOR weapon 89 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BERETTA_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 90
    then
    041A: 0@ = actor COOP_ACTOR weapon 90 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $WIDMAG_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 91
    then
    041A: 0@ = actor COOP_ACTOR weapon 91 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $STUBBY_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 93
    then
    041A: 0@ = actor COOP_ACTOR weapon 93 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $ROCKET_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $QUADROCK_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 94
    then
    041A: 0@ = actor COOP_ACTOR weapon 94 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MINIGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $M249_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 95
    then
    041A: 0@ = actor COOP_ACTOR weapon 95 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $AR15_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 96
    then
    041A: 0@ = actor COOP_ACTOR weapon 96 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SVD_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 97
    then
    041A: 0@ = actor COOP_ACTOR weapon 97 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SNIPER_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $BOLT308_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 98
    then
    041A: 0@ = actor COOP_ACTOR weapon 98 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $PISTOL_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $CZ75_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 99
    then
    041A: 0@ = actor COOP_ACTOR weapon 99 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $G36C_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 100
    then
    041A: 0@ = actor COOP_ACTOR weapon 100 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SAIGA12_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 101
    then
    041A: 0@ = actor COOP_ACTOR weapon 101 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $SIG550_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 102
    then
    041A: 0@ = actor COOP_ACTOR weapon 102 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $STRIKER_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 103
    then
    041A: 0@ = actor COOP_ACTOR weapon 103 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $SHOTGUN_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $XM1014_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 104
    then
    041A: 0@ = actor COOP_ACTOR weapon 104 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $GALIL_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////

if
0491:   actor COOP_ACTOR has_weapon 105
    then
    041A: 0@ = actor COOP_ACTOR weapon 105 ammo
    
    if
    not 0@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $RIFLE_AMMO_WEIGHT // (float)
    0059: $ITEMS_WEIGHT += $HK416_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    end
    
    end

//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 16
0491:   actor COOP_ACTOR has_weapon 115
0491:   actor COOP_ACTOR has_weapon 132
0491:   actor COOP_ACTOR has_weapon 177
0491:   actor COOP_ACTOR has_weapon 207
    then
    041A: 0@ = actor COOP_ACTOR weapon 16 ammo
    041A: 1@ = actor COOP_ACTOR weapon 115 ammo
    041A: 2@ = actor COOP_ACTOR weapon 132 ammo
    041A: 3@ = actor COOP_ACTOR weapon 177 ammo
    041A: 4@ = actor COOP_ACTOR weapon 207 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $GRENADE_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $GRENADE_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $GRENADE_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $GRENADE_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $GRENADE_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 18
0491:   actor COOP_ACTOR has_weapon 118
0491:   actor COOP_ACTOR has_weapon 134
0491:   actor COOP_ACTOR has_weapon 179
0491:   actor COOP_ACTOR has_weapon 209
    then
    041A: 0@ = actor COOP_ACTOR weapon 18 ammo
    041A: 1@ = actor COOP_ACTOR weapon 118 ammo
    041A: 2@ = actor COOP_ACTOR weapon 134 ammo
    041A: 3@ = actor COOP_ACTOR weapon 179 ammo
    041A: 4@ = actor COOP_ACTOR weapon 209 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    not 4@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $MOLOTOV_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $MOLOTOV_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $MOLOTOV_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $MOLOTOV_WEIGHT // (float)
    0093: 4@ = integer 4@ to_float
    006F: 4@ *= $MOLOTOV_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    005F: $ITEMS_WEIGHT += 4@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 17
0491:   actor COOP_ACTOR has_weapon 133
0491:   actor COOP_ACTOR has_weapon 178
0491:   actor COOP_ACTOR has_weapon 208
    then
    041A: 0@ = actor COOP_ACTOR weapon 17 ammo
    041A: 1@ = actor COOP_ACTOR weapon 133 ammo
    041A: 2@ = actor COOP_ACTOR weapon 178 ammo
    041A: 3@ = actor COOP_ACTOR weapon 208 ammo
    
    if or
    not 0@ == 0
    not 1@ == 0
    not 2@ == 0
    not 3@ == 0
    then
    0093: 0@ = integer 0@ to_float
    006F: 0@ *= $GAS_WEIGHT // (float)
    0093: 1@ = integer 1@ to_float
    006F: 1@ *= $GAS_WEIGHT // (float)
    0093: 2@ = integer 2@ to_float
    006F: 2@ *= $GAS_WEIGHT // (float)
    0093: 3@ = integer 3@ to_float
    006F: 3@ *= $GAS_WEIGHT // (float)
    005F: $ITEMS_WEIGHT += 0@  // (float)
    005F: $ITEMS_WEIGHT += 1@  // (float)
    005F: $ITEMS_WEIGHT += 2@  // (float)
    005F: $ITEMS_WEIGHT += 3@  // (float)
    end
    
    end
    
//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 3
0491:   actor COOP_ACTOR has_weapon 124
0491:   actor COOP_ACTOR has_weapon 160
0491:   actor COOP_ACTOR has_weapon 190
    then
    0059: $ITEMS_WEIGHT += $NITESTICK_WEIGHT // (float)
    end
    
//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 4
0491:   actor COOP_ACTOR has_weapon 10
0491:   actor COOP_ACTOR has_weapon 11
0491:   actor COOP_ACTOR has_weapon 12
0491:   actor COOP_ACTOR has_weapon 13
0491:   actor COOP_ACTOR has_weapon 125
0491:   actor COOP_ACTOR has_weapon 156
0491:   actor COOP_ACTOR has_weapon 186
    then
    0059: $ITEMS_WEIGHT += $KNIFE_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor COOP_ACTOR has_weapon 122
0491:   actor COOP_ACTOR has_weapon 127
0491:   actor COOP_ACTOR has_weapon 128
0491:   actor COOP_ACTOR has_weapon 129
0491:   actor COOP_ACTOR has_weapon 155
0491:   actor COOP_ACTOR has_weapon 158
0491:   actor COOP_ACTOR has_weapon 162
    then
    0059: $ITEMS_WEIGHT += $KNIFE_WEIGHT // (float)
    end
    
//////////////////        

if or
0491:   actor COOP_ACTOR has_weapon 5
0491:   actor COOP_ACTOR has_weapon 7
0491:   actor COOP_ACTOR has_weapon 110
0491:   actor COOP_ACTOR has_weapon 126
0491:   actor COOP_ACTOR has_weapon 161
0491:   actor COOP_ACTOR has_weapon 191
    then
    0059: $ITEMS_WEIGHT += $BAT_WEIGHT // (float)
    end
    
//////////////////    

if
0491:   actor COOP_ACTOR has_weapon 6
    then
    0059: $ITEMS_WEIGHT += $SHOVEL_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor COOP_ACTOR has_weapon 2
0491:   actor COOP_ACTOR has_weapon 123
0491:   actor COOP_ACTOR has_weapon 189
    then
    0059: $ITEMS_WEIGHT += $GOLF_WEIGHT // (float)
    end
    
//////////////////    
    
if or
0491:   actor COOP_ACTOR has_weapon 15
0491:   actor COOP_ACTOR has_weapon 157
0491:   actor COOP_ACTOR has_weapon 187
    then
    0059: $ITEMS_WEIGHT += $CANE_WEIGHT // (float)
    end
    
//////////////////            

if or
0491:   actor COOP_ACTOR has_weapon 8
0491:   actor COOP_ACTOR has_weapon 130
0491:   actor COOP_ACTOR has_weapon 163
0491:   actor COOP_ACTOR has_weapon 193
    then
    0059: $ITEMS_WEIGHT += $CATANA_WEIGHT // (float)
    end
    
//////////////////    

if or
0491:   actor COOP_ACTOR has_weapon 9
0491:   actor COOP_ACTOR has_weapon 131
0491:   actor COOP_ACTOR has_weapon 164
0491:   actor COOP_ACTOR has_weapon 194
    then
    0059: $ITEMS_WEIGHT += $CHAINSAW_WEIGHT // (float)
    end
     
return

:CAR_INV_START_MENU_COOP

$PANEL_OPEN = 1
gosub @DISEMB_JETP_CHECK_2P
0792: disembark_instantly_actor COOP_ACTOR
05B9: AS_actor COOP_ACTOR stay_idle 999999 ms
$PHRASES_OFF_FLAG = 1

0441: 1@ = car $CR_SRCH2 model
0ADB: 7@v = car_model 1@ name

if
$GAMEMODE_WAR == 1
then
jump to @GAMEMODE_WAR_ONLY_WEAP_STORAGE_JUMP1_COOP
end

0512: show_permanent_text_box 'GAME331'
$PANEL = 0
08D4: $PANEL = create_panel_with_title 'INV371' position $X_MENU_SELECT_GAMEMODE $Y_MENU_SELECT_GAMEMODE width $WIDTH_MENU_SELECT_GAMEMODE columns 1 interactive 1 background 1 alignment 0  
08DB: set_panel $PANEL column 0 header 7@v data 'INV364' 'INV365' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'    

090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW 
//wait 100

:CAR_INV_START_MENU_IDLE_COOP
wait 0

if
8A2A: not  text_box 'GAME331' displayed
then
0512: show_permanent_text_box 'GAME331' 
end

08D7: $PANEL22_ACTIVE_ROW = panel $PANEL active_row
if
0E3E: is_button_just_pressed 1 button 9
    then
    $PANEL22_ACTIVE_ROW += 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW > 1
        then
        $PANEL22_ACTIVE_ROW = 0
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end
    
if
0E3E: is_button_just_pressed 1 button 8
    then
    $PANEL22_ACTIVE_ROW -= 1
    Audiostream.PerformAction($MENU_FOCUS_SOUND, PLAY)
    Audiostream.Loop($MENU_FOCUS_SOUND, 0)
    Audiostream.Volume($MENU_FOCUS_SOUND) = $SOUNDS_VOLUME
    if
    $PANEL22_ACTIVE_ROW < 0
        then
        $PANEL22_ACTIVE_ROW = 1
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        else
        090E: set_panel $PANEL active_row $PANEL22_ACTIVE_ROW
        end
    end              

08D7: $PANEL22_ACTIVE_ROW = panel $PANEL active_row     

if
$PANEL22_ACTIVE_ROW == 0 
    then     
    text.ShowH('GMD_180',10,1)  
    if
    0E3E: is_justplayer 1 pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                
        gosub @CAR_INV_COOP_TRUCK_SHOW_START
        jump to @CAR_INV_START_MENU_COOP
        end
    end     
    
if
$PANEL22_ACTIVE_ROW == 1 
    then     
    text.ShowH('GMD_181',10,1)  
    if
    0E3E: is_justplayer 1 pressed_key 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all
        
        :GAMEMODE_WAR_ONLY_WEAP_STORAGE_JUMP1_COOP               
                
        CAR_TRUNK_CLOSED = 0
        create_thread @CARTRNK CARINV_SLOT 1
        
        repeat
        wait 0
        until CAR_TRUNK_CLOSED == 1
        
        if
        $GAMEMODE_WAR == 1
        then
        jump to @GAMEMODE_WAR_ONLY_WEAP_STORAGE_JUMP2_COOP
        end 
                
        jump to @CAR_INV_START_MENU_COOP
        
        end
    end         

if or
0E3E: is_just player 1 pressed_key 15 
actor.Dead(COOP_ACTOR)
$HUNTER_ON_PLAYER == 1
0818:  actor COOP_ACTOR in_air
then
0581: enable_radar 1 
03E6: remove_text_box
text.ClearAll() 
08DA: remove_panel $PANEL
:GAMEMODE_WAR_ONLY_WEAP_STORAGE_JUMP2_COOP
$PANEL_OPEN = 0
0792: COOP_ACTOR
0792: COOP_ACTOR
$INV_CLOSED = 1
//cinema.Widescreen(0)
06AB: set_actor COOP_ACTOR all_weapons_hidden 0
0992: set_player 1 weapons_scrollable 1
create_thread @ANT_2PC
//07CC: set_player 1 can_enter_exit_vehicles 0
//wait 100
//07CC: set_player 1 can_enter_exit_vehicles 1
$INV_CLOSED = 0    
return
else
jump @CAR_INV_START_MENU_IDLE_COOP
end        

jump to @CAR_INV_START_MENU_IDLE_COOP