:ZAME_MISSION_START

0D43: TEMPVAR_INT = txd "PiZdA" id
if
not TEMPVAR_INT == -1
then
0AA7: call_function 0x0731CD0 {removeTxdSlot} num_params 1 pop 1 TEMPVAR_INT TEMPVAR_INT2
end

$ONMISSION = 1
ZAME_GLOB_LAUNCH_FLAG = 1    

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
//Убираем проверку на макс хп-брони при подборе пикапа ХП-брони
0E6A: make_nop 0x0457C33 size 6
0E6A: make_nop 0x0457C70 size 6
else

$OTKZ_NGRDA_FLG = 0 //иначе не будит музыкы

if and
ZAME_MISSION_STARTING_HOUR == 8
ZAME_MISSION_STARTING_MINUTE == 0
ZAME_MISSION_STARTING_WEATHER == 0
then
//do nothing
else
$WEATHER_SYS_IDLE_FLAG = 1 //Ставим тред погоды на паузу (если это требуется)
end

$QUEST_TYPE = 655778 //Ставим флаг того, что мы на мейнквесте
CAMP_DONT_SAY_HELLO_FLAG = 1 //Делаем так, чтобы лагеря не говорили нам привет

0AF0: 0@ = get_int_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ALLOW_TEAMMATES" //оставляем союзников если это одиночный мейнквест
if and
8800: not  in_two_players_mode
not 0@ == 1
then
MAIN_QUEST_TEAMMATES_REMOVE_FLAG = 1
create_thread @MQ_GRP
end

///////////////////////////////////////////////////

if
056D:   actor $ARMY[1] defined
    then
    
    05BE: AS_actor $ARMY[1] die
    05BE: AS_actor $ARMY[2] die
    05BE: AS_actor $ARMY[3] die
    05BE: AS_actor $ARMY[4] die
    
    repeat
    wait 0
    until $ARMY[1] == -69
    
    wait 250
    
    end

///////////////////////////////////////////////////

0459: end_thread_named 'ARMY_SP'

///////////////////////////////////////////////////

if
056D:   actor $BANDIT[1] defined
    then
    
    05BE: AS_actor $BANDIT[1] die
    05BE: AS_actor $BANDIT[2] die
    05BE: AS_actor $BANDIT[3] die
    05BE: AS_actor $BANDIT[4] die
    
    repeat
    wait 0
    until $BANDIT[1] == -69
    
    wait 250
    
    end

///////////////////////////////////////////////////

0459: end_thread_named 'BNDT_SP'

///////////////////////////////////////////////////

if
056D:   actor $ARMY[5] defined
    then
    
    05BE: AS_actor $ARMY[5] die
    0362: remove_actor $ARMY[5] from_car_and_place_at 0.0 3000.0 0.0   
    
    repeat
    wait 0
    until $ARMY[5] == -69
    
    wait 250    
    
    end

///////////////////////////////////////////////////

0459: end_thread_named 'A_HUNT'

///////////////////////////////////////////////////

if
056D:   actor $BANDIT[5] defined
    then
    
    05BE: AS_actor $BANDIT[5] die
    05BE: AS_actor $BANDIT[6] die
    05BE: AS_actor $BANDIT[7] die
    05BE: AS_actor $BANDIT[8] die
    
    repeat
    wait 0
    until $BANDIT[5] == -69
    
    wait 250
    
    end
    
///////////////////////////////////////////////////    

0459: end_thread_named 'BD_HELI'

///////////////////////////////////////////////////

if
056D:   actor ARMY_RHINO_ACTOR defined
    then
    
    05BE: AS_actor ARMY_RHINO_ACTOR die
    
    if
    056E:   car $ARMY_RHINO defined
    then
    0338: set_car $ARMY_RHINO visibility 0
    car.PutAt($ARMY_RHINO,0.0,3000.0,0.0)
    end
    
    repeat
    wait 0
    until ARMY_RHINO_ACTOR == -69
    
    wait 250    
    
    end

///////////////////////////////////////////////////

0459: end_thread_named 'A_RHINO'

///////////////////////////////////////////////////

end

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "COMMUN_MISS_FLAG"
if
0@ == 1
then
COMMUNITY_MISSION_FLAG = 1
if
ZAME_SURV_LAUNCH_FLAG == 1
    then
    0AF1: write_int 0 to_ini_file "saves/ZACM.set" section "SCR" key "COMMUN_MISS_FLAG"
    end
end

0AF0: 0@ = get_int_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
if and
0@ == 0
not ZAME_SURV_LAUNCH_FLAG == 1
then
062A: change_float_stat 23 to 0.0
062A: change_float_stat 21 to 0.0
070D: rebuild_player PLAYER_CHAR

while not model.Available(#COLT45)
wait 0
model.Load(#COLT45)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,22,1)
wait 500
0555: remove_weapon 22 from_actor PLAYER_ACTOR
        
end
        
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
062A: change_float_stat 23 to 501.0
062A: change_float_stat 21 to 0.0
070D: rebuild_player PLAYER_CHAR

while not model.Available(#COLT45)
wait 0
model.Load(#COLT45)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,22,1)
wait 500
0555: remove_weapon 22 from_actor PLAYER_ACTOR
   
end
        
if and
0@ == 2
not ZAME_SURV_LAUNCH_FLAG == 1
then
062A: change_float_stat 23 to 0.0
062A: change_float_stat 21 to 1000.0
070D: rebuild_player PLAYER_CHAR

while not model.Available(#COLT45)
wait 0
model.Load(#COLT45)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,22,1)
wait 500
0555: remove_weapon 22 from_actor PLAYER_ACTOR
 
end  

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "RANDOM_SPECINF_SPAWN"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
ZAME_DO_SPAWN_SPECINF_AS_RANDOM = 1
end    

0AF0: 0@ = get_int_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FREZEE_TIME"
if
0@ == 1
then
0E6A: make_nop 0x052CF53 size 6 //Выключаем обновление часов
HIDE_HUD_CLOCK = 1
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "REALISM_MODE"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
REALISM_MODE = 1
$ALLOW_PLAYER_SLOWMOTION = 0
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
COOP_ACTIVE_FLAG = 1
COOP_ACTOR_SURV_NUM = 0
PERK_HEALTH = 3
0A8C: write_memory 0xB793E0 size 4 value 1450.0 virtual_protect 1
wait 0
0@ = actor.Health(PLAYER_ACTOR)
0@ += 150
actor.Health(PLAYER_ACTOR) = 0@
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
COOP_ACTIVE_FLAG = 1
COOP_ACTOR_SURV_NUM = 0
end

if
056D:   actor ZAME_2P_DUMMY_ACTOR defined
then
actor.DestroyInstantly(ZAME_2P_DUMMY_ACTOR)
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ONY_FP_MODE"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
CUSTOM_MODE_ONLY_FP_CAM = 1
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
create_thread @4LEFT
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SHITTALK_ON"
if and
0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
create_thread @SHT_TLK
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE1_MODEL"
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM1_SKIN = 0@ // (int)
    0AF0: get_int TEAM1_WEP from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE1_WEP_ID"
    end
    
0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE2_MODEL"
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM2_SKIN = 0@ // (int)
    0AF0: get_int TEAM2_WEP from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE2_WEP_ID"
    end
    
0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE3_MODEL"
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM3_SKIN = 0@ // (int)
    0AF0: get_int TEAM3_WEP from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE3_WEP_ID"
    end    

if
COMMUNITY_MISSION_FLAG == 1
then
0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
else
0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
end

if
0AAB:   file_exists ZAME_KONTROLT4K_STRING
then 

0AF0: get_int 0@ from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE1_MODEL"
if and
0@ > 0
TEAM1_SKIN == 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM1_SKIN = 0@ // (int)
    end
    
0AF0: get_int 0@ from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE2_MODEL"
if and
0@ > 0
TEAM2_SKIN == 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM2_SKIN = 0@ // (int)
    end
    
0AF0: get_int 0@ from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE3_MODEL"
if and
0@ > 0
TEAM3_SKIN == 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    008A: TEAM3_SKIN = 0@ // (int)
    end
   
end
    
0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FRIENDLY_FIRE"
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    
    if
    0@ == 1
    then
    FRIENDLY_FIRE_ON = 0
    else
    FRIENDLY_FIRE_ON = 1
    end
    
    end            

text.RemoveTextBox()

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
0629: change_integer_stat 258 to 91 

create_thread @GRP_CMD
create_thread @PLA_VOI
create_thread @RND_HR2
create_thread @GRE_THR

create_thread @ZAM_HEL
create_thread @ZAM_ARM

create_thread @FATIGUE
create_thread @F_WARN

create_thread @LCK_DR
create_thread @WEP_DRO
end

008A: ZAME_MISSION_LOAD_NUMBER_GLOB = ZAME_MISSION_LOAD_NUMBER // (int)

0@ = 0

if and
ZAME_MISSION_LOAD_NUMBER == 1
0AAB:   file_exists "me\ms1.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 2
0AAB:   file_exists "me\ms2.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 3
0AAB:   file_exists "me\ms3.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 4
0AAB:   file_exists "me\ms4.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 5
0AAB:   file_exists "me\ms5.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 6
0AAB:   file_exists "me\ms6.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 7
0AAB:   file_exists "me\ms7.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 8
0AAB:   file_exists "me\ms8.ini"
then
0@ = 1
end

if and
ZAME_MISSION_LOAD_NUMBER == 9
0AAB:   file_exists "me\ms9.ini"
then
0@ = 1
end

if
not ZAME_SURV_LAUNCH_FLAG == 1
then

if
0@ == 1
then
gosub @DIFFUCLITY_CUSTOM_SELECT_ZAME
else

if
ZAME_DIFFICULTY_LEVEL == 0
then
gosub @DIFFUCLITY_EASY_SELECT 
end

if
ZAME_DIFFICULTY_LEVEL == 1
then
gosub @DIFFUCLITY_NORMAL_SELECT 
end

if
ZAME_DIFFICULTY_LEVEL == 2
then
gosub @DIFFUCLITY_HARD_SELECT 
end

if
ZAME_DIFFICULTY_LEVEL == 3
then
gosub @DIFFUCLITY_NIGHTMARE_SELECT 
end

end

$TANK_CREATE_NUMBER = 19
create_thread @TAN_CRE 

$HUNTER_CREATE_NUMBER = 19
create_thread @HUN_CRE  

$WITCH_CREATE_NUMBER = 19
create_thread @WIT_CRE  

$CHARGER_CREATE_NUMBER = 19
create_thread @CHA_CRE

end

$SAVESTATUS = 0
$SAVESTATUS_TRUE = 0
$IGNOREALL_FLAG = 0
$ASS_FLAG = 0
ZOMBIES_NOTSPAWN = 0
$SPECIAL_INFECTED_NOT_SPAWN_FLAG = 0
$SURVIVORS_DONT_SPAWN_FLAG = 0
$ZOMBIE_DONT_ATTACK_PLAYER = 0
$INF_SIDE = 0
$HELP_INST_FLAG = 1 
$ZOMBIES_COUNT = 20
$ZOMBIES_PROCENT = 100.0
$PLAYER_SURVIVOR_SIDE = 1
ZAME_PROTECT_TEAMMATE_NUM = -1

if
not ZAME_SURV_LAUNCH_FLAG == 1
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
if
not 0@ == 1
then
$ALLOW_ZOMBIES = 1
$ALLOW_TANK = 1
$ALLOW_HUNTER = 1
$ALLOW_WITCH = 1
$ALLOW_CHARGER = 1
$ALLOW_BROKEN_CARS = 1
$NOTSPAWN_CARS = 0
else
$ALLOW_ZOMBIES = 0
$ALLOW_TANK = 0
$ALLOW_HUNTER = 0
$ALLOW_WITCH = 0
$ALLOW_CHARGER = 0
$ALLOW_BROKEN_CARS = 0
$NOTSPAWN_CARS = 1
$ALLOW_PLAYER_SLOWMOTION = 0
end 

end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "DONT_SPAWN_BROKEN_CARS"
if
0@ == 1
then
$NOTSPAWN_CARS = 1
end

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
create_thread @BRK_CAR
create_thread @PED_BKP PLAYER_ACTOR 371
end

//actor.PutAtNoOffset(PLAYER_ACTOR,ZAME_START_POINT_X,ZAME_START_POINT_Y,ZAME_START_POINT_Z)
09BC: put_actor PLAYER_ACTOR at ZAME_START_POINT_X ZAME_START_POINT_Y ZAME_START_POINT_Z no_offset_and_dont_warp_gang
actor.Angle(PLAYER_ACTOR) = ZAME_START_POINT_ANGLE
select_interior ZAME_START_POINT_INTERIOR
0860: link_actor PLAYER_ACTOR to_interior ZAME_START_POINT_INTERIOR

0781: get_weapon_with_ID ZAME_PLAYER_START_WEAPON_ID model_to 0@

Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, ZAME_PLAYER_START_WEAPON_ID, ZAME_PLAYER_START_WEAPON_AMMO)

0AF1: write_int 0 to_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_MISSION"
0AF1: write_int 1 to_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_MISSION_COMPLETED_LOADING"

$GODMODE_FLAG = 0
Actor.SetImmunities(PLAYER_ACTOR, 0, 0, 0, 0, 0)
if and
COOP_ACTIVE_FLAG == 1
0800:   in_two_players_mode
056D:   actor COOP_ACTOR defined
then
Actor.SetImmunities(COOP_ACTOR, 0, 0, 0, 0, 0)
end

Player.CanMove(PLAYER_CHAR) = False

0665: get_actor ZAME_PLAYER_DUMMY model_to 0@

while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
09C7: change_player PLAYER_CHAR model_to 0@
create_thread @VC_UPD
008A: $RANDOM_MODE_MODEL = 0@ // (int)
end

actor.DestroyInstantly(ZAME_PLAYER_DUMMY)

if
not ZAME_SURV_LAUNCH_FLAG == 1
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
if
not 0@ == 1
then

if
not SINGLE_SPAWN_FLAG == 1
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"
0AF0: get_int 1@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE2"
if and
not 0@ == 1
not 1@ == 1
then
$SURVIVOR_ALLOW_SPAWN[0] = 1
wait 1
$SURVIVOR_ALLOW_SPAWN[1] = 1
wait 1
$SURVIVOR_ALLOW_SPAWN[2] = 1
else
$SURVIVOR_ALLOW_SPAWN[0] = 1
wait 1
end     

end

else
$SURVIVOR_ALLOW_SPAWN[0] = 1
wait 1
PVP_MODE_ON = 1
end

end

wait 50

Actor.SetImmunities(PLAYER_ACTOR, 0, 0, 0, 0, 0)

if and
not SINGLE_SPAWN_FLAG == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then

$HELP_INST_FLAG = 1
04C4: store_coords_to 2@ 3@ 4@ from_actor PLAYER_ACTOR with_offset 0.0 -5.0 0.0 
$RANDOM_PEOPLE_SPAWN_FLAG = 1 
$PEOPLE_SPAWN_ON_COORD = 1 
0088: $PEOPLE_X = 2@ // (float) 
0088: $PEOPLE_Y = 3@ // (float) 
0088: $PEOPLE_Z = 4@ // (float) 
wait 1000 
$PEOPLE_SPAWN_ON_COORD = 0 
$PEOPLE_X = 0.0 
$PEOPLE_Y = 0.0 
$PEOPLE_Z = 0.0
               
repeat
wait 0
until 056D:   actor $SURVIVER[0] defined

if
PVP_MODE_ON == 1
then

repeat
wait 0
until 06EE:   actor $SURVIVER[0] in_group PLAYER_GROUP

06C9: remove_actor $SURVIVER[0] from_group

end

end 

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_CINEMA"
if or
$CHEATS_ON == 1
ZAME_SURV_LAUNCH_FLAG == 1
then
0@ = 1
end

if and
not 0@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then 
0581: enable_radar 0 
actor.StorePos(PLAYER_ACTOR,1@,2@,3@)
actor.PutAtNoOffset(PLAYER_ACTOR,1@,2@,3@) 
04C4: store_coords_to $X $Y $Z from_actor PLAYER_ACTOR with_offset 0.0 20.0 5.0 
Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
Camera.OnPed(PLAYER_ACTOR, 15, 2)
create_thread @REFR_3D
else
camera.Restore_WithJumpCut()
create_thread @REFR_3D
end

092B: 0@ = group PLAYER_GROUP member 0
092B: 1@ = group PLAYER_GROUP member 1
092B: 2@ = group PLAYER_GROUP member 2
092B: 3@ = group PLAYER_GROUP member 3
092B: 4@ = group PLAYER_GROUP member 4
092B: 5@ = group PLAYER_GROUP member 5
092B: 6@ = group PLAYER_GROUP member 6
if
not ZAME_SURV_LAUNCH_FLAG == 1
then
gosub @FRNDS_INT_CHECK_TP
end
  
wait 1000

0AF0: get_int 2@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_MUSIC"
if
$CHEATS_ON == 1
then
2@ = 1
end

if and
not 2@ == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
create_thread @D_MUSIC
end

if and
PVP_MODE_ON == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
0AF2: 1@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_X"
0AF2: 2@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Y"
0AF2: 3@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Z"
0AF2: 4@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_A"
actor.PutAtNoOffset(COOP_ACTOR,1@,2@,3@)
actor.Angle(COOP_ACTOR) = 4@
end

if and
PVP_MODE_ON == 1
not ZAME_SURV_LAUNCH_FLAG == 1
then
0AF2: get_float 2@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_X"
0AF2: get_float 3@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Y"
0AF2: get_float 4@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Z"
0AF2: get_float 5@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_X"
0AF2: get_float 6@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Y"
0AF2: get_float 7@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Z"
camera.SetPosition(2@,3@,4@,0.0,0.0,0.0)
camera.PointAt(5@,6@,7@,2)
06F1: set_2_player_distance_limit_to 28000.0
end

09FD: get_gxt_string 'F_NAME' width_to 0@
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
then
FREEMODE_CUSTOM_NAME = 1
end

09FD: get_gxt_string 'F_NAME1' width_to 0@
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
then
ZAME_SKIN1_CUSTOM_NAME = 1
end

09FD: get_gxt_string 'F_NAME2' width_to 0@
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
then
ZAME_SKIN2_CUSTOM_NAME = 1
end

09FD: get_gxt_string 'F_NAME3' width_to 0@
if and
0@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
then
ZAME_SKIN3_CUSTOM_NAME = 1
end

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"
0AF0: get_int 1@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
if or
0@ == 1
1@ == 1
    then
    
    repeat
    wait 0   
    03F0: enable_text_draw 1
    0349: set_text_draw_font 2
    0340: set_text_draw_RGBA 180 180 180 255
    if
    DIRECTFONT_INSTALLED == 1
    then    
    0340: set_text_draw_RGBA DIRECTFONT_FONT2_R DIRECTFONT_FONT2_G DIRECTFONT_FONT2_B 255
    end
     
    033F: set_text_draw_letter_size 0.5 1.25      
    0343: set_text_draw_linewidth 480.0
    0342: set_text_draw_centered 1
    0344: set_text_draw_linewidth 480.0 for_centered_text
    033E: set_draw_text_position 335.0 200.0 GXT 'GME1330'  // Push    
    until 00E1:   player 1 pressed_key 12
    
    end

create_thread @REFR_3D

//0AF0: get_int 0@ from_ini_file "me\temp.dat" section "OBJ1" key "OBJECTIVE_TYPE"
//gosub @ZAME_GET_NEXT_INTERTARGET_NAME                
//0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
//if
//0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
//then
//1@ = -1
//end

///////////////////////////////ЗАГРУЖАЕМ ЧЕКПОНИТ///////////////////////////////

if
COMMUNITY_MISSION_FLAG == 1
then
0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
else
0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
end

0AF0: get_int 2@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
if and
0AAB:   file_exists ZAME_KONTROLT4K_STRING
not 2@ == 1
then

0AF4: v$SNAME3 = read_string_from_ini_file ZAME_KONTROLT4K_STRING section "CHECKPOINT_PARAMETERS" key "MISSION_NAME"
0AF4: v$SNAME2 = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "MISSION_NAME"
if
8D49: not 2@ = compare_strings v$SNAME3 v$SNAME2 // IF and SET
then
gosub @DELETE_ZAME_MISSION_CHECKPOINT
jump to @SKIP_LOADING_ZAME_CHECKPOINT
end

repeat
wait 0

if
ZAME_SURV_LAUNCH_FLAG == 1
then
ZAME_LOADING_CHECKPOINT_FLAG = 1
ZAME_KONTROLT4K_LOADING_FLAG_GLOB = 1
gosub @ZAME_LOAD_CHECKPOINT_INFO
jump to @DO_LOADING_ZAME_CHECKPOINT
end
   
03F0: enable_text_draw 1
0349: set_text_draw_font 2
0340: set_text_draw_RGBA 180 180 180 255
if
DIRECTFONT_INSTALLED == 1
then    
0340: set_text_draw_RGBA DIRECTFONT_FONT2_R DIRECTFONT_FONT2_G DIRECTFONT_FONT2_B 255
end
     
033F: set_text_draw_letter_size 0.5 1.25      
0343: set_text_draw_linewidth 480.0
0342: set_text_draw_centered 1
0344: set_text_draw_linewidth 480.0 for_centered_text
033E: set_draw_text_position 335.0 200.0 GXT 'GME1504'  // Push 

if
00E1:   player 0 pressed_key 11
    then
    
    2@ = 0
    while 00E1:   player 0 pressed_key 11
    wait 0
    
    2@ += 1    
    03F0: enable_text_draw 1
    0349: set_text_draw_font 2
    0340: set_text_draw_RGBA 180 180 180 255
    if
    DIRECTFONT_INSTALLED == 1
    then    
    0340: set_text_draw_RGBA DIRECTFONT_FONT2_R DIRECTFONT_FONT2_G DIRECTFONT_FONT2_B 255
    end
         
    033F: set_text_draw_letter_size 0.5 1.25      
    0343: set_text_draw_linewidth 480.0
    0342: set_text_draw_centered 1
    0344: set_text_draw_linewidth 480.0 for_centered_text
    033E: set_draw_text_position 335.0 200.0 GXT 'GME1504'  // Push  
    
    if
    2@ > 64
        then
        break
        end
       
    end
    
    1@ = 1
    ZAME_LOADING_CHECKPOINT_FLAG = 1
    ZAME_KONTROLT4K_LOADING_FLAG_GLOB = 1
    gosub @ZAME_LOAD_CHECKPOINT_INFO
    jump to @DO_LOADING_ZAME_CHECKPOINT
    end
    
if
00E1:   player 0 pressed_key 10
    then     
    
    2@ = 0
    while 00E1:   player 0 pressed_key 10
    wait 0
    
    2@ += 1    
    03F0: enable_text_draw 1
    0349: set_text_draw_font 2
    0340: set_text_draw_RGBA 180 180 180 255
    if
    DIRECTFONT_INSTALLED == 1
    then    
    0340: set_text_draw_RGBA DIRECTFONT_FONT2_R DIRECTFONT_FONT2_G DIRECTFONT_FONT2_B 255
    end
         
    033F: set_text_draw_letter_size 0.5 1.25      
    0343: set_text_draw_linewidth 480.0
    0342: set_text_draw_centered 1
    0344: set_text_draw_linewidth 480.0 for_centered_text
    033E: set_draw_text_position 335.0 200.0 GXT 'GME1504'  // Push  
    
    if
    2@ > 64
        then
        break
        end
       
    end
    
    gosub @DELETE_ZAME_MISSION_CHECKPOINT    
    jump to @SKIP_LOADING_ZAME_CHECKPOINT
    end    
   
until false

end   

:SKIP_LOADING_ZAME_CHECKPOINT

0AF0: get_int 2@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
if
2@ == 1
then 

0AF0: get_int 1@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ_NO_SIM_MODE"
:DO_LOADING_ZAME_CHECKPOINT
if
1@ == 2
then
ZAME_TARGETSKIP_MODE = 2
else
ZAME_TARGETSKIP_MODE = 1
end

$SIMULATING_FLAG = 1
008A: ZAME_GLOB_CURRENT_OBJECTIVE_INDEX = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
008A: ZAME_GLOB_OBJECTIVES_COUNT = ZAME_OBJECTIVES_COUNT // (int)
create_thread @ZAMESKP
$GODMODE_FLAG = 1         
end        

if and
//not 0@ == 9
//not 1@ == 9
not ZAME_TARGETSKIP_MODE > 0
ZAME_FADE_FROM_OBJ_NUM == 0
then 
fade 1 1000  
//0AD1: show_formatted_text_highpriority "fade in 1" time 2000
//wait 2000
wait 1000
else
ZAME_CUTSCENE_MODE = 1
gosub @ZAME_ENABLE_CUTSCENE_GODMODE
if
ZAME_FADE_FROM_OBJ_NUM > 0
    then
    ZAME_CUTSCENE_MODE = 2
    end
end       

0AA7: call_function 0x00403DA0{_getModelPtr} num_params 1 pop 1 iId 18161 pclInfo 7@
if and
7@ > 0
not ZAME_SURV_LAUNCH_FLAG == 1
    then
    0A8E: 9@ = 7@ + 0x18 // CModel*** - CModelHier - CBaseModelInfo - m_fDrawDistance
    0A8C: write_memory 9@ size 4 value -100.0 vp 0
    end

09FD: get_gxt_string 'ZAME_N2' width_to 0@  // ~k~~PED_SPRINT~ Select
if
0@ > 0
then
00BA: show_text_styled GXT "ZAME_N2" time 5000 style 2
else
0AF4: v$SNAME3 = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "MISSION_NAME"
0AE0: remove_dynamic_GXT_entry "ZAME_N"
0ADF: add_dynamic_GXT_entry "ZAME_N" text v$SNAME3
end

0AF4: v$SNAME3 = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "MISSION_AUTHOR_NAME"
0AE0: remove_dynamic_GXT_entry "ZAME_A"
0ADF: add_dynamic_GXT_entry "ZAME_A" text v$SNAME3

if
not PVP_MODE_ON == 1
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_CINEMA"
if or
$CHEATS_ON == 1
ZAME_SURV_LAUNCH_FLAG == 1
then
0@ = 1
end

if and
not 0@ == 1
not ZAME_TARGETSKIP_MODE > 0
then
0@ = 20.0 
1@ = 5.0 
gosub @custom_mission_424 
gosub @custom_mission_871
Camera.Restore
Camera.SetBehindPlayer
wait 1200
end

end

0AF4: v$SNAME3 = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "MISSION_AUTHOR_NAME"
0ACE: show_formatted_text_box "By ~g~%s~w~." v$SNAME3
//0AF0: get_int 0@ from_ini_file "me\temp.dat" section "OBJ1" key "OBJECTIVE_TYPE"
Player.CanMove(PLAYER_CHAR) = True
//gosub @ZAME_GET_NEXT_INTERTARGET_NAME                
//0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
//if
//0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
//then
//1@ = -1
//end     

if
//not 0@ == 9
//not 0@ == 17  
//not 1@ == 9
//not 1@ == 18
ZAME_FADE_FROM_OBJ_NUM == 0
then
0581: enable_radar 1 
$HUD_REMOVE = 0
end

ZAME_CURRENT_OBJECTIVE_INDEX = 0

0AF0: get_int 1@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ_NO_SIM_MODE"
0AF0: get_int 2@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
if and
1@ == 1
2@ == 1
then      

if
ZAME_LOADING_CHECKPOINT_FLAG == 0
then
0AF4: v$SHITME_FILE = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "EDITOR_LAUNCH_OBJ_STRING"
else

if
COMMUNITY_MISSION_FLAG == 1
then
0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
else
0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
end

0AF4: v$SHITME_FILE = read_string_from_ini_file ZAME_KONTROLT4K_STRING section "CHECKPOINT_PARAMETERS" key "EDITOR_LAUNCH_OBJ_STRING"
end

:ZAME_CHECK_INSTAJUMP_TARGET                       
0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX

if
0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
    then
    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
    else
    0AD3: v$RACE_FILE = format "OBJ%dA" ZAME_CURRENT_OBJECTIVE_INDEX
    if
    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
        then
        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
        else
        0AD3: v$RACE_FILE = format "OBJ%dB" ZAME_CURRENT_OBJECTIVE_INDEX
        if
        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
            then
            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
            else
            0AD3: v$RACE_FILE = format "OBJ%dC" ZAME_CURRENT_OBJECTIVE_INDEX
            if
            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                then
                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                else
                0AD3: v$RACE_FILE = format "OBJ%dD" ZAME_CURRENT_OBJECTIVE_INDEX
                if
                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                    then
                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                    else
                    0AD3: v$RACE_FILE = format "OBJ%dE" ZAME_CURRENT_OBJECTIVE_INDEX
                    if
                    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                        then
                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                        else
                        0AD3: v$RACE_FILE = format "OBJ%dF" ZAME_CURRENT_OBJECTIVE_INDEX
                        if
                        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                            then
                            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                            else
                            0AD3: v$RACE_FILE = format "OBJ%dG" ZAME_CURRENT_OBJECTIVE_INDEX
                            if
                            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                then
                                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                else
                                0AD3: v$RACE_FILE = format "OBJ%dH" ZAME_CURRENT_OBJECTIVE_INDEX
                                if
                                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                    then
                                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                    else
                                    0AD3: v$RACE_FILE = format "OBJ%dI" ZAME_CURRENT_OBJECTIVE_INDEX
                                    if
                                    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                        then
                                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                        else
                                        0AD3: v$RACE_FILE = format "OBJ%dJ" ZAME_CURRENT_OBJECTIVE_INDEX
                                        if
                                        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                            then
                                            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                            else
                                            0AD3: v$RACE_FILE = format "OBJ%dK" ZAME_CURRENT_OBJECTIVE_INDEX
                                            if
                                            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                                then
                                                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                                else
                                                0AD3: v$RACE_FILE = format "OBJ%dL" ZAME_CURRENT_OBJECTIVE_INDEX
                                                if
                                                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                                    then
                                                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                                    else
                                                    0AD3: v$RACE_FILE = format "OBJ%dM" ZAME_CURRENT_OBJECTIVE_INDEX
                                                    if
                                                    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                                        then
                                                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                                        else
                                                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT_CHECK_SLOI2
                                                        :ZAME_CHECK_INSTAJUMP_TARGET_EXIT_CHECK_SLOI2_RETURN
                                                        end                                                        
                                                    end
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end
    end
    
ZAME_CURRENT_OBJECTIVE_INDEX += 1 
jump to @ZAME_CHECK_INSTAJUMP_TARGET

:ZAME_CHECK_INSTAJUMP_TARGET_EXIT
if
ZAME_CURRENT_OBJECTIVE_INDEX > 0
then
ZAME_CURRENT_OBJECTIVE_INDEX -= 1
end

0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
0AF0: 5@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_INT"
0E32: set_char_coordinates_simple PLAYER_ACTOR coord 2@ 3@ 4@
select_interior 5@
0860: link_actor PLAYER_ACTOR to_interior 5@

end

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
$SURVIVOR_ALLOW_SPAWN[0] = 0
$SURVIVOR_ALLOW_SPAWN[1] = 0
$SURVIVOR_ALLOW_SPAWN[2] = 0
else
$NOTSPAWN_ETC = 1
$SPECIAL_INFECTED_NOT_SPAWN_FLAG = 1
$SURVIVORS_DONT_SPAWN_FLAG = 1
$SURVIVOR_ALLOW_SPAWN[0] = 0
$SURVIVOR_ALLOW_SPAWN[1] = 0
$SURVIVOR_ALLOW_SPAWN[2] = 0
$SURVIVOR_ALLOW_SPAWN[3] = 0
$SURVIVOR_ALLOW_SPAWN[4] = 0
end                              

repeat

if
ZAME_TARGETSKIP_MODE < 1
then
wait 0
end

$ZOMBIES_COUNT = 20

if or
$CHEATS_ON == 2
ZAME_TARGETSKIP_MODE > 0
then
0AD1: show_formatted_text_highpriority "CURRENT_OBJECTIVE_INDEX is %d\%d" time 200 ZAME_CURRENT_OBJECTIVE_INDEX ZAME_OBJECTIVES_COUNT
end             

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end

if
ZAME_CURRENT_OBJECTIVE_INDEX == 9999
then   
jump @UDACHNO_ZAME
end

0AF0: get_int ZAME_CURRENT_OBJ_TYPE_READED from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE"
if and
ZAME_CURRENT_OBJ_TYPE_READED == 6
8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DO_NOT_EXIST_PLEASE"
then
jump to @custom_mission_3727
end    
    
if
ZAME_TELEPORT_OUTFADED == 1
then  
ZAME_TELEPORT_OUTFADED = 0
fade 1 250  
//0AD1: show_formatted_text_highpriority "fade in 2" time 2000
//wait 2000                   
end 

gosub @ZAME_OBJECTIVE_CHECK

until false 

wait 9999999999999999

:ZAME_OBJECTIVE_CHECK
0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX
008A: ZAME_GLOB_CURRENT_OBJECTIVE_INDEX = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
0AF1: write_int ZAME_GLOB_CURRENT_OBJECTIVE_INDEX to_ini_file "debug\latestobj.ini" section "HUY" key "STUCKED_OBJ_IS"
008A: ZAME_GLOB_OBJECTIVES_COUNT = ZAME_OBJECTIVES_COUNT // (int)

:ZAME_DO_EXTRA_OBJECTIVES_BETWEEN_OBJECTIVES
0AF5: write_string v$RACE_FILE to_ini_file "debug\latestobj.ini" section "HUY" key "STUCKED_OBJ_IS"   
if
ZAME_DONT_JUMP_TO_INTERTARGET_TARGET == 1
then
//0AD1: show_formatted_text_highpriority "ZAME_DONT_JUMP_TO_INTERTARGET_TARGET is 1, skipping" time 2000
//wait 2000
ZAME_DONT_JUMP_TO_INTERTARGET_TARGET = 0
jump to @RETURN_BACK_TO_CHECKPOINT_SHIT
end 

if
003B:   ZAME_CURRENT_OBJECTIVE_INDEX == ZAME_OBJECTIVES_COUNT  // (int)
then

if
PVP_MODE_ON == 1
    then
    
    repeat
    wait 0
    
    if and
    $CHEATS_ON == 1
    0AB0:   key_pressed $KEY_USE
    then
    PVP_1P_SCORE = 10
    PVP_2P_SCORE = 10
    end
    
    03F0: enable_text_draw 1   
    0342: set_text_draw_centered 1
    03E0: draw_text_behind_textures 1
    03E3: set_texture_to_be_drawn_antialiased 1 
    033F: set_text_draw_letter_size 0.22 1.1
                
    081C: draw_text_outline 1 RGBA 0 0 0 $HUD_ALPHA
    0340: set_text_draw_RGBA 255 255 255 $HUD_ALPHA 
    
    if
    UNITED_MAP == 1
    then    
    0349: set_text_draw_font UNITED_HUD_FONT_NUMBER
    end
          
    045B: draw_text_2numbers 320.0 2.5 GXT 'SE328' numbers PVP_1P_SCORE PVP_2P_SCORE  // ~1~:~1~
    
    if and
    0117:   player 1 wasted
    PVP_1P_SCORE >= 10
        then
        0EA1: disable_second_player_restore_camera 1        
        cinema.Widescreen(1)
        $HUD_REMOVE = 1
        $HUD_OFF_INST = 1
        $OTKZ_NGRDA_FLG = 1
        04C4: store_coords_to $X $Y $Z from_actor PLAYER_ACTOR with_offset 0.0 2.0 1.0 
        Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
        Camera.OnPed(PLAYER_ACTOR, 15, 2)
        Player.CanMove(PLAYER_CHAR) = false
        00BA: show_text_styled GXT 'SE277' time 5000 style 1
        wait 1000
        015D: set_gamespeed 0.0        
        create_thread @MIS_CMP         
        0@ = 0        
        repeat
        wait 0
        
        if or
        0E8D: is_any_fire_button_pressed 0
        0E8D: is_any_fire_button_pressed 1
            then
            break
            end
        
        0@ += 1
        until 0@ > 300          
        fade 0 5
        repeat
        wait 0
        until 016B:   fading
        jump @UDACHNO_ZAME        
        end
        
    if and
    0117:   player 0 wasted
    PVP_2P_SCORE >= 10
        then
        0EA1: disable_second_player_restore_camera 1        
        cinema.Widescreen(1)
        $HUD_REMOVE = 1
        $HUD_OFF_INST = 1
        $OTKZ_NGRDA_FLG = 1
        04C4: store_coords_to $X $Y $Z from_actor COOP_ACTOR with_offset 0.0 2.0 1.0 
        Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
        Camera.OnPed(PLAYER_ACTOR, 15, 2)
        Player.CanMove(PLAYER_CHAR) = false
        00BA: show_text_styled GXT 'SE278' time 5000 style 1
        wait 1000
        015D: set_gamespeed 0.0        
        create_thread @MIS_CMP         
        0@ = 0        
        repeat
        wait 0
        
        if or
        0E8D: is_any_fire_button_pressed 0
        0E8D: is_any_fire_button_pressed 1
            then
            break
            end
        
        0@ += 1
        until 0@ > 300          
        fade 0 5
        repeat
        wait 0
        until 016B:   fading
        jump @UDACHNO_ZAME      
        end
    
    if
    0117:   player 0 wasted
        then
        0EA1: disable_second_player_restore_camera 0
        PVP_2P_SCORE += 1
        0AF2: 1@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_X"
        0AF2: 2@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_Y"
        0AF2: 3@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_Z"
        0AF2: 4@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_A"
        08DF: override_restart_if_wasted_at 1@ 2@ 3@ within_radius 3500.0 angle 4@
        0970: teleport_in_override_restart // 016Eh
        
        015D: set_gamespeed 50.0
        fade 0 0
        wait 0
        $DELETE_TEAMMATES = 1
        
        repeat
        wait 0
        until 856D: not  actor COOP_ACTOR defined        
        
        repeat
        wait 0
        fade 0 0
        until not player.Wasted(0)
        
        actor.PutAtNoOffset(PLAYER_ACTOR,1@,2@,3@)
        actor.Angle(PLAYER_ACTOR) = 4@        
        
        0AF2: 1@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_X"
        0AF2: 2@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Y"
        0AF2: 3@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Z"
        0AF2: 4@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_A"
        $PEOPLE_SPAWN_ON_COORD = 1
        0088: $PEOPLE_X = 1@ // (float) 
        0088: $PEOPLE_Y = 2@ // (float) 
        0088: $PEOPLE_Z = 3@ // (float)
        $DELETE_TEAMMATES = 0
        
        repeat
        wait 0
        fade 0 0
        $SURVIVOR_ALLOW_SPAWN[0] = 1
        $RANDOM_PEOPLE_SPAWN_FLAG = 1
        until player.Defined(1)
        
        repeat
        wait 0
        until 056D:   actor COOP_ACTOR defined                         
        
        repeat
        wait 0
        fade 0 0
        actor.PutAtNoOffset(COOP_ACTOR,1@,2@,3@)
        actor.Angle(COOP_ACTOR) = 4@
        until 0EEA: locate_char_distance_to_coordinates COOP_ACTOR pos 1@ 2@ 3@ radius 5.0
        
        $SURVIVOR_ALLOW_SPAWN[0] = 0
        $RANDOM_PEOPLE_SPAWN_FLAG = 0
        $PEOPLE_SPAWN_ON_COORD = 0
        
        0AF2: get_float 2@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_X"
        0AF2: get_float 3@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Y"
        0AF2: get_float 4@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Z"
        0AF2: get_float 5@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_X"
        0AF2: get_float 6@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Y"
        0AF2: get_float 7@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Z"
        camera.SetPosition(2@,3@,4@,0.0,0.0,0.0)
        camera.PointAt(5@,6@,7@,2)
        06F1: set_2_player_distance_limit_to 28000.0        
        
        06C9: remove_actor $SURVIVER[0] from_group
        048F: actor $SURVIVER[0] remove_weapons
        
        0EBB: pass_time 30
        015D: set_gamespeed 1.0
        fade 1 150
        //0AD1: show_formatted_text_highpriority "fade in coop" time 2000
        create_thread @REFR_3D                     
        
        end
        
    if
    0117:   player 1 wasted
        then
        PVP_1P_SCORE += 1
        0EA1: disable_second_player_restore_camera 0
        0AF2: 1@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_X"
        0AF2: 2@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_Y"
        0AF2: 3@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_Z"
        0AF2: 4@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "START_POINT_A"
        08DF: override_restart_if_wasted_at 1@ 2@ 3@ within_radius 3500.0 angle 4@
        0970: teleport_in_override_restart // 016Eh
        
        015D: set_gamespeed 50.0
        fade 0 0
        wait 0
        
        repeat
        wait 0
        fade 0 0
        until not player.Wasted(0)
                        
        actor.PutAtNoOffset(PLAYER_ACTOR,1@,2@,3@)
        actor.Angle(PLAYER_ACTOR) = 4@               
        
        0AF2: 1@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_X"
        0AF2: 2@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Y"
        0AF2: 3@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Z"
        0AF2: 4@ = get_float_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_A"
        $PEOPLE_SPAWN_ON_COORD = 1
        0088: $PEOPLE_X = 1@ // (float) 
        0088: $PEOPLE_Y = 2@ // (float) 
        0088: $PEOPLE_Z = 3@ // (float)
        
        repeat
        wait 0
        fade 0 0
        $SURVIVOR_ALLOW_SPAWN[0] = 1
        $RANDOM_PEOPLE_SPAWN_FLAG = 1
        until player.Defined(1)
        
        repeat
        wait 0
        until 056D:   actor COOP_ACTOR defined                         
        
        repeat
        wait 0
        fade 0 0
        actor.PutAtNoOffset(COOP_ACTOR,1@,2@,3@)
        actor.Angle(COOP_ACTOR) = 4@
        until 0EEA: locate_char_distance_to_coordinates COOP_ACTOR pos 1@ 2@ 3@ radius 2.0
        
        $SURVIVOR_ALLOW_SPAWN[0] = 0
        $RANDOM_PEOPLE_SPAWN_FLAG = 0
        $PEOPLE_SPAWN_ON_COORD = 0
        
        0AF2: get_float 2@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_X"
        0AF2: get_float 3@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Y"
        0AF2: get_float 4@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Z"
        0AF2: get_float 5@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_X"
        0AF2: get_float 6@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Y"
        0AF2: get_float 7@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Z"
        camera.SetPosition(2@,3@,4@,0.0,0.0,0.0)
        camera.PointAt(5@,6@,7@,2)
        06F1: set_2_player_distance_limit_to 28000.0
        
        repeat
        wait 0
        fade 0 0
        until 06EE:   actor $SURVIVER[0] in_group PLAYER_GROUP
        
        06C9: remove_actor $SURVIVER[0] from_group
        048F: actor $SURVIVER[0] remove_weapons
        
        0EBB: pass_time 30
        015D: set_gamespeed 1.0
        fade 1 150
        //0AD1: show_formatted_text_highpriority "fade in coop 2" time 2000
        create_thread @REFR_3D              
        
        end               
    
    until false
    
    end

if
$STARTING_THEME_FLAG == 1
then
$STARTING_THEME_FLAG = 0
$END_STARTING_MUSIC = 1
end

if
not ZAME_SURV_LAUNCH_FLAG == 1
then
$DELETE_SOUND = 1
end

$OTKZ_NGRDA_FLG = 1

jump to @ZAME_MISSION_COMPLETE
end      

if
ZAME_TARGETSKIP_MODE > 0
then  

if
ZAME_LOADING_CHECKPOINT_FLAG == 0
then
0AF4: v$SHITME_FILE = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "EDITOR_LAUNCH_OBJ_STRING"
else

if
COMMUNITY_MISSION_FLAG == 1
then
0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
else                                                                          
0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
end

0AF4: v$SHITME_FILE = read_string_from_ini_file ZAME_KONTROLT4K_STRING section "CHECKPOINT_PARAMETERS" key "EDITOR_LAUNCH_OBJ_STRING"
end
//0AD1: show_formatted_text_highpriority "current objective %s == target kontrol t4k obj %s ~n~ ZAME_LOADING_CHECKPOINT_FLAG is %d ~n~ ZAME_TARGETSKIP_MODE is %d" time 2000 v$RACE_FILE v$SHITME_FILE ZAME_LOADING_CHECKPOINT_FLAG ZAME_TARGETSKIP_MODE
//wait 2000

if
0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET 
    then 
    ZAME_TARGETSKIP_MODE = 0   
    if
    ZAME_LOADING_CHECKPOINT_FLAG == 1
    then 
    ZAME_LOADING_CHECKPOINT_FLAG = 2
    gosub @ZAME_LOAD_CHECKPOINT_INFO_END
    end
    
    $ZOMBIE_REMOVE_FLAG = 1
    wait 2000
    ZAME_KONTROLT4K_LOADING_FLAG_GLOB = 0
    $SIMULATING_FLAG = 0    
    0459: end_thread_named 'ZAMESKP'
    
    if
    $CHEATS_ON == 0
    then
    
    $GODMODE_FLAG = 0
    if
    GODMODE_FLAG2 == 1
    then
    $GODMODE_FLAG = 1
    end
    
    $ZOMBIE_REMOVE_FLAG = 0    
    Actor.SetImmunities(PLAYER_ACTOR, 0, 0, 0, 0, 0)
    if and
    COOP_ACTIVE_FLAG == 1
    0800:   in_two_players_mode
    056D:   actor COOP_ACTOR defined
    then
    Actor.SetImmunities(COOP_ACTOR, 0, 0, 0, 0, 0)
    end
    
    end
    
    0A96: 0@ = actor PLAYER_ACTOR struct
    0AA5: call 0x043F1F0 num_params 1 pop 0 0@ //CEntryExit::WarpGangWithPlayer
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in finished loading from cp" time 2000
    
    if
    ZAME_CUTSCENE_MODE == 2
    then
    $HUD_REMOVE = 0
    end
    
    else
    fade 0 0
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
    0AF0: 5@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_INT"
    0E32: set_char_coordinates_simple PLAYER_ACTOR coord 2@ 3@ 4@
    select_interior 5@
    0860: link_actor PLAYER_ACTOR to_interior 5@
    end
end

if
0AF0:  get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DO_NOT_EXIST_PLEASE"
then               
{$INCLUDE Zame Objective Plus.txt}
jump to @ZAME_OBJECTIVE_CHECK
end

09FD: get_gxt_string v$RACE_FILE width_to 0@
if
0@ > 0
    then
    0AD3: v$OBJECTIVE = format "%s" v$RACE_FILE    
    else
    09FD: get_gxt_string v$BNS_TXT width_to 0@
    if
    0@ > 0
        then
        0AD3: v$OBJECTIVE = format "%s" v$BNS_TXT
        else
        v$OBJECTIVE = "DUMMY"
        end
    end
              
0AF0: get_int ZAME_CURRENT_OBJ_TYPE_READED from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE" 
//0AD1: show_formatted_text_highpriority "OBJECTIVE TYPE IS %d" time 2000 ZAME_CURRENT_OBJ_TYPE_READED

0@ = 0
if or
ZAME_CURRENT_OBJ_TYPE_READED == 1
ZAME_CURRENT_OBJ_TYPE_READED == 8
ZAME_CURRENT_OBJ_TYPE_READED == 9
ZAME_CURRENT_OBJ_TYPE_READED == 18
ZAME_CURRENT_OBJ_TYPE_READED == 16
ZAME_CURRENT_OBJ_TYPE_READED == 14
ZAME_CURRENT_OBJ_TYPE_READED == 15
then
0@ = 1
end

if or
ZAME_CURRENT_OBJ_TYPE_READED == 11
ZAME_CURRENT_OBJ_TYPE_READED == 19
ZAME_CURRENT_OBJ_TYPE_READED == 5
ZAME_CURRENT_OBJ_TYPE_READED == 7
ZAME_CURRENT_OBJ_TYPE_READED == 12
ZAME_CURRENT_OBJ_TYPE_READED == 21
ZAME_CURRENT_OBJ_TYPE_READED == 33
then
0@ = 1
end

if
0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "END_CUTSCENE"
then
0@ = 0
end

if and
ZAME_CUTSCENE_MODE == 1
not 0@ == 1
then
:ZAME_TURNOFF_CUTSCENE                
ZAME_CUTSCENE_MODE = 0
gosub @ZAME_DISABLE_CUTSCENE_GODMODE       
cinema.Widescreen(0)
BLACK_POLOSKI_ON = 0    
$HUD_REMOVE = 0
$HUD_OFF_INST = 0     
camera.Restore_WithJumpCut() 
player.CanMove(PLAYER_CHAR,true)
0E69: set_player_control_pad_movement 0 1
create_thread @REFR_3D  

if
FP_TURNED_OFF_FOR_CUTSCENE == 1
then
FP_TURNED_OFF_FOR_CUTSCENE = 0        
end

if
0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_IN"
then
fade 1 1000
//0AD1: show_formatted_text_highpriority "fade in cuz objective has 'fade_in'" time 2000
wait 1000
end
          
end  

//0AF0: get_int ZAME_CURRENT_OBJ_TYPE_READED from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE"

//---------------------------------------------------------------ЭКСТРА ЦЕЛИ ДЛЯ ЗАПУСКА В ФРИПЛЕЙНО-СЮЖЕТНОМ РЕЖИМЕ---------------------------------------------------------------\\

//ВКЛ\ВЫКЛ флаг спасения
if
ZAME_CURRENT_OBJ_TYPE_READED == -11
    then
    
    if
    $SALVATION_FLAG == 0
    then
    $SALVATION_FLAG = 1
    else
    $SALVATION_FLAG = 0
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//ВКЛ\ВЫКЛ замедление
if
ZAME_CURRENT_OBJ_TYPE_READED == -10
    then
    
    if
    $ALLOW_PLAYER_SLOWMOTION == 1
    then
    $ALLOW_PLAYER_SLOWMOTION = 0
    else
    $ALLOW_PLAYER_SLOWMOTION = 1
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end

//Фраза субъекта
if
ZAME_CURRENT_OBJ_TYPE_READED == -9
    then
    
    0AF0: get_int $ACHIV_NUMBER from_ini_file "me\temp.dat" section v$RACE_FILE key "START_NUMBER"
    0AF0: get_int FREEMODE_VOICE_START from_ini_file "me\temp.dat" section v$RACE_FILE key "START_NUMBER"
    0AF0: get_int FREEMODE_VOICE_END from_ini_file "me\temp.dat" section v$RACE_FILE key "END_NUMBER"
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAN_SKIP"
    if    
    2@ == 1
    then 
    MIKE_VOICE_CANNOT_SKIP_FLAG = 0
    else
    MIKE_VOICE_CANNOT_SKIP_FLAG = 1
    end
    
    create_thread @VOI_SHO
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    until $ACHIV_SHOW_ENDED == 1
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//Запрет клаймба
if
ZAME_CURRENT_OBJ_TYPE_READED == -8
    then
    
    0A8D: 2@ = read_memory 0x0B79100 size 1 virtual_protect 0
    if
    2@ == 0
    then
    0A8C: write_memory 0x0B79100 size 1 value 1 virtual_protect 0
    else
    0A8C: write_memory 0x0B79100 size 1 value 0 virtual_protect 0
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end

//Телепорт тачки эшера (или создание, если она не была создана)
if
ZAME_CURRENT_OBJ_TYPE_READED == -7
    then        
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Z"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_A"
    
    if
    056E:  car $USED_CAR[LATEST_CAR_SLOT_USED] defined
    then    
//    0AD1: show_formatted_text_highpriority "TELEPORT EXISTING AND NEAR USHER CAR" time 20000
    car.PutAt($USED_CAR[LATEST_CAR_SLOT_USED],2@,3@,4@)
    car.Angle($USED_CAR[LATEST_CAR_SLOT_USED]) = 5@
    {$INCLUDE Zame Objective Plus.txt}
    return
    end
    
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    then
//    0AD1: show_formatted_text_highpriority "TELEPORTING FAR USHER CAR" time 20000
    0088: $SAVE_CAR_X[LATEST_CAR_SLOT_USED] = 2@ // (float)
    0088: $SAVE_CAR_Y[LATEST_CAR_SLOT_USED] = 3@ // (float)
    0088: $SAVE_CAR_Z[LATEST_CAR_SLOT_USED] = 4@ // (float)
    0088: $SAVE_CAR_ANGLE[LATEST_CAR_SLOT_USED] = 5@ // (float)
    {$INCLUDE Zame Objective Plus.txt}
    return
    end
            
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 0
    then    
    
//    0AD1: show_formatted_text_highpriority "MAKING USHER CAR NEW" time 20000    
    
    :CAR_CREATE_ZAME_USHER
    if
    model.Available(15590)
    then
        
//    ZAME_CAR_ADVENTURE_CAR = car.Create(6@,2@,3@,4@)

    0674: set_car_model 15590 numberplate "MT2WH0L3"
    create_thread @ZAM_CAR 15590 2@ 3@ 4@

    repeat
    wait 0            
    until 056E:   car ZAME_GLOB_CAR_ADVENTURE_CAR defined
                      
    else
    model.Load(15590)
    mload
    wait 0
    jump to @CAR_CREATE_ZAME_USHER
    end
            
    car.Angle(ZAME_GLOB_CAR_ADVENTURE_CAR) = 5@ 
    
    /////////////////////////////////////////

    0084: $USED_CAR[0] = ZAME_GLOB_CAR_ADVENTURE_CAR // (int)
    $CAR_ENTERED[0] = 1
    $CAR_MARKER_CREATED[0] = 0
    $CAR_HINT_FLAG[0] = 0
    $SAVE_CAR_CREATED[0] = 1
    $SAVE_CAR_MODEL[0] = car.Model(ZAME_GLOB_CAR_ADVENTURE_CAR)
    CAR_AUTOSAVED_EVER_FLAG = 1
    LATEST_CAR_SLOT_USED = 0
    
    03ED: set_car ZAME_GLOB_CAR_ADVENTURE_CAR disable_flipped_explosion_when_empty 1              
                
    ////////////////////////////////////////////////////////////////
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 9 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 2 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 4 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 1 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    24@ = 25.0 
    0A97: 22@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    0A8E: 23@ = 22@ + 5 // int 
    0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
    08C3: clear 12@ bit 1 
    08C3: clear 12@ bit 2 
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 18 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 2 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    08C3: clear 12@ bit 2
    //////////////////////////////////////////////////////////////// 
    
    car.LockInCurrentPosition(ZAME_GLOB_CAR_ADVENTURE_CAR,false) 
    
    if
    0E08: is_car_script_controlled ZAME_GLOB_CAR_ADVENTURE_CAR
    then
    car.RemoveReferences(ZAME_GLOB_CAR_ADVENTURE_CAR)
    end
    
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end

//Открыть меню диалога с лидером и нажать "поговорить"
if
ZAME_CURRENT_OBJ_TYPE_READED == -6
    then    
    
//    0ACE: show_formatted_text_box "talk with leader plz"
    $QUEST_READY_FLAG = -1230
    0AF0: get_int ZAME_SPEAK_WITH_LEADER_CAMP_ID from_ini_file "me\temp.dat" section v$RACE_FILE key "CAMP_NUMBER"
    
    while true
    wait 0
    
    ZAME_SPEAK_WITH_LEADER_FLAG = 223
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    if and
    $QUEST_READY_FLAG == 0
    $PANEL_OPEN == 0
        then
        break
        end
    
    end
    
    ZAME_SPEAK_WITH_LEADER_FLAG = 0
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//Открыть меню диалога с лидером и нажать "получить припасы"
if
ZAME_CURRENT_OBJ_TYPE_READED == -5
    then
    
//    0ACE: show_formatted_text_box "zaberi pripasi plz"
    $CAMP_HABAR_TIMER = 20160    
    0AF0: get_int ZAME_SPEAK_WITH_LEADER_CAMP_ID from_ini_file "me\temp.dat" section v$RACE_FILE key "CAMP_NUMBER"
    
    while true
    wait 0 
    
    ZAME_SPEAK_WITH_LEADER_FLAG = 222
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    if and
    $CAMP_HABAR_TIMER < 20160
    $PANEL_OPEN == 0
    003A:   $ENTERED_CAMP_NUMBER == ZAME_SPEAK_WITH_LEADER_CAMP_ID // (int)
        then
        break
        end
    
    end
    
    ZAME_SPEAK_WITH_LEADER_FLAG = 0
    CAMP_LEADER_DONT_SAY_BYE_FLAG = 0
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//Все триггеры педы мертвы
if
ZAME_CURRENT_OBJ_TYPE_READED == -4
    then
    
//    0ACE: show_formatted_text_box "kill all trigger peds plz"

    25@ = 0
    
    while true
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end  
    
    if
    0E45: frame_mod 60
        then      
        
        20@ = 0
        25@ = 1
        
        ////////////////////////////////////////////////////////////////////////////////
        
        while true
        
        if
        0EA7: get_any_char_no_save_recursive 20@ progress_to 20@ char_to 21@
            then
            
            if
            056D:   actor 21@ defined
                then        
                if
                not actor.Dead(21@)
                    then
                    0A96: 11@ = actor 21@ struct 
                    11@ += 9 
                    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
                    if
                    08B7:  test 12@ bit 5 //Пед фоновый триггер
                        then
                        25@ = 0
                        end
                    end        
                end
                
            else
            20@ = 0
            break
            end             
        
        end
        
        ////////////////////////////////////////////////////////////////////////////////         
        
        end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    if
    25@ == 1
        then
//        0ACE: show_formatted_text_box "all killed"
//        wait 2000
        break
        end
    
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//Нажать замедление
if
ZAME_CURRENT_OBJ_TYPE_READED == -3
    then
    
//    0ACE: show_formatted_text_box "press slowdown plz"
    
    while true
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    if
    $SLOWMODE_ACTIVE == 1
        then
        break
        end
    
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end

//Поставить машину на каррек
if
ZAME_CURRENT_OBJ_TYPE_READED == -2
    then
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Z"
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_MODEL"
    
    while true
    wait 0
    
    //////////////////////////////////////////////

//    {$INCLUDE newopcodes\forallcars}
    {$INCLUDE newopcodes\forallcars_cleoplus}
    
    if
    056E:   car veh defined
    then
    if and
    0EEB: locate_car_distance_to_coordinates veh pos 2@ 3@ 4@ radius 3.0
    car.Model(veh) == 5@
        then
        jump to @PUT_CAR_ON_CARREC_JUMP
        end   
    end
    
    {$INCLUDE newopcodes\end}
    
    //////////////////////////////////////////////
    
    end
    
    :PUT_CAR_ON_CARREC_JUMP
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
    
    repeat
    wait 0
    07C0: load_path 5@
    until 07C1:   path 5@ available
    
    05EB: assign_car veh to_path 5@
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 6@ == 1
        then
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        056E:   car veh defined
            then
            if or
            860E: not  car veh assigned_to_path
            car.Wrecked(veh)
                then
                break
                end
            end
        
        until false
        
        end            
    
    {$INCLUDE Zame Objective Plus.txt}
    return    
    end

//Дать, забрать вещь
if
ZAME_CURRENT_OBJ_TYPE_READED == -1
    then
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "ITEM_ID"
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COUNT"
    
    if
    6@ == 0 //Еда
    then        
    005E: $BANKA += 7@  // (int)        
    end
        
    if
    6@ == 1 //Аптечка
    then
    005E: $HEAL += 7@  // (int)        
    end
        
    if
    6@ == 2 //Бинты
    then        
    005E: $BINT += 7@  // (int)        
    end
        
    if
    6@ == 3 //Топливо
    then
    0093: 7@ = integer 7@ to_float                
    005F: $KANISTRA_FUEL += 7@  // (float)        
    end 
        
    if
    6@ == 4 //Рация
    then        
    005E: $RADIO += 7@  // (int)        
    end
        
    if
    6@ == 5 //Отмычка
    then        
    005E: $JIMMY += 7@  // (int)        
    end
        
    if
    6@ == 6 //Инструменты
    then        
    005E: $REPAIR_KIT += 7@  // (int)        
    end                       
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end

//---------------------------------------------------------------СПИСОК ОБЩИХ ОБЖЕКТИВОВ ДОСТУПНЫХ ДЛЯ ИГРОКА---------------------------------------------------------------\\

//Чекпоинт 

if
ZAME_CURRENT_OBJ_TYPE_READED == 0
    then
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CHECKPOINT_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CHECKPOINT_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CHECKPOINT_Z"
    
    if and
    ZAME_SURV_LAUNCH_FLAG == 1
    $INT_ZMB_NOT == 1
    then
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_INT"
    if
    6@ == 0
        then
        $INT_ZMB_NOT = 0 //(сделалъ умнее)
        INT_ZOMBIE_OFF_FADING_AND_SHIT_FLAG = 0 //(сделалъ умнее)
        end
    end
    
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDDEN_FLAG"
    if
    6@ < 1
    then
    018A: MISSION_CHECKPOINT = create_checkpoint_at 2@ 3@ 4@
    end
    
    0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    5@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 5@
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    6@ == 16
    then
    5@ = 1.0
    else
    5@ = 2.0
    end
    
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDDEN_FLAG"
    if
    not 6@ == 2
    then
    03BC: MISSION_SPHERE = create_sphere_at 2@ 3@ 4@ radius 5@
    end
    
    if
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPHERE_SIZE"
    then
    0087: 5@ = 7@ // (float)   
    end
        
    repeat
    wait 0 
    
    if and
    $CHEATS_ON == 1
    0E3D: is_key_just_pressed 81
    then
    actor.PutAtNoOffset(PLAYER_ACTOR,2@,3@,4@)
    create_thread @REFR_3D
    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    actor.PutAtNoOffset(PLAYER_ACTOR,2@,3@,4@)
    create_thread @REFR_3D
    end       
    
//    0AD1: show_formatted_text_highpriority "GAME_OVER_FLAG %d" time 2000 GAME_OVER_FLAG
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
     
    until 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 2@ 3@ 4@ radius 5@
    
    $END_DIALOG_INST = 1
    marker.Disable(MISSION_CHECKPOINT)
    03BD: destroy_sphere MISSION_SPHERE
    {$INCLUDE Zame Objective Plus.txt}
    return
    
    end
    
//Телепорт
if
ZAME_CURRENT_OBJ_TYPE_READED == 1
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATES_WARP"
    then
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    SAVE_PRE_TP_TEAMMATES_FLAG = 1      
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in cuz temmates warp" time 2000
    $HUD_REMOVE = 0
    wait 250      
    {$INCLUDE Zame Objective Plus.txt}
    return
    end
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_Z"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_A"
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_INT"
    
    if and
    not 6@ == 0
    ZAME_SURV_LAUNCH_FLAG == 1
    then
    $INT_ZMB_NOT = 1 //(сделалъ умнее)
    INT_ZOMBIE_OFF_FADING_AND_SHIT_FLAG = 1 //(сделалъ умнее)
    end
    
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_TP_TEAMMATES"
    0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_UNFADE_AFTERTP"    
    
    player.CanMove(PLAYER_CHAR,false)
    text.RemoveTextBox()
    text.ClearAll()
    
    if and
    not $CHEATS_ON == 1
    ZAME_TARGETSKIP_MODE < 1
    then
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    
    if
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 0
    then
    0085: 9@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    9@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 9@
    else        
    gosub @ZAME_GET_NEXT_INTERTARGET_NAME        
    end
        
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
    then
    8@ = -1
    end   
    
    if and
    not 8@ == 9
    not 10@ == 1
    not ZAME_CUTSCENE_MODE == 1       
        then    
        ZAME_TELEPORT_OUTFADED = 1
        end
    
    end  
    
    if
    7@ == 1
    then
    09BC: put_actor PLAYER_ACTOR at 2@ 3@ 4@ no_offset_and_dont_warp_gang
    else
    actor.PutAtNoOffset(PLAYER_ACTOR,2@,3@,4@)
    end
    actor.Angle(PLAYER_ACTOR) = 5@
    
    if
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 0
    then
    0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    5@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 5@
    else        
    gosub @ZAME_GET_NEXT_INTERTARGET_NAME        
    end
        
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
    then
    5@ = -1
    end
    
    if and
    not 5@ == 9
    not 10@ == 1
    not ZAME_CUTSCENE_MODE == 1       
    then
    camera.Restore_WithJumpCut()        
    player.CanMove(PLAYER_CHAR,true)   
    else
    if and
    10@ == 1
    ZAME_CUTSCENE_MODE == 0
        then
        camera.Restore_WithJumpCut()        
        player.CanMove(PLAYER_CHAR,true)
        else
        ZAME_CUTSCENE_MODE = 1
        gosub @ZAME_ENABLE_CUTSCENE_GODMODE
        end
    end
     
    select_interior 6@
    0860: link_actor PLAYER_ACTOR to_interior 6@
    if
    6@ > 0
    then
    $Z_IGNORE_HEIGHT = 1
    else
    $Z_IGNORE_HEIGHT = 0
    end
     
    create_thread @REFR_3D
    0085: ZAME_TEMP_FUCKEEE = 0@ // (int)
    092B: 0@ = group PLAYER_GROUP member 0
    092B: 1@ = group PLAYER_GROUP member 1
    092B: 2@ = group PLAYER_GROUP member 2
    092B: 3@ = group PLAYER_GROUP member 3
    092B: 4@ = group PLAYER_GROUP member 4
    092B: 5@ = group PLAYER_GROUP member 5
    092B: 6@ = group PLAYER_GROUP member 6
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_TP_TEAMMATES"
    if
    not 7@ == 1
    then
    gosub @FRNDS_INT_CHECK_TP
    end    
    0085: 0@ = ZAME_TEMP_FUCKEEE // (int)                
    
    if and
    not $CHEATS_ON == 2  
    not ZAME_TARGETSKIP_MODE > 0 
    then
    wait 500        
    
    if
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 0
    then
    0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    5@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 5@
    else        
    gosub @ZAME_GET_NEXT_INTERTARGET_NAME        
    end      
        
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
    then
    5@ = -1
    end
    
    if and
    not 10@ == 1
    not 5@ == 9
    not 5@ == 1
    not ZAME_CUTSCENE_MODE == 1 
    not ZAME_CUTSCENE_MODE == 2             
    then
    $HUD_REMOVE = 0
    else
    if
    not ZAME_CUTSCENE_MODE == 2
        then
        if and
        10@ == 1 //пошел нахуй
        ZAME_CUTSCENE_MODE == 0
            then 
            $HUD_REMOVE = 0   
            else
            ZAME_CUTSCENE_MODE = 1
            gosub @ZAME_ENABLE_CUTSCENE_GODMODE
            end
        end
    end
    
    if
    ZAME_TARGETSKIP_MODE < 1
    then
    wait 250  
    end       
       
    end        
    
    if and
    ZAME_TARGETSKIP_MODE < 1
    not ZAME_CUTSCENE_MODE == 2
    not ZAME_CUTSCENE_MODE == 1
    not 5@ == 8
    not 10@ == 1
    then
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in 3" time 2000
//    wait 2000
    end    
    
//    0AD1: show_formatted_text_highpriority "ZAME_CUTSCENE_MODE is %d, 5@ is %d, ZAME_TELEPORT_OUTFADED is %d" time 20000 ZAME_CUTSCENE_MODE 5@ ZAME_TELEPORT_OUTFADED
    if and
    ZAME_CUTSCENE_MODE == 1
    not 5@ == 8
    not 10@ == 1
    then                
    ZAME_CUTSCENE_MODE = 0
    gosub @ZAME_DISABLE_CUTSCENE_GODMODE
    ZAME_TELEPORT_OUTFADED = 1        
    cinema.Widescreen(0)
    BLACK_POLOSKI_ON = 0    
    $HUD_REMOVE = 0
    $HUD_OFF_INST = 0     
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TELEPORT_A"
    actor.Angle(PLAYER_ACTOR) = 5@ 
    camera.Restore_WithJumpCut() 
    player.CanMove(PLAYER_CHAR,true)
    0E69: set_player_control_pad_movement 0 1
    create_thread @REFR_3D 
    
    if
    FP_TURNED_OFF_FOR_CUTSCENE == 1
    then
    FP_TURNED_OFF_FOR_CUTSCENE = 0        
    end     
               
    end
    
    if and
    6@ == 0
    ZAME_SURV_LAUNCH_FLAG == 1
    $INT_ZMB_NOT == 1
    then
    $INT_ZMB_NOT = 0 //(сделалъ умнее)
    INT_ZOMBIE_OFF_FADING_AND_SHIT_FLAG = 0 //(сделалъ умнее)
    end
    
    {$INCLUDE Zame Objective Plus.txt}
        
    return
    
    end
    
//Создание спец. зараженного
if
ZAME_CURRENT_OBJ_TYPE_READED == 2
    then
    gosub @CHECK_FOR_CP_PONOS 
    
    if
    $STARTING_THEME_FLAG == 1
    then
    $STARTING_THEME_FLAG = 0
    end
    
    if
    ZAME_TARGETSKIP_MODE == 2
    then
    //ass
    else 
       
    if or
    $CHEATS_ON == 1 
    ZAME_TARGETSKIP_MODE == 1
    then
    jump to @ZAME_SKIP_SPECINFSPAWN
    end 
     
    end
    
    if
    $SAVESTATUS == 1
    then
    $SAVESTATUS = 0
    end          
    
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_TYPE"
    0AF0: get_int 29@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_COUNT"
    0AF0: get_int 30@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_NEED_TO_KILL"
    
    if
    29@ < 0
    then
    29@ = 0
    end
    
    if
    30@ < 0
    then
    30@ = 0
    end
    
    if
    30@ == 1
    then                                
    
    if
    8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
    then
    008A: SPEC_INFECTED_MARKER_FLAG = 28@ // (int)
    end
    
    SPEC_INFECTED_MARKER_FLAG += 10
    end    
        
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_Z"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_A"
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_INT"
    
    if
    28@ == 2
    then
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "WITCH_LYING_FLAG"
    if
    7@ == 1
        then
        WITCH_SPAWN_ON_ROAD = 1
        else        
        0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "WITCH_AGRED_FLAG"
        if
        7@ == 1
            then
            $WITCH_INSTANT_AGR = 1
            end
        end
    end
    
    if
    28@ == 0
    then
    
    if
    0AF0: get_int ZAME_TEMP_FUCKEEE8 from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    then    
    008B: ZAME_TEMP_FUCKEEE7 = $TANK_HEALTH // (int)
    0AF0: get_int $TANK_HEALTH from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    end
    
    if
    30@ == 1
    then    
    $CHARGER_NOTSPAWN_FLAG = 1
    $HUNTER_NOTSPAWN_FLAG = 1
    $WITCH_NOTSPAWN_FLAG = 1
    end        
    
    repeat
    $TANK_REMOVE_FLAG = 1
    wait 0
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $TANK_SPAWNED == 0" time 200
    end
    
//    if or
//    $CHEATS_ON == 1 
//    ZAME_TARGETSKIP_MODE == 1  
//        then
//        break
//        end    
    until $TANK_SPAWNED == 0
    $TANK_REMOVE_FLAG = 0              
         
    repeat
    wait 0
    
    008A: TANKS_TO_SPAWN_COUNT = 29@ // (int)
    
    if
    $ACTIVE_INTERIOR > 0
    then
    $TANK_INTERIOR_SPAWN = 1
    end  
    
    if
    $TANK_SPAWNED == 1
        then        
        
        1@ = -1
        for 0@ = 0 to 19
        if
        056D:   actor $TANK[0@] defined
            then
            if
            001F:   0@ > TANKS_TO_SPAWN_COUNT // (int)
            then
            actor.PutAtNoOffset($TANK[0@],0.0,0.0,0.0)
            05BE: AS_actor $TANK[0@] die
            end
            
            1@ += 1
            end
        end
        
        if
        003B:   1@ == TANKS_TO_SPAWN_COUNT  // (int)
        then
        break
        end
        
        else
        1@ = -1        
        end  
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $TANK_SPAWNED == 1, SPAWNED %d of %d" time 200 1@ TANKS_TO_SPAWN_COUNT
    end
    
    $TANK_NOTSPAWN_FLAG = 0
    $SPAWN_TANK_FLAG = 1
    $SPAWN_TANK_ON_COORD = 1
    0088: $TANK_X = 2@ // (float) 
    0088: $TANK_Y = 3@ // (float) 
    0088: $TANK_Z = 4@ // (float)                    
    
    if
    not ZAME_TARGETSKIP_MODE == 2
    then
    if or
    $CHEATS_ON == 1 
    ZAME_TARGETSKIP_MODE == 1
        then
        break
        end
    end              
        
    until false  
    $SPAWN_TANK_ON_COORD = 0
    
    TANKS_TO_SPAWN_COUNT = 0 
    $TANK_X = 0.0 
    $TANK_Y = 0.0 
    $TANK_Z = 0.0
    if
    ZAME_TEMP_FUCKEEE7 > 0
        then
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $SPAWN_TANK_FLAG == 0, it is %d" time 200 $SPAWN_TANK_FLAG
        end
        
        until $SPAWN_TANK_FLAG == 0
        
        008A: $TANK_HEALTH = ZAME_TEMP_FUCKEEE7 // (int)
        ZAME_TEMP_FUCKEEE7 = 0
        end
    
    end
    
    if
    28@ == 1
    then
    
    if
    0AF0: get_int ZAME_TEMP_FUCKEEE8 from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    then    
    008B: ZAME_TEMP_FUCKEEE7 = $HUNTER_HEALTH // (int)
    0AF0: get_int $HUNTER_HEALTH from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    end
    
    if
    30@ == 1
    then    
    $CHARGER_NOTSPAWN_FLAG = 1
    $TANK_NOTSPAWN_FLAG = 1
    $WITCH_NOTSPAWN_FLAG = 1
    end            
    
    repeat
    $HUNTER_REMOVE_FLAG = 1
    wait 0
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $HUNTER_SPAWNED == 0" time 200
    end
    
//    if or
//    $CHEATS_ON == 1
//    ZAME_TARGETSKIP_MODE == 1
//        then
//        break
//        end        
    until $HUNTER_SPAWNED == 0
    $HUNTER_REMOVE_FLAG = 0             
     
    repeat
    wait 0
    
    008A: HUNTERS_TO_SPAWN_COUNT = 29@ // (int)
    
    if
    $ACTIVE_INTERIOR > 0
    then
    $HUNTER_INTERIOR_SPAWN = 1
    end
    
    if
    $HUNTER_SPAWNED == 1
        then        
        
        1@ = -1
        for 0@ = 0 to 19
        if
        056D:   actor $HUNTER[0@] defined
            then
            if
            001F:   0@ > HUNTERS_TO_SPAWN_COUNT // (int)
            then
            actor.PutAtNoOffset($HUNTER[0@],0.0,0.0,0.0)
            05BE: AS_actor $HUNTER[0@] die
            end
            
            1@ += 1
            end
        end
        
        if
        003B:   1@ == HUNTERS_TO_SPAWN_COUNT  // (int)
        then
        break
        end
        
        else
        1@ = -1
        end   
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $HUNTER_SPAWNED == 1, SPAWNED %d of %d" time 200 1@ HUNTERS_TO_SPAWN_COUNT
    end
    
    $HUNTER_NOTSPAWN_FLAG = 0
    $SPAWN_HUNTER_FLAG = 1
    $SPAWN_HUNTER_ON_COORD = 1
    0088: $HUNTER_X = 2@ // (float) 
    0088: $HUNTER_Y = 3@ // (float) 
    0088: $HUNTER_Z = 4@ // (float)    
    
    if
    not ZAME_TARGETSKIP_MODE == 2
    then    
    if or
    $CHEATS_ON == 1
    ZAME_TARGETSKIP_MODE == 1
        then
        break
        end 
    end            
        
    until false  
    $SPAWN_HUNTER_ON_COORD = 0
    
    HUNTERS_TO_SPAWN_COUNT = 0 
    $HUNTER_X = 0.0 
    $HUNTER_Y = 0.0 
    $HUNTER_Z = 0.0
    if
    ZAME_TEMP_FUCKEEE7 > 0
        then
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $SPAWN_HUNTER_FLAG == 0, it is %d" time 200 $SPAWN_HUNTER_FLAG
        end
        
        until $SPAWN_HUNTER_FLAG == 0
        
        008A: $HUNTER_HEALTH = ZAME_TEMP_FUCKEEE7 // (int)
        ZAME_TEMP_FUCKEEE7 = 0
        end
    
    end 
    
    if
    28@ == 2
    then
    
    if
    0AF0: get_int ZAME_TEMP_FUCKEEE8 from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    then    
    008B: ZAME_TEMP_FUCKEEE7 = $WITCH_HEALTH // (int)
    0AF0: get_int $WITCH_HEALTH from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    end
    
    if
    30@ == 1
    then    
    $CHARGER_NOTSPAWN_FLAG = 1
    $HUNTER_NOTSPAWN_FLAG = 1
    $TANK_NOTSPAWN_FLAG = 1
    end                
    
    repeat
    $WITCH_REMOVE_FLAG = 1
    wait 0
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $WITCH_SPAWNED == 0" time 200
    end
    
//    if or
//    $CHEATS_ON == 1
//    ZAME_TARGETSKIP_MODE == 1
//        then
//        break
//        end
    until $WITCH_SPAWNED == 0
    $WITCH_REMOVE_FLAG = 0                 
     
    repeat
    wait 0
    
    008A: WITCHES_TO_SPAWN_COUNT = 29@ // (int)
    
    if
    $ACTIVE_INTERIOR > 0
    then
    $WITCH_INTERIOR_SPAWN = 1
    end
    
    if
    $WITCH_SPAWNED == 1
        then        
        
        1@ = -1
        for 0@ = 0 to 19
        if
        056D:   actor $WITCH[0@] defined
            then
            if
            001F:   0@ > WITCHES_TO_SPAWN_COUNT // (int)
            then            
            actor.PutAtNoOffset($WITCH[0@],0.0,0.0,0.0)
            05BE: AS_actor $WITCH[0@] die
            end
            
            1@ += 1
            end
        end
        
        if
        003B:   1@ == WITCHES_TO_SPAWN_COUNT  // (int)  
        then
        break
        end
        
        else
        1@ = -1
        end
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $WITCH_SPAWNED == 1, SPAWNED %d of %d" time 200 1@ WITCHES_TO_SPAWN_COUNT
    end
    
    $WITCH_NOTSPAWN_FLAG = 0
    if
    $SALVATION_FLAG == 1
    then
    $SALVATION_FLAG = 0
    ZAME_TEMP_FUCKEEE45 = 1
    end
    
    $SPAWN_WITCH_FLAG = 1
    $SPAWN_WITCH_ON_COORD = 1
    0088: $WITCH_X = 2@ // (float) 
    0088: $WITCH_Y = 3@ // (float) 
    0088: $WITCH_Z = 4@ // (float)     
    
    if
    not ZAME_TARGETSKIP_MODE == 2
    then   
    if or
    $CHEATS_ON == 1
    ZAME_TARGETSKIP_MODE == 1
        then
        break
        end
    end                
        
    until false  
    $SPAWN_WITCH_ON_COORD = 0    
    
    WITCHES_TO_SPAWN_COUNT = 0 
    $WITCH_X = 0.0 
    $WITCH_Y = 0.0 
    $WITCH_Z = 0.0
    
    if
    $WITCH_INSTANT_AGR == 1
    then
    wait 500
    $WITCH_INSTANT_AGR = 0
    end
    
    if
    ZAME_TEMP_FUCKEEE45 == 1
    then
    ZAME_TEMP_FUCKEEE45 = 0
    $SALVATION_FLAG = 1
    wait 1000
    end
    
    if
    ZAME_TEMP_FUCKEEE7 > 0
        then
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $SPAWN_WITCH_FLAG == 0, it is %d" time 200 $SPAWN_WITCH_FLAG
        end
            
        until $SPAWN_WITCH_FLAG == 0
        
        008A: $WITCH_HEALTH = ZAME_TEMP_FUCKEEE7 // (int)
        ZAME_TEMP_FUCKEEE7 = 0
        end                
    
    end
    
    if
    28@ == 3
    then
    
    if
    0AF0: get_int ZAME_TEMP_FUCKEEE8 from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    then    
    008B: ZAME_TEMP_FUCKEEE7 = $CHARGER_HEALTH // (int)
    0AF0: get_int $CHARGER_HEALTH from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_HP"
    end
    
    if
    30@ == 1
    then    
    $HUNTER_NOTSPAWN_FLAG = 1
    $TANK_NOTSPAWN_FLAG = 1
    $WITCH_NOTSPAWN_FLAG = 1
    end            
    
    repeat
    $CHARGER_REMOVE_FLAG = 1
    wait 0
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $CHARGER_SPAWNED == 0" time 200
    end
    
//    if or
//    $CHEATS_ON == 1
//    ZAME_TARGETSKIP_MODE == 1
//        then
//        break
//        end
    until $CHARGER_SPAWNED == 0
    $CHARGER_REMOVE_FLAG = 0                  
    
    repeat
    wait 0
    
    008A: CHARGERS_TO_SPAWN_COUNT = 29@ // (int)
    
    if
    $ACTIVE_INTERIOR > 0
    then
    $CHARGER_INTERIOR_SPAWN = 1
    end  
    
    if
    $CHARGER_SPAWNED == 1
        then
                
        1@ = -1
        for 0@ = 0 to 19
        if
        056D:   actor $CHARGER[0@] defined
            then
            if
            001F:   0@ > CHARGERS_TO_SPAWN_COUNT // (int)
            then
            actor.PutAtNoOffset($CHARGER[0@],0.0,0.0,0.0)
            05BE: AS_actor $CHARGER[0@] die
            end
            
            1@ += 1
            end
        end
        
        if
        003B:   1@ == CHARGERS_TO_SPAWN_COUNT  // (int)
        then
        break
        end
        
        else        
        1@ = -1        
        end
    
    if and
    $DEBUG_MENU_ON == 1
    0AB0:   key_pressed 81
    then
    0AD1: show_formatted_text_highpriority "waiting until $CHARGER_SPAWNED == 1, SPAWNED %d of %d" time 200 1@ CHARGERS_TO_SPAWN_COUNT
    end
    
    $CHARGER_NOTSPAWN_FLAG = 0
    $SPAWN_CHARGER_FLAG = 1
    $SPAWN_CHARGER_ON_COORD = 1
    0088: $CHARGER_X = 2@ // (float) 
    0088: $CHARGER_Y = 3@ // (float) 
    0088: $CHARGER_Z = 4@ // (float)                
    
    if
    not ZAME_TARGETSKIP_MODE == 2
    then
    if or
    $CHEATS_ON == 1
    ZAME_TARGETSKIP_MODE == 1
        then
        break
        end
    end                    
        
    until false  
    $SPAWN_CHARGER_ON_COORD = 0
    
    CHARGERS_TO_SPAWN_COUNT = 0 
    $CHARGER_X = 0.0 
    $CHARGER_Y = 0.0 
    $CHARGER_Z = 0.0
    if
    ZAME_TEMP_FUCKEEE7 > 0
        then
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $SPAWN_CHARGER_FLAG == 0, it is %d" time 200 $SPAWN_CHARGER_FLAG
        end
        
        until $SPAWN_CHARGER_FLAG == 0
        
        008A: $CHARGER_HEALTH = ZAME_TEMP_FUCKEEE7 // (int)
        ZAME_TEMP_FUCKEEE7 = 0
        end
    
    end         
    
    if and
    30@ == 1
    not $CHEATS_ON == 1
    not ZAME_TARGETSKIP_MODE == 1
    then
    
    ////////////////////////////////////////////
    
    if
    28@ == 0
        then
        
        $CHARGER_NOTSPAWN_FLAG = 1
        $HUNTER_NOTSPAWN_FLAG = 1
        $WITCH_NOTSPAWN_FLAG = 1
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $TANK_SPAWNED == 0" time 200
        end        
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        ZAME_TARGETSKIP_MODE == 2
            then
            
            for 0@ = 0 to 19
            if
            056D:   actor $TANK[0@] defined
                then
                0851: set_actor $TANK[0@] decrease_health_by 1000 affect_armour 1
                end
            end
            
            end
        
        until $TANK_SPAWNED == 0
        
        $CHARGER_NOTSPAWN_FLAG = 0
        $HUNTER_NOTSPAWN_FLAG = 0
        $WITCH_NOTSPAWN_FLAG = 0
        
        $TANK_INTERIOR_SPAWN = 0
        
        end
        
    if
    28@ == 1
        then
        
        $CHARGER_NOTSPAWN_FLAG = 1
        $TANK_NOTSPAWN_FLAG = 1
        $WITCH_NOTSPAWN_FLAG = 1        
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $HUNTER_SPAWNED == 0" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        ZAME_TARGETSKIP_MODE == 2
            then
            
            for 0@ = 0 to 19
            if
            056D:   actor $HUNTER[0@] defined
                then
                0851: set_actor $HUNTER[0@] decrease_health_by 1000 affect_armour 1
                end
            end
            
            end
        
        until $HUNTER_SPAWNED == 0
        
        $CHARGER_NOTSPAWN_FLAG = 0
        $TANK_NOTSPAWN_FLAG = 0
        $WITCH_NOTSPAWN_FLAG = 0
        
        $HUNTER_INTERIOR_SPAWN = 0
                
        end
        
    if
    28@ == 2
        then
        
        $CHARGER_NOTSPAWN_FLAG = 1
        $HUNTER_NOTSPAWN_FLAG = 1
        $TANK_NOTSPAWN_FLAG = 1        
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $WITCH_SPAWNED == 0" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        ZAME_TARGETSKIP_MODE == 2
            then
            
            for 0@ = 0 to 19
            if
            056D:   actor $WITCH[0@] defined
                then
                0851: set_actor $WITCH[0@] decrease_health_by 1000 affect_armour 1
                end
            end
            
            end
        
        until $WITCH_SPAWNED == 0
        
        $CHARGER_NOTSPAWN_FLAG = 0
        $HUNTER_NOTSPAWN_FLAG = 0
        $TANK_NOTSPAWN_FLAG = 0
        
        $WITCH_INTERIOR_SPAWN = 0       
        
        end
        
    if
    28@ == 3
        then
        
        $HUNTER_NOTSPAWN_FLAG = 1
        $TANK_NOTSPAWN_FLAG = 1
        $WITCH_NOTSPAWN_FLAG = 1                
        
        repeat
        wait 0
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until $CHARGER_SPAWNED == 0" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        ZAME_TARGETSKIP_MODE == 2
            then
            
            for 0@ = 0 to 19
            if
            056D:   actor $CHARGER[0@] defined
                then
                0851: set_actor $CHARGER[0@] decrease_health_by 1000 affect_armour 1
                end
            end
            
            end
        
        until $CHARGER_SPAWNED == 0
        
        $HUNTER_NOTSPAWN_FLAG = 0
        $TANK_NOTSPAWN_FLAG = 0
        $WITCH_NOTSPAWN_FLAG = 0
        
        $CHARGER_INTERIOR_SPAWN = 0
        
        end            
    
    ////////////////////////////////////////////
    
    end
    
    if
    28@ == 4
    then
    
    if
    HAZMAT_SPAWN_FLAG == 0
    then
    HAZMAT_SPAWN_FLAG = 1         
    end
    
    0088: $HAZMAT_SPAWN_X = 2@ // (float) 
    0088: $HAZMAT_SPAWN_Y = 3@ // (float) 
    0088: $HAZMAT_SPAWN_Z = 4@ // (float)
    
    if
    30@ == 1
        then
        
        ////////////////////////////////////////////
        
        repeat
        wait 0 
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until hazmat is spawned" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        1@ = 1    
        for 0@ = 0 to 19
        if
        056D:   actor $ZOMBIE[0@] defined
            then
            if or
            actor.Model($ZOMBIE[0@]) == HAZMAT_SKIN_ID
            actor.Model($ZOMBIE[0@]) == HAZMAT_SKIN_ID2
                then
                if
                not actor.Dead($ZOMBIE[0@])
                    then
                    1@ = 0
                    MISSION_MARKER = marker.CreateAboveActor($ZOMBIE[0@])      
                    if
                    0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
                        then
                        018B: set_marker MISSION_MARKER radar_mode 0
                        end       
                    end 
                end
            end
        end
        
        until 1@ == 0                
        
        ////////////////////////////////////////////
        
        repeat
        wait 0 
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until hazmat is dead" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        1@ = 1    
        for 0@ = 0 to 19
        if
        056D:   actor $ZOMBIE[0@] defined
            then
            if or
            actor.Model($ZOMBIE[0@]) == HAZMAT_SKIN_ID
            actor.Model($ZOMBIE[0@]) == HAZMAT_SKIN_ID2
                then
                if
                not actor.Dead($ZOMBIE[0@])
                    then
                    1@ = 0 
                    if
                    ZAME_TARGETSKIP_MODE == 2
                        then
                        1@ = 1
                        0851: set_actor $ZOMBIE[0@] decrease_health_by 1000 affect_armour 1
                        end          
                    end 
                end
            end
        end
        
        until 1@ == 1
        
        marker.Disable(MISSION_MARKER)
        
        ////////////////////////////////////////////
        
        end
    
    end
    
    if
    28@ == 5
    then
    
    if
    CLOWN_SPAWN_FLAG == 0
    then
    CLOWN_SPAWN_FLAG = 1        
    end
    
    0088: $CLOWN_SPAWN_X = 2@ // (float) 
    0088: $CLOWN_SPAWN_Y = 3@ // (float) 
    0088: $CLOWN_SPAWN_Z = 4@ // (float)
    
    if
    30@ == 1
        then
        
        ////////////////////////////////////////////
        
        repeat
        wait 0 
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until clown is spawned" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        1@ = 1    
        for 0@ = 0 to 19
        if
        056D:   actor $ZOMBIE[0@] defined
            then
            if
            actor.Model($ZOMBIE[0@]) == CLOWN_SKIN_ID
                then
                if
                not actor.Dead($ZOMBIE[0@])
                    then
                    1@ = 0    
                    MISSION_MARKER = marker.CreateAboveActor($ZOMBIE[0@])      
                    if
                    0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
                        then
                        018B: set_marker MISSION_MARKER radar_mode 0
                        end   
                    end 
                end
            end
        end
        
        until 1@ == 0
                        
        ////////////////////////////////////////////
        
        repeat
        wait 0 
        
        if and
        $DEBUG_MENU_ON == 1
        0AB0:   key_pressed 81
        then
        0AD1: show_formatted_text_highpriority "waiting until clown is dead" time 200
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        1@ = 1    
        for 0@ = 0 to 19
        if
        056D:   actor $ZOMBIE[0@] defined
            then
            if
            actor.Model($ZOMBIE[0@]) == CLOWN_SKIN_ID
                then
                if
                not actor.Dead($ZOMBIE[0@])
                    then
                    1@ = 0 
                    if
                    ZAME_TARGETSKIP_MODE == 2
                        then
                        1@ = 1
                        0851: set_actor $ZOMBIE[0@] decrease_health_by 1000 affect_armour 1
                        end          
                    end 
                end
            end
        end
        
        until 1@ == 1
        
        marker.Disable(MISSION_MARKER)
        
        ////////////////////////////////////////////
        
        end
    
    end
    
    :ZAME_SKIP_SPECINFSPAWN
    
    {$INCLUDE Zame Objective Plus.txt}
    
    SPEC_INFECTED_MARKER_FLAG = 0    
    return
    
    end
    
//Смена точки спавна зараженных
if
ZAME_CURRENT_OBJ_TYPE_READED == 3
    then
    gosub @CHECK_FOR_CP_PONOS
    
    $ZOMBIE_REMOVE_FLAG = 1
    wait 50
    $ZOMBIE_REMOVE_FLAG = 0
    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "INF_SPAWN_ON_CORD_OFF"
    if
    0@ == 1
    then
    $ZOMBIE_SPAWN_ON_COORD = 0
    $ZOMBIES_ALWAYS_VISIBLE = 0
    $SPECIAL_INFECTED_SPAWN_OZC_FLAG = 0
    {$INCLUDE Zame Objective Plus.txt}    
    return 
    end
    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "INFCORD_MULT"
    if
    not 0@ == 1
    then
    $ZOMBIE_COORD_MAX = 0
    0AF2: get_float $ZOMBIE_X[0] from_ini_file "me\temp.dat" section v$RACE_FILE key "INF_SPAWN_X"
    0AF2: get_float $ZOMBIE_Y[0] from_ini_file "me\temp.dat" section v$RACE_FILE key "INF_SPAWN_Y"
    0AF2: get_float $ZOMBIE_Z[0] from_ini_file "me\temp.dat" section v$RACE_FILE key "INF_SPAWN_Z"
    $ZOMBIE_SPAWN_ON_COORD = 1
    $ZOMBIES_ALWAYS_VISIBLE = 1   
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_CHANGE"
    if
    0@ == 1
    then
    $SPECIAL_INFECTED_SPAWN_OZC_FLAG = 1
    end
    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "Z_IGNORE_HEIGHT"
    if
    0@ == 1
    then
    $Z_IGNORE_HEIGHT = 1
    end
       
    {$INCLUDE Zame Objective Plus.txt}    
    return
    else
    
    0AF0: get_int $ZOMBIE_COORD_MAX from_ini_file "me\temp.dat" section v$RACE_FILE key "INFCORD_COUNT"
    
    for 1@ = 0 to $ZOMBIE_COORD_MAX    
    0AD3: v$RACE_FILE2 = format "INF_X%d" 1@
    0AF2: get_float $ZOMBIE_X[1@] from_ini_file "me\temp.dat" section v$RACE_FILE key v$RACE_FILE2
    0AD3: v$RACE_FILE2 = format "INF_Y%d" 1@
    0AF2: get_float $ZOMBIE_Y[1@] from_ini_file "me\temp.dat" section v$RACE_FILE key v$RACE_FILE2
    0AD3: v$RACE_FILE2 = format "INF_Z%d" 1@
    0AF2: get_float $ZOMBIE_Z[1@] from_ini_file "me\temp.dat" section v$RACE_FILE key v$RACE_FILE2    
    end
    
    $ZOMBIE_COORD_MAX += 1
    $ZOMBIE_SPAWN_ON_COORD = 1
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SPECINF_CHANGE"
    if
    0@ == 1
    then
    $SPECIAL_INFECTED_SPAWN_OZC_FLAG = 1
    end
    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "Z_IGNORE_HEIGHT"
    if
    0@ == 1
    then
    $Z_IGNORE_HEIGHT = 1
    end
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
        
    end
    
//Вызов орды зараженных
if
ZAME_CURRENT_OBJ_TYPE_READED == 4
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if
    $SAVESTATUS == 1
    then
    $SAVESTATUS = 0
    end   
    
    0AF0: get_int $HORDE_TIME from_ini_file "me\temp.dat" section v$RACE_FILE key "HORDE_SECONDS"
    $HORDE_TIME *= 1000
    if
    $HORDE_TIME == 0
    then    
    if
    $ZOMBIES_HORDE == 1
        then
        0459: end_thread_named 'RND_HR2'
        $ZOMBIES_HORDE = 0
        $HORDE_TIME = 0
        create_thread @RND_HR2
        else
        $HORDE_TIME = 9999999999
        end    
    end                
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Таймер
if
ZAME_CURRENT_OBJ_TYPE_READED == 5
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_TIMER
    end
    
    0AF0: get_int $TIMER from_ini_file "me\temp.dat" section v$RACE_FILE key "TIMER_SECONDS"
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TIMER_MILLISECONDS"
    $TIMER *= 1000
    
    if
    2@ > 0
    then
    005E: $TIMER += 2@  // (int)
    end
      
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDDEN_TIMER_FLAG"
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        $TIMER = 1
        end
    
    if and
    not 1@ == 1
    $TIME < 1
    then
            
    03C3: set_timer_to $TIMER type 1 GXT 'BB_19' // global_variable  // Time
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        break
        end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end        
    
    until $TIMER < 1
    
    else
    32@ = 0
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        break
        end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end   
    
    until 002F:   32@ >= $TIMER // (int)
    
    end
    
    :ZAME_SKIP_TIMER
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Передвижение объекта    
if
ZAME_CURRENT_OBJ_TYPE_READED == 7
    then
    gosub @CHECK_FOR_CP_PONOS
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Z"
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_MODEL"
    
    :NEPRAVILNO_POPROBYI_ESHE_RAZ_2
    ZAME_TRIES_TO_FIND_SHIT = 0
    ZAME_TRIES_TO_FIND_SHIT_AGAIN = 0    
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
//    {$INCLUDE newopcodes\forallobjs}
    {$INCLUDE newopcodes\forallobjs_cleoplus}
    
    //////////////////////////////////////////////////////////////////////////////////////////
    ZAME_TRIES_TO_FIND_SHIT += 1
    if
    ZAME_TRIES_TO_FIND_SHIT > 50000 //350000
        then
        
        ZAME_TRIES_TO_FIND_SHIT = 0
        
        while true
        ZAME_TRIES_TO_FIND_SHIT += 1
        
        if
        0AE3: obj = random_object_near_point 2@ 3@ 4@ in_radius 1.0 find_next 1 //IF and SET
            then
            0085: ZAME_OBJECT_HANLDE = obj // (int)
            0984: 1@ = object ZAME_OBJECT_HANLDE model  
            if
            003B:   1@ == 5@  // (int)        
                then
                if
                0EEC: locate_object_distance_to_coordinates obj pos 2@ 3@ 4@ radius 0.6
                    then
                    jump to @FINDOBJ_SECOND_WAY_JUMP2
                    end
                end
            end
        
        if
        ZAME_TRIES_TO_FIND_SHIT > 50000 //350000
            then
            
            fade 1 1
            wait 0
            
            ZAME_TRIES_TO_FIND_SHIT_AGAIN += 1 
            if
            ZAME_TRIES_TO_FIND_SHIT_AGAIN < 5
            then
            jump to @NEPRAVILNO_POPROBYI_ESHE_RAZ_2
            end
            
            fade 1 1
            
            while true
            wait 0
            
            if
            0AB0:   key_pressed 69
            then
            jump to @NEPRAVILNO_POPROBYI_ESHE_RAZ_2
            end
            
            0AD1: show_formatted_text_highpriority "%s TOTALLY CAN'T FIND OBJECT ID %d AT POS %f %f %f~n~ MISSION STOPPED ~n~ PRESS ~b~E~w~ TO TRY AGAIN" time 20000 v$RACE_FILE 5@ 2@ 3@ 4@
            0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at 2@ 3@ 4@ size 1.0 far_clip 10.0 near_clip 0.25 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 1 fade_speed 15.0 only_from_below 0
            
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
            
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
            
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
            
            end
            
            end
            
            end
            
        end
        
        end
    //////////////////////////////////////////////////////////////////////////////////////////
    
    if
    03CA:   object obj exists
        then 
        0085: ZAME_OBJECT_HANLDE = obj // (int)
        0984: 1@ = object ZAME_OBJECT_HANLDE model  
        if
        003B:   1@ == 5@  // (int)
            then                        
            if            
            0EEC: locate_object_distance_to_coordinates obj pos 2@ 3@ 4@ radius 0.3
                then
                
                :FINDOBJ_SECOND_WAY_JUMP2
                0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_X"
                0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_Y"
                0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_Z"                
                if
                0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_A"
                then
                0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_A"
                10@ = object.Angle(ZAME_OBJECT_HANLDE)                
                else
                10@ = object.Angle(ZAME_OBJECT_HANLDE)
                9@ = object.Angle(ZAME_OBJECT_HANLDE)
                end
                
                if
                0025:   9@ > 10@  // (float)
                then
                12@ = 1 // plus mode
                else
                                
                if
                0045:   9@ == 10@  // (float)
                then
                12@ = 2 //do not touch angle mode
                else
                12@ = 0 //minus mode
                end
                                    
                end
                
                0AF2: get_float 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_SPEED"
                
                0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
                0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "LOOP_OBJECT_MOVE"
                if
                2@ == 1
                then
                2@ = 1
                else
                2@ = 0
                end            
                
                if
                1@ == 1
                then            
                
                if
                2@ == 1
                then
                jump to @BENIS_MONKE_222
                end
                
                if and
                not $CHEATS_ON == 2
                not ZAME_TARGETSKIP_MODE > 0
                then
                :BENIS_MONKE_222
                create_thread @ZAM_OBJ ZAME_OBJECT_HANLDE 5@ 6@ 7@ 0 0 0 2@ 8@ 9@ 10@ 11@ 12@
                else            
                object.PutAt(ZAME_OBJECT_HANLDE,5@,6@,7@)
                object.Angle(ZAME_OBJECT_HANLDE) = 9@
                end
                
                jump to @ZAM_OBJ_MOV_JUMP            
                else
                
                repeat
                wait 0
                
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                end
                                                               
                if and
                not $CHEATS_ON == 2
                not ZAME_TARGETSKIP_MODE > 0
                then
                0088: $TEMPVAR_FLOAT_1 = 8@ // (float)
                0069: $TEMPVAR_FLOAT_1 *= GENERAL_FPS_TIMER_DIVIDER // (float)
                034E: move_object ZAME_OBJECT_HANLDE to 5@ 6@ 7@ speed $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 $TEMPVAR_FLOAT_1 collision_check 0
                
                if
                12@ == 0 //minus mode
                    then
                    
                    11@ = object.Angle(ZAME_OBJECT_HANLDE)
                    0087: 13@ = 8@ // (float)
                    0092: 13@ = float 13@ to_integer
                    0093: 13@ = integer 13@ to_float
                    if
                    13@ < 1.0
                    then
                    13@ = 1.0
                    end
                    
                    18@ = 0
                     
                    if
                    12@ == 0 //minus mode
                        then
                        if or
                        8035:   11@ <= 9@  // (float)
                        0045:   11@ == 9@  // (float)
                            then
                            18@ = 1
                            end
                        else
                        if or
                        0035:   11@ >= 9@  // (float)
                        12@ == 2
                            then
                            18@ = 1
                            end
                        end
                        
                    if
                    18@ == 0 //rotate until angle, do not if angle is equal
                        then
                        0063: 11@ -= 13@  // (float)
                        
                        if
                        11@ < 1.0
                        then
                        11@ = 0.0
                        end
                                        
                        object.Angle(ZAME_OBJECT_HANLDE) = 11@
                        
                        end
                    
                    else
                    
                    if
                    12@ == 1 //plus mode
                        then
                        
                        11@ = object.Angle(ZAME_OBJECT_HANLDE)
                        0087: 13@ = 8@ // (float)
                        0092: 13@ = float 13@ to_integer
                        0093: 13@ = integer 13@ to_float
                        if
                        13@ < 1.0
                        then
                        13@ = 1.0
                        end                                                
                        
                        18@ = 0
                     
                        if
                        12@ == 0 //minus mode
                            then
                            if or
                            8035:   11@ <= 9@  // (float)
                            0045:   11@ == 9@  // (float)
                                then
                                18@ = 1
                                end
                            else
                            if or
                            0035:   11@ >= 9@  // (float)
                            12@ == 2
                                then
                                18@ = 1
                                end
                            end
                        
                        if
                        18@ == 0 //rotate until angle, do not if angle is equal
                            then
                            005B: 11@ += 13@  // (float)
                            
                            if
                            11@ > 360.0
                            then
                            11@ = 360.0
                            end
                                                                 
                            object.Angle(ZAME_OBJECT_HANLDE) = 11@
                            end
                        
                        else //do not touch angle
                        //ass
                        end
                    
                    end
                                
                else
                object.PutAt(ZAME_OBJECT_HANLDE,5@,6@,7@)
                object.Angle(ZAME_OBJECT_HANLDE) = 9@
                end
                
                0092: 14@ = float 9@ to_integer //need angle
                0092: 15@ = float 11@ to_integer //current angle
                                                
//                0AD1: show_formatted_text_highpriority "ANGLE %f == NEED ANGLE %f, ~n~INI ANGLE %f, MOV SPD %f, ROTATE SPD %f, ROT MODE %d" time 2000 11@ 9@ 10@ 8@ 13@ 12@             
                if             
                04E6:   object ZAME_OBJECT_HANLDE near_point 5@ 6@ 7@ radius 0.001 0.001 0.001 flag 0                
                    then                
                    if
                    12@ == 0 //minus mode
                        then
                        if
                        8035:   11@ <= 9@  // (float)
                            then
                            break
                            end
                        else
                        if or
                        0035:   11@ >= 9@  // (float)
                        12@ == 2
                            then
                            break
                            end
                        end                
                    end
                
                until false
                
                jump to @ZAM_OBJ_MOV_JUMP
                
                end
                
                end
            end
        end
        
    {$INCLUDE newopcodes\end}
//    {$INCLUDE newopcodes\for_end_cleoplus}    
    
    until false
    
    :ZAM_OBJ_MOV_JUMP    
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Вывод текста     
if and
ZAME_CURRENT_OBJ_TYPE_READED == 8
0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SHOW_AS_TEXTBOX"
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_TEXT
    end
    
    0EC7: get_fade_alpha 0@
    0092: 0@ = float 0@ to_integer
    if and
    0@ > 200
    816B: not  fading
    then
    if or
    ZAME_CUTSCENE_MODE == 1
    ZAME_CUTSCENE_MODE == 2
        then
        fade 1 1000
        //0AD1: show_formatted_text_highpriority "fade in cuz text show" time 2000
        end   
    end
    
    09BD: allow_other_threads_to_display_text_boxes 1
    
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID"
    text.ShowTextBox(0@v)
    
    if
    8AF0: not get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    then
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if
    0EB7: is_on_scripted_cutscene
    then
    
    if or
    0E8D: is_any_fire_button_pressed 0
    0E8D: is_any_fire_button_pressed 1 
        then
        text.RemoveTextBox()
        break
        end
        
    else
    
    if or
    00E1:   player 0 pressed_key 4
    00E1:   player 1 pressed_key 4    
        then
        text.RemoveTextBox()
        break
        end    
    
    end
    
    if or    
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        text.RemoveTextBox()
        break
        end
    
    until 8A2A: not  text_box 0@v displayed
    
    end
    
    09BD: allow_other_threads_to_display_text_boxes 0
    
    :ZAME_SKIP_TEXT
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
if and
ZAME_CURRENT_OBJ_TYPE_READED == 8
8AF0: not get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SHOW_AS_TEXTBOX"
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_TEXT2
    end
    
    0EC7: get_fade_alpha 0@
    0092: 0@ = float 0@ to_integer
    if and
    0@ > 200
    816B: not  fading
    then
    if or
    ZAME_CUTSCENE_MODE == 1
    ZAME_CUTSCENE_MODE == 2
        then
        fade 1 1000
        //0AD1: show_formatted_text_highpriority "fade in cuz text show" time 2000
        end   
    end
    
    09BD: allow_other_threads_to_display_text_boxes 1
    
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID"
    09FD: get_gxt_string 0@v width_to 11@  // ~k~~PED_SPRINT~ Select
    0093: 11@ = integer 11@ to_float
    11@ *= 8.0
    0092: 11@ = float 11@ to_integer    
    
    if
    8AF0: not get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    then
    
    32@ = 0
    $PHRASES_OFF_FLAG = 1
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if or
    not $QUEST_TYPE > 9
    $QUEST_TYPE == -1
    then
    text.ShowH(0@v,10,1)
    else
    0384: show_text_1string GXT 0@v string v$NAME3 time 10 1
    end
    
    if
    0EB7: is_on_scripted_cutscene
    then
    
    if or
    0E8D: is_any_fire_button_pressed 0
    0E8D: is_any_fire_button_pressed 1 
        then
        text.ClearAll()
        break
        end
        
    else
    
    if or
    00E1:   player 0 pressed_key 4
    00E1:   player 1 pressed_key 4    
        then
        text.ClearAll()
        break
        end    
    
    end
    
    if or    
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        text.ClearAll()
        break
        end
    
    until 002D:   32@ >= 11@  // (int)
    
    $PHRASES_OFF_FLAG = 0
    
    else
    
    0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    10@ == 2
    then
    
    if or
    not $QUEST_TYPE > 9
    $QUEST_TYPE == -1
    then
    text.ShowH(0@v,11@,1)
    else
    0384: show_text_1string GXT 0@v string v$NAME3 time 11@ 1
    end
    
    else    
    create_thread @ZAMFXT 0@ 1@ 2@ 3@ 11@
    $PHRASES_OFF_FLAG = 0
    end
        
    end
    
    09BD: allow_other_threads_to_display_text_boxes 0
    
    :ZAME_SKIP_TEXT2
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end    
    
//Событие камеры    
if
ZAME_CURRENT_OBJ_TYPE_READED == 9
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    
    if
    ZAME_CUTSCENE_MODE == 2
    then
    ZAME_CUTSCENE_MODE = 0
    gosub @ZAME_DISABLE_CUTSCENE_GODMODE
    $HUD_REMOVE = 0
    end
    
    jump to @ZAME_SKIP_CUM_ACTION
    end
    
    if
    $FP_ACTIVATED == 1
    then
    FP_TURNED_OFF_FOR_CUTSCENE = 1
    
    repeat
    wait 0
    until $FP_ACTIVATED == 0
    
    end   
    
//    if
//    8E4B: not is_char_playing_any_script_animation PLAYER_ACTOR include_anims 1
//    then
//    player.CanMove(PLAYER_CHAR,false)
//    else
    0E69: set_player_control_pad_movement 0 0 
//    end
    cinema.Widescreen(1)
    BLACK_POLOSKI_ON = 1
    $HUD_REMOVE = 1
    $HUD_OFF_INST = 1
    
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_MOV_TIME"
    0AF2: get_float 2@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_X"
    0AF2: get_float 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_Y"
    0AF2: get_float 4@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_Z"
    0AF2: get_float 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_X"
    0AF2: get_float 6@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_Y"
    0AF2: get_float 7@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_Z"    
    0AF2: get_float 20@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_X2"
    0AF2: get_float 30@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_Y2"
    0AF2: get_float 40@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POS_Z2"
    0AF2: get_float 50@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_X2"
    0AF2: get_float 60@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_Y2"
    0AF2: get_float 70@ to_ini_file "me\temp.dat" section v$RACE_FILE key "CAM_POINT_AT_Z2"  
    0085: 0@ = 8@ // (int)
    0@ += 250 
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOLLOW_PED_FLAG"
    if
    1@ == 1
    then
    camera.SetPosition(2@,3@,4@,0.0,0.0,0.0)
    
    0AF0: get_int ZAME_ANIM_PED_HANDLE from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_PED"
    if
    ZAME_ANIM_PED_HANDLE < 1
    then
    008B: ZAME_ANIM_PED_HANDLE = PLAYER_ACTOR // (int)
    else
    
    ////////////////////////////////НАХОДИМ ЦЕЛЕВОГО ПЕДА АНИМАЦИИ-ДЕЙСТВИЯ ПО IDNAME////////////////////////////////
    
    ZAME_TEMPVAR_STRING = ""
    0AF4: ZAME_TEMPVAR_STRING = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME"
    if
    8846: not  string ZAME_TEMPVAR_STRING empty // v$
        then
        
        //////////////////////////////////////////////////
        
        {$INCLUDE newopcodes\forallpeds_cleoplus}
                
        if and
        056D:   actor ped defined
        87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
            then
            0AC6: ZAME_TEMPVAR_STRING3 = label @SUNUDKS_POSITIONS_ARRAY offset          
            if  
            0E16: get_extended_char_var ped id "IDNAME" var 1 to ZAME_TEMPVAR_STRING3
                then
    //            0D4D: copy_string ZAME_TEMPVAR_STRING3 to ZAME_TEMPVAR_STRING2
    //            0D4D: copy_string "yes" to 0@
                0AD3: ZAME_TEMPVAR_STRING2 = format "%s" ZAME_TEMPVAR_STRING3
                if
                0D49: 12@ = compare_strings ZAME_TEMPVAR_STRING2 ZAME_TEMPVAR_STRING // IF and SET
                    then
                    0085: ZAME_ANIM_PED_HANDLE = ped // (int)
                    jump to @DO_CAM_PED_FOLLOW
                    end
                end               
            end
                
        {$INCLUDE newopcodes\end}
            
        //////////////////////////////////////////////////
        
        0AD1: show_formatted_text_highpriority "FAILED TO FIND ANIM PED %s BY IDNAME %s, SKIPING ANIM" time 2000 v$RACE_FILE ZAME_TEMPVAR_STRING
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then
        //ass
        else
        wait 2000
        end
        
        jump to @ZAME_SKIP_CUM_ACTION
        
        end
        
    ///////////////////////////////////////////////////////////////////////////////////
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_Z"                    
    0AF0: get_int 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "PED_MODEL"
    
    32@ = 0
    repeat
    wait 0
    
    if
    32@ > 3000
    then
    
    0AD1: show_formatted_text_highpriority "FAILED TO FIND ANIM PED %s BY %f %f %f %d, SKIPING ANIM" time 2000 v$RACE_FILE 2@ 3@ 4@ 5@  
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
    wait 2000
    end
    
    jump to @ZAME_SKIP_CUM_ACTION
    end
    
    //////////////////////////////////////////////////
    
    {$INCLUDE newopcodes\forallpeds_cleoplus}
            
    if and
    056D:   actor ped defined
    87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
        then
        0665: get_actor ped model_to 6@
        if
        003B:   6@ == 5@  // (int)
            then
//            0AD1: show_formatted_text_highpriority "MODEL IS GOOD" time 500
//            wait 500
            if
            0EEA: locate_char_distance_to_coordinates ped pos 2@ 3@ 4@ radius 1.0        
                then
                0085: ZAME_ANIM_PED_HANDLE = ped // (int)
                jump to @DO_CAM_PED_FOLLOW
                else
//                0AD1: show_formatted_text_highpriority "COORDS ARE NOT" time 500
//                wait 500
                end     
            end          
        end
            
    {$INCLUDE newopcodes\end}
        
    //////////////////////////////////////////////////
            
    until false
    
    end
    
    :DO_CAM_PED_FOLLOW
    
    camera.OnPed(ZAME_ANIM_PED_HANDLE,15,2)
    else
    0936: set_camera 2@ 3@ 4@ position_to 20@ 30@ 40@ time 0@ smooth_transition 1
    0920: point_camera 5@ 6@ 7@ transverse_to 50@ 60@ 70@ time 0@ smooth_transition 1
    end
    create_thread @REFR_3D
    gosub @ZAME_ENABLE_CUTSCENE_GODMODE
    
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_IN"
    if or
//    ZAME_CURRENT_OBJECTIVE_INDEX == 1
    ZAME_CUTSCENE_MODE == 1
    ZAME_CUTSCENE_MODE == 2
    2@ == 1
    then
    fade 1 1000
    //0AD1: show_formatted_text_highpriority "fade in 4" time 2000
    if
    ZAME_CUTSCENE_MODE == 2
        then
        ZAME_CUTSCENE_MODE = 0
        gosub @ZAME_DISABLE_CUTSCENE_GODMODE
        end
    end    
    
    32@ = 0
    
    repeat
    wait 0
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
    
    if or
    0E8D: is_any_fire_button_pressed 0
    0E8D: is_any_fire_button_pressed 1 
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then  
        
        0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOLLOW_PED_FLAG"
        if
        not 1@ == 1    
        then 
        068D: get_camera_position_to 2@ 3@ 4@
        068E: get_camera_target_point_to 5@ 6@ 7@
        0936: set_camera 2@ 3@ 4@ position_to 20@ 30@ 40@ time 250 smooth_transition 1
        0920: point_camera 5@ 6@ 7@ transverse_to 50@ 60@ 70@ time 250 smooth_transition 1  
        wait 250
        end
        
        if
        ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 0
        then
        0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
        5@ += 1
        0AD3: v$SHITME_FILE = format "OBJ%d" 5@
        else        
        gosub @ZAME_GET_NEXT_INTERTARGET_NAME        
        end
        
        0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
        if
        0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
        then
        6@ = -1
        end
        
        if and
        ZAME_CUTSCENE_MODE == 1
        ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 1
        6@ < 0
        then
        0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
        5@ += 1
        0AD3: v$SHITME_FILE = format "OBJ%d" 5@
        0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
        if
        0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
        then
        6@ = -1
        end
        
        end                                
        
        if or
        6@ == 19
        6@ == 5
        6@ == 7
        6@ == 12
        6@ == 21
        then
        6@ = 11
        end
        
        if
        0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "END_CUTSCENE"
        then
        6@ = -1
        end    
        
        if or
        6@ == 8
        6@ == 9
        6@ == 1
        6@ == 18
        6@ == 16
        6@ == 14
        6@ == 15
        6@ == 11
        then
        
        0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOLLOW_PED_FLAG"
        if
        not 1@ == 1    
        then
        camera.SetPosition(20@,30@,40@,0.0,0.0,0.0)
        camera.PointAt(50@,60@,70@,2)
        end
        
        ZAME_CUTSCENE_MODE = 1
        gosub @ZAME_ENABLE_CUTSCENE_GODMODE
        end
        
        break
        end
    
    until 002D:   32@ >= 8@  // (int)    
    
    if
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 0
    then
    0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    5@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 5@
    else
    gosub @ZAME_GET_NEXT_INTERTARGET_NAME  
    end
    
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
    then
    6@ = -1
    end    
    
    if and
    ZAME_CUTSCENE_MODE == 1
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 1
    6@ < 0
    then
    0085: 5@ = ZAME_CURRENT_OBJECTIVE_INDEX // (int)
    5@ += 1
    0AD3: v$SHITME_FILE = format "OBJ%d" 5@
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "OBJECTIVE_TYPE"
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "DO_NOT_EXIST_PLEASE"
    then
    6@ = -1
    end
        
    end
    
    if or
    6@ == 19
    6@ == 5
    6@ == 7
    6@ == 12
    6@ == 21
    then
    6@ = 11
    end
    
    if
    0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "END_CUTSCENE"
    then
    6@ = -1
    end      
    
    if and
    not 6@ == 8
    not 6@ == 9
    not 6@ == 1
    not 6@ == 18
    not 6@ == 16
    not 6@ == 14
    not 6@ == 15
    not 6@ == 11
    then     
    camera.Restore_WithJumpCut()   
    player.CanMove(PLAYER_CHAR,true)
    0E69: set_player_control_pad_movement 0 1    
    cinema.Widescreen(0)
    BLACK_POLOSKI_ON = 0    
    $HUD_REMOVE = 0
    $HUD_OFF_INST = 0
    gosub @ZAME_DISABLE_CUTSCENE_GODMODE
    
    if
    FP_TURNED_OFF_FOR_CUTSCENE == 1
    then
    FP_TURNED_OFF_FOR_CUTSCENE = 0        
    end
    
    else    
    camera.SetPosition(20@,30@,40@,0.0,0.0,0.0)
    camera.PointAt(50@,60@,70@,2) 
    ZAME_CUTSCENE_MODE = 1
    gosub @ZAME_ENABLE_CUTSCENE_GODMODE   
    end
    
    :ZAME_SKIP_CUM_ACTION
    
    {$INCLUDE Zame Objective Plus.txt}
    
    if
    ZAME_CUTSCENE_MODE == 1
        then
        
        if or
        6@ == 19
        6@ == 5
        6@ == 7
        6@ == 12
        6@ == 21
        then
        6@ = 11
        end
        
        if
        0AF0: get_int 28@ from_ini_file "me\temp.dat" section v$SHITME_FILE key "END_CUTSCENE"
        then
        6@ = -1
        end
        
        if and    
        not 6@ == 8
        not 6@ == 9
        not 6@ == 1
        not 6@ == 18
        not 6@ == 16
        not 6@ == 14
        not 6@ == 15 
        not 6@ == 11   
        then
        ZAME_CUTSCENE_MODE = 0
        gosub @ZAME_DISABLE_CUTSCENE_GODMODE
        camera.Restore_WithJumpCut()
        player.CanMove(PLAYER_CHAR,true)
        0E69: set_player_control_pad_movement 0 1    
        cinema.Widescreen(0)
        BLACK_POLOSKI_ON = 0    
        $HUD_REMOVE = 0
        $HUD_OFF_INST = 0
        
        if
        FP_TURNED_OFF_FOR_CUTSCENE == 1
        then
        FP_TURNED_OFF_FOR_CUTSCENE = 0        
        end
        
        end
    end
        
    return
    
    end
    
//Подбор пикапа   
if
ZAME_CURRENT_OBJ_TYPE_READED == 10
    then
    gosub @CHECK_FOR_CP_PONOS
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PICKUP_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PICKUP_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PICKUP_Z"
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PICKUP_ID"    
    28@ = Pickup.Create(5@, 3, 2@, 3@, 4@)
    
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDDEN_FLAG"
    if
    not 6@ == 1
    then
    03DC: 1@ = create_marker_above_pickup 28@
    end
    
    repeat
    wait 0
    
    if
    not 6@ == 1
    then
    0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at 2@ 3@ 4@ size 1.0 far_clip 10.0 near_clip 0.25 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 1 fade_speed 15.0 only_from_below 0
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        break
        end
    
    until pickup.Picked_up(28@)
    
    marker.Disable(1@)
    pickup.Destroy(28@) 
    
    {$INCLUDE Zame Objective Plus.txt}    
    return  
     
    end
    
//Взрыв
if
ZAME_CURRENT_OBJ_TYPE_READED == 11
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_EXPLOSION
    end
    
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "EXPLODE_TYPE"
    if
    5@ < -1
    then
    5@ = 0
    end
            
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
    
    0948: create_explosion_at 2@ 3@ 4@ type 5@ camera_shake 1.0
    
    :ZAME_SKIP_EXPLOSION
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Разрушение объекта    
if
ZAME_CURRENT_OBJ_TYPE_READED == 12
    then
    gosub @CHECK_FOR_CP_PONOS
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Z"
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_MODEL"
    
    28@ = 0.1
    29@ = 0
    :NEPRAVILNO_POPROBYI_ESHE_RAZ
    ZAME_TRIES_TO_FIND_SHIT = 0
    ZAME_TRIES_TO_FIND_SHIT_AGAIN = 0
    
    repeat
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
    wait 0
    end
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
//    {$INCLUDE newopcodes\forallobjs}
    {$INCLUDE newopcodes\forallobjs_cleoplus}
    
    //////////////////////////////////////////////////////////////////////////////////////////
    ZAME_TRIES_TO_FIND_SHIT += 1
    if
    ZAME_TRIES_TO_FIND_SHIT > 50000 //350000
        then
        
        ZAME_TRIES_TO_FIND_SHIT = 0
        
        while true
        ZAME_TRIES_TO_FIND_SHIT += 1
        
        if
        0AE3: obj = random_object_near_point 2@ 3@ 4@ in_radius 1.0 find_next 1 //IF and SET
            then
            0085: ZAME_OBJECT_HANLDE = obj // (int)
            0984: 1@ = object ZAME_OBJECT_HANLDE model  
            if
            003B:   1@ == 5@  // (int)        
                then
                if
                0EEC: locate_object_distance_to_coordinates obj pos 2@ 3@ 4@ radius 0.6
                    then
                    jump to @FINDOBJ_SECOND_WAY_JUMP
                    end
                end
            end
        
        if
        ZAME_TRIES_TO_FIND_SHIT > 50000 //350000
            then
            
            fade 1 1
            wait 0
            
            ZAME_TRIES_TO_FIND_SHIT_AGAIN += 1 
            if
            ZAME_TRIES_TO_FIND_SHIT_AGAIN < 5
            then
            jump to @NEPRAVILNO_POPROBYI_ESHE_RAZ
            end
            
            fade 1 1
            
            while true
            wait 0
            
            if
            0AB0:   key_pressed 69
            then
            jump to @NEPRAVILNO_POPROBYI_ESHE_RAZ
            end
            
            0AD1: show_formatted_text_highpriority "%s TOTALLY CAN'T FIND OBJECT ID %d AT POS %f %f %f~n~ MISSION STOPPED ~n~ PRESS ~b~E~w~ TO TRY AGAIN" time 20000 v$RACE_FILE 5@ 2@ 3@ 4@
            0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at 2@ 3@ 4@ size 1.0 far_clip 10.0 near_clip 0.25 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 1 fade_speed 15.0 only_from_below 0
            
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
            
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
            
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
            
            end
            
            end
            
            end
            
        end
        
        end
    //////////////////////////////////////////////////////////////////////////////////////////
    
    if
    03CA:   object obj exists
        then  
        0085: ZAME_OBJECT_HANLDE = obj // (int)
        0984: 1@ = object ZAME_OBJECT_HANLDE model  
        if
        003B:   1@ == 5@  // (int)        
            then                       
            if
            0EEC: locate_object_distance_to_coordinates obj pos 2@ 3@ 4@ radius 0.3
                then
                :FINDOBJ_SECOND_WAY_JUMP
                
                0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DESTORY_AUTOMATIC_FLAG"
                if
                5@ == 1
                then
                jump to @ZAME_AUTOMATIC_OBJECT_DESTROY_JUMP
                end
                
                if
                5@ == 2
                then
                jump to @ZAME_AUTOMATIC_OBJECT_DEFEND_JUMP
                end
                
                0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECT_HP"
                071F: set_object ZAME_OBJECT_HANLDE health_to 5@
                
                008A: $WAIT_TIME = 5@ // (int)
                
                09FD: get_gxt_string 'F_DOBJ' width_to 0@
                if
                0@ > 0
                then
                03C4: set_status_text $WAIT_TIME type 1 GXT 'F_DOBJ' // global_variable  // Score ~1~
                else
                03C4: set_status_text $WAIT_TIME type 1 GXT 'SE196' // global_variable  // Score ~1~
                end                                            
                
                object.SetImmunities(ZAME_OBJECT_HANLDE,0,0,0,0,0)
                object.Indestructibility(ZAME_OBJECT_HANLDE,0)
                035D: set_object ZAME_OBJECT_HANLDE targetable 1
                ZAME_OBJECT_MARKER_HANLDE = Marker.CreateAboveObject(ZAME_OBJECT_HANLDE)
                
                repeat
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                then
                //ass
                else
                wait 0
                end
                
                for 0@ = 0 to 4
                gosub @ZAME_OBJ_ATTACK_PEOPLE1
                end
                
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                end
                
                071E: get_object ZAME_OBJECT_HANLDE health_to 1@
                            
                0085: 20@ = 1@ // (int)
                0093: 20@ = integer 20@ to_float
                0085: 24@ = 5@ // (int)
                0093: 24@ = integer 24@ to_float                                                
                24@ /= 100.0                     
                0073: 20@ /= 24@ // (float)
                0092: 20@ = float 20@ to_integer
                
                008A: $WAIT_TIME = 20@ // (int)
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                    then
                    break
                    end
                
                until 1@ <= 0
                
                0151: remove_status_text $WAIT_TIME
                
                :ZAME_AUTOMATIC_OBJECT_DESTROY_JUMP
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                then
                //ass
                else
                                                
                if
                09CC:   object ZAME_OBJECT_HANLDE model_is 3409
                then
                object.StorePos(ZAME_OBJECT_HANLDE,1@,2@,3@)
                064B: 0@ = create_particle "blood_heli" at 1@ 2@ 3@ type 1
                064F: remove_references_to_particle 0@
                wait 250
                end
                
                end
                
                0723: break_object ZAME_OBJECT_HANLDE intensity 1                
                marker.Disable(ZAME_OBJECT_MARKER_HANLDE)                        
                
                jump to @ZAM_OBJ_DEST_JUMP
                
                :ZAME_AUTOMATIC_OBJECT_DEFEND_JUMP
                                
                008A: ZAME_PROTECT_THE_OBJECT_OBJ = ZAME_OBJECT_HANLDE // (int)
                ZAME_PROTECT_THE_OBJECT_FLAG = 1
                0AD3: 0@v = format "me\%d\dst%d.mp3" ZAME_MISSION_LOAD_NUMBER ZAME_CURRENT_OBJECTIVE_INDEX
                if
                0AAB:   file_exists 0@v
                then
                ZAME_PROTECT_THE_OBJECT_SND = Audiostream.Load3d(0@v)
                else
                ZAME_PROTECT_THE_OBJECT_SND = Audiostream.Load3d("audio\sounds\quests\OOS\door_break.mp3")
                end
                250A: SET_AUDIO_STREAM_TYPE ZAME_PROTECT_THE_OBJECT_SND 3
                
                0AF0: get_int $SAVE_WAIT_TIME from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_DEFEND_TIME"
                $SAVE_WAIT_TIME *= 1000
                03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'BB_19' // global_variable  // Time
                
                while not model.Available(#MALE01)
                wait 0
                model.Load(#MALE01)
                mload
                end
                
                0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_X"
                0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Y"
                0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Z"
                ZAME_PROTECT_THE_OBJECT_CHAR = actor.Create(26,#MALE01,2@,3@,4@)
                0337: set_actor ZAME_PROTECT_THE_OBJECT_CHAR visibility 0
                actor.SetImmunities(ZAME_PROTECT_THE_OBJECT_CHAR,1,1,1,1,1)
                actor.LockInCurrentPosition(ZAME_PROTECT_THE_OBJECT_CHAR,true)
                0619: enable_actor ZAME_PROTECT_THE_OBJECT_CHAR collision_detection 0
                
                0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECT_HP"
                071F: set_object ZAME_OBJECT_HANLDE health_to 5@
                
                008A: $WAIT_TIME = 5@ // (int)
                
                09FD: get_gxt_string 'F_DOBJ' width_to 0@
                if
                0@ > 0
                then
                03C4: set_status_text $WAIT_TIME type 1 GXT 'F_DOBJ' // global_variable  // Score ~1~
                else
                03C4: set_status_text $WAIT_TIME type 1 GXT 'SE196' // global_variable  // Score ~1~
                end                                            
                
                object.SetImmunities(ZAME_OBJECT_HANLDE,1,1,1,1,0)
                object.Indestructibility(ZAME_OBJECT_HANLDE,0)
                035D: set_object ZAME_OBJECT_HANLDE targetable 1
                ZAME_OBJECT_MARKER_HANLDE = Marker.CreateAboveObject(ZAME_OBJECT_HANLDE)
                
                while $SAVE_WAIT_TIME > 0
                wait 0
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                    then
                    break
                    end
                                                
                071E: get_object ZAME_OBJECT_HANLDE health_to 1@
                
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1                
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                1@ <= 0
                then
                ZAME_FAILED_BY_REASON = 1
                0723: break_object ZAME_OBJECT_HANLDE intensity 1
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                end
                            
                0085: 20@ = 1@ // (int)
                0093: 20@ = integer 20@ to_float
                0085: 24@ = 5@ // (int)
                0093: 24@ = integer 24@ to_float                                                
                24@ /= 100.0                     
                0073: 20@ /= 24@ // (float)
                0092: 20@ = float 20@ to_integer
                
                008A: $WAIT_TIME = 20@ // (int)
                
                end
                
                0151: remove_status_text $WAIT_TIME
                014F: stop_timer $SAVE_WAIT_TIME
                actor.DestroyInstantly(ZAME_PROTECT_THE_OBJECT_CHAR)
                ZAME_PROTECT_THE_OBJECT_FLAG = 0
                audiostream.Release(ZAME_PROTECT_THE_OBJECT_SND)
                marker.Disable(ZAME_OBJECT_MARKER_HANLDE)
                
                jump to @ZAM_OBJ_DEST_JUMP
                
                end
            end
        end
        
    {$INCLUDE newopcodes\end}
//    {$INCLUDE newopcodes\for_end_cleoplus}    
    
    until false
    
    :ZAM_OBJ_DEST_JUMP    
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Смена погоды
if
ZAME_CURRENT_OBJ_TYPE_READED == 13
    then
    gosub @CHECK_FOR_CP_PONOS    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "WEATHER_NUM"
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "INSTACHANGE"
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    2@ == 1
    then
    set_weather 1@ 
    else
    0459: end_thread_named 'ZAM_WTH'
    create_thread @ZAM_WTH 1@
    end
    
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Воспроизведение звука
if
ZAME_CURRENT_OBJ_TYPE_READED == 14
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_SND_ACTION
    end
                    
    if or
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "AUD_NAME"
    0AD3: v$FUCK_CHRI = format "me\%d\%s" ZAME_MISSION_LOAD_NUMBER 0@v
    create_thread @ZAM_SND
    else  
    
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "AUD_NAME"
    0AD3: v$FUCK_CHRI = format "me\%d\%s" ZAME_MISSION_LOAD_NUMBER 0@v
    5@ = Audiostream.Load(v$FUCK_CHRI)
    Audiostream.Volume(5@) = $SOUNDS_VOLUME 
    Audiostream.Loop(5@, 0)
    Audiostream.PerformAction(5@, PLAY)
    250A: SET_AUDIO_STREAM_TYPE 5@ 3  
    
    repeat    
    wait 0
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    Audiostream.Volume(5@) = $SOUNDS_VOLUME
    //0AD1: show_formatted_text_highpriority "PLAYING AUDIO FROM %s, status is %d" time 2000 v$NOTES_FILE 1@
    0AB9: get_mp3 5@ state_to 1@
    
    until 1@ == -1
    
    end
    
    :ZAME_SKIP_SND_ACTION
    
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Воспроизведение фоновой музыки
if
ZAME_CURRENT_OBJ_TYPE_READED == 15
    then
    gosub @CHECK_FOR_CP_PONOS    
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "MUS_NAME"
    0AD3: v$NOTES_FILE = format "me\%d\%s" ZAME_MISSION_LOAD_NUMBER 0@v
    0AF0: 5@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_IN_FLAG"    
    0AF0: 6@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_IN_TIME"
    0AF0: 7@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_OUT_FLAG"    
    0AF0: 8@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_OUT_TIME"
    if
    8AF2: not get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MUSIC_GAIN_LEVEL"
    then
    9@ = 1.0
    else
    0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MUSIC_GAIN_LEVEL"
    end
    
    if
    9@ < 1.0
    then
    9@ = 1.0
    end
    
    if
    5@ < 0
    then
    5@ = 1
    6@ = 500
    end
    
    if
    7@ < 0
    then
    7@ = 1
    8@ = 500
    end
    
    if
    $CASETTE_PLAYING_FLAG == 1 
    then
    $OTKZ_NGRDA_FLG = 1    
    
    repeat    
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
       
    until $OTKZ_NGRDA_FLG == -1
    
    $OTKZ_NGRDA_FLG = 0
    
    end 
    
    create_thread @ZAM_MUS 0 5@ 6@ 7@ 8@ 0 0 0 0 9@         
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Воспроизведение анимации
if
ZAME_CURRENT_OBJ_TYPE_READED == 16
    then
//    0AD1: show_formatted_text_highpriority "huy anim" time 2000
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    
    0AF4: 4@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "ANIM_NAME"
    if or
    0D49: 12@ = compare_strings 4@v "walk_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "run_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "sprint_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "jump" // IF and SET
    0D49: 12@ = compare_strings 4@v "climb" // IF and SET
    0D49: 12@ = compare_strings 4@v "aim_at_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "aim_at_ped" // IF and SET
    0D49: 12@ = compare_strings 4@v "shoot_at_point" // IF and SET
        then
        jump to @SHIT_SKIP_TRYRTYRTYR3
        end
        
    if or
    0D49: 12@ = compare_strings 4@v "look_at_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "look_at_ped" // IF and SET
    0D49: 12@ = compare_strings 4@v "rotate_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "rotate_to_ped" // IF and SET
    0D49: 12@ = compare_strings 4@v "attack_ped" // IF and SET
    0D49: 12@ = compare_strings 4@v "attack_car" // IF and SET
    0D49: 12@ = compare_strings 4@v "crouch" // IF and SET
    0D49: 12@ = compare_strings 4@v "die" // IF and SET
        then
        jump to @SHIT_SKIP_TRYRTYRTYR3
        end
        
    if or
    0D49: 12@ = compare_strings 4@v "die_headshooted" // IF and SET
    0D49: 12@ = compare_strings 4@v "sit_car_driver" // IF and SET
    0D49: 12@ = compare_strings 4@v "sit_car_passeng" // IF and SET
    0D49: 12@ = compare_strings 4@v "hands_up" // IF and SET
    0D49: 12@ = compare_strings 4@v "exit_car" // IF and SET
    0D49: 12@ = compare_strings 4@v "say_text" // IF and SET
    0D49: 12@ = compare_strings 4@v "clear_task" // IF and SET
    0D49: 12@ = compare_strings 4@v "drive_to" // IF and SET
        then
        jump to @SHIT_SKIP_TRYRTYRTYR3
        end
    
    if or    
    0D49: 12@ = compare_strings 4@v "heli_follow_ped" // IF and SET
    0D49: 12@ = compare_strings 4@v "heli_fly_at" // IF and SET
    0D49: 12@ = compare_strings 4@v "turret_on_car" // IF and SET 
    0D49: 12@ = compare_strings 4@v "boat_sail_at" // IF and SET 
        then
        jump to @SHIT_SKIP_TRYRTYRTYR3
        end    
        
    if
    0D49: 12@ = compare_strings 4@v "give_weapon" // IF and SET    
        then
        jump to @SHIT_SKIP_TRYRTYRTYR3
        end    
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    :SHIT_SKIP_TRYRTYRTYR3
    
    0AF0: get_int ZAME_ANIM_PED_HANDLE from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_PED"
    if
    ZAME_ANIM_PED_HANDLE < 1
    then
    008B: ZAME_ANIM_PED_HANDLE = PLAYER_ACTOR // (int)
    else
    
    ////////////////////////////////НАХОДИМ ЦЕЛЕВОГО ПЕДА АНИМАЦИИ-ДЕЙСТВИЯ ПО IDNAME////////////////////////////////
    
    ZAME_TEMPVAR_STRING = ""
    0AF4: ZAME_TEMPVAR_STRING = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME"
    if
    8846: not  string ZAME_TEMPVAR_STRING empty // v$
        then
        
        //////////////////////////////////////////////////
        
        {$INCLUDE newopcodes\forallpeds_cleoplus}
                
        if and
        056D:   actor ped defined
        87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
            then
            0AC6: ZAME_TEMPVAR_STRING3 = label @SUNUDKS_POSITIONS_ARRAY offset          
            if  
            0E16: get_extended_char_var ped id "IDNAME" var 1 to ZAME_TEMPVAR_STRING3
                then
    //            0D4D: copy_string ZAME_TEMPVAR_STRING3 to ZAME_TEMPVAR_STRING2
    //            0D4D: copy_string "yes" to 0@
                0AD3: ZAME_TEMPVAR_STRING2 = format "%s" ZAME_TEMPVAR_STRING3
                if
                0D49: 12@ = compare_strings ZAME_TEMPVAR_STRING2 ZAME_TEMPVAR_STRING // IF and SET
                    then
                    0085: ZAME_ANIM_PED_HANDLE = ped // (int)
                    jump to @DO_TRIGGER_PED_ANIM
                    end
                end               
            end
                
        {$INCLUDE newopcodes\end}
            
        //////////////////////////////////////////////////
        
        0AD1: show_formatted_text_highpriority "FAILED TO FIND ANIM PED %s BY IDNAME %s, SKIPING ANIM" time 2000 v$RACE_FILE ZAME_TEMPVAR_STRING
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then
        //ass
        else
        wait 2000
        end
        
        jump to @ZAME_SKIP_ANIM_PLAY
        
        end
        
    ///////////////////////////////////////////////////////////////////////////////////
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PED_Z"                    
    0AF0: get_int 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "PED_MODEL"
    
    32@ = 0
    repeat
    wait 0
    
    if
    32@ > 3000
    then
    
    0AD1: show_formatted_text_highpriority "FAILED TO FIND ANIM PED %s BY %f %f %f %d, SKIPING ANIM" time 2000 v$RACE_FILE 2@ 3@ 4@ 5@    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
    wait 2000
    end
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    //////////////////////////////////////////////////
    
    {$INCLUDE newopcodes\forallpeds_cleoplus}
            
    if and
    056D:   actor ped defined
    87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
        then
        0665: get_actor ped model_to 6@
        if
        003B:   6@ == 5@  // (int)
            then
//            0AD1: show_formatted_text_highpriority "MODEL IS GOOD" time 500
//            wait 500
            if
            0EEA: locate_char_distance_to_coordinates ped pos 2@ 3@ 4@ radius 1.0        
                then
                0085: ZAME_ANIM_PED_HANDLE = ped // (int)
                jump to @DO_TRIGGER_PED_ANIM
                else
//                0AD1: show_formatted_text_highpriority "COORDS ARE NOT" time 500
//                wait 500
                end     
            end                  
        end
            
    {$INCLUDE newopcodes\end}
        
    //////////////////////////////////////////////////
            
    until false
    
    end
    
    :DO_TRIGGER_PED_ANIM
            
    0AF4: 0@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "IFP_NAME"
    0AF4: 4@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "ANIM_NAME"
    
//    0AD1: show_formatted_text_highpriority "ANIM_NAME is '%s'" time 2000 4@v
//    wait 2000

    ///////////////////////////////////////////////////////////////////////////////////////////////////////////    

    if or
    0D49: 12@ = compare_strings 4@v "sit_car_driver" // IF and SET
    0D49: 12@ = compare_strings 4@v "sit_car_passeng" // IF and SET    
    then
    
//    0AD1: show_formatted_text_highpriority "gay" time 2000
//    wait 2000
                                                          
    if
    0D49: 12@ = compare_strings 4@v "sit_car_driver" // IF and SET
    then
    gosub @ZAME_FIND_TARGET_CAR
    if
    ZAME_TARGET_CAR_HANDLE == -1
    then
    jump to @ZAME_SKIP_ANIM_PLAY 
    end
    
    05CB: AS_actor ZAME_ANIM_PED_HANDLE enter_car ZAME_TARGET_CAR_HANDLE as_driver 99999999 ms
    else
    gosub @ZAME_FIND_TARGET_CAR
    if
    ZAME_TARGET_CAR_HANDLE == -1
    then
    jump to @ZAME_SKIP_ANIM_PLAY 
    end
    
    05CA: AS_actor ZAME_ANIM_PED_HANDLE enter_car ZAME_TARGET_CAR_HANDLE passenger_seat -1 time 99999999
    end
    
    if
    856E: not  car ZAME_TARGET_CAR_HANDLE defined
    then
    jump to @ZAME_SKIP_ANIM_PLAY 
    end    
    
//    0AD1: show_formatted_text_highpriority "dogovornyachok handle is %d" time 2000 ZAME_TARGET_CAR_HANDLE
//    wait 2000
//    cinema.Widescreen(0)
//    wait 2000
//    marker.CreateAboveCar(0@,ZAME_TARGET_CAR_HANDLE)
//    marker.CreateAboveActor(1@,ZAME_ANIM_PED_HANDLE)
//    07E0: set_marker 1@ type_to 1    
        
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
            
        ///////////////////////////////////////////////////////////////////////////////////////////////////////
            
        repeat
        wait 0
        
        if
        0E45: frame_mod 30
        then       
        end
            
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then            
        if
        0D49: 12@ = compare_strings 4@v "sit_car_driver" // IF and SET
            then
            036A: put_actor ZAME_ANIM_PED_HANDLE in_car ZAME_TARGET_CAR_HANDLE
            else
            0430: put_actor ZAME_ANIM_PED_HANDLE into_car ZAME_TARGET_CAR_HANDLE passenger_seat -1    
            end            
        end
            
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
                
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
            
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        end
            
        if
        056D:   actor ZAME_ANIM_PED_HANDLE defined
            then
            if
            actor.InCar(ZAME_ANIM_PED_HANDLE,ZAME_TARGET_CAR_HANDLE)
                then
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
            
        until false
            
        ///////////////////////////////////////////////////////////////////////////////////////////////////////
            
        end                        
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "attack_car" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
        
        0672: AS_actor ZAME_ANIM_PED_HANDLE attack_car ZAME_TARGET_CAR_HANDLE       
        0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
        if
        not 9@ == 1
            then
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            repeat
            wait 0
            
            if or
            $CHEATS_ON == 2 
            ZAME_TARGETSKIP_MODE > 0
            then            
            070C: explode_car_without_radius_damage ZAME_TARGET_CAR_HANDLE          
            end
                
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                    
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
                
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                
            end
                
            if
            056D:   actor ZAME_ANIM_PED_HANDLE defined
                then
                if
                car.Wrecked(ZAME_TARGET_CAR_HANDLE)
                    then
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                else
                jump to @ZAME_SKIP_ANIM_PLAY
                end
                
            until false
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            end
        jump to @ZAME_SKIP_ANIM_PLAY                        
        end  
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "drive_to" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
        
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
        0AF2: get_float 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_A"
        
        if
        8AF2: not get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        then
        9@ = 50.0
        else
        0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        end
        
        05D1: AS_actor ZAME_ANIM_PED_HANDLE drive_car ZAME_TARGET_CAR_HANDLE to 5@ 6@ 7@ speed 9@ 3 model #NULL 3       
        0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
        if
        not 9@ == 1
            then
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            repeat
            wait 0
            
            if or
            $CHEATS_ON == 2 
            ZAME_TARGETSKIP_MODE > 0
            then            
            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@       
            end
                
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                    
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
                
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                
            end
                
            if
            056D:   actor ZAME_ANIM_PED_HANDLE defined
                then
                if
                0EEB: locate_car_distance_to_coordinates ZAME_TARGET_CAR_HANDLE pos 5@ 6@ 7@ radius 2.0                
                    then
                    
                    //////////////////////////////////////////////////////
                    
                    repeat
                    wait 0
                    
                    if or
                    $CHEATS_ON == 2 
                    ZAME_TARGETSKIP_MODE > 0
                    then            
                    car.SetSpeedInstantly(ZAME_TARGET_CAR_HANDLE,0.0)    
                    end
                    
                    if or
                    actor.Dead(PLAYER_ACTOR)
                    GAME_OVER_FLAG == 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                            
                    if
                    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                    then
                        
                    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                    if
                    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                        
                    end
                    
                    if
                    056E:   car ZAME_TARGET_CAR_HANDLE defined
                        then
                        if or
                        01C1:   car ZAME_TARGET_CAR_HANDLE stopped
                        81C1: not  car ZAME_TARGET_CAR_HANDLE stopped
                            then
                            
                            if or
                            $CHEATS_ON == 2 
                            ZAME_TARGETSKIP_MODE > 0
                            then
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                                                        
                            0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HARDLOCK_AT_COORDS"
                            if or                           
                            10@ == 1
                            8AF0: not get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
                            then
                            fade 0 250
                            wait 250
                            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
                            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@      
                            fade 1 250
                            wait 250
                            end
                            
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                        end
                    
                    until false
                    
                    //////////////////////////////////////////////////////
                    
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                else
                jump to @ZAME_SKIP_ANIM_PLAY
                end
                
            until false
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            end                    
        end 
                
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////      
    
    if
    0D49: 12@ = compare_strings 4@v "heli_fly_at" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
        
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
        0AF2: get_float 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_A"
        
        if
        8AF2: not get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        then
        9@ = 50.0
        else
        0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        end
        
//        05D1: AS_actor ZAME_ANIM_PED_HANDLE drive_car ZAME_TARGET_CAR_HANDLE to 5@ 6@ 7@ speed 9@ 3 model #NULL 3  
        04A2: set_heli ZAME_TARGET_CAR_HANDLE fly_to 5@ 6@ 7@ altitude_between 5.0 and 7@    
        0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
        if
        not 9@ == 1
            then
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            repeat
            wait 0
            
            if or
            $CHEATS_ON == 2 
            ZAME_TARGETSKIP_MODE > 0
            then            
            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@       
            end
                
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                    
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
                
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                
            end
                
            if
            056D:   actor ZAME_ANIM_PED_HANDLE defined
                then
                if
                0EEB: locate_car_distance_to_coordinates ZAME_TARGET_CAR_HANDLE pos 5@ 6@ 7@ radius 10.0                
                    then
                    
                    //////////////////////////////////////////////////////
                    
                    repeat
                    wait 0
                    
                    if or
                    $CHEATS_ON == 2 
                    ZAME_TARGETSKIP_MODE > 0
                    then            
                    car.SetSpeedInstantly(ZAME_TARGET_CAR_HANDLE,0.0)    
                    end
                    
                    if or
                    actor.Dead(PLAYER_ACTOR)
                    GAME_OVER_FLAG == 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                            
                    if
                    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                    then
                        
                    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                    if
                    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                        
                    end
                    
                    if
                    056E:   car ZAME_TARGET_CAR_HANDLE defined
                        then
                        if or
                        01C1:   car ZAME_TARGET_CAR_HANDLE stopped
                        81C1: not  car ZAME_TARGET_CAR_HANDLE stopped
                            then
                            
                            if or
                            $CHEATS_ON == 2 
                            ZAME_TARGETSKIP_MODE > 0
                            then
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                                                        
                            0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HARDLOCK_AT_COORDS"
                            if or                           
                            10@ == 1
                            8AF0: not get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
                            then
                            fade 0 250
                            wait 250
                            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
                            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@      
                            fade 1 250
                            wait 250
                            end
                            
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                        end
                    
                    until false
                    
                    //////////////////////////////////////////////////////
                    
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                else
                jump to @ZAME_SKIP_ANIM_PLAY
                end
                
            until false
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            end                    
        end      
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////      
    
    if
    0D49: 12@ = compare_strings 4@v "heli_follow_ped" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
                
        if
        8AF2: not get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_RADIUS"
        then
        9@ = 30.0
        else
        0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_RADIUS"
        end
          
        gosub @ZAME_FIND_TARGET_PED
        0726: heli ZAME_TARGET_CAR_HANDLE follow_actor ZAME_TARGET_PED_HANDLE follow_car -1 radius 9@

        0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
        if
        not 9@ == 1
            then
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            repeat
            wait 0
            
            if or
            $CHEATS_ON == 2 
            ZAME_TARGETSKIP_MODE > 0
            then            
            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@       
            end
                
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                    
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
                
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                
            end
                
            if
            056D:   actor ZAME_ANIM_PED_HANDLE defined
                then
                if
                0EEB: locate_car_distance_to_coordinates ZAME_TARGET_CAR_HANDLE pos 5@ 6@ 7@ radius 10.0                
                    then
                    
                    //////////////////////////////////////////////////////
                    
                    repeat
                    wait 0
                    
                    if or
                    $CHEATS_ON == 2 
                    ZAME_TARGETSKIP_MODE > 0
                    then            
                    car.SetSpeedInstantly(ZAME_TARGET_CAR_HANDLE,0.0)    
                    end
                    
                    if or
                    actor.Dead(PLAYER_ACTOR)
                    GAME_OVER_FLAG == 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                            
                    if
                    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                    then
                        
                    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                    if
                    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                        
                    end
                    
                    if
                    056E:   car ZAME_TARGET_CAR_HANDLE defined
                        then
                        if or
                        01C1:   car ZAME_TARGET_CAR_HANDLE stopped
                        81C1: not  car ZAME_TARGET_CAR_HANDLE stopped
                            then
                            
                            if or
                            $CHEATS_ON == 2 
                            ZAME_TARGETSKIP_MODE > 0
                            then
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                                                        
                            0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HARDLOCK_AT_COORDS"
                            if or                           
                            10@ == 1
                            8AF0: not get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
                            then
                            fade 0 250
                            wait 250
                            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
                            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@      
                            fade 1 250
                            wait 250
                            end
                            
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                        end
                    
                    until false
                    
                    //////////////////////////////////////////////////////
                    
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                else
                jump to @ZAME_SKIP_ANIM_PLAY
                end
                
            until false
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            end                    
        end   
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////         
    
    if
    0D49: 12@ = compare_strings 4@v "turret_on_car" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
                                  
        0470: 1@ = actor ZAME_ANIM_PED_HANDLE current_weapon
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TURRET_X_OFFSET"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TURRET_Y_OFFSET"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TURRET_Z_OFFSET"
        06A7: put_actor ZAME_ANIM_PED_HANDLE into_turret_on_car ZAME_TARGET_CAR_HANDLE at_car_offset 5@ 6@ 7@ position 1 shooting_angle 360.0 360.0 with_weapon 1@
        
        if
        07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
        then
        STORY_DRIVEBY_NO_RETURN_FLAG = 1
        end
        
        end 
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////      
    
    if
    0D49: 12@ = compare_strings 4@v "boat_sail_at" // IF and SET
        then
        gosub @ZAME_FIND_TARGET_CAR
        if
        ZAME_TARGET_CAR_HANDLE == -1
        then
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
        
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
        0AF2: get_float 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_A"
        
        if
        8AF2: not get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        then
        9@ = 50.0
        else
        0AF2: get_float 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_SPEED"
        end
         
        02D3: boat ZAME_TARGET_CAR_HANDLE sail_to 5@ 6@ 0.0
        02DB: set_boat ZAME_TARGET_CAR_HANDLE speed_to 9@
        0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
        if
        not 9@ == 1
            then
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            repeat
            wait 0
            
            if or
            $CHEATS_ON == 2 
            ZAME_TARGETSKIP_MODE > 0
            then            
            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@       
            end
                
            if or
            actor.Dead(PLAYER_ACTOR)
            GAME_OVER_FLAG == 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                    
            if
            0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
            then
                
            gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
            if
            ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
            then
            jump to @KOD_PROVALA_ZAME
            end
                
            end
                
            if
            056D:   actor ZAME_ANIM_PED_HANDLE defined
                then
                if
                0EEB: locate_car_distance_to_coordinates ZAME_TARGET_CAR_HANDLE pos 5@ 6@ 7@ radius 10.0                
                    then
                    
                    //////////////////////////////////////////////////////
                    
                    repeat
                    wait 0
                    
                    if or
                    $CHEATS_ON == 2 
                    ZAME_TARGETSKIP_MODE > 0
                    then            
                    car.SetSpeedInstantly(ZAME_TARGET_CAR_HANDLE,0.0)    
                    end
                    
                    if or
                    actor.Dead(PLAYER_ACTOR)
                    GAME_OVER_FLAG == 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                            
                    if
                    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                    then
                        
                    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                    if
                    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                    then
                    jump to @KOD_PROVALA_ZAME
                    end
                        
                    end
                    
                    if
                    056E:   car ZAME_TARGET_CAR_HANDLE defined
                        then
                        if or
                        01C1:   car ZAME_TARGET_CAR_HANDLE stopped
                        81C1: not  car ZAME_TARGET_CAR_HANDLE stopped
                            then
                            
                            if or
                            $CHEATS_ON == 2 
                            ZAME_TARGETSKIP_MODE > 0
                            then
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                                                        
                            0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HARDLOCK_AT_COORDS"
                            if or                           
                            10@ == 1
                            8AF0: not get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
                            then
                            fade 0 250
                            wait 250
                            car.PutAt(ZAME_TARGET_CAR_HANDLE,5@,6@,7@)  
                            car.Angle(ZAME_TARGET_CAR_HANDLE) = 8@      
                            fade 1 250
                            wait 250
                            end
                            
                            jump to @ZAME_SKIP_ANIM_PLAY
                            end
                        end
                    
                    until false
                    
                    //////////////////////////////////////////////////////
                    
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                else
                jump to @ZAME_SKIP_ANIM_PLAY
                end
                
            until false
                
            ///////////////////////////////////////////////////////////////////////////////////////////////////////
                
            end                    
        end      
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////                    
                
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "say_text" // IF and SET
    then
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_ANIMS"
    if and
    82A0: not  actor ZAME_ANIM_PED_HANDLE stopped
    not actor.Driving(ZAME_ANIM_PED_HANDLE)
    not 9@ == 1
    then
    0792: disembark_instantly_actor ZAME_ANIM_PED_HANDLE
    end    
        
    if
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DG_SYS2"
    then
    0AF4: v$ST_DIALOG[0] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID"
    $DIALOG_COUNT = 0   
    
    if
    0AF4: v$ST_DIALOG[1] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID1"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[2] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID2"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[3] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID3"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[4] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID4"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[5] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID5"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[6] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID6"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[7] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID7"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[8] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID8"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[9] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID9"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[10] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID10"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[11] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID11"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[12] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID12"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[13] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID13"
    then
    $DIALOG_COUNT += 1
    end
    
    if
    0AF4: v$ST_DIALOG[14] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID14"
    then
    $DIALOG_COUNT += 1
    end
    
    create_thread @DG_SYS2
    
    0EC7: get_fade_alpha 0@
    0092: 0@ = float 0@ to_integer
    if and
    0@ > 200
    816B: not  fading
    then
    if or
    ZAME_CUTSCENE_MODE == 1
    ZAME_CUTSCENE_MODE == 2
        then
        fade 1 1000
        //0AD1: show_formatted_text_highpriority "fade in 5" time 2000
        end   
    end
    
    else
    0AF4: v$ST_DIALOG[0] = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FXT_ID"
    008A: $DIALOG_ACTOR[0] = ZAME_ANIM_PED_HANDLE // (int)
    $DIALOG_COUNT = 0
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_ANIMS"
    if
    9@ == 1
    then
    $DIALOG_NOT_ANIMS_FLAG = 1
    end
    
    create_thread @DG_SYS
    
    0EC7: get_fade_alpha 0@
    0092: 0@ = float 0@ to_integer
    if and
    0@ > 200
    816B: not  fading
    then
    if or
    ZAME_CUTSCENE_MODE == 1
    ZAME_CUTSCENE_MODE == 2
        then
        fade 1 1000
        //0AD1: show_formatted_text_highpriority "fade in in 6" time 2000
        end   
    end
    
    end
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    9@ == 1
    then    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then            
    $END_DIALOG_INST = 1        
    end
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
            
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
        
    if
    056D:   actor ZAME_ANIM_PED_HANDLE defined
        then
        if
        $DIALOG_END == 1
            then
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        else
        jump to @ZAME_SKIP_ANIM_PLAY
        end
        
    until false
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "attack_ped" // IF and SET
    then    
    gosub @ZAME_FIND_TARGET_PED
    07A5: AS_actor ZAME_ANIM_PED_HANDLE attack_actor ZAME_TARGET_PED_HANDLE time 99999999
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then            
        if
        87D6: not  ZAME_TARGET_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
            then
            actor.Health(ZAME_TARGET_PED_HANDLE) = 0
            else
            jump to @ZAME_SKIP_ANIM_PLAY 
            end       
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if and
        056D:   actor ZAME_ANIM_PED_HANDLE defined
        056D:   actor ZAME_TARGET_PED_HANDLE defined
            then
            if
            actor.Dead(ZAME_TARGET_PED_HANDLE)
                then
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        
        until false
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        end
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if and
    0D49: 12@ = compare_strings 4@v "exit_car" // IF and SET
    actor.Driving(ZAME_ANIM_PED_HANDLE)
    then
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    0633: AS_actor ZAME_ANIM_PED_HANDLE exit_car
    05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 6 time 9999999 ms // versionA    
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then            
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z" 
        0362: remove_actor ZAME_ANIM_PED_HANDLE from_car_and_place_at 5@ 6@ 7@
        jump to @ZAME_SKIP_ANIM_PLAY 
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        056D:   actor ZAME_ANIM_PED_HANDLE defined
            then
            if
            not actor.Driving(ZAME_ANIM_PED_HANDLE)
                then
                
                //////////////////////////////////////////////////////
                    
                repeat
                wait 0
                    
                if or
                $CHEATS_ON == 2 
                ZAME_TARGETSKIP_MODE > 0
                then            
                actor.PutAtNoOffset(ZAME_ANIM_PED_HANDLE,5@,6@,7@)    
                end
                    
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                            
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                        
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                        
                end
                    
                if
                0EEA: locate_char_distance_to_coordinates ZAME_ANIM_PED_HANDLE pos 5@ 6@ 7@ radius 1.0
                    then                    
                    jump to @ZAME_SKIP_ANIM_PLAY
                    end
                    
                until false
                    
                //////////////////////////////////////////////////////
                
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        
        until false
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        end
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "give_weapon" // IF and SET
    then
    
    if and
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_ANIM_PLAY
    end
      
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "WEP_ID"
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "WEP_AMMO"
    
    if
    5@ == 0
    then
    01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 5@
    else
    
    0781: get_weapon_with_ID 5@ model_to 7@
    while not model.Available(7@)
    wait 0
    model.Load(7@)
    mload
    end
    
    actor.GiveWeaponAndAmmo(PLAYER_ACTOR,5@,6@)
    end
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "clear_task" // IF and SET
    then
    0687: clear_actor ZAME_ANIM_PED_HANDLE task
    
    if
    0A32:  actor ZAME_ANIM_PED_HANDLE on_turret_of_car
    then
    0465: remove_actor ZAME_ANIM_PED_HANDLE from_turret_mode
    if
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
        then
        STORY_DRIVEBY_NO_RETURN_FLAG = 0
        end
    end
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "hands_up" // IF and SET
    then
    05C4: AS_actor ZAME_ANIM_PED_HANDLE hands_up 99999999 ms
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "rotate_to_point" // IF and SET
    then
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    actor.StorePos(ZAME_ANIM_PED_HANDLE,7@,8@,10@)
    0E27: get_angle_from_two_coords 7@ 8@ and 5@ 6@ to 9@
    0092: 9@ = float 9@ to_integer
    0093: 9@ = integer 9@ to_float
    :ROTATE_TO_PED_KOSTIL
    05D4: AS_actor ZAME_ANIM_PED_HANDLE rotate_angle 9@ 
    0092: 9@ = float 9@ to_integer   
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    32@ = 0
        
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2 
    ZAME_TARGETSKIP_MODE > 0
    then        
    0093: 9@ = integer 9@ to_float    
    actor.Angle(ZAME_ANIM_PED_HANDLE) = 9@
    0092: 9@ = float 9@ to_integer
    end
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
            
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
        
    if
    056D:   actor ZAME_ANIM_PED_HANDLE defined
        then
        8@ = actor.Angle(ZAME_ANIM_PED_HANDLE)
        0092: 8@ = float 8@ to_integer
        0062: 8@ -= 9@  // (int)
        0095: make 8@ absolute_integer
//        0AD1: show_formatted_text_highpriority "%d" time 2000 8@
        if or
        8@ < 15
        32@ > 1500
            then
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        else
        jump to @ZAME_SKIP_ANIM_PLAY
        end
        
    until false
        
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "rotate_to_ped" // IF and SET
    then    
    gosub @ZAME_FIND_TARGET_PED
//    if
//    856D: not  actor ZAME_TARGET_PED_HANDLE defined
//    then
//    0AD1: show_formatted_text_highpriority "target ped %d is not defined!" time 2000 ZAME_TARGET_PED_HANDLE
//    wait 2000
//    jump to @ZAME_SKIP_ANIM_PLAY
//    end
//    
//    cinema.Widescreen(0)
//    0AD1: show_formatted_text_highpriority "ped %d rotate to ped %d" time 2000 ZAME_ANIM_PED_HANDLE ZAME_TARGET_PED_HANDLE
//    0@ = 0
//    0@ = marker.CreateAboveActor(ZAME_ANIM_PED_HANDLE)
//    07E0: set_marker 0@ type_to 1
//    1@ = 0
//    1@ = marker.CreateAboveActor(ZAME_TARGET_PED_HANDLE)
    0639: AS_actor ZAME_ANIM_PED_HANDLE rotate_to_actor ZAME_TARGET_PED_HANDLE
//    wait 5000
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "look_at_ped" // IF and SET
    then    
    gosub @ZAME_FIND_TARGET_PED
    05BF: AS_actor ZAME_ANIM_PED_HANDLE look_at_actor ZAME_TARGET_PED_HANDLE 99999999 ms
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "look_at_point" // IF and SET
    then    
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    
    if and
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    DO_AUTOMOVEHEAD_FLAG == 1
    then    
    0647: AS_actor ZAME_ANIM_PED_HANDLE clear_look_task
    wait 500
    06A9: AS_actor ZAME_ANIM_PED_HANDLE look_at_point 5@ 6@ 7@ 99999999 ms             
    else
    06A9: AS_actor ZAME_ANIM_PED_HANDLE look_at_point 5@ 6@ 7@ 99999999 ms
    end
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////    
    
    if
    0D49: 12@ = compare_strings 4@v "shoot_at_point" // IF and SET
    then    
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    0668: AS_actor ZAME_ANIM_PED_HANDLE rotate_and_shoot_at 5@ 6@ 7@ 99999999 ms
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "aim_at_point" // IF and SET
    then     
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    0667: AS_actor ZAME_ANIM_PED_HANDLE aim_at 5@ 6@ 7@ 99999999 ms 
    jump to @ZAME_SKIP_ANIM_PLAY   
    end
    
    if
    0D49: 12@ = compare_strings 4@v "aim_at_ped" // IF and SET
    then     
    gosub @ZAME_FIND_TARGET_PED
    0635: AS_actor ZAME_ANIM_PED_HANDLE aim_at_actor ZAME_TARGET_PED_HANDLE 99999999 ms  
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    0D49: 12@ = compare_strings 4@v "climb" // IF and SET
    then
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    078F: AS_actor ZAME_ANIM_PED_HANDLE climb 1
    05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 6 time 9999999 ms // versionA
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then        
        actor.PutAtNoOffset(ZAME_ANIM_PED_HANDLE,5@,6@,7@)
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        056D:   actor ZAME_ANIM_PED_HANDLE defined
            then
            if
            0EEA: locate_char_distance_to_coordinates ZAME_ANIM_PED_HANDLE pos 5@ 6@ 7@ radius 1.0
                then
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        
        until false
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        end    
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "jump" // IF and SET
    then
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
    05BC: AS_actor ZAME_ANIM_PED_HANDLE jump 1
    05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 6 time 9999999 ms // versionA
    
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        then        
        actor.PutAtNoOffset(ZAME_ANIM_PED_HANDLE,5@,6@,7@)
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        056D:   actor ZAME_ANIM_PED_HANDLE defined
            then
            if
            0EEA: locate_char_distance_to_coordinates ZAME_ANIM_PED_HANDLE pos 5@ 6@ 7@ radius 1.0
                then
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        
        until false
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        end    
    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "die_headshooted" // IF and SET
    then
    0321: AS_actor ZAME_ANIM_PED_HANDLE die_headshotted
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "die" // IF and SET
    then
    05BE: AS_actor ZAME_ANIM_PED_HANDLE die
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    if
    0D49: 12@ = compare_strings 4@v "crouch" // IF and SET
    then    
    if
    0597:   actor ZAME_ANIM_PED_HANDLE crouching
        then
        04EB: AS_actor ZAME_ANIM_PED_HANDLE crouch 0
        else
        04EB: AS_actor ZAME_ANIM_PED_HANDLE crouch 1
        end    
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if or
    0D49: 12@ = compare_strings 4@v "walk_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "run_to_point" // IF and SET
    0D49: 12@ = compare_strings 4@v "sprint_to_point" // IF and SET
    then    
        
    if
    0D49: 12@ = compare_strings 4@v "walk_to_point" // IF and SET
        then
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z" 
        0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TIME"
        if
        8@ < 0
        then
        8@ = 9999999
        end
        
        05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 4 time 8@ ms // versionA       
        jump to @GOTO_IDLE_CHECK
        end
    if
    0D49: 12@ = compare_strings 4@v "run_to_point" // IF and SET
        then
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
        0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TIME"  
        if
        8@ < 0
        then
        8@ = 9999999
        end
           
        05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 6 time 8@ ms // versionA
        jump to @GOTO_IDLE_CHECK
        end
    if
    0D49: 12@ = compare_strings 4@v "sprint_to_point" // IF and SET
        then  
        0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_X"
        0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Y"
        0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_Z"
        0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TIME" 
        if
        8@ < 0
        then
        8@ = 9999999
        end
        
        05D3: AS_actor ZAME_ANIM_PED_HANDLE goto_point 5@ 6@ 7@ mode 7 time 8@ ms // versionA
        jump to @GOTO_IDLE_CHECK
        end
        
    :GOTO_IDLE_CHECK
        
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    if
    not 9@ == 1
        then
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        
        32@ = 0
        
        repeat
        wait 0
        
        if or
        $CHEATS_ON == 2 
        ZAME_TARGETSKIP_MODE > 0
        001D:   32@ > 8@  // (int)
        then        
        actor.PutAtNoOffset(ZAME_ANIM_PED_HANDLE,5@,6@,7@)
        end
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if
        056D:   actor ZAME_ANIM_PED_HANDLE defined
            then
            if
            0EEA: locate_char_distance_to_coordinates ZAME_ANIM_PED_HANDLE pos 5@ 6@ 7@ radius 0.5
                then
                jump to @ZAME_SKIP_ANIM_PLAY
                end
            else
            jump to @ZAME_SKIP_ANIM_PLAY
            end
        
        until false
        
        ///////////////////////////////////////////////////////////////////////////////////////////////////////////
        else
        jump to @ZAME_SKIP_ANIM_PLAY
        end                
    
    end
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////////
    
    if
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    then
    0470: 10@ = actor ZAME_ANIM_PED_HANDLE current_weapon
    
    if and
    8D49: not 12@ = compare_strings 4@v "gang_gunstand" // IF and SET
    8D49: not 12@ = compare_strings 4@v "picstnd_take" // IF and SET
    not 10@ == 43
    then
    01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 0
    06AB: set_actor ZAME_ANIM_PED_HANDLE all_weapons_hidden 1
    end
    
    if    
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    then
    0992: set_player PLAYER_CHAR weapons_scrollable 0
    end
    
    end
    
    if    
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    then
    0E68: set_player_control_pad 0 1 
    0E69: set_player_control_pad_movement 0 0
    end                    
    
    if and
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_in" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_talk" // IF and SET
    not ZAME_CUTSCENE_MODE == 1
    then
    0792: disembark_instantly_actor ZAME_ANIM_PED_HANDLE
    wait 0
    end
    
    while not animation.Available(0@v)
    wait 0
    01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 0
    animation.Load(0@v)
    end
    
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "LOOP_FLAG"
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    
    if
    not 8@ == 1
    then         
    
    if and
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_in" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_talk" // IF and SET
    then
    
    0AF0: get_int 12@ from_ini_file "me\temp.dat" section v$RACE_FILE key "LOCK_F"
    if
    12@ == 1
    then
    12@ = 1
    else
    12@ = 0
    end    
    
    0812: AS_actor ZAME_ANIM_PED_HANDLE perform_animation 4@v IFP 0@v framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 12@ time -1  // versionB
    else
    if
    0D49: 12@ = compare_strings 4@v "phone_in" // IF and SET
        then
        while not model.Available(#CELLPHONE)    
        model.Load(#CELLPHONE)
        mload
        if
        not model.Available(#CELLPHONE)
            then
            wait 0
            model.Load(#CELLPHONE)
            mload
            end    
        end
        
        01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 0
        0729: AS_actor ZAME_ANIM_PED_HANDLE hold_cellphone 1
        end
    if
    0D49: 12@ = compare_strings 4@v "phone_out" // IF and SET
        then
        while not model.Available(#CELLPHONE)    
        model.Load(#CELLPHONE)
        mload
        if
        not model.Available(#CELLPHONE)
            then
            wait 0
            model.Load(#CELLPHONE)
            mload
            end    
        end
        
//        01B9: set_actor PLAYER_ACTOR armed_weapon_to 0
        0729: AS_actor ZAME_ANIM_PED_HANDLE hold_cellphone 0
        end    
    end
        
    ZAME_TEMP_FUCKEEE5 = 0
    
    repeat    
    wait 0
    
//    01B9: set_actor PLAYER_ACTOR armed_weapon_to 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if
    9@ == 1
        then
        break
        end
        
    until not actor.Animation(ZAME_ANIM_PED_HANDLE) == 4@v
    
    else
    
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "ANIM_TIME"
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"
    
    if and
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_in" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_talk" // IF and SET
    then
    0812: AS_actor ZAME_ANIM_PED_HANDLE perform_animation 4@v IFP 0@v framedelta 4.0 loopA 1 lockX 0 lockY 0 lockF 0 time 8@  // versionB
    else
    if
    0D49: 12@ = compare_strings 4@v "phone_in" // IF and SET
        then
        while not model.Available(#CELLPHONE)    
        model.Load(#CELLPHONE)
        mload
        if
        not model.Available(#CELLPHONE)
            then
            wait 0
            model.Load(#CELLPHONE)
            mload
            end    
        end
        
        01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 0
        0729: AS_actor ZAME_ANIM_PED_HANDLE hold_cellphone 1
        end
    if
    0D49: 12@ = compare_strings 4@v "phone_out" // IF and SET
        then
        while not model.Available(#CELLPHONE)    
        model.Load(#CELLPHONE)
        mload
        if
        not model.Available(#CELLPHONE)
            then
            wait 0
            model.Load(#CELLPHONE)
            mload
            end    
        end
        
//        01B9: set_actor PLAYER_ACTOR armed_weapon_to 0
        0729: AS_actor ZAME_ANIM_PED_HANDLE hold_cellphone 0
        end   
    end
    
    32@ = 0    
    
    repeat    
    wait 0
    
//    01B9: set_actor PLAYER_ACTOR armed_weapon_to 0    
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if
    9@ == 1
        then
        break
        end
        
    until 002D:   32@ >= 8@  // (int)
    
    end        
    
    ////////////////////////////////////////////////////////////////////////////
    
    if and
    not 9@ == 1
    8EB7: not is_on_scripted_cutscene
    then
    
    0E68: set_player_control_pad 0 1 
    0E69: set_player_control_pad_movement 0 1
    
    if and
    8D49: not 12@ = compare_strings 4@v "phone_in" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_talk" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    then                                         
    
    if    
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    then
    0992: set_player PLAYER_CHAR weapons_scrollable 1
    end
    
    06AB: set_actor ZAME_ANIM_PED_HANDLE all_weapons_hidden 0    
    01B9: set_actor ZAME_ANIM_PED_HANDLE armed_weapon_to 10@        
    end
    
    if
    0D49:  12@ = compare_strings 4@v "phone_out" // IF and SET
    then
    
    if    
    07D6:   ZAME_ANIM_PED_HANDLE == PLAYER_ACTOR // @ == $ (int)
    then
    0992: set_player PLAYER_CHAR weapons_scrollable 1
    end
    
    end    
    
    else  
    
    if and
    8D49: not 12@ = compare_strings 4@v "phone_in" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_talk" // IF and SET
    8D49: not 12@ = compare_strings 4@v "phone_out" // IF and SET
    then       
    create_thread @ZAM_IFP 1 8@ 10@ ZAME_ANIM_PED_HANDLE                                      
    end
    
    if
    0D49:  12@ = compare_strings 4@v "phone_out" // IF and SET
    then
    create_thread @ZAM_IFP 2 8@ 10@ ZAME_ANIM_PED_HANDLE
    end  
    
    end
    
    ////////////////////////////////////////////////////////////////////////////
    
    :ZAME_SKIP_ANIM_PLAY
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Показ текстуры из TXD архива миссии
if
ZAME_CURRENT_OBJ_TYPE_READED == 17
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_ANIM_PLAY
    end
    
    gosub @ZAME_MISSION_PICTURES_CHECK    
        
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_WAIT_FOR_NEXT_OBJECTIVE"    
    if
    not 8@ == 1
    then             
    gosub @ZAME_TXD_PIC_SHOW         
    else
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TXD_TIME"
    create_thread @ZAM_TXD ZAME_MISSION_PNG_PREVIEW_TEXTURE 8@ 
    end
    
    :ZAME_SKIP_TXD_SHOW
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Фейд экрана
if
ZAME_CURRENT_OBJ_TYPE_READED == 18
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_FADE_PLAY
    end
    
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_TYPE"
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_TIME"
    
    if
    0AF0: get_int 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_R"
    then
    0AF0: get_int 11@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_G"
    0AF0: get_int 12@ from_ini_file "me\temp.dat" section v$RACE_FILE key "FADE_B"
    0169: set_fade_color_RGB 10@ 11@ 12@
    end
    
    if
    8@ == 0
    then
    fade 0 9@
    $HUD_REMOVE = 1
    wait 9@
    else
    fade 1 9@
    //0AD1: show_formatted_text_highpriority "fade in cuz usual fade" time 2000
    
    if
    not ZAME_CUTSCENE_MODE == 1
    then
    $HUD_REMOVE = 0
    end
    
    wait 9@
    end
    
    0169: set_fade_color_RGB 0 0 0  
    
    :ZAME_SKIP_FADE_PLAY  
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Переключатель "безопастного статуса"
if
ZAME_CURRENT_OBJ_TYPE_READED == 19
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if
    $SAVESTATUS == 0
    then
    $SAVESTATUS = 1
    BASE_TEAMMATES_DESTORY_FLAG = 1
    else
    $SAVESTATUS = 0
    BASE_TEAMMATES_DESTORY_FLAG = 0
    end
    
    if
    $ZOMBIES_HORDE == 1
    then    
    0459: end_thread_named 'RND_HR2'
    $ZOMBIES_HORDE = 0
    $HORDE_TIME = 0
    create_thread @RND_HR2
    end
    
    if or
    ZAME_TARGETSKIP_MODE == 2
    ZAME_TARGETSKIP_MODE < 1
    then
    wait 1000   
    end 
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Вызов бомбардировки штата
if
ZAME_CURRENT_OBJ_TYPE_READED == 20
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $STATE_DESTRUCTION_FLAG == 0
    $STATE_DESTRUCTION_FLAG == 69
    then
    
    $ROCKET_END = 0
    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NO_TIMER"
    if
    0@ == 1
    then
    create_thread @3RD_EXP 69 1
    else
    create_thread @3RD_EXP 69
    end
    
    else
    $STATE_DESTRUCTION_FLAG = 69
    $ROCKET_END = 1
    end  
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Переход на цель
if
ZAME_CURRENT_OBJ_TYPE_READED == 21
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if and
    ZAME_TARGETSKIP_MODE > 0
    not ZAME_LOADING_CHECKPOINT_FLAG == 1
    then
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in cuz show objective jump in skip" time 2000
    end    
    
    if
    COMMUNITY_MISSION_FLAG == 1
    then
    0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
    else
    0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
    end
    
    if
    0AAB:   file_exists ZAME_KONTROLT4K_STRING
    then
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_ASK"
    if and
    0AF0: get_int 1@ from_ini_file ZAME_KONTROLT4K_STRING section v$RACE_FILE key "PEREHODIM_DA_ILI_NET"   
    not 2@ == 1
        then
        0AF0: get_int 1@ from_ini_file ZAME_KONTROLT4K_STRING section v$RACE_FILE key "PEREHODIM_DA_ILI_NET"
        jump to @ZAME_VIBOR_JUMP_SELECTED
        end
    end
    
    if and
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "YES_WHEN_LOADING_CP"
    ZAME_TARGETSKIP_MODE > 0
    then
    1@ = 1
    jump to @ZAME_VIBOR_JUMP_SELECTED
    end    
    
    //////////////////////////////
        
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_ASK"
    if
    not 1@ == 1
    then

    text.ClearAll()
    text.RemoveTextBox()
    $NOT_ALLOW_COMMANDS = 1        
    
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_GOTO_NUM"
    0AD3: 4@v = format "zgto%d" 2@
    09FD: get_gxt_string 4@v width_to 1@
    if
    1@ < 1
    then
    0AD3: 4@v = format "zgt%d" 2@
    end
    
    1@ = 0
    
    while true
    wait 0
    
//    if
//    not $CHEATS_ON == 1
//    then
    text.ShowH(4@v,100,1)
//    end
        
    if
    0E3E: is_button_just_pressed 0 button 11
        then
        text.ClearAll()
        1@ = 1     
        if
        0A4B:   controls_set_to_joystick
        then
        wait 1000
        else
        wait 0
        end
        
        $NOT_ALLOW_COMMANDS = 0   
        break
        end
        
    if
    0E3E: is_button_just_pressed 0 button 10
        then
        text.ClearAll()
        if
        0A4B:   controls_set_to_joystick
        then
        wait 1000
        else
        wait 0
        end
        
        $NOT_ALLOW_COMMANDS = 0          
        break
        end
        
    end
    
    else
    1@ = 1    
    if and
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "RANDOM"
    0E4D: random_percent 51
        then
        1@ = 0
        end
    end
    
    if
    COMMUNITY_MISSION_FLAG == 1
    then
    0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
    else
    0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
    end
    
    if
    0AAB:   file_exists ZAME_KONTROLT4K_STRING
    then
    if
    8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_REMEMBER_CHOICE"
        then        
        if and
        0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_REMEMBER_NO_CHOICE"
        1@ == 0
            then
            //ass
            else
            if and
            0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_REMEMBER_YES_CHOICE"
            1@ == 1
                then
                //ass
                else
                0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section v$RACE_FILE key "PEREHODIM_DA_ILI_NET"
                end
            end
        end
    end
    
    :ZAME_VIBOR_JUMP_SELECTED
    
    if
    1@ == 1
    then
    0AF0: get_int ZAME_CURRENT_OBJECTIVE_INDEX from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_GOTO_NUM"
    else
    {$INCLUDE Zame Objective Plus.txt}
    end
        
    ////////////////////////////// 
                  
    return    
    end 
    
//Спавн человека-врага
if
ZAME_CURRENT_OBJ_TYPE_READED == 22
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if and
    ZAME_TARGETSKIP_MODE > 0
    not ZAME_TARGETSKIP_MODE == 2
    then
    jump to @ZAME_HUENEMY_SKIP
    end
    
    if
    $SAVESTATUS == 1
    then
    $SAVESTATUS = 0
    end
    
    ZAME_HUENEMY_FLAG = 1
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_TYPE"    
    008A: ZAME_HUENEMY_TYPE = 1@ // (int)
    
    0AF2: ZAME_HUENEMY_POS_X = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_X"
    0AF2: ZAME_HUENEMY_POS_Y = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_Y"
    0AF2: ZAME_HUENEMY_POS_Z = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_Z"
    0AF2: ZAME_HUENEMY_POS_A = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_A"        
    
    0AF2: ZAME_HUENEMY_TARGET_X = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_AT_X"
    0AF2: ZAME_HUENEMY_TARGET_Y = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_AT_Y"
    0AF2: ZAME_HUENEMY_TARGET_Z = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_POS_AT_Z"
    
    if
    1@ == 0
    then
    
    ///////////////////////////////////////////////////
    
    if
    056D:   actor $ARMY[1] defined
    then
    
    05BE: AS_actor $ARMY[1] die
    05BE: AS_actor $ARMY[2] die
    05BE: AS_actor $ARMY[3] die
    05BE: AS_actor $ARMY[4] die    
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until $ARMY[1] == -69
    
    wait 250
    ZAME_HUENEMY_FLAG = 1    
        
    end
    
    ///////////////////////////////////////////////////
    
    $ARMY1_SPAWN_FLAG = 1
    0086: CAMP_RAID_DEST_X = ZAME_HUENEMY_TARGET_X // (float)
    0086: CAMP_RAID_DEST_Y = ZAME_HUENEMY_TARGET_Y // (float)
    0086: CAMP_RAID_DEST_Z = ZAME_HUENEMY_TARGET_Z // (float)    
    0AF0: RAID_CAR_PATH_ABADON_RADIUS = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "PATH_ABADON_DISTANCE"
    
    0AF0: 2@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "ONFOOT_SPAWN"
    if
    not 2@ == 1
    then
    create_thread @ARMY_SP
    else
    create_thread @ARMY_SP 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -666
    end
          
    end
    
    if
    1@ == 1
    then
    
    ///////////////////////////////////////////////////
    
    if
    056D:   actor $BANDIT[1] defined
    then
    
    05BE: AS_actor $BANDIT[1] die
    05BE: AS_actor $BANDIT[2] die
    05BE: AS_actor $BANDIT[3] die
    05BE: AS_actor $BANDIT[4] die    
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until $BANDIT[1] == -69
    
    wait 250
    ZAME_HUENEMY_FLAG = 1    
        
    end
    
    ///////////////////////////////////////////////////
    
    $BANDITS1_SPAWN_FLAG = 1
    0086: CAMP_RAID_DEST_X = ZAME_HUENEMY_TARGET_X // (float)
    0086: CAMP_RAID_DEST_Y = ZAME_HUENEMY_TARGET_Y // (float)
    0086: CAMP_RAID_DEST_Z = ZAME_HUENEMY_TARGET_Z // (float)
    0AF0: RAID_CAR_PATH_ABADON_RADIUS = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "PATH_ABADON_DISTANCE"
    
    0AF0: 2@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "ONFOOT_SPAWN"
    if
    not 2@ == 1
    then
    create_thread @BNDT_SP 
    else
    create_thread @BNDT_SP 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 -666
    end
    
    end
    
    if
    1@ == 2
    then
    
//    0AAA: 2@ = thread 'SURVVER' pointer
    if and
//    2@ == 0
    $RANDOM_PEOPLE_SKIN[0] < 1
    856D: not  actor $SURVIVER[0] defined
        then 
        3@ = 1       
        else
//        0AAA: 2@ = thread 'SURVVE1' pointer
        if and
//        2@ == 0
        $RANDOM_PEOPLE_SKIN[1] < 1
        856D: not  actor $SURVIVER[1] defined
            then
            3@ = 2
            else
//            0AAA: 2@ = thread 'SURVVE2' pointer
            if and
//            2@ == 0
            $RANDOM_PEOPLE_SKIN[2] < 1
            856D: not  actor $SURVIVER[2] defined
                then
                3@ = 3
                else
//                0AAA: 2@ = thread 'SURVVE3' pointer
                if and
//                2@ == 0
                $RANDOM_PEOPLE_SKIN[3] < 1
                856D: not  actor $SURVIVER[3] defined
                    then
                    3@ = 4
                    else
//                    0AAA: 2@ = thread 'SURVVE4' pointer
                    if and
//                    2@ == 0
                    $RANDOM_PEOPLE_SKIN[4] < 1
                    856D: not  actor $SURVIVER[4] defined
                        then
                        3@ = 5
                        else
                        {$INCLUDE Zame Objective Plus.txt}    
                        return
                        end
                    end
                end
            end
        end            
    
    $HELP_INST_FLAG = 0
    0085: 18@ = 3@ // (int)
    18@ -= 1
    gosub @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME
    0085: 23@ = 0@ // (int)
    gosub @RANDOM_PEOPLE1_WEAPON_CREATE_ZAME
    0085: 3@ = 18@ // (int)
    3@ += 1
//    0AD1: show_formatted_text_highpriority "surv number %d, model %d, ~n~melee id: %d, wep id: %d, ~n~X: %f Y: %f Z: %f A: %f" time 2000 3@ 23@ $SURVIVOR_MELEE_ID[18@] 22@ ZAME_HUENEMY_POS_X ZAME_HUENEMY_POS_Y ZAME_HUENEMY_POS_Z ZAME_HUENEMY_POS_A
//    wait 2000 

    if
    0AF0: get_int 40@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_MODEL"
    then
    0AF0: get_int 23@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_MODEL"
    end
    
    if
    0AF0: get_int 40@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_WEP_ID"
    then
    0AF0: get_int 22@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_WEP_ID" 
    end
    
    if
    0AF0: get_int 40@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_HEALTH"
    then
    0AF0: get_int 24@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_HEALTH"
    else 
    24@ = 0
    end
    
    if
    0AF0: get_int 40@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_ACCURACY"
    then
    0AF0: get_int 25@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_ACCURACY"
    else
    25@ = 0
    end
    
    if
    0AF0: get_int 40@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REWRITE_PEDTYPE"
    then
    0AF0: get_int 26@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REWRITE_PEDTYPE"
    else
    26@ = 0
    end
    
    if or
    $RANDOM_PEOPLE_SKIN[18@] == -1 //тред создан
    $RANDOM_PEOPLE_SKIN[18@] > 0
    then
    $RANDOM_PEOPLE_SKIN[18@] = -2 //пишем то, что мы над ним колдавали
    
    if
    18@ == 0
    then
    0459: end_thread_named 'SURVVER'    
    end
    
    if
    18@ == 1
    then
    0459: end_thread_named 'SURVVE1'
    end
    
    if
    18@ == 2
    then
    0459: end_thread_named 'SURVVE2'
    end
    
    if
    18@ == 3
    then
    0459: end_thread_named 'SURVVE3'
    end
    
    if
    18@ == 4
    then
    0459: end_thread_named 'SURVVE4'
    end
    
    wait 0
    wait 0
    wait 0
    
    end
    
    create_thread @SURVVER 3@ 23@ ZAME_HUENEMY_POS_X ZAME_HUENEMY_POS_Y ZAME_HUENEMY_POS_Z ZAME_HUENEMY_POS_A 22@ 24@ 25@ 26@
    
    repeat
    wait 0
    until 056D:   actor $SURVIVER[18@] defined
        
    end
    
    if
    1@ == 3
    then
    
    ///////////////////////////////////////////////////
    
    if
    056D:   actor $ARMY[5] defined
    then
    
    05BE: AS_actor $ARMY[5] die
    0362: remove_actor $ARMY[5] from_car_and_place_at 0.0 3000.0 0.0   
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until $ARMY[5] == -69
    
    wait 250
    ZAME_HUENEMY_FLAG = 1    
        
    end
    
    ///////////////////////////////////////////////////
    
    ARMY_HUNTER_SPAWN_FLAG = 1
    create_thread @A_HUNT 
    end
    
    if
    1@ == 4
    then
    
    ///////////////////////////////////////////////////
    
    if
    056D:   actor $BANDIT[5] defined
    then
    
    05BE: AS_actor $BANDIT[5] die
    05BE: AS_actor $BANDIT[6] die
    05BE: AS_actor $BANDIT[7] die
    05BE: AS_actor $BANDIT[8] die    
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until $BANDIT[5] == -69
    
    wait 250
    ZAME_HUENEMY_FLAG = 1    
        
    end
    
    ///////////////////////////////////////////////////
    
    BANDIT_HELI_SPAWN_FLAG = 1
    create_thread @BD_HELI 
    end
    
    if
    1@ == 5
    then
    
    ///////////////////////////////////////////////////
    
    if
    056D:   actor ARMY_RHINO_ACTOR defined
    then
    
    05BE: AS_actor ARMY_RHINO_ACTOR die
    
    if
    056E:   car $ARMY_RHINO defined
    then
    0338: set_car $ARMY_RHINO visibility 0    
    car.PutAt($ARMY_RHINO,0.0,3000.0,0.0)
    end
    
    repeat
    wait 0
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until ARMY_RHINO_ACTOR == -69
    
    wait 250
    ZAME_HUENEMY_FLAG = 1    
        
    end
    
    ///////////////////////////////////////////////////
    
    $ARMY_RHINO_SPAWN_MIN = 0
    $ARMY_RHINO_SPAWN_MAX = 1
    create_thread @A_RHINO 
    end    
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NEED_TO_DESTROY"
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "ENEMY_TYPE"
    
    if
    1@ == 1
    then
    
    if
    2@ == 0 //Сквад военных
        then
        
        //////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if and
        056D:   actor $ARMY[1] defined
        056D:   actor $ARMY[2] defined
        056D:   actor $ARMY[3] defined
        056D:   actor $ARMY[4] defined
            then
            
            if
            8AF0: not get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
                then
            
                for 0@ = 1 to 4
                create_thread @PED_BKP $ARMY[0@] 371 0 0 0 1 0 3 7 3
                end
                
                end
            
            break
            
            end
        
        until false
        
        //////////////////////////////////////////////////////////////////////////
        
        end    
    
    if
    2@ == 1 //Сквад бандитов
        then
        
        //////////////////////////////////////////////////////////////////////////
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if and
        056D:   actor $BANDIT[1] defined
        056D:   actor $BANDIT[2] defined
        056D:   actor $BANDIT[3] defined
        056D:   actor $BANDIT[4] defined
            then
            
            if
            8AF0: not get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
                then
                
                for 0@ = 1 to 4
                create_thread @PED_BKP $BANDIT[0@] 371 0 0 0 1 0 3 7 3
                end
                
                end
            
            break
            
            end
        
        until false
        
        //////////////////////////////////////////////////////////////////////////
        
        end        
    
    if //Отморозок одиночка
    2@ == 2
        then
        MISSION_MARKER = marker.CreateAboveActor($SURVIVER[18@])      
        if
        0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
            then
            018B: set_marker MISSION_MARKER radar_mode 0
            end
        end
        
    if //Военный вертолёт
    2@ == 3
        then
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        until 056D:   actor $ARMY[5] defined
        
        MISSION_MARKER = marker.CreateAboveActor($ARMY[5])      
        if
        0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
            then
            018B: set_marker MISSION_MARKER radar_mode 0
            end
        
        end
        
    if //Бандитский вертолёт
    2@ == 4
        then
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        if and
        056D:   actor BANDIT_HELI_DRIVER defined
        056D:   actor $BANDIT[5] defined
            then
            break
            end
        
        until false
        
        MISSION_MARKER = marker.CreateAboveActor(BANDIT_HELI_DRIVER)      
        if
        0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
            then
            018B: set_marker MISSION_MARKER radar_mode 0
            end
        
        end
        
    if //Военный танк
    2@ == 5
        then
        
        repeat
        wait 0
        
        if or
        actor.Dead(PLAYER_ACTOR)
        GAME_OVER_FLAG == 1
        then
        jump to @KOD_PROVALA_ZAME
        end
            
        if
        0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
        then
        
        gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
        if
        ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
        then
        jump to @KOD_PROVALA_ZAME
        end
        
        end
        
        until 056D:   actor $ARMY_RHINO_ACTOR defined
        
        MISSION_MARKER = marker.CreateAboveActor($ARMY_RHINO_ACTOR)      
        if
        0AF0: get_int 20@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDE_MARKER"
            then
            018B: set_marker MISSION_MARKER radar_mode 0
            end
        
        end
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then    
    
    20@ = 0
    
    ////////////////////////////////////////////////////////////////////////////////
    
    while true
    
    if
    0EA7: get_any_char_no_save_recursive 20@ progress_to 20@ char_to 21@
    then
    
    if
    056D:   actor 21@ defined
        then
        
        089F: get_actor 21@ pedtype_to 10@
        if and
        not 10@ == 0
        not 10@ == 5
        86EE: not  actor 21@ in_group PLAYER_GROUP
        not actor.Dead(21@)
        then
        0A96: 11@ = actor 21@ struct 
        11@ += 9 
        0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0
        if
        88B7: not  test 12@ bit 5
            then
            0792: disembark_instantly_actor 21@
            05BE: AS_actor 21@ die
            end
        end
        
        end
        
    else
    20@ = 0
    break
    end             
    
    end
    
    ////////////////////////////////////////////////////////////////////////////////         
    
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
//    0AD1: show_formatted_text_highpriority "%d %d" time 2000 1@ 2@
    if and
    1@ == 1
    2@ == 2    
    then
    if
    056D:   actor $SURVIVER[18@] defined
        then
        if
        actor.Dead($SURVIVER[18@])
            then
            marker.Disable(MISSION_MARKER)
            break
            end
        else
        break
        end
    else
    if
    ZAME_HUENEMY_FLAG == 2
        then
        
        if or
        2@ == 3
        2@ == 4
        2@ == 5
        then
        marker.Disable(MISSION_MARKER)
        end
        
        break
        end
    end
    
    until false  
    
    end 
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NEED_TO_DESTROY"
    if
    not 1@ == 1
    then
    wait 2500
    end
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end 
    
//Спавн союзника
0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DELETE_TEAMMATE"
if and
ZAME_CURRENT_OBJ_TYPE_READED == 23
not 2@ == 1
    then
    
    //Если мы заспавнили союзника, то сбрасываем флаг "оставайся в лагере"
    if
    ZAME_SURV_LAUNCH_FLAG == 1
    then
    MAIN_QUEST_TEAMMATES_REMOVE_FLAG = 0
    end
    
    gosub @CHECK_FOR_CP_PONOS
    
//    0AAA: 2@ = thread 'SURVVER' pointer
    if and
//    2@ == 0
    $RANDOM_PEOPLE_SKIN[0] < 1
    856D: not  actor $SURVIVER[0] defined
        then 
        3@ = 1       
        else
//        0AAA: 2@ = thread 'SURVVE1' pointer
        if and
//        2@ == 0
        $RANDOM_PEOPLE_SKIN[1] < 1
        856D: not  actor $SURVIVER[1] defined
            then
            3@ = 2
            else
//            0AAA: 2@ = thread 'SURVVE2' pointer
            if and
//            2@ == 0
            $RANDOM_PEOPLE_SKIN[2] < 1
            856D: not  actor $SURVIVER[2] defined
                then
                3@ = 3
                else
//                0AAA: 2@ = thread 'SURVVE3' pointer
                if and
//                2@ == 0
                $RANDOM_PEOPLE_SKIN[3] < 1
                856D: not  actor $SURVIVER[3] defined
                    then
                    3@ = 4
                    else
//                    0AAA: 2@ = thread 'SURVVE4' pointer
                    if and
//                    2@ == 0
                    $RANDOM_PEOPLE_SKIN[4] < 1
                    856D: not  actor $SURVIVER[4] defined
                        then
                        3@ = 5
                        else
                        {$INCLUDE Zame Objective Plus.txt}    
                        return
                        end
                    end
                end
            end
        end            
    
    0AF2: 40@ = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_X"
    0AF2: 41@ = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_Y"
    0AF2: 42@ = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_Z"
    0AF2: 43@ = get_float_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_A"
    0AF0: get_int 23@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_MODEL"    
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE"
    $HELP_INST_FLAG = 1
    0085: 18@ = 3@ // (int)
    18@ -= 1        
    gosub @RANDOM_PEOPLE1_WEAPON_CREATE_ZAME 
    0AF0: get_int 22@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_WEP_ID"  
//    0AD1: show_formatted_text_highpriority "surv number %d, model %d, ~n~melee id: %d, wep id: %d, ~n~X: %f Y: %f Z: %f A: %f" time 2000 3@ 23@ $SURVIVOR_MELEE_ID[18@] 22@ ZAME_HUENEMY_POS_X ZAME_HUENEMY_POS_Y ZAME_HUENEMY_POS_Z ZAME_HUENEMY_POS_A
//    wait 2000
//    $SURVIVOR_ALLOW_SPAWN[18@] = 1
//    $DELETE_TEAMMATES = 0

    if
    $RANDOM_PEOPLE_SKIN[18@] == -1 //тред создан
    then
    $RANDOM_PEOPLE_SKIN[18@] = 0
    
    if
    18@ == 0
    then
    0459: end_thread_named 'SURVVER'    
    end
    
    if
    18@ == 1
    then
    0459: end_thread_named 'SURVVE1'
    end
    
    if
    18@ == 2
    then
    0459: end_thread_named 'SURVVE2'
    end
    
    if
    18@ == 3
    then
    0459: end_thread_named 'SURVVE3'
    end
    
    if
    18@ == 4
    then
    0459: end_thread_named 'SURVVE4'
    end
    
    wait 0
    wait 0
    wait 0
    
    end
  
    create_thread @SURVVER 3@ 23@ 40@ 41@ 42@ 43@ 22@
    
    repeat
    wait 0
    until 056D:   actor $SURVIVER[18@] defined
    
    :ZAME_HUENEMY_SKIP
                
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    end
    
//Удаление союзника
0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DELETE_TEAMMATE"
if and
ZAME_CURRENT_OBJ_TYPE_READED == 23
2@ == 1
    then
    gosub @CHECK_FOR_CP_PONOS
    
    32@ = 0
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SKIN_TO_DELETE"
    if
    2@ < 5
    then
    
    if
    8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "NEW_DELETE"
    then
    
    //Удаляем по номеру в команде    
    $SURVIVOR_BANKA_COUNT[2@] = -666
    
    repeat
    wait 0
    
    if
    32@ > 4000
    then
    0AD1: show_formatted_text_highpriority "%s DELETE TEAMMATE ID %d FAILED!" time 3000 v$RACE_FILE 2@
    wait 3000
    end
    
    until $SURVIVER[2@] == -69
  
    else      
    
    //Удаляем по номеру в команде NEW
    092B: 0@ = group PLAYER_GROUP member 2@                                                     
    if
    056D:   actor 0@ defined
        then
        
        3@ = 0
        for 1@ = 0 to 4
        if
        07D6:   0@ == $SURVIVER[1@] // @ == $ (int)
            then
            $SURVIVOR_BANKA_COUNT[1@] = -666
            3@ = 1
            end
        end
        
        end 
        
    if
    3@ == 0
    then
    0AD1: show_formatted_text_highpriority "%s DELETE TEAMMATE ID %d FAILED!" time 3000 v$RACE_FILE 2@
    wait 3000
    end
    
    end       
    
    else
    //Удаляем по айди
    
    for 3@ = 0 to 4
    if    
    056D:   actor $SURVIVER[3@] defined
        then
        if
        02F2:   actor $SURVIVER[3@] model == 2@
            then
            $SURVIVOR_BANKA_COUNT[3@] = -666
            
            repeat
            wait 0
            
            if
            32@ > 4000
            then
            0AD1: show_formatted_text_highpriority "%s DELETE TEAMMATE ID %d FAILED!" time 3000 v$RACE_FILE 2@
            wait 3000
            end
            
            until $SURVIVER[3@] == -69
            
            end
        end
    end
    
    end
    
    {$INCLUDE Zame Objective Plus.txt}    
    return  
    end  
    
//Путешествие на транспорте
if
ZAME_CURRENT_OBJ_TYPE_READED == 24
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if
    056E:   car $USED_CAR[LATEST_CAR_SLOT_USED] defined
    then
    car.StorePos($USED_CAR[LATEST_CAR_SLOT_USED],2@,3@,4@)
    0980: extinguish_all_fires_at 2@ 3@ 4@ radius 20.0
    008B: ZAME_CAR_ADVENTURE_CAR = $USED_CAR[LATEST_CAR_SLOT_USED] // (int)
    jump to @DO_ALREADY_CREATED_CAR_ADVENTURE
    end        
    
    if and
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "USE_ALREADY_CREATED_CAR"
    056E:   car ZAME_CAR_ADVENTURE_CAR defined
    then                 
    car.StorePos(ZAME_CAR_ADVENTURE_CAR,2@,3@,4@)
    0980: extinguish_all_fires_at 2@ 3@ 4@ radius 20.0          
    jump to @DO_ALREADY_CREATED_CAR_ADVENTURE
    end    
    
    if and
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "USE_ALREADY_CREATED_CAR2"
    056E:   car ZAME_CAR_ADVENTURE_CAR defined
    then
    car.Destroy(ZAME_CAR_ADVENTURE_CAR)
    end
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Z"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_A" 
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_ID"  
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COLOR1" 
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COLOR2"
    
    :CAR_CREATE_ZAME_ADVENTURE
    if
    model.Available(6@)
    then
    
    if
    6@ == 15338
    then
    0506: set_car_model 15338 next_variation 0 0 // first param is useless
    end
    
//    ZAME_CAR_ADVENTURE_CAR = car.Create(6@,2@,3@,4@)

    create_thread @ZAM_CAR 6@ 2@ 3@ 4@

    repeat
    wait 0            
    until 056E:   car ZAME_GLOB_CAR_ADVENTURE_CAR defined
    
    11@ = 1000
    
    if or
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == RHINO_MODEL_NUMBER
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #SEASPAR
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #RUSTLER
    then
    11@ = 5000
    end
            
    if or
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == ARMY_HUNTER_MODEL_NUMBER
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #HYDRA
    then
    11@ = 10000
    end
                   
    car.Health(ZAME_GLOB_CAR_ADVENTURE_CAR) = 11@ 
    
    if
    ZAME_SURV_LAUNCH_FLAG == 1
    then
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 9 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 2 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 4 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 1 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    if
    0AF2: get_float 24@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_GAS_COUNT"
    then
    //ass
    else
    24@ = 50.0 
    end
    0A97: 22@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    0A8E: 23@ = 22@ + 5 // int 
    0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
    08C3: clear 12@ bit 1 
    08C3: clear 12@ bit 2 
    0A97: 11@ = car ZAME_GLOB_CAR_ADVENTURE_CAR struct 
    11@ += 18 
    0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
    08BD: set 12@ bit 2 
    0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
    08C3: clear 12@ bit 2  
    end
    
    008B: ZAME_CAR_ADVENTURE_CAR = ZAME_GLOB_CAR_ADVENTURE_CAR // (int)

    0EB4: set_car_coordinates_simple ZAME_CAR_ADVENTURE_CAR position 2@ 3@ 4@
    0980: extinguish_all_fires_at 2@ 3@ 4@ radius 20.0
    car.Angle(ZAME_CAR_ADVENTURE_CAR) = 5@
    
    else
    model.Load(6@)
    mload
    wait 0
    jump to @CAR_CREATE_ZAME_ADVENTURE
    end
    
    0229: set_car ZAME_CAR_ADVENTURE_CAR primary_color_to 7@ secondary_color_to 8@ 
    
    :DO_ALREADY_CREATED_CAR_ADVENTURE
    
    if
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SCRIPTED_ON_RAILS_DRIVE"
    then
    if
    0@ == 2
    then
            
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DRIVER_ID"
        
    while not model.Available(0@)
    wait 0
    model.Load(0@)
    end
            
    actor.CreateAsDriver(20@,26,0@,ZAME_CAR_ADVENTURE_CAR)
    actor.Health(20@) = 9999
    actor.SetImmunities(20@,1,1,1,1,1)
    21@ = marker.CreateAboveCar(ZAME_CAR_ADVENTURE_CAR)
    
    //////////////////////////////////////////////Создаем тачку для нас на которой будем гнаться за педиком//////////////////////////////////////////////
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_X_2"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Y_2"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_Z_2"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_A_2" 
    0AF0: get_int 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_ID_2"  
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COLOR1_2" 
    0AF0: get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COLOR2_2"
    
    :CAR_CREATE_ZAME_ADVENTURE2
    if
    model.Available(6@)
    then
    
    if
    6@ == 15338
    then
    0506: set_car_model 15338 next_variation 0 0 // first param is useless
    end
    
//    ZAME_ADVENTURE_CAR_UKAZATEL = car.Create(6@,2@,3@,4@)

    create_thread @ZAM_CAR 6@ 2@ 3@ 4@

    repeat
    wait 0            
    until 056E:   car ZAME_GLOB_CAR_ADVENTURE_CAR defined
    
    11@ = 1000
    
    if or
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == RHINO_MODEL_NUMBER
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #SEASPAR
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #RUSTLER
    then
    11@ = 5000
    end
            
    if or
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == ARMY_HUNTER_MODEL_NUMBER
    car.Id(ZAME_GLOB_CAR_ADVENTURE_CAR) == #HYDRA
    then
    11@ = 10000
    end
                   
    car.Health(ZAME_GLOB_CAR_ADVENTURE_CAR) = 11@ 
    
    008B: ZAME_ADVENTURE_CAR_UKAZATEL = ZAME_GLOB_CAR_ADVENTURE_CAR // (int)

    0EB4: set_car_coordinates_simple ZAME_ADVENTURE_CAR_UKAZATEL position 2@ 3@ 4@
    car.Angle(ZAME_ADVENTURE_CAR_UKAZATEL) = 5@
    
    else
    model.Load(6@)
    mload
    wait 0
    jump to @CAR_CREATE_ZAME_ADVENTURE2
    end
    
    0229: set_car ZAME_ADVENTURE_CAR_UKAZATEL primary_color_to 7@ secondary_color_to 8@
    
//    22@ = marker.CreateAboveCar(ZAME_CAR_ADVENTURE_CAR)
//    07E0: set_marker 22@ type_to 1 
    
    jump to @ZAME_CAR_ADVENTURE_CHASE_MODE
    end
    
    player.CanMove(0,false)
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    0085: 6@ = ZAME_CAR_ADVENTURE_CAR // (int)
    gosub @OFFSET_CHECK2    
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TURRET_WEP_SLOT"
    if and
    7@ > 0
    7@ < 13
    then
    04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7@ weapon ZAME_TURRET_PREV_WEAP_ID ammo ZAME_TURRET_PREV_WEAP_AMMO model 7@
//    0AD1: show_formatted_text_highpriority "ZAME_TURRET_PREV_WEAP_ID is %d, ZAME_TURRET_PREV_WEAP_AMMO is %d" time 2000 ZAME_TURRET_PREV_WEAP_ID ZAME_TURRET_PREV_WEAP_AMMO
//    fade 1 0
//    wait 2000
    else
    ZAME_TURRET_PREV_WEAP_ID = -1  
    end
      
    0AF0: get_int 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TURRET_WEP_ID"
    06A7: put_actor PLAYER_ACTOR into_turret_on_car 6@ at_car_offset 23@ 24@ 25@ position 1 shooting_angle 360.0 70.0 with_weapon 7@
    16@ = car.Angle(6@)
    16@ -= 90.0                                     
    0858: set_player PLAYER_CHAR scan_horizon_to_angle 16@ rotation_speed 16@
    STORY_DRIVEBY_NO_RETURN_FLAG = 1
    car.RemoveReferences(6@)
    
    //////////////////////////////////////////////////////////////////////////////
    
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SKIN_FOR_DRIVER"
    if
    2@ < 5
    then
    //Вычисляем по номеру в команде    
    0085: 20@ = 2@ // (int)        
    else
    //Вычисляем по айди(айпи)
    
    for 3@ = 0 to 4
    if    
    056D:   actor $SURVIVER[3@] defined
        then
        if
        02F2:   actor $SURVIVER[3@] model == 2@
            then
            0085: 20@ = 3@ // (int)            
            end
        end
    end
    
    end
    
    //////////////////////////////////////////////////////////////////////////////
    
    0687: clear_actor $SURVIVER[20@] task
    actor.AddArmour($SURVIVER[20@],1)
    $SURVIVOR_HUNTER_TIMER2[20@] = 999999999999
    06C9: remove_actor $SURVIVER[20@] from_group
    072A: put_actor $SURVIVER[20@] into_car ZAME_CAR_ADVENTURE_CAR driverseat
//    marker.CreateAboveActor(0@,$SURVIVER[20@])
    
    for 0@ = 0 to 2
    092B: 1@ = group PLAYER_GROUP member 0@
    if and
    056D:   actor 1@ defined
    87D6: not  1@ == $SURVIVER[20@] // @ == $ (int)
        then
//        06C9: remove_actor 1@ from_group
        0430: put_actor 1@ into_car ZAME_CAR_ADVENTURE_CAR passenger_seat -1
        end
    end
    
    gosub @ZAME_DELETE_CARRECS        
    gosub @ZAME_CARREC_GET_NUM
    gosub @ZAME_CHECK_CARREC        
    
    wait 2000
    
    0508: car ZAME_CAR_ADVENTURE_CAR close_all_doors
    0AF0: get_int 9@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CAR_HEALTH"
    car.Health(ZAME_CAR_ADVENTURE_CAR) = 9@
    
    repeat
    wait 0
    07C0: load_path 2@
    until 07C1:   path 2@ available
    
    05EB: assign_car ZAME_CAR_ADVENTURE_CAR to_path 2@
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_X0"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Y0"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Z0"    
    06D5: MISSION_CHECKPOINT = create_racing_checkpoint_at 2@ 3@ 4@ point_to 0.0 0.0 0.0 type 1 radius 6.0           
    MISSION_MARKER = 0
    018A: MISSION_MARKER = create_checkpoint_at 2@ 3@ 4@
    marker.SetIconSize(MISSION_MARKER,2)
    
    player.CanMove(0,true)
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in cuz scripted drive end" time 2000
    $HUD_REMOVE = 0
    wait 250
    end
    
    actor.SetImmunities(PLAYER_ACTOR,1,0,0,0,0)
    008A: STATUS_TEXT = 9@ // (int)
    04F7: vagina_text STATUS_TEXT type 1 line 2 GXT 'SE594' // global_variable  // Score
    ZAME_CAR_ADV_FLAG = 1    
    008A: ZAME_CAR_ADEVNTURE_GLOB = ZAME_CAR_ADVENTURE_CAR // (int)
    
    if
    0AF2: get_float 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PATH_SPEED"
    then
    06FD: set_car ZAME_CAR_ADVENTURE_CAR speed_on_path_to 0@
    end
    
    repeat
    wait 0
    
    car.SetImmunities(ZAME_CAR_ADVENTURE_CAR,0,0,0,0,0)   
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    if
    0EEB: locate_car_distance_to_coordinates ZAME_CAR_ADVENTURE_CAR pos 2@ 3@ 4@ radius 10.0
        then
        06FD: set_car ZAME_CAR_ADVENTURE_CAR speed_on_path_to 1.0
        else
        06FD: set_car ZAME_CAR_ADVENTURE_CAR speed_on_path_to 50.0
        end
    end
       
    0091: DELITEL = integer 9@ to_float
    DELITEL /= 100.0
    DELITEL -= 2.5
//    DELITEL = 47.5                
    
    MIKE_CAR = car.Health(ZAME_CAR_ADVENTURE_CAR)
    if and
    MIKE_CAR < 251
    not car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    020B: explode_car ZAME_CAR_ADVENTURE_CAR
    0465: remove_actor PLAYER_ACTOR from_turret_mode
    actor.SetImmunities(PLAYER_ACTOR,0,0,0,0,0)
    0430: put_actor PLAYER_ACTOR into_car ZAME_CAR_ADVENTURE_CAR passenger_seat 0
    05BE: AS_actor PLAYER_ACTOR die
    end
    
    MIKE_CAR -= 250
    
    008D: MIKE_CAR = integer MIKE_CAR to_float
    0071: MIKE_CAR /= DELITEL // (float)
    008C: MIKE_CAR = float MIKE_CAR to_integer
    
    0084: STATUS_TEXT = MIKE_CAR
    
    if
    not actor.InCar($SURVIVER[20@],ZAME_CAR_ADVENTURE_CAR)
        then
        072A: put_actor $SURVIVER[20@] into_car ZAME_CAR_ADVENTURE_CAR driverseat
        end
    
    if and
    0EEB: locate_car_distance_to_coordinates ZAME_CAR_ADVENTURE_CAR pos 2@ 3@ 4@ radius 5.0
    01C1:   car ZAME_CAR_ADVENTURE_CAR stopped
        then
        0E09: mark_car_as_needed ZAME_CAR_ADVENTURE_CAR
        ZAME_CAR_ADV_FLAG = 0
        actor.SetImmunities(PLAYER_ACTOR,0,0,0,0,0)
        0151: remove_status_text STATUS_TEXT
        05EC: release_car ZAME_CAR_ADVENTURE_CAR from_path
        06D6: disable_racing_checkpoint MISSION_CHECKPOINT
        marker.Disable(MISSION_MARKER)
        fade 0 250
        $HUD_REMOVE = 1
        wait 250
        0465: remove_actor PLAYER_ACTOR from_turret_mode 
        0430: put_actor PLAYER_ACTOR into_car ZAME_CAR_ADVENTURE_CAR passenger_seat -1
        wait 250
        
        if
        ZAME_TURRET_PREV_WEAP_ID > 0
        then                           
        if
        ZAME_TURRET_PREV_WEAP_AMMO > 0
            then
            0781: get_weapon_with_ID ZAME_TURRET_PREV_WEAP_ID model_to 0@
            model.Load(0@)
            mload
            actor.GiveWeaponAndAmmo(PLAYER_ACTOR,ZAME_TURRET_PREV_WEAP_ID,ZAME_TURRET_PREV_WEAP_AMMO)
            end        
        end
        
        if
        8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_FADE_IN_AT_END"
        then
        fade 1 250
        //0AD1: show_formatted_text_highpriority "fade in cuz scripted drive end" time 2000
        end
        
        $HUD_REMOVE = 0
        wait 250
        actor.AddArmour($SURVIVER[20@],-11)
        $SURVIVOR_HUNTER_TIMER2[20@] = 400
        0631: put_actor $SURVIVER[20@] in_group PLAYER_GROUP
        jump to @DRIVE_END
        break
        end
    
    until false      
    
    end
    
    if
    actor.InCar(PLAYER_ACTOR,ZAME_CAR_ADVENTURE_CAR)
    then
    jump to @DO_ALREADY_CREATED_CAR_ADVENTURE_INSIDE
    end
    
    MISSION_MARKER = marker.CreateAboveCar(ZAME_CAR_ADVENTURE_CAR)
    07E0: set_marker MISSION_MARKER type_to 1        
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "1" time 2000
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    036A: put_actor PLAYER_ACTOR in_car ZAME_CAR_ADVENTURE_CAR
    wait 0
    092B: 0@ = group PLAYER_GROUP member 0
    092B: 1@ = group PLAYER_GROUP member 1
    092B: 2@ = group PLAYER_GROUP member 2
    092B: 3@ = group PLAYER_GROUP member 3
    092B: 4@ = group PLAYER_GROUP member 4
    092B: 5@ = group PLAYER_GROUP member 5
    092B: 6@ = group PLAYER_GROUP member 6
    gosub @FRNDS_INT_CHECK_TP_CAR
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if and
    0E3E: is_button_just_pressed 0 button 15
    not ZAME_SURV_LAUNCH_FLAG == 1
        then
        05CB: AS_actor PLAYER_ACTOR enter_car ZAME_CAR_ADVENTURE_CAR as_driver 999999 ms
        end
        
    if and
    0800:   in_two_players_mode
    056D:   actor COOP_ACTOR defined
        then
        if and
        0E3E: is_button_just_pressed 1 button 15
        not actor.Driving(COOP_ACTOR)
        8E49: not is_char_entering_any_car PLAYER_ACTOR
        8E4A: not is_char_exiting_any_car PLAYER_ACTOR
            then
            05CA: AS_actor COOP_ACTOR enter_car ZAME_CAR_ADVENTURE_CAR passenger_seat -1 time 990000
            end
        end    
        
    car.DoorStatus(ZAME_CAR_ADVENTURE_CAR,0)    
    
    until actor.InCar(PLAYER_ACTOR,ZAME_CAR_ADVENTURE_CAR)
    
    marker.Disable(MISSION_MARKER)
    
    :DO_ALREADY_CREATED_CAR_ADVENTURE_INSIDE
    
    car.SetImmunities(ZAME_CAR_ADVENTURE_CAR,0,0,0,0,0)  
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
    car.RemoveReferences(ZAME_CAR_ADVENTURE_CAR) 
    end
    
    0AF0: get_int ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL from_ini_file "me\temp.dat" section v$RACE_FILE key "DESTS_COUNT"
    
    if
    ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL == 0
    then
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_X0"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Y0"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Z0"    
    06D5: MISSION_CHECKPOINT = create_racing_checkpoint_at 2@ 3@ 4@ point_to 0.0 0.0 0.0 type 1 radius 6.0           
    MISSION_MARKER = 0
    018A: MISSION_MARKER = create_checkpoint_at 2@ 3@ 4@
    marker.SetIconSize(MISSION_MARKER,2)
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else
//    text.ShowTextBox('SE508')
    end
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "2" time 2000
    
    {$INCLUDE ZAME Car Adventure Out Check.txt}
    
//    if
//    0E3E: is_button_just_pressed 0 button 11
//    then
//    text.RemoveTextBox()
//    fade 0 250
//    wait 250
//    06D6: disable_racing_checkpoint MISSION_CHECKPOINT
//    marker.Disable(MISSION_MARKER)
//    wait 0
//    0087: 25@ = 2@ // (float)
//    0087: 26@ = 3@ // (float)
//    0087: 27@ = 4@ // (float)
//    092B: 0@ = group PLAYER_GROUP member 0
//    092B: 1@ = group PLAYER_GROUP member 1
//    092B: 2@ = group PLAYER_GROUP member 2
//    092B: 3@ = group PLAYER_GROUP member 3
//    092B: 4@ = group PLAYER_GROUP member 4
//    092B: 5@ = group PLAYER_GROUP member 5
//    092B: 6@ = group PLAYER_GROUP member 6
//    gosub @FRNDS_INT_CHECK_TP_CAR
//    0087: 2@ = 25@ // (float)
//    0087: 3@ = 26@ // (float)
//    0087: 4@ = 27@ // (float)    
//    car.PutAt(ZAME_CAR_ADVENTURE_CAR,2@,3@,4@)
//    create_thread @3D_REFR    
//    fade 1 250
//    wait 250
//    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    car.PutAt(ZAME_CAR_ADVENTURE_CAR,2@,3@,4@)
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until 0EEB: locate_car_distance_to_coordinates ZAME_CAR_ADVENTURE_CAR pos 2@ 3@ 4@ radius 10.0
    
    06D6: disable_racing_checkpoint MISSION_CHECKPOINT
    marker.Disable(MISSION_MARKER)        
    
    else
    
    ZAME_CAR_ADVENTURE_CURR_DEST_POINT = 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    //ass
    else 
//    text.ShowTextBox('SE508')
    end
    
    :DO_ANOTHER_DEST_POINT
    
    0AD3: v$LADDER_FILE2 = format "DEST_X%d" ZAME_CAR_ADVENTURE_CURR_DEST_POINT    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
    0AD3: v$LADDER_FILE2 = format "DEST_Y%d" ZAME_CAR_ADVENTURE_CURR_DEST_POINT
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
    0AD3: v$LADDER_FILE2 = format "DEST_Z%d" ZAME_CAR_ADVENTURE_CURR_DEST_POINT
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
    
    if
    803B: not  ZAME_CAR_ADVENTURE_CURR_DEST_POINT == ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL  // (int)
    then
    0085: 0@ = ZAME_CAR_ADVENTURE_CURR_DEST_POINT // (int)
    0@ += 1
    0AD3: v$LADDER_FILE2 = format "DEST_X%d" 0@    
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
    0AD3: v$LADDER_FILE2 = format "DEST_Y%d" 0@
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
    0AD3: v$LADDER_FILE2 = format "DEST_Z%d" 0@
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2                
    06D5: MISSION_CHECKPOINT = create_racing_checkpoint_at 2@ 3@ 4@ point_to 5@ 6@ 7@ type 0 radius 6.0
    else   
    06D5: MISSION_CHECKPOINT = create_racing_checkpoint_at 2@ 3@ 4@ point_to 0.0 0.0 0.0 type 1 radius 6.0
    end
            
    MISSION_MARKER = 0
    018A: MISSION_MARKER = create_checkpoint_at 2@ 3@ 4@
    marker.SetIconSize(MISSION_MARKER,2)    
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "3" time 2000
    
    {$INCLUDE ZAME Car Adventure Out Check.txt}
    
//    if
//    0E3E: is_button_just_pressed 0 button 11
//    then
//    text.RemoveTextBox()
//    0AD3: v$LADDER_FILE2 = format "DEST_X%d" ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL    
//    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
//    0AD3: v$LADDER_FILE2 = format "DEST_Y%d" ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL
//    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
//    0AD3: v$LADDER_FILE2 = format "DEST_Z%d" ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL
//    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key v$LADDER_FILE2
//    0085: 13@ = 12@ // (int)
//    fade 0 250
//    wait 250
//    06D6: disable_racing_checkpoint MISSION_CHECKPOINT
//    marker.Disable(MISSION_MARKER)
//    wait 0
//    0087: 25@ = 2@ // (float)
//    0087: 26@ = 3@ // (float)
//    0087: 27@ = 4@ // (float)
//    092B: 0@ = group PLAYER_GROUP member 0
//    092B: 1@ = group PLAYER_GROUP member 1
//    092B: 2@ = group PLAYER_GROUP member 2
//    092B: 3@ = group PLAYER_GROUP member 3
//    092B: 4@ = group PLAYER_GROUP member 4
//    092B: 5@ = group PLAYER_GROUP member 5
//    092B: 6@ = group PLAYER_GROUP member 6
//    gosub @FRNDS_INT_CHECK_TP_CAR
//    0087: 2@ = 25@ // (float)
//    0087: 3@ = 26@ // (float)
//    0087: 4@ = 27@ // (float)
//    car.PutAt(ZAME_CAR_ADVENTURE_CAR,2@,3@,4@)
//    create_thread @3D_REFR
//    fade 1 250
//    wait 250
//    jump to @DRIVE_END
//    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    car.PutAt(ZAME_CAR_ADVENTURE_CAR,2@,3@,4@)
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until 0EEB: locate_car_distance_to_coordinates ZAME_CAR_ADVENTURE_CAR pos 2@ 3@ 4@ radius 10.0   
    
    06D6: disable_racing_checkpoint MISSION_CHECKPOINT
    marker.Disable(MISSION_MARKER)
    
    if
    803B: not  ZAME_CAR_ADVENTURE_CURR_DEST_POINT == ZAME_CAR_ADVENTURE_DEST_POINTS_TOTAL  // (int)
        then
        ZAME_CAR_ADVENTURE_CURR_DEST_POINT += 1
        jump to @DO_ANOTHER_DEST_POINT
        else
        jump to @DRIVE_END
        end
    
    end
    
    :DRIVE_END
    
    if and
    0AF0: get_int 0@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_EXIT_AFTER_DRIVE"
    056E:   car ZAME_CAR_ADVENTURE_CAR defined
    then
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    0E09: mark_car_as_needed ZAME_CAR_ADVENTURE_CAR
    0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2@ 3@ 4@
    SAVE_PRE_TP_TEAMMATES_FLAG = 1
    end
    
    jump to @DRIVE_END_BUT_NOT_EXIT
    end
    
    :DRIVE_END222
    
    player.CanMove(PLAYER_CHAR,false)
    0221: set_player PLAYER_CHAR apply_brakes_to_car 1
    0A8C: write_memory 0x6BE94E size 2 value 33807 virtual_protect 1 //CBike
    0A8C: write_memory 0x6BE950 size 2 value 166 virtual_protect 1 //CBike
    
    /////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "4" time 2000
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until 01C1:   car ZAME_CAR_ADVENTURE_CAR stopped
    
    player.CanMove(PLAYER_CHAR,true)
    0221: set_player PLAYER_CHAR apply_brakes_to_car 0
    0A8C: write_memory 0x6BE94E size 2 value 42985 virtual_protect 1 //CBike
    0A8C: write_memory 0x6BE950 size 2 value 0 virtual_protect 1 //CBike
    
    068B: set_car ZAME_CAR_ADVENTURE_CAR all_disembark
    02D4: car ZAME_CAR_ADVENTURE_CAR turn_off_engine
    
    /////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "5" time 2000
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    0E09: mark_car_as_needed ZAME_CAR_ADVENTURE_CAR
    0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2@ 3@ 4@
    SAVE_PRE_TP_TEAMMATES_FLAG = 1
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_CAR_ADVENTURE_CAR)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until not actor.InCar(PLAYER_ACTOR,ZAME_CAR_ADVENTURE_CAR)
    
    car.SetImmunities(ZAME_CAR_ADVENTURE_CAR,1,1,1,1,1)
    
    :DRIVE_END_BUT_NOT_EXIT
    
    /////////////////////////////////////////////////////////////
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
    
    end
    
//Тряска камеры
if
ZAME_CURRENT_OBJ_TYPE_READED == 25
    then
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_PRI4INA_TRYASKI
    end
    
    gosub @CHECK_FOR_CP_PONOS
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DO_SHAKE_UNTIL_NEXT_OBJ"
    if
    1@ == 1
        then        
        0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SHAKE_INTENSITY"        
        create_thread @CAMSHAK 2 1@ ZAME_CURRENT_OBJECTIVE_INDEX       
        end
        
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REPEAT_SHAKE_FOR_TIME"
    if
    1@ > 0
        then        
        0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SHAKE_INTENSITY"
        0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REPEAT_SHAKE_FOR_TIME"
        create_thread @CAMSHAK 3 1@ 2@           
        else
        0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DO_SHAKE_UNTIL_NEXT_OBJ"
        if
        not 1@ == 1
            then
            0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SHAKE_INTENSITY"
            create_thread @CAMSHAK 1 2@
            end
        end    
    
    /////////////////////////////////////////////////////////////
    
    :ZAME_SKIP_PRI4INA_TRYASKI
    
    {$INCLUDE Zame Objective Plus.txt}    
    return
            
    end
    
//Контрольная точка
if
ZAME_CURRENT_OBJ_TYPE_READED == 26
    then
    gosub @CHECK_FOR_CP_PONOS
    
//    0AD1: show_formatted_text_highpriority "eee checkpoint, ZAME_LOADING_CHECKPOINT_FLAG %d, ZAME_TARGETSKIP_MODE %d" time 2000 ZAME_LOADING_CHECKPOINT_FLAG ZAME_TARGETSKIP_MODE
//    wait 2000

    if
    ZAME_LOADING_CHECKPOINT_FLAG == 2
    then
//    0AD1: show_formatted_text_highpriority "ended because loading checkpoint flag is 2" time 3000
    ZAME_LOADING_CHECKPOINT_FLAG = 0
    {$INCLUDE Zame Objective Plus.txt}  
    return
    end
    
    if or
    ZAME_LOADING_CHECKPOINT_FLAG > 0
    ZAME_TARGETSKIP_MODE > 0
    then      
//    0AD1: show_formatted_text_highpriority "ended because loading checkpoint or targetskip flag" time 3000
    {$INCLUDE Zame Objective Plus.txt}
    return
    end                         
    
    ZAME_DONT_JUMP_TO_INTERTARGET_TARGET = 1
    text.ShowTextBox('SE516')
    
    {$INCLUDE Zame Objective Plus.txt}
    
    :RETURN_BACK_TO_CHECKPOINT_SHIT        
    
    if
    COMMUNITY_MISSION_FLAG == 1
    then
    0AD3: 0@v = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
    else
    0AD3: 0@v = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
    end
       
    0AF5: write_string v$RACE_FILE to_ini_file 0@v section "CHECKPOINT_PARAMETERS" key "EDITOR_LAUNCH_OBJ_STRING"
    ZAME_WRITE_INFO_ABOUT_WEP_AMMO = 1
    gosub @ZAME_CHKP_WRITE_CURRENT_INFO          
    
    wait 500
    
    /////////////////////////////////////////////////////////////
    
    if
    ZAME_DOING_INTERTARGET_OBJECTIVE_FLAG == 1
    then
    jump to @ZAME_DO_EXTRA_OBJECTIVES_BETWEEN_OBJECTIVES
    end
      
    return
            
    end  
    
//Смена времени суток
if
ZAME_CURRENT_OBJ_TYPE_READED == 27
    then
    gosub @CHECK_FOR_CP_PONOS                
    
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HOUR"
    0AF0: get_int 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "MINUTE"
    0AF0: get_int 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CHANGE_SPEED"    
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SMOOTH_CHANGE"
    if
    not 1@ == 1
    then
    00C0: set_current_time_hours_to 2@ minutes_to 3@
    else    
    0459: end_thread_named 'ZAMTIME'
    create_thread @ZAMTIME 0 0 2@ 3@ 4@        
    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    wait 0
    end
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end
    
//Ввод цифрового кода
if
ZAME_CURRENT_OBJ_TYPE_READED == 28
    then
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAME_SKIP_CODENUMBER_ENTER
    end
    
    :FUCK_AGAIN_CODE_PLEASE
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CODEPANEL_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CODEPANEL_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CODEPANEL_Z"
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at 2@ 3@ 4@
    03BC: MISSION_SPHERE = create_sphere_at 2@ 3@ 4@ radius 1.0
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
                
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
         
    until 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 2@ 3@ 4@ radius 1.0
    
    player.CanMove(0,false)    
    marker.Disable(MISSION_CHECKPOINT)
    03BD: destroy_sphere MISSION_SPHERE                
    
    0AF4: v$SHITME_FILE = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "CODE"
    
    06D1: v$SNAME3 = "" // v$ // Sunday
    06D1: v$SNAME2 = "" // v$ // Sunday
    
    29@ = 0
    33@ = 0
    KEYS_TYPED_NUM = 0    
        
    0AE0: remove_dynamic_GXT_entry "F_NAME"
    0ADF: add_dynamic_GXT_entry "F_NAME" text ""
    
    0512: show_permanent_text_box 'SE562'
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    
    while true
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    if 
    00E1:   player 0 pressed_key 15 
        then
        player.CanMove(0,true)
        text.ClearAll()
        text.RemoveTextBox()
        wait 2000
        jump to @FUCK_AGAIN_CODE_PLEASE
        end
    
    if
    8A2A: not  text_box 'SE562' displayed
        then
        0512: show_permanent_text_box 'SE562'
        end
    
    CURRENT_LAYOUT = 1
    ZAME_TEMP_FUCKEEE = 9996669991
    ZAME_TEMP_FUCKEEE8 = 9996669991
    gosub @OBJECT_ID_SELECT_KEYS_CHECK
    ZAME_TEMP_FUCKEEE = 0
    ZAME_TEMP_FUCKEEE8 = 0
    
    if
    8846: not  string v$SNAME3 empty // v$
    then
    0384: show_text_1string GXT "SE558" string "F_NAME" time 99999999 1
    else
    0384: show_text_1string GXT "SE558" string "F_NAME" time 99999999 1
    end
    
    if
    0E3E: is_button_just_pressed 0 button 16
        then
        if
        0D49: 10@ = compare_strings v$SHITME_FILE v$SNAME3 // IF and SET
            then            
            33@ = 0
            text.RemoveTextBox()
            text.ClearAll()
            player.CanMove(0,true)
            Audiostream.Volume($SQUEAKING_SOUND) = $SOUNDS_VOLUME 
            Audiostream.Loop($SQUEAKING_SOUND, 0)
            Audiostream.PerformAction($SQUEAKING_SOUND, PLAY)
            wait 1000
            jump to @ZAME_SKIP_CODENUMBER_ENTER            
            else
            text.ClearAll()
            text.ShowH('SE563',2000,1)
            wait 2000
            end
        end
        
    end
    
    //////////////////////////////////////////////////////////////////////////////////////////////////       
    
    :ZAME_SKIP_CODENUMBER_ENTER
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end 
    
//Отбирание оружия
if
ZAME_CURRENT_OBJ_TYPE_READED == 29
    then
    
    0AF0: get_int 24@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
    if
    24@ == 1
    then
    //ass
    else
    if or
    ZAME_LOADING_CHECKPOINT_FLAG > 0
    ZAME_TARGETSKIP_MODE > 0
        then      
        {$INCLUDE Zame Objective Plus.txt}
        return
        end 
    end
    
    gosub @CHECK_FOR_CP_PONOS
    048F: actor PLAYER_ACTOR remove_weapons
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
    
    for 0@ = 0 to 19

    if
    09D1:   pickup $DROP_PICKUP[0@] created
        then   
        pickup.Destroy($DROP_PICKUP[0@])
        end
        
    end
    
    //////////////////////////////////////////////////////////////////////////////////////////////////
        
    if
    ZAME_SURV_LAUNCH_FLAG == 1
    then
    $FP_BACKPACK_HAD = 1 
    $BANKA = 0 
    $BINT = 0 
    $HEAL = 0 
    $RADIO = 0 
    $KANISTRA = 0 
    $KANISTRA_FUEL = 0 
    $JIMMY = 0
    $REPAIR_KIT = 0    
    010B: 0@ = player PLAYER_CHAR money
    0@ *= -2
    0@ /= 2
    0109: player PLAYER_CHAR money += 0@
    end
                                   
    {$INCLUDE Zame Objective Plus.txt}
    return
    end
    
//Перенос объекта
if
ZAME_CURRENT_OBJ_TYPE_READED == 30
    then    
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAM_GRAB_JUMP
    end
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_Z"
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_MODEL"
    
    28@ = 0.1
    29@ = 0
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
//    {$INCLUDE newopcodes\forallobjs}
    {$INCLUDE newopcodes\forallobjs_cleoplus}
    
    if
    03CA:   object obj exists
        then  
        0085: ZAME_OBJECT_HANLDE = obj // (int)
        0984: 1@ = object ZAME_OBJECT_HANLDE model  
        if
        003B:   1@ == 5@  // (int)        
            then                       
            if
            0EEC: locate_object_distance_to_coordinates obj pos 2@ 3@ 4@ radius 0.3
                then
                
                0392: make_object ZAME_OBJECT_HANLDE moveable 1
                035D: set_object ZAME_OBJECT_HANLDE targetable 1
                08E9: set_object ZAME_OBJECT_HANLDE liftable 1                
                
                :LIFT_THAT_FUCK_AGAIN
                ZAME_OBJECT_MARKER_HANLDE = Marker.CreateAboveObject(ZAME_OBJECT_HANLDE)                                
                
                //////////////////////////////////////////////////////////////////////////////////////
                                            
                while 8737: not  actor PLAYER_ACTOR lifting_object ZAME_OBJECT_HANLDE
                wait 0
                
                if
                0E3E: is_button_just_pressed 0 button 15
                    then
                    07C9: AS_actor PLAYER_ACTOR walk_to_object ZAME_OBJECT_HANLDE then_lift_and_hold_in_hands
                    end
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                    then
                    break
                    end                                                
                
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1                
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                1@ <= 0
                then
                ZAME_FAILED_BY_REASON = 1
                0723: break_object ZAME_OBJECT_HANLDE intensity 1
                jump to @KOD_PROVALA_ZAME
                end
                
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                end                            
                                
                end
                
                //////////////////////////////////////////////////////////////////////////////////////
                
                marker.Disable(ZAME_OBJECT_MARKER_HANLDE)
                0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_X"
                0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_Y"
                0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJ_MOV_Z"
    
                018A: MISSION_CHECKPOINT = create_checkpoint_at 5@ 6@ 7@
                03BC: MISSION_SPHERE = create_sphere_at 5@ 6@ 7@ radius 2.0
                
                //////////////////////////////////////////////////////////////////////////////////////
                
                while true
                wait 0                
                
                if and
                0E3E: is_button_just_pressed 0 button 15
                8737: not  actor PLAYER_ACTOR lifting_object ZAME_OBJECT_HANLDE
                    then
                    07C9: AS_actor PLAYER_ACTOR walk_to_object ZAME_OBJECT_HANLDE then_lift_and_hold_in_hands
                    end
                
                if or
                0E3E: is_button_just_pressed 0 button 15
                0E3E: is_button_just_pressed 0 button 6
                    then
                    070B: set_actor PLAYER_ACTOR onbone_attached_object_operation 0
                    end
                
                0E71: get_object_centre_of_mass_to_base_of_model ZAME_OBJECT_HANLDE 9@
                8@ = 1.0
                005B: 8@ += 9@  // (float)
//                0AD1: show_formatted_text_highpriority "NEAR Z %f" time 2000 8@
                
                if and
                04E6:  object ZAME_OBJECT_HANLDE near_point 5@ 6@ 7@ radius 2.0 2.0 8@ flag 0
                8737: not  actor PLAYER_ACTOR lifting_object ZAME_OBJECT_HANLDE
                    then
                    0392: make_object ZAME_OBJECT_HANLDE moveable 0
                    035D: set_object ZAME_OBJECT_HANLDE targetable 0
                    08E9: set_object ZAME_OBJECT_HANLDE liftable 0
                    break
                    end                
                
                if or
                $CHEATS_ON == 2
                ZAME_TARGETSKIP_MODE > 0
                    then
                    break
                    end                                                
                
                if or
                actor.Dead(PLAYER_ACTOR)
                GAME_OVER_FLAG == 1                
                then
                jump to @KOD_PROVALA_ZAME
                end                
                
                if
                0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
                then
                
                gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
                if
                ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
                then
                jump to @KOD_PROVALA_ZAME
                end
                
                end                            
                                
                end
                
                //////////////////////////////////////////////////////////////////////////////////////
                
                marker.Disable(MISSION_CHECKPOINT)
                03BD: destroy_sphere MISSION_SPHERE                                
                marker.Disable(ZAME_OBJECT_MARKER_HANLDE)
                object.Destroy(ZAME_OBJECT_HANLDE)
                
                jump to @ZAM_GRAB_JUMP
                
                end
            end
        end
        
    {$INCLUDE newopcodes\end}
//    {$INCLUDE newopcodes\for_end_cleoplus}    
    
    until false
    
    :ZAM_GRAB_JUMP    
    
    {$INCLUDE Zame Objective Plus.txt}    
    return    
    
    end  
    
//Рассмотр точки
if
ZAME_CURRENT_OBJ_TYPE_READED == 31
    then
    gosub @CHECK_FOR_CP_PONOS 
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAM_LOOK_SKIP_JUMP
    end 
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
    
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PHOTO_FLAG"
    if
    not 5@ == 1
    then    
    0AF0: get_int 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "BINO_FLAG"
    if
    5@ == 1
        then
        5@ = 2
        end
    end
    
    while not model.Available(#MALE01)
    wait 0
    model.Load(#MALE01)
    mload
    end
    
    20@ = actor.Create(26,#MALE01,2@,3@,4@)
    actor.SetImmunities(20@,1,1,1,1,1)
    0619: enable_actor 20@ collision_detection 0
    0337: set_actor 20@ visibility 0
    actor.LockInCurrentPosition(20@,true)

    21@ = object.Init(#pain_killer,2@,3@,4@)
    0750: set_object 21@ visibility 0 
    0382: set_object 21@ collision_detection 0
    
    018A: MISSION_CHECKPOINT = create_checkpoint_at 2@ 3@ 4@
    0165: set_marker MISSION_CHECKPOINT color_to 6
    
    6@ = 0
    
    repeat
    wait 0
    
    if and
    $BINOCULARS_USING_FLAG == 0
    not 5@ == 0
    then
    0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 50 on_entity 0 at 2@ 3@ 4@ size 5.0 far_clip 1000.0 near_clip 0.25 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 1 fade_speed 15.0 only_from_below 0
    end
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
        then
        break
        end                                                                
    
    if
    5@ == 1    
        then
        if or
        04C5:   actor 20@ photographed
        0833:   object 21@ photographed
            then
            wait 500        
            break
            end
        end
        
    if and
    5@ == 2
    $BINOCULARS_USING_FLAG == 1
        then
        6@ += 1
        if
        6@ > 120
            then
            break
            end
        end
        
    if and
    not 5@ == 1
    not 5@ == 2    
        then
        if and
        0364:   actor PLAYER_ACTOR spotted_actor 20@
        02CB:   actor 20@ bounding_sphere_visible
            then
            6@ += 1
            if
            6@ > 60
                then
                break
                end
            end
        end
        
//    0AD1: show_formatted_text_highpriority "%d / 60" time 2000 6@            
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
         
    until false
    
    marker.Disable(MISSION_CHECKPOINT)
    actor.DestroyInstantly(20@)
    object.Destroy(21@)
    
    :ZAM_LOOK_SKIP_JUMP
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end 
    
//Защита союзника
if
ZAME_CURRENT_OBJ_TYPE_READED == 32
    then                            
    gosub @CHECK_FOR_CP_PONOS
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAM_TEAMPROTECT_SKIP_JUMP
    end
    
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SKIN_TO_PROTECT"
    if
    2@ < 5
    then
    //Вычисляем по номеру в команде    
    0085: 20@ = 2@ // (int)        
    else
    //Вычисляем по айди(айпи)
    
    for 3@ = 0 to 4
    if    
    056D:   actor $SURVIVER[3@] defined
        then
        if
        02F2:   actor $SURVIVER[3@] model == 2@
            then
            0085: 20@ = 3@ // (int)            
            end
        end
    end
    
    end
    
//    $HELP_INST_FLAG = 0
//    wait 0
//    06C9: remove_actor $SURVIVER[20@] from_group
    008A: ZAME_PROTECT_TEAMMATE_NUM = 20@ // (int)
    0687: clear_actor $SURVIVER[20@] task
    actor.AddArmour($SURVIVER[20@],1)
    
    0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PROTECT_GOTO_POINT_X"
    0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PROTECT_GOTO_POINT_Y"
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PROTECT_GOTO_POINT_Z"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "PROTECT_GOTO_POINT_A"
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
    if and
    0E45: frame_mod 15
    8EEA: not locate_char_distance_to_coordinates $SURVIVER[20@] pos 2@ 3@ 4@ radius 1.0
        then
        05D3: AS_actor $SURVIVER[20@] goto_point 2@ 3@ 4@ mode 6 time 99999 ms // versionA
        else
        if
        0EEA: locate_char_distance_to_coordinates $SURVIVER[20@] pos 2@ 3@ 4@ radius 1.0
            then
            0792: disembark_instantly_actor $SURVIVER[20@]
            actor.Angle($SURVIVER[20@]) = 5@
            0812: AS_actor $SURVIVER[20@] perform_animation "BOM_Plant_Loop" IFP "BOMBER" framedelta 4.0 loopA 1 lockX 0 lockY 0 lockF 0 time 9999999  // versionB
            break
            end
        end
    
    04DD: 0@ = actor $SURVIVER[20@] armour
    if
    not 0@ == 1
    then
    actor.AddArmour($SURVIVER[20@],1)
    end
    $SURVIVOR_HUNTER_TIMER[20@] = 0                            
        
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
         
    until false
    
    0AF0: get_int $TIMER from_ini_file "me\temp.dat" section v$RACE_FILE key "TIMER_SECONDS"
    $TIMER *= 1000
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "HIDDEN_TIMER_FLAG"
    if
    not 1@ == 1
    then
    03C3: set_timer_to $TIMER type 1 GXT 'BB_19' // global_variable  // Time
    end
    
    32@ = 0
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if
    1@ == 1
    then
    if
    001F:   32@ > $TIMER // (int)
        then
        break
        end
    else
    if
    $TIMER < 1
        then
        014F: stop_timer $TIMER
        break
        end
    end
    
    if
    not actor.Animation($SURVIVER[20@]) == "BOM_Plant_Loop"
    then
    0812: AS_actor $SURVIVER[20@] perform_animation "BOM_Plant_Loop" IFP "BOMBER" framedelta 4.0 loopA 1 lockX 0 lockY 0 lockF 0 time 9999999  // versionB
    end       
    
    04DD: 0@ = actor $SURVIVER[20@] armour
    if
    not 0@ == 1
    then
    actor.AddArmour($SURVIVER[20@],1)
    end
    $SURVIVOR_HUNTER_TIMER[20@] = 0                            
        
    if or
    actor.Dead(PLAYER_ACTOR)
    actor.Dead($SURVIVER[20@])
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end     
         
    until false
    
    ZAME_PROTECT_TEAMMATE_NUM = -1
    actor.AddArmour($SURVIVER[20@],-1)
    0687: clear_actor $SURVIVER[20@] task
    0631: put_actor $SURVIVER[20@] in_group PLAYER_GROUP   
    
    ///////////////////////////////////////////////////////////////////////////////////////////////////////
    
    :ZAM_TEAMPROTECT_SKIP_JUMP
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end 
    
//Смена скина, оружия
if
ZAME_CURRENT_OBJ_TYPE_READED == 33
    then
    gosub @CHECK_FOR_CP_PONOS   
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_MODEL" 
    0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_WEP_ID"
    0AF0: get_int 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_WEP_AMMO"    
    0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_X"
    0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_Y"
    0AF2: get_float 6@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_Z"
    0AF2: get_float 7@ from_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_A"
         
    0E69: set_player_control_pad_movement 0 0
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    ZAME_CUTSCENE_MODE > 0
    0EB7: is_on_scripted_cutscene
    then
    //ass
    else
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    end
    
    if and
    8AF0: not get_int 8@ from_ini_file "me\temp.dat" section v$RACE_FILE key "KEEP_WEAPONS"
    ZAME_TARGETSKIP_MODE < 1
    then
    048F: actor PLAYER_ACTOR remove_weapons
    end
    while not model.Available(1@)
    wait 0
    model.Load(1@)
    mload
    end
    
    09C7: change_player PLAYER_CHAR model_to 1@
    create_thread @VC_UPD
    008A: $RANDOM_MODE_MODEL = 1@ // (int)
    
    0781: get_weapon_with_ID 2@ model_to 0@
    while not model.Available(0@)
    wait 0
    model.Load(0@)
    mload
    end
    
    actor.GiveWeaponAndAmmo(PLAYER_ACTOR,2@,3@)
    
    actor.PutAtNoOffset(PLAYER_ACTOR,4@,5@,6@)
    camera.Restore_WithJumpCut()
    actor.Angle(PLAYER_ACTOR) = 7@
    create_thread @3D_REFR    
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    ZAME_CUTSCENE_MODE > 0
    0EB7: is_on_scripted_cutscene
    then 
    //ass 
    else        
    wait 1000    
    fade 1 250
    //0AD1: show_formatted_text_highpriority "fade in cuz skin change" time 2000
    $HUD_REMOVE = 0
    wait 250 
    end
       
    0E69: set_player_control_pad_movement 0 1
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end     
    
//Обыск транспорта
if
ZAME_CURRENT_OBJ_TYPE_READED == 34
    then
    gosub @CHECK_FOR_CP_PONOS   
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    jump to @ZAM_CARSEARCH_SKIP_JUMP
    end
    
    0AF0: get_int 1@ from_ini_file "me\temp.dat" section v$RACE_FILE key "COUNT_TO_SEARCH" 
    $QUEST_TYPE = 5
    CAR_SEARCH_DO_NOT_GIVE = 1
    RQUEST_TIMER_STOPPED_FLAG = 0
    
    008B: CAR_OBISKENO_TEMP = CAR_OBISKENO // (int)
    CAR_OBISKENO = 0
    
    0084: $CAR_OBISKENO2 = CAR_OBISKENO // (int)
    005E: $CAR_OBISKENO2 += 1@  // (int)
    
    04F7: vagina_text CAR_OBISKENO type 0 line 1 GXT 'GAME525' // global_variable
    
    create_thread @C_SRCH
         
    repeat
    wait 0
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    GAME_OVER_FLAG == 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
        
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
        
    end
    
    until 002C: CAR_OBISKENO >= $CAR_OBISKENO2  // (int)
    
    0459: end_thread_named 'C_SRCH'
    0459: end_thread_named 'C_SRCH2'
    
    0151: remove_status_text CAR_OBISKENO

    008B: CAR_OBISKENO_TEMP2 = CAR_OBISKENO // (int)
    008A: CAR_OBISKENO = CAR_OBISKENO_TEMP // (int)
    005E: CAR_OBISKENO += CAR_OBISKENO_TEMP2  // (int)
    
    :ZAM_CARSEARCH_SKIP_JUMP
    
    {$INCLUDE Zame Objective Plus.txt}
    return
    end                                                                                                                   
                            
return

:CHECK_FOR_CP_PONOS

if
ZAME_LOADING_CHECKPOINT_FLAG == 2
then
ZAME_LOADING_CHECKPOINT_FLAG = 0
end

return

/////////////////////////////////////////////////////////////////////////////////////////////////////////

:custom_mission_424
077E: get_active_interior_to 19@ 
if 
   not 19@ == 0 
jf @custom_mission_533 
04C4: store_coords_to $X $Y $Z from_actor PLAYER_ACTOR with_offset 0.0 4.0 2.0 
Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
Camera.OnPed(PLAYER_ACTOR, 15, 2)
0@ = 4.0 
1@ = 2.0 
return 

:custom_mission_533
return

:custom_mission_871
0@ -= 0.03 
1@ -= 0.007
0@ -= 0.03 
1@ -= 0.007
0@ -= 0.03 
1@ -= 0.007
0@ -= 0.03 
1@ -= 0.007 
04C4: store_coords_to $X $Y $Z from_actor PLAYER_ACTOR with_offset 0.0 0@ 1@ 
Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
Camera.OnPed(PLAYER_ACTOR, 15, 2)
wait 0

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end
    
if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
 
if or
   not 0@ > 3.0
   0E8D: is_any_fire_button_pressed 0 
jf @custom_mission_871 
return

/////////////////////////////////////////////////////////////////////////////////////////////////////////

:ZAME_MISSION_COMPLETE

if
ZAME_SURV_LAUNCH_FLAG == 1
then
fade 0 1000
wait 1000
$SAVESTATUS = 1
jump @UDACHNO_ZAME
end

gosub @ZAME_ACH_CHECK

cinema.Widescreen(1)
$HUD_REMOVE = 1
$HUD_OFF_INST = 1
$OTKZ_NGRDA_FLG = 1
04C4: store_coords_to $X $Y $Z from_actor PLAYER_ACTOR with_offset 0.0 2.0 1.0 
Camera.SetPosition($X, $Y, $Z, 0.0, 0.0, 0.0)
Camera.OnPed(PLAYER_ACTOR, 15, 2)
Player.CanMove(PLAYER_CHAR) = false
00BA: show_text_styled GXT 'SE149' time 5000 style 1

0AD3: 0@v = format "me\%d\win.mp3" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
then
$WIN_MUSIC = audiostream.Load(0@v)
Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
else
0AD3: 0@v = format "me\%d\win.wav" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
    then
    $WIN_MUSIC = audiostream.Load(0@v)
    Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
    Audiostream.Loop($WIN_MUSIC, 0)
    Audiostream.PerformAction($WIN_MUSIC, PLAY)
    else
    0AD3: 0@v = format "me\%d\win.ogg" ZAME_MISSION_LOAD_NUMBER
    if
    0AAB:   file_exists 0@v
        then
        $WIN_MUSIC = audiostream.Load(0@v)
        Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
        Audiostream.Loop($WIN_MUSIC, 0)
        Audiostream.PerformAction($WIN_MUSIC, PLAY)
        else
        create_thread @MIS_CMP
        end
    end
end

0AF0: get_int 24@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
if
24@ == 1
then
wait 500
jump @UDACHNO_ZAME
end

32@ = 0
repeat
wait 0

if or
0E8D: is_any_fire_button_pressed 0
0E8D: is_any_fire_button_pressed 1
    then
    break
    end    

until 32@ >= 5000 
//wait 5000
  
fade 0 1000
wait 1000
$SAVESTATUS = 1
//wait 2000 
jump @UDACHNO_ZAME

/////////////////////////////////////////////////////////////////////////////////////////////////////////

:ZAME_FIND_TARGET_CAR

ZAME_TEMPVAR_STRING = ""

//0AD1: show_formatted_text_highpriority "ZAME_FIND_TARGET_CAR" time 2000
//wait 2000
//0AD1: show_formatted_text_highpriority "OBJ IS %s" time 2000 v$RACE_FILE
//wait 2000
//0AD1: show_formatted_text_highpriority "FOR_IDNAME2 is %s" time 2000 ZAME_TEMPVAR_STRING
//wait 2000      

//cinema.Widescreen(0)

////////////////////////////////НАХОДИМ ЦЕЛЕВОЙ ТРАНСПОРТ ПО IDNAME////////////////////////////////
    
0AF4: ZAME_TEMPVAR_STRING = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
if
8846: not  string ZAME_TEMPVAR_STRING empty // v$
    then
    
    20@ = 0
    
//    actor.StorePos(PLAYER_ACTOR,10@,11@,12@)
//    32@ = 0
    while true
//    wait 0
    
//    if
//    32@ > 2000
//    then
//    break
//    end
        
    //////////////////////////////////////////////////        
    
    if
    0EA8: get_any_car_no_save_recursive 20@ progress_to 20@ car_to 31@
    then    
//    {$INCLUDE newopcodes\forallcars}
    
//    0AE2: 3@ = random_vehicle_near_point 10@ 11@ 12@ in_radius 200.0 find_next 1 pass_wrecked 0
//    if
//    056E:   car 3@ defined
//    then
//    0085: veh = 3@ // (int)
//    jump to @BENIS_CAR
//    end
                
    if 
    056E:   car 31@ defined
        then
//        3@ = car.Model(31@)
//        if
//        3@ == 15385
//        then
//        10@ = marker.CreateAboveCar(31@)
//        wait 500
//        end
        
//        :BENIS_CAR
//        0AD1: show_formatted_text_highpriority "car handle is %d" time 2000 31@
        0AC6: ZAME_TEMPVAR_STRING3 = label @SUNUDKS_POSITIONS_ARRAY offset          
        if  
        0E19: get_extended_car_var 31@ id "IDNAME2" var 1 to ZAME_TEMPVAR_STRING3
            then
//            0D4D: copy_string ZAME_TEMPVAR_STRING3 to ZAME_TEMPVAR_STRING2
//            0D4D: copy_string "yes" to 0@
            0AD3: ZAME_TEMPVAR_STRING2 = format "%s" ZAME_TEMPVAR_STRING3
//            0AD1: show_formatted_text_highpriority "%s == %s" time 2000 ZAME_TEMPVAR_STRING2 ZAME_TEMPVAR_STRING
            if
            0D49: 12@ = compare_strings ZAME_TEMPVAR_STRING2 ZAME_TEMPVAR_STRING // IF and SET
                then
                0085: ZAME_TARGET_CAR_HANDLE = 31@ // (int)
                return
                end
            else
//            0AD1: show_formatted_text_highpriority "car handle is %d has no extended car vars" time 2000 31@
            end               
        end
                
//    {$INCLUDE newopcodes\for_end}

    else
    20@ = 0
    break
    end
            
    //////////////////////////////////////////////////
    
    end
        
    0AD1: show_formatted_text_highpriority "FAILED TO FIND TRANSPORT BY IDNAME %s!" time 2000 ZAME_TEMPVAR_STRING
    wait 2000
    ZAME_TARGET_CAR_HANDLE = -1
    return
        
    end

//0AF0: get_int 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "ITS_PLAYER"
//if
//5@ == 1
//then
//0085: ZAME_TARGET_CAR_HANDLE = ZAME_CAR_ADVENTURE_CAR // (int)
//return
//end      

0AF2: get_float 10@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_CAR_X"
0AF2: get_float 11@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_CAR_Y" 
0AF2: get_float 12@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_CAR_Z"                    
0AF0: get_int 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_CAR_MODEL"


wait 2000 
    
32@ = 0
:benis_monke_123
wait 0
    
if
32@ > 3000
then
0AD1: show_formatted_text_highpriority "FAILED TO FIND TARGET CAR!" time 2000
wait 2000
ZAME_TARGET_CAR_HANDLE = -1
return
end
    
//////////////////////////////////////////

//{$INCLUDE newopcodes\forallcars}
{$INCLUDE newopcodes\forallcars_cleoplus}
    
if
056E:   car veh defined
    then
//    0AD1: show_formatted_text_highpriority "TARGET_CAR_X %f, TARGET_CAR_Y %f, TARGET_CAR_Z %f, TARGET_CAR_MODEL %d" time 2000 10@ 11@ 12@ 13@
    if and
    0EEB: locate_car_distance_to_coordinates veh pos 10@ 11@ 12@ radius 5.0
    car.Model(veh) == 3@
        then
        0085: ZAME_TARGET_CAR_HANDLE = veh // (int)
        return
        end   
    end
    
{$INCLUDE newopcodes\end}
    
//////////////////////////////////////////
            
jump to @benis_monke_123   

return             

:ZAME_FIND_TARGET_PED

0AF0: get_int 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "ITS_PLAYER"
if
5@ == 1
then       
//0AD1: show_formatted_text_highpriority "SETTING PLAYER AS A TARGET" time 2000
//wait 2000 
008B: ZAME_TARGET_PED_HANDLE = PLAYER_ACTOR // (int)
return
end

0AF4: ZAME_TEMPVAR_STRING = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "FOR_IDNAME2"
if
8846: not  string ZAME_TEMPVAR_STRING empty // v$
    then
        
    //////////////////////////////////////////////////
        
    {$INCLUDE newopcodes\forallpeds_cleoplus}
                
    if and
    056D:   actor ped defined
    87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
        then
        0AC6: ZAME_TEMPVAR_STRING3 = label @SUNUDKS_POSITIONS_ARRAY offset          
        if  
        0E16: get_extended_char_var ped id "IDNAME" var 1 to ZAME_TEMPVAR_STRING3
            then
            0AD3: ZAME_TEMPVAR_STRING2 = format "%s" ZAME_TEMPVAR_STRING3
            if
            0D49: 12@ = compare_strings ZAME_TEMPVAR_STRING2 ZAME_TEMPVAR_STRING // IF and SET
                then
                0085: ZAME_TARGET_PED_HANDLE = ped // (int)
                return
                end
            end               
        end
                
    {$INCLUDE newopcodes\end}
            
    //////////////////////////////////////////////////
        
    008B: ZAME_TARGET_PED_HANDLE = PLAYER_ACTOR // (int)
    return
        
    end

0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_PED_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_PED_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_PED_Z"
0AF0: get_int 5@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TARGET_PED_MODEL"

32@ = 0
repeat
wait 0

if
32@ > 3000
then
0AD1: show_formatted_text_highpriority "FAILED TO FIND TARGET PED, SETTING PLAYER AS A TARGET" time 2000
wait 2000
008B: ZAME_TARGET_PED_HANDLE = PLAYER_ACTOR // (int)
return
end

//////////////////////////////////////////////////

{$INCLUDE newopcodes\forallpeds_cleoplus}

if and
056D:   actor ped defined
87D6: not  ped == PLAYER_ACTOR // @ == $ (int)
then
0665: get_actor ped model_to 6@
if and
0EEA: locate_char_distance_to_coordinates ped pos 2@ 3@ 4@ radius 1.0
003B:   6@ == 5@  // (int)
    then
    0085: ZAME_TARGET_PED_HANDLE = ped // (int)
    return
    end   
end

{$INCLUDE newopcodes\end}

//////////////////////////////////////////////////

until false

return

/////////////////////////////////////////////////////////////////////////////////////////////////////////

:ZAME_GET_NEXT_INTERTARGET_NAME

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 1
then
0AD3: v$SHITME_FILE = format "OBJ%dB" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 2
then
0AD3: v$SHITME_FILE = format "OBJ%dC" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 3
then
0AD3: v$SHITME_FILE = format "OBJ%dD" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 4
then
0AD3: v$SHITME_FILE = format "OBJ%dE" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 5
then
0AD3: v$SHITME_FILE = format "OBJ%dF" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 6
then
0AD3: v$SHITME_FILE = format "OBJ%dG" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 7
then
0AD3: v$SHITME_FILE = format "OBJ%dH" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 8
then
0AD3: v$SHITME_FILE = format "OBJ%dI" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 9
then
0AD3: v$SHITME_FILE = format "OBJ%dJ" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 10
then
0AD3: v$SHITME_FILE = format "OBJ%dK" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 11
then
0AD3: v$SHITME_FILE = format "OBJ%dL" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 12
then
0AD3: v$SHITME_FILE = format "OBJ%dM" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 13
then
0AD3: v$SHITME_FILE = format "OBJ%dN" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 14
then
0AD3: v$SHITME_FILE = format "OBJ%dO" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 15
then
0AD3: v$SHITME_FILE = format "OBJ%dP" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 16
then
0AD3: v$SHITME_FILE = format "OBJ%dQ" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 17
then
0AD3: v$SHITME_FILE = format "OBJ%dR" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 18
then
0AD3: v$SHITME_FILE = format "OBJ%dS" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 19
then
0AD3: v$SHITME_FILE = format "OBJ%dT" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 20
then
0AD3: v$SHITME_FILE = format "OBJ%dU" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 21
then
0AD3: v$SHITME_FILE = format "OBJ%dV" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 22
then
0AD3: v$SHITME_FILE = format "OBJ%dW" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 23
then
0AD3: v$SHITME_FILE = format "OBJ%dX" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 24
then
0AD3: v$SHITME_FILE = format "OBJ%dY" ZAME_CURRENT_OBJECTIVE_INDEX 
end

if
ZAME_INTERTARGET_OBJECTIVE_NUM == 25
then
0AD3: v$SHITME_FILE = format "OBJ%dZ" ZAME_CURRENT_OBJECTIVE_INDEX 
end

//0AD1: show_formatted_text_highpriority "NEXT INTERTARGET IS %s" time 2000 v$SHITME_FILE
//wait 2000

return

/////////////////////////////////////////////////////////////////////////////////////////////////////////

:custom_mission_3727
0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX
0AF0: get_int ZAME_SAVLATION_TYPE from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TRANSPORT"

///////////////////////////////////

if
UNITED_MAP == 0
then
$SAVER_MODEL = 15069
else

if
$UNITED_III_SPAWN == 1
then
0084: $SAVER_MODEL = $III_SAVER_SKIN // (int)
else
0084: $SAVER_MODEL = $VC_SAVER_SKIN // (int)
end

end

///////////////////////////////////

if
ZAME_SAVLATION_TYPE == 0
then

if
UNITED_MAP == 0 
then
$CAR_MODEL = 487
else

if
STORIES_MAP == 0
then

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15393
    else
    $CAR_MODEL = 15340
    end

else

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15446
    else
    $CAR_MODEL = 15547
    end

end

end

end

///////////////////////////////////

if
ZAME_SAVLATION_TYPE == 1
then

if
UNITED_MAP == 0 
then
$CAR_MODEL = 473
else

if
STORIES_MAP == 0
then

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15242
    else
    $CAR_MODEL = 15242
    end

else

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15589
    else
    $CAR_MODEL = 15589
    end

end

end

end

///////////////////////////////////

if
ZAME_SAVLATION_TYPE == 2
then

if
UNITED_MAP == 0 
then
$CAR_MODEL = 601
else

if
STORIES_MAP == 0
then

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15365
    else
    $CAR_MODEL = 15291
    end

else

if
$UNITED_III_SPAWN == 1
    then
    $CAR_MODEL = 15416
    else
    $CAR_MODEL = 15505
    end

end

end

end

///////////////////////////////////

$END_STARTING_MUSIC = 1
if 
   not ZAME_SAVLATION_TYPE == 0 
jf @custom_mission_3788 
if 
   not ZAME_SAVLATION_TYPE == 1 
jf @custom_mission_4905 
if 
   not ZAME_SAVLATION_TYPE == 2 
jf @custom_mission_5998  

:custom_mission_3788
wait 0
$SAVE_METHOD = 1 
Model.Load($CAR_MODEL)
Model.Load($SAVER_MODEL)
038B: load_requested_models 
if and
   Model.Available($CAR_MODEL)
   Model.Available($SAVER_MODEL)
jf @custom_mission_3788 
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z"
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_A"
0395: clear_area 1 at 2@ 3@ 4@ radius 5.0
$SAVE_CAR_PLACE = Car.Create($CAR_MODEL, 2@, 3@, 4@)
car.SetImmunities($SAVE_CAR_PLACE,1,1,1,1,1)
//$SAVER = Actor.Create(26, $SAVER_MODEL, 0.0, 0.0, 0.0)
$SAVER = Actor.CreateAsDriver(26, $SAVER_MODEL,$SAVE_CAR_PLACE)
//model.Destroy($CAR_MODEL)
//model.Destroy($SAVER_MODEL)
0229: set_car $SAVE_CAR_PLACE primary_color_to 1 secondary_color_to 2
Car.Angle($SAVE_CAR_PLACE) = 5@
//036A: put_actor $SAVER in_car $SAVE_CAR_PLACE 
0825: set_helicopter $SAVE_CAR_PLACE instant_rotor_start
0087: 40@ = 4@ // (float) 
40@ += 10.0
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Z" 
04A2: set_heli $SAVE_CAR_PLACE fly_to 2@ 3@ 4@ altitude_between 0.0 and 40@
0@ = Object.Init(18161, 2@, 3@, 4@)
018A: 1@ = create_checkpoint_at 2@ 3@ 4@
0853: unknown_heli $SAVE_CAR_PLACE flag 3

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = 0.0
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
//0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1 
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume $SOUNDS_VOLUME time 500  

////////////////////////////////////////////////////////

if
not $CHEATS_ON == 1
then
wait 3000   
end

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume 0.0 time 250        
wait 250
audiostream.Release($RADIO_SOUND)

//////////////////////////////////////////////////////////

32@ = 0

repeat
wait 0

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end

if
$CHEATS_ON == 1
then
break
end

00BC: show_text_highpriority GXT 'INV48' time 100 flag 1
until 32@ > 3000

$SAVE_CAR_PLACE_MARK = marker.CreateAboveCar($SAVE_CAR_PLACE)
marker.SetColor($SAVE_CAR_PLACE_MARK,1)
marker.SetIconSize($SAVE_CAR_PLACE_MARK,2)
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 0
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 2 

:custom_mission_4065
wait 0    

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end  

if and
$CHEATS_ON == 1     
0E8D: is_any_fire_button_pressed 0
then 
0EB4: set_car_coordinates_simple $SAVE_CAR_PLACE position 2@ 3@ 40@
end
 
if 
01AD:   car $SAVE_CAR_PLACE sphere 0 near_point 2@ 3@ radius 10.0 10.0 
jf @custom_mission_4065

04DF: set_heli $SAVE_CAR_PLACE lean_and_thrust_limiter 1 
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = True
Car.SetSpeedInstantly($SAVE_CAR_PLACE, 2.0)
wait 1000 
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = False
Car.StorePos($SAVE_CAR_PLACE,6@,7@,8@)

:custom_mission_4156
wait 0    

if and
$CHEATS_ON == 1
0E8D: is_any_fire_button_pressed 0
then
jump to @custom_mission_4156BBB
end

0819: 9@ = actor $SAVER distance_from_ground
if
9@ > 1.5
then
8@ -= 0.15
0EB4: set_car_coordinates_simple $SAVE_CAR_PLACE position 6@ 7@ 8@
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = True
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
  
if 
0104:   actor $SAVER near_actor PLAYER_ACTOR radius 40.0 40.0 5.0 sphere 0 
jf @custom_mission_4156

:custom_mission_4156BBB
 
$SAVER_GET_IN_START = 1
$DELETE_SOUND = 1
$OTKZ_NGRDA_FLG = 1
wait 2000
create_thread @SV_GTN 0 0 0 0 ZAME_MISSION_LOAD_NUMBER 
$SAVE_WAIT_TIME = 30000
03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'INV152' 

:custom_mission_4298
wait 0

if
$CHEATS_ON == 1
then
jump to @custom_mission_4298BBB
end

if
00E1:   player 0 pressed_key 15
then
0E96: clear_char_primary_tasks PLAYER_ACTOR
0E97: clear_char_secondary_tasks PLAYER_ACTOR
05CA: AS_actor PLAYER_ACTOR enter_car $SAVE_CAR_PLACE passenger_seat 0 time 990000
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
$SAVE_WAIT_TIME < 1
then  

$END_SAVING = 1  

if
$SAVE_WAIT_TIME < 1
then
ZAME_FAILED_BY_REASON = 3
end

jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
  
if 
0205:   actor PLAYER_ACTOR near_car $SAVE_CAR_PLACE radius 4.5 4.5 10.5 flag 0
jf @custom_mission_4298

:custom_mission_4298BBB

09BD: allow_other_threads_to_display_text_boxes 1

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
if
0@ == 1
then
0459: end_thread_named '4LEFT'
end

$END_SAVING = 1
014F: stop_timer $SAVE_WAIT_TIME 
Marker.Disable($SAVE_CAR_PLACE_MARK)

fade 0 200
$HUD_REMOVE = 1
wait 200

0792: disembark_instantly_actor PLAYER_ACTOR
0430: put_actor PLAYER_ACTOR into_car $SAVE_CAR_PLACE passenger_seat 0
wait 5

$ALLOW_HUNGER = 0
$DELETE_SOUND = 1
$SAVER_COMING = 0
$FPS_COUNTER_ENABLED = 0 
$FPS_COUNTER_ENABLED2 = 0
$SATIETY_LEVEL = 600.0
$FATIGUE_LEVEL = 0.0
BLACK_POLOSKI_ON = 1
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = False
Player.CanMove(PLAYER_CHAR) = False
02A3: enable_widescreen 1
gosub @FREND_TELEPORT_IN_HELI_CHECK
0A48: enable_menu_access_in_widescreen_mode 1 
09AD: set_vehicle_camera_mode 6
 
if
$FP_ACTIVATED == 0
then
093D: lock_camera_on_cinematic_view 1
end

gosub @ZAME_ACH_CHECK

0AD3: 0@v = format "me\%d\win.mp3" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
then
$WIN_MUSIC = audiostream.Load(0@v)
Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
else
0AD3: 0@v = format "me\%d\win.wav" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
    then
    $WIN_MUSIC = audiostream.Load(0@v)
    Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
    Audiostream.Loop($WIN_MUSIC, 0)
    Audiostream.PerformAction($WIN_MUSIC, PLAY)
    else
    0AD3: 0@v = format "me\%d\win.ogg" ZAME_MISSION_LOAD_NUMBER
    if
    0AAB:   file_exists 0@v
        then
        $WIN_MUSIC = audiostream.Load(0@v)
        Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
        Audiostream.Loop($WIN_MUSIC, 0)
        Audiostream.PerformAction($WIN_MUSIC, PLAY)
        else
        gosub @RANDOM_WIN_MUSIC
        end
    end
end

Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)

car.StorePos($SAVE_CAR_PLACE,5@,6@,7@)
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z"
0E27: get_angle_from_two_coords 5@ 6@ and 2@ 3@ to 7@
car.PutAt($SAVE_CAR_PLACE,5@,6@,4@)
car.Angle($SAVE_CAR_PLACE) = 7@
 
04A2: set_heli $SAVE_CAR_PLACE fly_to 2@ 3@ 4@ altitude_between 0.0 and 4@ 
wait 50 
fade 1 1000

gosub @FREND_TELEPORT_IN_HELI_CHECK

repeat
wait 0
gosub @FREND_TELEPORT_IN_HELI_CHECK       
until 816B: not  fading
 
00BA: show_text_styled GXT 'SE149' time 5000 style 1 
wait 10000  
fade 0 1000

repeat
wait 0
gosub @FREND_TELEPORT_IN_HELI_CHECK       
until 816B: not  fading

$SAVESTATUS = 1 
Player.CanMove(PLAYER_CHAR) = True
02A3: enable_widescreen 0 
Actor.DestroyInstantly($SAVER)
0362: remove_actor PLAYER_ACTOR from_car_and_place_at 369.9635 -2043.875 7.6719 
Car.Destroy($SAVE_CAR_PLACE)

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $WIN_MUSIC // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
//
//while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
//wait 0
//end
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $WIN_MUSIC volume 0.0 time 250        
wait 250
audiostream.Release($WIN_MUSIC)

//////////////////////////////////////////////////////////      

jump @UDACHNO_ZAME

:custom_mission_4868

if
00E1:   player 0 pressed_key 15
then
0E96: clear_char_primary_tasks PLAYER_ACTOR
0E97: clear_char_secondary_tasks PLAYER_ACTOR
05CA: AS_actor PLAYER_ACTOR enter_car $SAVE_CAR_PLACE passenger_seat 0 time 990000
end
 
jump @custom_mission_4298

///////////////////////////////////////////////////////////////////////////////////////////////////////// 

:custom_mission_4905
wait 0
$SAVE_METHOD = 2
Model.Load($CAR_MODEL)
Model.Load($SAVER_MODEL)
038B: load_requested_models 
if and
   Model.Available($CAR_MODEL)
   Model.Available($SAVER_MODEL)
jf @custom_mission_4905
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z"
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_A"
0395: clear_area 1 at 2@ 3@ 4@ radius 5.0 
$SAVE_CAR_PLACE = Car.Create($CAR_MODEL, 2@, 3@, 4@)
car.SetImmunities($SAVE_CAR_PLACE,1,1,1,1,1)
$SAVER = Actor.Create(26, $SAVER_MODEL, 0.0, 0.0, 0.0)
//model.Destroy($CAR_MODEL)
//model.Destroy($SAVER_MODEL)
Car.Angle($SAVE_CAR_PLACE) = 5@
Actor.SetImmunities($SAVER, 1, 1, 1, 1, 1)
0464: put_actor $SAVER into_turret_on_car $SAVE_CAR_PLACE at_car_offset 0.0 0.8 0.9 position 0 shooting_angle_limit 0.0 with_weapon 0 
0605: actor $SAVER perform_animation "drive_boat" IFP "ped" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 1 time 999999999
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Z"  
02D3: boat $SAVE_CAR_PLACE sail_to 2@ 3@ 4@
018A: 1@ = create_checkpoint_at 2@ 3@ 4@ 
02DB: set_boat $SAVE_CAR_PLACE speed_to 100.0

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = VERO_TIPA_VOLUME
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
//0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1 
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume $SOUNDS_VOLUME time 500 

////////////////////////////////////////////////////////

if
not $CHEATS_ON == 1
then
wait 3000
end

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume 0.0 time 250        
wait 250
audiostream.Release($RADIO_SOUND)

//////////////////////////////////////////////////////////

32@ = 0

repeat
wait 0

if
$CHEATS_ON == 1
then
break
end

if
0E45: frame_mod 30
then
02D3: boat $SAVE_CAR_PLACE sail_to 2@ 3@ 4@
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end

00BC: show_text_highpriority GXT 'INV48' time 100 flag 1
until 32@ > 3000

$SAVE_CAR_PLACE_MARK = marker.CreateAboveCar($SAVE_CAR_PLACE)
marker.SetColor($SAVE_CAR_PLACE_MARK,1)
marker.SetIconSize($SAVE_CAR_PLACE_MARK,2)
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 0
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 2  

:custom_mission_5231
wait 0

if
$CHEATS_ON == 1
then
0EB4: set_car_coordinates_simple $SAVE_CAR_PLACE position 2@ 3@ 4@
jump to @custom_mission_5231BBB
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then  
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
  
if 
00EC:   actor $SAVER sphere 0 near_point 2@ 3@ radius 5.0 5.0 
jf @custom_mission_5231  

:custom_mission_5231BBB
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = True
02DB: set_boat $SAVE_CAR_PLACE speed_to 0.0
$SAVER_GET_IN_START = 1
$DELETE_SOUND = 1
$OTKZ_NGRDA_FLG = 1
wait 2000
create_thread @SV_GTN 0 0 0 0 ZAME_MISSION_LOAD_NUMBER 
$SAVE_WAIT_TIME = 30000
03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'INV152'

:custom_mission_5328
wait 0

if
$CHEATS_ON == 1
then
jump to @custom_mission_5328BBB
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
$SAVE_WAIT_TIME < 1
then

$END_SAVING = 1   

if
$SAVE_WAIT_TIME < 1
then
ZAME_FAILED_BY_REASON = 3
end

jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
  
if 
0205:   actor PLAYER_ACTOR near_car $SAVE_CAR_PLACE radius 3.5 3.5 3.5 flag 0 
jf @custom_mission_5328 

:custom_mission_5328BBB

09BD: allow_other_threads_to_display_text_boxes 1

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
if
0@ == 1
then
0459: end_thread_named '4LEFT'
end

$END_SAVING = 1
014F: stop_timer $SAVE_WAIT_TIME 
Marker.Disable($SAVE_CAR_PLACE_MARK)

fade 0 200
$HUD_REMOVE = 1
wait 200

gosub @FREND_TELEPORT_IN_BOAT_CHECK

0792: disembark_instantly_actor PLAYER_ACTOR
wait 5

$ALLOW_HUNGER = 0
$DELETE_SOUND = 1
$SAVER_COMING = 0
$FPS_COUNTER_ENABLED = 0 
$FPS_COUNTER_ENABLED2 = 0
$SATIETY_LEVEL = 600.0
$FATIGUE_LEVEL = 0.0
BLACK_POLOSKI_ON = 1
if
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_A"
then
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_A"
car.Angle($SAVE_CAR_PLACE) = 5@ 
end 
Player.CanMove(PLAYER_CHAR) = False
02A3: enable_widescreen 1
0A48: enable_menu_access_in_widescreen_mode 1 
09AD: set_vehicle_camera_mode 6
 
if
$FP_ACTIVATED == 0
then
093D: lock_camera_on_cinematic_view 1
end

gosub @ZAME_ACH_CHECK

0AD3: 0@v = format "me\%d\win.mp3" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
then
$WIN_MUSIC = audiostream.Load(0@v)
Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
else
0AD3: 0@v = format "me\%d\win.wav" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
    then
    $WIN_MUSIC = audiostream.Load(0@v)
    Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
    Audiostream.Loop($WIN_MUSIC, 0)
    Audiostream.PerformAction($WIN_MUSIC, PLAY)
    else
    0AD3: 0@v = format "me\%d\win.ogg" ZAME_MISSION_LOAD_NUMBER
    if
    0AAB:   file_exists 0@v
        then
        $WIN_MUSIC = audiostream.Load(0@v)
        Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
        Audiostream.Loop($WIN_MUSIC, 0)
        Audiostream.PerformAction($WIN_MUSIC, PLAY)
        else
        gosub @RANDOM_WIN_MUSIC
        end
    end
end

Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
  
0464: put_actor $SAVER into_turret_on_car $SAVE_CAR_PLACE at_car_offset 0.0 0.8 0.9 position 0 shooting_angle_limit 0.0 with_weapon 0 
0605: actor $SAVER perform_animation "drive_boat" IFP "ped" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 1 time 999999999 
0638: AS_actor $SAVER stay_put 1 
wait 1000 
0464: put_actor PLAYER_ACTOR into_turret_on_car $SAVE_CAR_PLACE at_car_offset 0.0 -1.0 1.0 position 0 shooting_angle_limit 0.0 with_weapon 0 
04EB: AS_actor PLAYER_ACTOR crouch 1 
041E: set_radio_station 12 
0464: put_actor $SAVER into_turret_on_car $SAVE_CAR_PLACE at_car_offset 0.0 0.8 0.9 position 0 shooting_angle_limit 0.0 with_weapon 0 
0605: actor $SAVER perform_animation "drive_boat" IFP "ped" framedelta 4.0 loop 1 lockX 0 lockY 0 lockF 1 time 999999999 
0638: AS_actor $SAVER stay_put 1 
Player.CanMove(PLAYER_CHAR) = False
02A3: enable_widescreen 1 
fade 1 1000
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = False
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z"
02D3: boat $SAVE_CAR_PLACE sail_to 2@ 3@ 4@
02DB: set_boat $SAVE_CAR_PLACE speed_to 60.0 
09AD: set_vehicle_camera_mode 6 
093D: lock_camera_on_cinematic_view 1 
00BA: show_text_styled GXT 'SE149' time 5000 style 1 

repeat
wait 0
gosub @FREND_TELEPORT_IN_BOAT_CHECK       
until 816B: not  fading

wait 10000  
fade 0 1000
wait 1000
$SAVESTATUS = 1 
Player.CanMove(PLAYER_CHAR) = True
02A3: enable_widescreen 0 
Actor.DestroyInstantly($SAVER)
0465: remove_actor PLAYER_ACTOR from_turret_mode 
0362: remove_actor PLAYER_ACTOR from_car_and_place_at 369.9635 -2043.875 7.6719 
Car.Destroy($SAVE_CAR_PLACE)

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $WIN_MUSIC // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
//
//while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
//wait 0
//end
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $WIN_MUSIC volume 0.0 time 250        
wait 250
audiostream.Release($WIN_MUSIC)

//////////////////////////////////////////////////////////    

jump @UDACHNO_ZAME

///////////////////////////////////////////////////////////////////////////////////////////////////////// 

:custom_mission_5998
wait 0
$SAVE_METHOD = 4 
Model.Load($SAVER_MODEL)
038B: load_requested_models 
if 
   Model.Available($SAVER_MODEL)
jf @custom_mission_5998 

:custom_mission_6025
wait 0 
Model.Load($CAR_MODEL)
038B: load_requested_models 
if 
   Model.Available($CAR_MODEL)
jf @custom_mission_6025
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z"
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_A"
0395: clear_area 1 at 2@ 3@ 4@ radius 5.0  
$SAVE_CAR_PLACE = Car.Create($CAR_MODEL, 2@, 3@, 4@)
car.SetImmunities($SAVE_CAR_PLACE,1,1,1,1,1)
car.DoorStatus($SAVE_CAR_PLACE,0)
$SAVER = Actor.Create(26, $SAVER_MODEL, 0.0, 0.0, 0.0)
//model.Destroy($CAR_MODEL)
//model.Destroy($SAVER_MODEL)
Car.Angle($SAVE_CAR_PLACE) = 5@
036A: put_actor $SAVER in_car $SAVE_CAR_PLACE 
Actor.SetImmunities($SAVER, 1, 1, 1, 1, 1)
0A97: 11@ = car $SAVE_CAR_PLACE struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2 
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_Z"  
//05D6: clear_scmpath 
//05D7: add_point_to_scmpath 2@ 3@ 4@ 
//07E7: AS_assign_scmpath_to_actor $SAVER in_car $SAVE_CAR_PLACE speed 25.0 flags 1 0 2
018A: 1@ = create_checkpoint_at 2@ 3@ 4@
car.SetMaxSpeed($SAVE_CAR_PLACE,25.0)  
0423: set_car $SAVE_CAR_PLACE improved_handling_to 2.0 // (float) 
03AB: set_car $SAVE_CAR_PLACE strong 1 
00AE: set_car $SAVE_CAR_PLACE traffic_behaviour_to 3
01EC: make_car $SAVE_CAR_PLACE very_heavy 1
0704: car $SAVE_CAR_PLACE drive_to 2@ 3@ 4@

$RADIO_SOUND = Audiostream.Load("AUDIO\SOUNDS\Radio.mp3") 
Audiostream.Loop($RADIO_SOUND, 1)  
Audiostream.Volume($RADIO_SOUND) = VERO_TIPA_VOLUME
Audiostream.PerformAction($RADIO_SOUND, PLAY)

/////////////////////Плавное нарастание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int) 
//0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $SOUNDS_VOLUME // (float) 
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1 
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume $SOUNDS_VOLUME time 500 

////////////////////////////////////////////////////////

if
not $CHEATS_ON == 1
then
wait 3000
end

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $RADIO_SOUND // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 150
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $RADIO_SOUND volume 0.0 time 250        
wait 250
audiostream.Release($RADIO_SOUND)

//////////////////////////////////////////////////////////

32@ = 0

repeat
wait 0

if
$CHEATS_ON == 1
then
break
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end

00BC: show_text_highpriority GXT 'INV48' time 100 flag 1
until 32@ > 3000

$SAVE_CAR_PLACE_MARK = marker.CreateAboveCar($SAVE_CAR_PLACE)
marker.SetColor($SAVE_CAR_PLACE_MARK,1)
marker.SetIconSize($SAVE_CAR_PLACE_MARK,2)
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 0
018B: set_marker $SAVE_CAR_PLACE_MARK radar_mode 2      

:custom_mission_6428
wait 0

if
$CHEATS_ON == 1
then
0EB4: set_car_coordinates_simple $SAVE_CAR_PLACE position 2@ 3@ 4@
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
 
if and
   not Car.Wrecked($SAVE_CAR_PLACE)
   not Actor.Dead($SAVER)
   not Actor.Dead(PLAYER_ACTOR)
   not GAME_OVER_FLAG == 1
jf @KOD_PROVALA_ZAME 
if 
00EC:   actor $SAVER sphere 0 near_point 2@ 3@ radius 6.0 6.0 
jf @custom_mission_6428
  
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = True
Car.SetSpeedInstantly($SAVE_CAR_PLACE, 0.0)
Car.SetMaxSpeed($SAVE_CAR_PLACE, 0.0)

$SAVER_GET_IN_START = 1
$DELETE_SOUND = 1
$OTKZ_NGRDA_FLG = 1
wait 2000
create_thread @SV_GTN 0 0 0 0 ZAME_MISSION_LOAD_NUMBER 
$SAVE_WAIT_TIME = 30000
03C3: set_timer_to $SAVE_WAIT_TIME type 1 GXT 'INV152'

:custom_mission_6622
wait 0

if
$CHEATS_ON == 1
then
jump to @custom_mission_6622BBB
end

if
00E1:   player 0 pressed_key 15
then
0E96: clear_char_primary_tasks PLAYER_ACTOR
0E97: clear_char_secondary_tasks PLAYER_ACTOR
05CA: AS_actor PLAYER_ACTOR enter_car $SAVE_CAR_PLACE passenger_seat 0 time 990000
end

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
$SAVE_WAIT_TIME < 1
then

$END_SAVING = 1

if
$SAVE_WAIT_TIME < 1
then
ZAME_FAILED_BY_REASON = 3
end

jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end
  
if 
00F2:   actor $SAVER near_actor PLAYER_ACTOR radius 5.0 5.0 0
jf @custom_mission_6622

:custom_mission_6622BBB

09BD: allow_other_threads_to_display_text_boxes 1

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
if
0@ == 1
then
0459: end_thread_named '4LEFT'
end

$END_SAVING = 1
014F: stop_timer $SAVE_WAIT_TIME 
Marker.Disable($SAVE_CAR_PLACE_MARK)

fade 0 200
$HUD_REMOVE = 1
wait 200

0792: disembark_instantly_actor PLAYER_ACTOR
0430: put_actor PLAYER_ACTOR into_car $SAVE_CAR_PLACE passenger_seat 0
wait 5

$ALLOW_HUNGER = 0
$DELETE_SOUND = 1
$SAVER_COMING = 0
$FPS_COUNTER_ENABLED = 0 
$FPS_COUNTER_ENABLED2 = 0
$SATIETY_LEVEL = 600.0
$FATIGUE_LEVEL = 0.0
BLACK_POLOSKI_ON = 1
if
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_A"
then
0AF2: get_float 5@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_TARGET_A"
car.Angle($SAVE_CAR_PLACE) = 5@
end  
Player.CanMove(PLAYER_CHAR) = False
02A3: enable_widescreen 1
0A48: enable_menu_access_in_widescreen_mode 1 
09AD: set_vehicle_camera_mode 6
 
if
$FP_ACTIVATED == 0
then
093D: lock_camera_on_cinematic_view 1
end

gosub @ZAME_ACH_CHECK

Car.DoorStatus($SAVE_CAR_PLACE) = 2
Car.LockInCurrentPosition($SAVE_CAR_PLACE) = False
Car.SetMaxSpeed($SAVE_CAR_PLACE, 100.0)
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_X"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Y"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "SAVIOR_Z" 
car.SetMaxSpeed($SAVE_CAR_PLACE,25.0)  
0423: set_car $SAVE_CAR_PLACE improved_handling_to 2.0 // (float) 
03AB: set_car $SAVE_CAR_PLACE strong 1 
00AE: set_car $SAVE_CAR_PLACE traffic_behaviour_to 3
01EC: make_car $SAVE_CAR_PLACE very_heavy 1
0704: car $SAVE_CAR_PLACE drive_to 2@ 3@ 4@

0AD3: 0@v = format "me\%d\win.mp3" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
then
$WIN_MUSIC = audiostream.Load(0@v)
Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
else
0AD3: 0@v = format "me\%d\win.wav" ZAME_MISSION_LOAD_NUMBER
if
0AAB:   file_exists 0@v
    then
    $WIN_MUSIC = audiostream.Load(0@v)
    Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
    Audiostream.Loop($WIN_MUSIC, 0)
    Audiostream.PerformAction($WIN_MUSIC, PLAY)
    else
    0AD3: 0@v = format "me\%d\win.ogg" ZAME_MISSION_LOAD_NUMBER
    if
    0AAB:   file_exists 0@v
        then
        $WIN_MUSIC = audiostream.Load(0@v)
        Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
        Audiostream.Loop($WIN_MUSIC, 0)
        Audiostream.PerformAction($WIN_MUSIC, PLAY)
        else
        gosub @RANDOM_WIN_MUSIC
        end
    end
end

Audiostream.Volume($WIN_MUSIC) = $MUSIC_VOLUME
Audiostream.Loop($WIN_MUSIC, 0)
Audiostream.PerformAction($WIN_MUSIC, PLAY)
 
fade 1 1000 
00BA: show_text_styled GXT 'SE149' time 3000 style 1 
wait 10000  
fade 0 1000
wait 1000 
$SAVESTATUS = 1 
Player.CanMove(PLAYER_CHAR) = True
02A3: enable_widescreen 0 
Actor.DestroyInstantly($SAVER)
0362: remove_actor PLAYER_ACTOR from_car_and_place_at 369.9635 -2043.875 7.6719 
Car.Destroy($SAVE_CAR_PLACE)

/////////////////////Плавное затухание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $WIN_MUSIC // (int)
//$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1
//
//while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
//wait 0
//end
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $WIN_MUSIC volume 0.0 time 250        
wait 250
audiostream.Release($WIN_MUSIC)

//////////////////////////////////////////////////////////    

jump @UDACHNO_ZAME 

:custom_mission_7180
if 
00E1:   player 0 pressed_key 15 
jf @custom_mission_6622 
05CA: AS_actor PLAYER_ACTOR enter_car $SAVE_CAR_PLACE passenger_seat 0 time 10000 
jump @custom_mission_6622

/////////////////////Союзники атакуют объект который нужно разрушить///////////////

:ZAME_OBJ_ATTACK_PEOPLE1

092B: 3@ = group PLAYER_GROUP member 0@      

if
056D:   actor 3@ defined
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN 
if and 
not actor.Driving(PLAYER_ACTOR)
$RANDOM_CAR_FLAG == 0  
89DE:   actor 3@ entering_car  
80DF:   actor 3@ in_a_car
not actor.Dead(3@)
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if
0EE6: locate_char_distance_to_object 3@ object ZAME_OBJECT_HANLDE radius $ZMB_ATCK_RD_FR
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if and
$HUNTER_ON_PLAYER == 0
$PEOPLE_DONT_ATTACK == 0
$COMMAND_STAY_IN_CAR == 0
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if
not actor.Animation(3@) == "FLOOR_hit"
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if
$HUNTER_ON_GROUP == 0
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN  
if
044B:   actor 3@ on_foot
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN  
if
82E0: not actor 3@ firing_weapon
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
062E: get_actor 3@ task 1506 status_store_to 1@ // ret 7 if not found
if 
1@ == 7
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "colt45_fire_2hands"
not actor.Animation(3@) == "python_fire" 
not actor.Animation(3@) == "shotgun_fire" 
not actor.Animation(3@) == "buddy_fire" 
not actor.Animation(3@) == "UZI_fire"
not actor.Animation(3@) == "RIFLE_fire" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "FLAME_fire" 
not actor.Animation(3@) == "RocketFire" 
not actor.Animation(3@) == "WEAPON_sniper" 
not actor.Animation(3@) == "WEAPON_throw"
not actor.Animation(3@) == "BOM_PLANT"   
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN       
if and
not actor.Animation(3@) == "colt45_crouchfire"
not actor.Animation(3@) == "python_crouchfire" 
not actor.Animation(3@) == "shotgun_crouchfire" 
not actor.Animation(3@) == "buddy_crouchfire" 
not actor.Animation(3@) == "UZI_crouchfire"
not actor.Animation(3@) == "RIFLE_crouchfire" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_reload"
not actor.Animation(3@) == "python_reload" 
not actor.Animation(3@) == "shotgun_reload" 
not actor.Animation(3@) == "buddy_reload" 
not actor.Animation(3@) == "UZI_reload"
not actor.Animation(3@) == "RIFLE_load" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_crouchreload"
not actor.Animation(3@) == "python_crouchreload" 
not actor.Animation(3@) == "shotgun_crouchreload" 
not actor.Animation(3@) == "buddy_crouchreload" 
not actor.Animation(3@) == "UZI_crouchreload"
not actor.Animation(3@) == "RIFLE_crouchload" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "GunMove_BWD"
not actor.Animation(3@) == "GunMove_FWD"
not actor.Animation(3@) == "GunMove_L"
not actor.Animation(3@) == "GunMove_R"
not actor.Animation(3@) == "Gun_2_IDLE"
not actor.Animation(3@) == "GUN_BUTT"
not actor.Animation(3@) == "GUN_BUTT_crouch"
not actor.Animation(3@) == "Gun_stand" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "CLIMB_idle"
not actor.Animation(3@) == "CLIMB_jump"
not actor.Animation(3@) == "CLIMB_jump2fall"
not actor.Animation(3@) == "CLIMB_jump_B"
not actor.Animation(3@) == "CLIMB_Pull"
not actor.Animation(3@) == "CLIMB_Stand"
not actor.Animation(3@) == "CLIMB_Stand_finish" 
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "Crouch_Roll_L"
not actor.Animation(3@) == "Crouch_Roll_R"
not actor.Animation(3@) == "gas_cwr"
not actor.Animation(3@) == "getup"
not actor.Animation(3@) == "getup_front"
not actor.Animation(3@) == "GunCrouchBwd"
not actor.Animation(3@) == "GunCrouchFwd"
8E47: not is_char_fighting 3@
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
05C1: AS_actor 3@ speak_from_audio_table $PEOPLE_ZOMBIE_ATTACK_AUDIO_TABLE
if
056D:   actor 3@ defined
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN 
if and
not actor.Driving(PLAYER_ACTOR)
89DE:   actor PLAYER_ACTOR entering_car
80DF:   actor PLAYER_ACTOR in_a_car
80DF:   actor 3@ in_a_car 
not actor.Dead(3@)
jf @ZAME_OBJ_ATTACK_PEOPLE_BEGIN
//0647: AS_actor 3@ clear_look_task
//05B9: AS_actor 3@ stay_idle 50 ms 
wait 50
if and
056D:   actor 3@ defined
87D6: not  3@ == COOP_ACTOR // @ == $ (int)
89CC: not  object ZAME_OBJECT_HANLDE model_is 3409  
then
object.StorePos(ZAME_OBJECT_HANLDE,4@,1@,2@)
0668: AS_actor 3@ rotate_and_shoot_at 4@ 1@ 2@ 10000 ms
end

jump @ZAME_OBJ_ATTACK_PEOPLE_BEGIN                               

:ZAME_OBJ_ATTACK_PEOPLE_BEGIN
return

:ZAME_GET_BACK_IN_EDITOR_CONFIRM

if or
ZAME_RETURN_OR_RESTART_KEY == 121
COMMUNITY_MISSION_FLAG == 1
then

0AF0: 0@ = get_int_from_ini_file "saves/ZACM.set" section "SCR" key "COMMUN_MISS_FLAG"

//////////////////////////////

text.ClearAll()
text.RemoveTextBox()

$NOT_ALLOW_COMMANDS = 1

while true
wait 0

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
return
end

if
0@ == 0
then
text.ShowH('SE228',100,1)
else
text.ShowH('SE228B',100,1)
end
    
if
0E3E: is_button_just_pressed 0 button 11
    then
    text.ClearAll()
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG = 1
    break
    end
    
if
0E3E: is_button_just_pressed 0 button 10
    then
    text.ClearAll()        
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG = 0
    break
    end
    
end
    
//////////////////////////////

else

//////////////////////////////

text.ClearAll()
text.RemoveTextBox()

while true
wait 0
text.ShowH('SE228C',100,1)

if or
actor.Dead(PLAYER_ACTOR)
GAME_OVER_FLAG == 1
then
return
end
    
if
0E3E: is_button_just_pressed 0 button 11
    then
    text.ClearAll()
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG = 2
    break
    end
    
if
0E3E: is_button_just_pressed 0 button 10
    then
    text.ClearAll()        
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG = 0
    break
    end
    
end
    
//////////////////////////////

end

if
0A4B:   controls_set_to_joystick
then
wait 1000
else
wait 0
end
            
$NOT_ALLOW_COMMANDS = 0

return

:ZAME_MISSION_PICTURES_CHECK

0085: 1@ = ZAME_MISSION_LOAD_NUMBER // (int)
1@ -= 1

///////////////////////////////1 слот///////////////////////////////
if
1@ == 0
    then
    
    0AD3: 24@v = format "ME\1\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\1\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS1.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS1.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////2 слот///////////////////////////////
if
1@ == 1
    then
    
    0AD3: 24@v = format "ME\2\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\2\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS2.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS2.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////3 слот///////////////////////////////
if
1@ == 2
    then
    
    0AD3: 24@v = format "ME\3\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\3\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS3.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS3.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////4 слот///////////////////////////////
if
1@ == 3
    then
    
    0AD3: 24@v = format "ME\4\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\4\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS4.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS4.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////5 слот///////////////////////////////
if
1@ == 4
    then
    
    0AD3: 24@v = format "ME\5\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\5\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS5.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS5.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////6 слот///////////////////////////////
if
1@ == 5
    then
    
    0AD3: 24@v = format "ME\6\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\6\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS6.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS6.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////7 слот///////////////////////////////
if
1@ == 6
    then
    
    0AD3: 24@v = format "ME\7\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\7\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS7.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS7.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end
    
///////////////////////////////8 слот///////////////////////////////
if
1@ == 7
    then
    
    0AD3: 24@v = format "ME\8\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\8\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS8.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS8.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end 
    
///////////////////////////////9 слот///////////////////////////////
if
1@ == 8
    then
    
    0AD3: 24@v = format "ME\9\%s.png" v$SNAME3 
    if
    0AAB:   file_exists 24@v
        then
        0AD3: 24@v = format "ME\\9\\%s.png" v$SNAME3
        if
        0D64: ZAME_MISSION_PNG_PREVIEW_TEXTURE = load_texture_png_from 24@v // IF and SET            
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
            return
            end
        end
    
    if
    0AAB:   file_exists "ME\MS9.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS9.TXD" // IF and SET 
            then
            0D43: 1@ = txd "PiZdA" id
            0AF4: 2@v = read_string_from_ini_file "me\temp.dat" section v$RACE_FILE key "TEXTURE_NAME"
            if
            0D46: ZAME_MISSION_PNG_PREVIEW_TEXTURE = find_texture 2@v in_dictionary 1@ // IF and SET
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 1 
                end
            else
            if
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
                then
                ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
                end
            end
        else
        if
        ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG == 1
            then
            ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG = 0
            end
        end    
    end                                

return

:ZAME_TXD_PIC_SHOW   

//$READING_NOTE_FLAG = 1
//USER_TAPE_OFF_FLAG = 1

//player.CanMove(PLAYER_CHAR) = false
0E68: set_player_control_pad 0 1 
0E69: set_player_control_pad_movement 0 0

$HUD_REMOVE = 1
$HUD_OFF_INST = 1
cinema.Radar(0)

////////////////////////////////////////////////

015D: set_gamespeed 0.0
$SPEED_00_FLAG = 1

//////////Показываем странички записки//////////

 repeat 
wait 0
//fade 0 0
0E1E: draw_texture_plus ZAME_MISSION_PNG_PREVIEW_TEXTURE event 2 pos 320.0 225.0 size 640.0 450.0 angle 0.0 depth 0.0 fix_aspect_ratio 0 maskTrisCount 0 maskTrisArray 0 rgba 255 255 255 255
 until 0E3E: is_button_just_pressed 0 17   

////////////////////////////////////////////////

$SPEED_00_FLAG = 0   

015D: set_gamespeed 1.0

wait 1
03F0: enable_text_draw 0
wait 1
0391: release_textures 

wait 1

0A0E: disable_text_with_style 1 

//player.CanMove(PLAYER_CHAR) = true
0E68: set_player_control_pad 0 1 
0E69: set_player_control_pad_movement 0 1

$HUD_REMOVE = 0
$HUD_ON_INST = 1
cinema.Radar(1)

//$READING_NOTE_FLAG = 0

return

:DIFFUCLITY_CUSTOM_SELECT_ZAME
0AD3: 0@v = format "me\ms%d.ini" ZAME_MISSION_LOAD_NUMBER
0629: change_integer_stat 253 to 5
gosub @DIFFUCLITY_HARD_SELECT  
$HARD_MODE = 0
$CUSTOM_MODE = 1
0AF0: $FALL_HITS = get_int_from_ini_file 0@v section "DIFF" key "FALL_HITS"

0AF2: $XP_COEFF = get_float_from_ini_file 0@v section "DIFF" key "XP_COEFF"
0AF2: QUESTS_MONEY_COEFF = get_float_from_ini_file 0@v section "DIFF" key "QUESTS_MONEY_COEFF"
0AF2: $ADDITIONAL_PRICE_COEFF = get_float_from_ini_file 0@v section "DIFF" key "ADDITIONAL_PRICE_COEFF"

0AF0: $ZOMBIE_FIRE_MIN_TIME = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_FIRE_MIN_TIME"
0AF0: $ZOMBIE_FIRE_MAX_TIME = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_FIRE_MAX_TIME"

0AF0: $SAVE_TIMER = get_int_from_ini_file 0@v section "DIFF" key "SAVE_TIMER"

0AF0: $ZOMBIE_DAMAGE_MIN = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_DAMAGE_MIN"
0AF0: $ZOMBIE_DAMAGE_MAX = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_DAMAGE_MAX"

0AF2: $ZOMBIE_RUN_SPEED = get_float_from_ini_file 0@v section "DIFF" key "ZOMBIE_RUN_SPEED"
0AF2: $ZOMBIE_PREFIGHT_SPEED = get_float_from_ini_file 0@v section "DIFF" key "ZOMBIE_PREFIGHT_SPEED"
0AF2: $ZOMBIE_ATTACK_SPEED = get_float_from_ini_file 0@v section "DIFF" key "ZOMBIE_ATTACK_SPEED"
0AF2: $WITCH_RUN_SPEED = get_float_from_ini_file 0@v section "DIFF" key "WITCH_RUN_SPEED"
0AF2: $TANK_RUN_SPEED = get_float_from_ini_file 0@v section "DIFF" key "TANK_RUN_SPEED"
0AF2: $CHARGER_RUN_SPEED = get_float_from_ini_file 0@v section "DIFF" key "CHARGER_RUN_SPEED"

0AF2: $SLOW_BAR_MINUS = get_float_from_ini_file 0@v section "DIFF" key "SLOW_BAR_MINUS"

0AF0: $TANK_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "TANK_HEALTH"
0AF0: $HUNTER_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_HEALTH"
0AF0: $WITCH_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "WITCH_HEALTH"
0AF0: $CHARGER_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "CHARGER_HEALTH"

0AF0: $TANK_DAMAGE = get_int_from_ini_file 0@v section "DIFF" key "TANK_DAMAGE"
0AF0: $TANK_PEOPLE_DAMAGE = get_int_from_ini_file 0@v section "DIFF" key "TANK_PEOPLE_DAMAGE"
0AF0: $CHARGER_DAMAGE = get_int_from_ini_file 0@v section "DIFF" key "CHARGER_DAMAGE"
0AF0: $CHARGER_PEOPLE_DAMAGE = get_int_from_ini_file 0@v section "DIFF" key "CHARGER_PEOPLE_DAMAGE"

0AF0: $ZOMBIE_HP_MIN = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_HP_MIN"
0AF0: $ZOMBIE_HP_MAX = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_HP_MAX"

0AF0: $Z_MIN_MONEY = get_int_from_ini_file 0@v section "DIFF" key "Z_MIN_MONEY"
0AF0: $Z_MAX_MONEY = get_int_from_ini_file 0@v section "DIFF" key "Z_MAX_MONEY"
0AF0: $PEOPLE_MIN_MONEY = get_int_from_ini_file 0@v section "DIFF" key "PEOPLE_MIN_MONEY"
0AF0: $PEOPLE_MAX_MONEY = get_int_from_ini_file 0@v section "DIFF" key "PEOPLE_MAX_MONEY"

0AF0: $TANK_WAIT_SPAWN_MIN = get_int_from_ini_file 0@v section "DIFF" key "TANK_WAIT_SPAWN_MIN"
0AF0: $TANK_WAIT_SPAWN_MAX = get_int_from_ini_file 0@v section "DIFF" key "TANK_WAIT_SPAWN_MAX"
0AF0: $HUNTER_WAIT_SPAWN_MIN = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_WAIT_SPAWN_MIN"
0AF0: $HUNTER_WAIT_SPAWN_MAX = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_WAIT_SPAWN_MAX"
0AF0: $WITCH_WAIT_SPAWN_MIN = get_int_from_ini_file 0@v section "DIFF" key "WITCH_WAIT_SPAWN_MIN"
0AF0: $WITCH_WAIT_SPAWN_MAX = get_int_from_ini_file 0@v section "DIFF" key "WITCH_WAIT_SPAWN_MAX"
0AF0: $CHARGER_WAIT_SPAWN_MIN = get_int_from_ini_file 0@v section "DIFF" key "CHARGER_WAIT_SPAWN_MIN"
0AF0: $CHARGER_WAIT_SPAWN_MAX = get_int_from_ini_file 0@v section "DIFF" key "CHARGER_WAIT_SPAWN_MAX"
0AF0: $CLOWN_TIMER_MIN = get_int_from_ini_file 0@v section "DIFF" key "CLOWN_TIMER_MIN"
0AF0: $CLOWN_TIMER_MAX = get_int_from_ini_file 0@v section "DIFF" key "CLOWN_TIMER_MAX"
0AF0: $HAZMAT_TIMER_MIN = get_int_from_ini_file 0@v section "DIFF" key "HAZMAT_TIMER_MIN"
0AF0: $HAZMAT_TIMER_MAX = get_int_from_ini_file 0@v section "DIFF" key "HAZMAT_TIMER_MAX"
random_int $CLOWN_TIMER_SET $CLOWN_TIMER_MIN $CLOWN_TIMER_MAX
random_int $HAZMAT_TIMER_SET $HAZMAT_TIMER_MIN $HAZMAT_TIMER_MAX

0AF0: $HUNTER_DAMAGE = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_DAMAGE"
0AF0: $HUNTER_DAMAGE2 = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_DAMAGE2"
0AF0: $HUNTER_PEOPLE_DAMAGE1 = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_PEOPLE_DAMAGE1"
0AF0: $HUNTER_PEOPLE_DAMAGE2 = get_int_from_ini_file 0@v section "DIFF" key "HUNTER_PEOPLE_DAMAGE2"

0AF0: $MIN_AMMO = get_int_from_ini_file 0@v section "DIFF" key "MIN_AMMO"
0AF0: $MAX_AMMO = get_int_from_ini_file 0@v section "DIFF" key "MAX_AMMO"
0AF0: $MIN_BANKA = get_int_from_ini_file 0@v section "DIFF" key "MIN_BANKA"
0AF0: $MAX_BANKA = get_int_from_ini_file 0@v section "DIFF" key "MAX_BANKA"
0AF0: $MIN_HEAL = get_int_from_ini_file 0@v section "DIFF" key "MIN_HEAL"
0AF0: $MAX_HEAL = get_int_from_ini_file 0@v section "DIFF" key "MAX_HEAL"
0AF0: $MIN_BINT = get_int_from_ini_file 0@v section "DIFF" key "MIN_BINT"
0AF0: $MAX_BINT = get_int_from_ini_file 0@v section "DIFF" key "MAX_BINT"
0AF0: $MIN_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "MIN_HEALTH"
0AF0: $MAX_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "MAX_HEALTH"
0AF2: $MIN_SATIETY = get_float_from_ini_file 0@v section "DIFF" key "MIN_SATIETY"
0AF2: $MAX_SATIETY = get_float_from_ini_file 0@v section "DIFF" key "MAX_SATIETY"
0AF2: $MIN_FATIGUE = get_float_from_ini_file 0@v section "DIFF" key "MIN_FATIGUE"
0AF2: $MAX_FATIGUE = get_float_from_ini_file 0@v section "DIFF" key "MAX_FATIGUE"
0AF2: $GASOLINE_MIN = get_float_from_ini_file 0@v section "DIFF" key "GASOLINE_MIN"
0AF2: $GASOLINE_MAX = get_float_from_ini_file 0@v section "DIFF" key "GASOLINE_MAX"
0AF0: $MIN_CAR_HP = get_int_from_ini_file 0@v section "DIFF" key "MIN_CAR_HP"
0AF0: $MAX_CAR_HP = get_int_from_ini_file 0@v section "DIFF" key "MAX_CAR_HP"
0AF0: $MIN_MONEY = get_int_from_ini_file 0@v section "DIFF" key "MIN_MONEY"
0AF0: $MAX_MONEY = get_int_from_ini_file 0@v section "DIFF" key "MAX_MONEY"

0AF0: $1HRD_ON_TIME_MIN = get_int_from_ini_file 0@v section "DIFF" key "1HRD_ON_TIME_MIN"
0AF0: $1HRD_ON_TIME_MAX = get_int_from_ini_file 0@v section "DIFF" key "1HRD_ON_TIME_MAX"

0AF0: $1HRD_OFF_TIME_MIN = get_int_from_ini_file 0@v section "DIFF" key "1HRD_OFF_TIME_MIN"
0AF0: $1HRD_OFF_TIME_MAX = get_int_from_ini_file 0@v section "DIFF" key "1HRD_OFF_TIME_MAX"

0AF0: $2HRD_ON_TIME_MIN = get_int_from_ini_file 0@v section "DIFF" key "2HRD_ON_TIME_MIN"
0AF0: $2HRD_ON_TIME_MAX = get_int_from_ini_file 0@v section "DIFF" key "2HRD_ON_TIME_MAX"

0AF0: $2HRD_OFF_TIME_MIN = get_int_from_ini_file 0@v section "DIFF" key "2HRD_OFF_TIME_MIN"
0AF0: $2HRD_OFF_TIME_MAX = get_int_from_ini_file 0@v section "DIFF" key "2HRD_OFF_TIME_MAX"

0AF0: $W_FIND_AMMO_MIN = get_int_from_ini_file 0@v section "DIFF" key "W_FIND_AMMO_MIN"
0AF0: $W_FIND_AMMO_MAX = get_int_from_ini_file 0@v section "DIFF" key "W_FIND_AMMO_MAX"
0AF0: $W2_FIND_AMMO_MIN = get_int_from_ini_file 0@v section "DIFF" key "W2_FIND_AMMO_MIN"
0AF0: $W2_FIND_AMMO_MAX = get_int_from_ini_file 0@v section "DIFF" key "W2_FIND_AMMO_MAX"
0AF0: $W3_FIND_AMMO_MIN = get_int_from_ini_file 0@v section "DIFF" key "W3_FIND_AMMO_MIN"
0AF0: $W3_FIND_AMMO_MAX = get_int_from_ini_file 0@v section "DIFF" key "W3_FIND_AMMO_MAX"
0AF0: $W_AMM_FIND_AMMO_MIN = get_int_from_ini_file 0@v section "DIFF" key "W_AMM_FIND_AMMO_MIN"
0AF0: $W_AMM_FIND_AMMO_MAX = get_int_from_ini_file 0@v section "DIFF" key "W_AMM_FIND_AMMO_MAX"

0AF0: $ZOMBIE_HUNTER_JUMP_TIME = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_HUNTER_JUMP_TIME"
0AF0: $ZOMBIE_HUNTER_JUMP_TIME2 = get_int_from_ini_file 0@v section "DIFF" key "ZOMBIE_HUNTER_JUMP_TIME2"

0AF0: $BANDITS_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "BANDITS_HEALTH"
0AF0: $BANDITS_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "BANDITS_ACCURACY"
0AF0: $BANDITS_HELI_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "BANDITS_HELI_ACCURACY"

0AF0: $ARMY_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "ARMY_HEALTH"
0AF0: $ARMY_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "ARMY_ACCURACY"

0AF0: $FERMER_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "FERMER_HEALTH"
0AF0: $FERMER_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "FERMER_ACCURACY"

0AF0: $SWAT_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "SWAT_HEALTH"
0AF0: $SWAT_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "SWAT_ACCURACY"

0AF0: $SURV_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "SURV_ACCURACY"

0AF0: $SURV_ACCURACY2 = get_int_from_ini_file 0@v section "DIFF" key "SURV_ACCURACY2" 

0AF0: $JIMMY_MIN = get_int_from_ini_file 0@v section "DIFF" key "JIMMY_MIN"
0AF0: $JIMMY_MAX = get_int_from_ini_file 0@v section "DIFF" key "JIMMY_MAX" 

0AF2: $KANISTRA_FUEL_MIN = get_float_from_ini_file 0@v section "DIFF" key "KANISTRA_FUEL_MIN"
0AF2: $KANISTRA_FUEL_MAX = get_float_from_ini_file 0@v section "DIFF" key "KANISTRA_FUEL_MAX" 

0AF0: $ZONE69_ARMY_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "ZONE69_ARMY_HEALTH"
0AF0: $ZONE69_ARMY_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "ZONE69_ARMY_ACCURACY" 
0AF0: $BANDITS_ZONE_HEALTH = get_int_from_ini_file 0@v section "DIFF" key "BANDITS_ZONE_HEALTH"
0AF0: $BANDITS_ZONE_ACCURACY = get_int_from_ini_file 0@v section "DIFF" key "BANDITS_ZONE_ACCURACY"

if
0AF0: PLAYER_CANT_SWIM_FLAG = get_int_from_ini_file 0@v section "DIFF" key "PLAYER_CANT_SWIM"
then
0AF0: PLAYER_CANT_SWIM_FLAG = get_int_from_ini_file 0@v section "DIFF" key "PLAYER_CANT_SWIM"
else
PLAYER_CANT_SWIM_FLAG = 0
end

0AF2: PLAYER_SPEED_MULT = get_float_from_ini_file 0@v section "DIFF" key "PLAYER_SPEED_MULT"
if
PLAYER_SPEED_MULT < 0.0
then
PLAYER_SPEED_MULT = 1.0
0AF3: write_float PLAYER_SPEED_MULT to_ini_file 0@v section "DIFF" key "PLAYER_SPEED_MULT"
end

0AF2: PLAYER_EXTRDM_MULT = get_float_from_ini_file 0@v section "DIFF" key "PLAYER_EXTRDM_MULT"
if
PLAYER_EXTRDM_MULT < 0.0
then
PLAYER_EXTRDM_MULT = 0.0
0AF3: write_float PLAYER_EXTRDM_MULT to_ini_file 0@v section "DIFF" key "PLAYER_EXTRDM_MULT"
end

if
UNITED_MAP == 1
then
PLAYER_CANT_SWIM_FLAG = 1
end    

//////////////////////////////////////

0AF0: $BANDITS_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "BANDITS_SPAWN_MIN"
0AF0: $BANDITS_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "BANDITS_SPAWN_MAX"

0AF0: $ARMY_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "ARMY_SPAWN_MIN"
0AF0: $ARMY_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "ARMY_SPAWN_MAX"

0AF0: $FERMER_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "FERMER_SPAWN_MIN"
0AF0: $FERMER_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "FERMER_SPAWN_MAX"

0AF0: $SWAT_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "SWAT_SPAWN_MIN"
0AF0: $SWAT_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "SWAT_SPAWN_MAX"

0AF0: $ARMY_RHINO_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "ARMY_RHINO_SPAWN_MIN"
0AF0: $ARMY_RHINO_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "ARMY_RHINO_SPAWN_MAX"

0AF0: $ARMY_HUNTER_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "ARMY_HUNTER_SPAWN_MIN"
0AF0: $ARMY_HUNTER_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "ARMY_HUNTER_SPAWN_MAX"

0AF0: $BANDIT_HELI_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "BANDIT_HELI_SPAWN_MIN"
0AF0: $BANDIT_HELI_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "BANDIT_HELI_SPAWN_MAX"

0AF0: $SWAT_HELI_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "SWAT_HELI_SPAWN_MIN"
0AF0: $SWAT_HELI_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "SWAT_HELI_SPAWN_MAX"

0AF0: $FERMERS_PLANE_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "FERMERS_PLANE_SPAWN_MIN"
0AF0: $FERMERS_PLANE_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "FERMERS_PLANE_SPAWN_MAX"

0AF0: $SURVIVERS_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "SURVIVERS_SPAWN_MIN"
0AF0: $SURVIVERS_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "SURVIVERS_SPAWN_MAX"

0AF0: $RNDM_PEOPLE_CAR_SPAWN_MIN = get_int_from_ini_file 0@v section "TIME" key "RNDM_PEOPLE_CAR_SPAWN_MIN"
0AF0: $RNDM_PEOPLE_CAR_SPAWN_MAX = get_int_from_ini_file 0@v section "TIME" key "RNDM_PEOPLE_CAR_SPAWN_MAX"  

return   

////////////////////////Вычисление модели////////////////////////

:RANDOM_PEOPLE1_CHECKING_MODEL_ZAME
wait 0

if and
18@ == 0
TEAM1_SKIN > 0
then
008B: 0@ = TEAM1_SKIN // (int)
return
end

if and
18@ == 1
TEAM2_SKIN > 0
then
008B: 0@ = TEAM2_SKIN // (int)
return
end

if and
18@ == 2
TEAM3_SKIN > 0
then
008B: 0@ = TEAM3_SKIN // (int)
return
end

if
SWEET_SPAWN_FLAG == 1
then
0@ = #SPECIAL03

repeat
wait 0
023C: load_special_actor 'SWEET' as 3 // models 290-299
until 023D:   special_actor 3 loaded

return

end

if
CARL_SPAWN_FLAG == 1
then
0@ = 0
return
end

if
MIKE_SPAWN_FLAG == 1
then

if
$MIKE_STORY == 1
then
0@ = 170
else
0@ = 60
end

return
end

if
$SAME_PLAYER_CHEAT_SPAWN == 1
then
0665: get_actor PLAYER_ACTOR model_to 1@
$SAME_PLAYER_CHEAT_SPAWN = 0
0085: 0@ = 1@ // (int)
return
end   

//////////////////////////////////////////////////
    
random_int 0@ = MIN_SKIN_GEN MAX_SKIN_GEN
if and
0@ == SKIN_GEN_SET
not CUSTOM_MAP_FLAG == 1
UNITED_MAP == 0
$GAMEMODE_WAR == 0
$GAMEMODE_CRAZY == 0
$SAME_PLAYER_CHEAT_SPAWN == 0
    then
    
    while true
    wait 0
    
    if
    0E4D: random_percent NEWSKINS2_GEN_PERCENT
    then
    random_int 0@ $MIN_SKIN2 $MAX_SKIN2
    else
    random_int 0@ $MIN_SKIN $MAX_SKIN
    end
    
    if
    not model.Available(0@)
    then
    model.Load(0@)
    end
    
    if or
    003C:   $RANDOM_MODE_MODEL == 0@  // (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[0] // @ == $ (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[1] // @ == $ (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[2] // @ == $ (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[3] // @ == $ (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[4] // @ == $ (int)
    07D6:   0@ == $RANDOM_PEOPLE_SKIN[5] // @ == $ (int)
        then
        else   
        break
        end
    
    end
    
    008A: $RANDOM_PEOPLE_SKIN[18@] = 0@ // (int)
    return
    end
    
//////////////////////////////////////////////////    

if
UNITED_MAP == 0
then

if
$GAMEMODE_WAR == 0
then
0209: 0@ = random_int_in_ranges RANDOM_PED_MIN_ID RANDOM_PED_MAX_ID
else

if
$PLAYER_ARMY_SIDE == 1
then

//////////////////////////////////////////////

if and
8583: not  player PLAYER_CHAR in_zone 'VE'
8583: not  player PLAYER_CHAR in_zone 'BONE'
8583: not  player PLAYER_CHAR in_zone 'ROBAD'
8583: not  player PLAYER_CHAR in_zone 'ROBAD1'
then
1@ = 0
else
1@ = 1
end

if
1@ == 0
then

0842: 2@ = player PLAYER_CHAR town_number

if
not 2@ == 0
then
0209: 0@ = random_int_in_ranges 14976 14980
else
0209: 0@ = random_int_in_ranges 14980 14984
end

else
0209: 0@ = random_int_in_ranges 15000 15004
end

/////////////////////////////////////////////

end

if
$PLAYER_BANDIT_SIDE == 1
then
0209: 0@ = random_int_in_ranges 14990 14998
end

if
$PLAYER_FERMERS_SIDE == 1
then
0209: 0@ = random_int_in_ranges 14985 14989
end

if
$PLAYER_SWAT_SIDE == 1
then
0209: 0@ = random_int_in_ranges PUNISHER_SKIN_ID_SA PUNISHER_SKIN_ID_SA
end

end

else

if
$UNITED_VC_FLAG == 1
then

if
$GAMEMODE_WAR == 0
then

if
STORIES_MAP == 0
then
0209: 0@ = random_int_in_ranges MINID_VC_SKIN MAXID_VC_SKIN
else
0209: 0@ = random_int_in_ranges MINID_VCS_SKIN MAXID_VCS_SKIN
end

else

if
$PLAYER_ARMY_SIDE == 1
then
0084: $VC_ARMY_SKIN22 = $VC_ARMY_SKIN2 // (int)
$VC_ARMY_SKIN22 += 1
0209: 0@ = random_int_in_ranges $VC_ARMY_SKIN $VC_ARMY_SKIN22
end

if
$PLAYER_BANDIT_SIDE == 1
then
0084: $VC_BANDITS_SKIN22 = $VC_BANDITS_SKIN2 // (int)
$VC_BANDITS_SKIN22 += 1
0209: 0@ = random_int_in_ranges $VC_BANDITS_SKIN1 $VC_BANDITS_SKIN22
end

if
$PLAYER_SWAT_SIDE == 1
then
0209: 0@ = random_int_in_ranges $VC_SWAT_SKIN $VC_SWAT_SKIN
end

end

else

if
$GAMEMODE_WAR == 0
then

if
STORIES_MAP == 0
then
0209: 0@ = random_int_in_ranges MINID_III_SKIN MAXID_III_SKIN
else
0209: 0@ = random_int_in_ranges MINID_LCS_SKIN MAXID_LCS_SKIN
end

else

if
$PLAYER_ARMY_SIDE == 1
then
0209: 0@ = random_int_in_ranges $III_ARMY_SKIN $III_ARMY_SKIN
end

if
$PLAYER_BANDIT_SIDE == 1
then
0084: $III_BANDITS_SKIN22 = $III_BANDITS_SKIN2 // (int)
$III_BANDITS_SKIN22 += 1
0209: 0@ = random_int_in_ranges $III_BANDITS_SKIN1 $III_BANDITS_SKIN22
end

if
$PLAYER_SWAT_SIDE == 1
then
0209: 0@ = random_int_in_ranges $III_SWAT_SKIN $III_SWAT_SKIN
end

end

end

end

if
$GAMEMODE_WAR == 1
then
jump to @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME2 
end

////////////////////////////////////////////////////////

2@ = 0

if
UNITED_MAP == 0
then

for 1@ = 0 to $CAMPS_COUNT2
        
if or
07D6:   0@ == $CAMP_MODEL1[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL2[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL3[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL4[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL5[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL6[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL7[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL8[1@] // @ == $ (int)
then
2@ = 1
end

if or
07D6:   0@ == $TRADER_MODEL[0] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[1] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[2] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[3] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[4] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[5] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[6] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[7] // @ == $ (int)
then
2@ = 1
end

if or
07D6:   0@ == $TRADER_MODEL[8] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[9] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[10] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[11] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[12] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[13] // @ == $ (int)
07D6:   0@ == $TRADER_MODEL[14] // @ == $ (int)
then
2@ = 1
end
            
if or
07D6:   0@ == $CAMP_MODEL9[1@] // @ == $ (int)
07D6:   0@ == $CAMP_MODEL10[1@] // @ == $ (int)
003C:   $RANDOM_MODE_MODEL == 0@  // (int)
then
2@ = 1
end   

end

end

////////////////////////////////////////////////////////

if or
07D6:   0@ == $RANDOM_PEOPLE_SKIN[0] // @ == $ (int)
07D6:   0@ == $RANDOM_PEOPLE_SKIN[1] // @ == $ (int)
07D6:   0@ == $RANDOM_PEOPLE_SKIN[2] // @ == $ (int)
07D6:   0@ == $RANDOM_PEOPLE_SKIN[3] // @ == $ (int)
07D6:   0@ == $RANDOM_PEOPLE_SKIN[4] // @ == $ (int)
07D6:   0@ == $RANDOM_PEOPLE_SKIN[5] // @ == $ (int)
003C:   $RANDOM_MODE_MODEL == 0@  // (int)
2@ == 1
jf @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME2
jump @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME

:RANDOM_PEOPLE1_CHECKING_MODEL_ZAME2
 
if
07DE:   model 0@ exists  // versionB
jf @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME

if
$GAMEMODE_WAR == 0
then
0AD3: 2@v = format "%d" 0@
if
8AF0: not 1@ = get_int_from_ini_file "data/skins.ini" section "LOCKED" key 2@v
jf @RANDOM_PEOPLE1_CHECKING_MODEL_ZAME
end  

0085: 23@ = 16@ // (int) 
return

////////////////////////Вычисление оружия////////////////////////

:RANDOM_PEOPLE1_WEAPON_CREATE_ZAME
wait 0     

if
UNITED_MAP == 0
then
random_int 11@ MIN_WEAP_GEN to MAX_WEAP_GEN
end

if
8E4D: not random_percent WEAP_GEN_SET
then
0209: 16@ = random_int_in_ranges 22 35 
else
0209: 16@ = random_int_in_ranges MIN_WEAPON_NUM MAX_WEAPON_NUM
if and
EXTRAWEP_FLAG_AND_MAXNUM >= 225
0E4D: random_percent EXTRAWEP_GENERATE_CHANCE
    then    
    0209: 16@ = random_int_in_ranges 225 EXTRAWEP_FLAG_AND_MAXNUM
    end
end

if
UNITED_MAP == 1
then

if 
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
0209: 16@ = random_int_in_ranges MINID_VC_WEAP MAXID_VC_WEAP

if
16@ == 142
    then
    if
    0E4D: random_percent 50
        then
        16@ = 28
        end
    end

else
0209: 16@ = random_int_in_ranges MINID_VCS_WEAP MAXID_VCS_WEAP

if
16@ == 198
    then    
    if
    0E4D: random_percent 50
        then
        16@ = 28
        end    
    end

end

else

if
STORIES_MAP == 0
then
0209: 16@ = random_int_in_ranges MINID_III_WEAP MAXID_III_WEAP
else
0209: 16@ = random_int_in_ranges MINID_LCS_WEAP MAXID_LCS_WEAP

if
16@ == 168
    then    
    if
    0E4D: random_percent 50
        then
        16@ = 28
        end    
    end

end

end

end

////////////////////////////////////////////////////////////////////////////////

if
$GAMEMODE_WAR == 1
then

if
UNITED_MAP == 0
then

if
$PLAYER_ARMY_SIDE == 1
then
random_int 0@ 0 to 2
    
if
0@ == 0
then
16@ = 77
else
16@ = 75
end
    
end

if
$PLAYER_BANDIT_SIDE == 1
then
    
random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 22
end
    
if 
0@ == 1
then
16@ = 25
end
    
if 
0@ == 2
then
16@ = 28
end
    
if 
0@ == 3
then
16@ = 30
end
    
end

if
$PLAYER_FERMERS_SIDE == 1
then

random_int 0@ 0 to 4

if
0@ == 0
then
16@ = 22
end

if
0@ == 1
then
16@ = 73
end

if
0@ == 2
then
16@ = 87
end

if
0@ == 3
then
16@ = 30
end
    
end

if
$PLAYER_SWAT_SIDE == 1
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 76
end

if 
0@ == 1
then
16@ = 27
end

if 
0@ == 2
then
16@ = 79
end

if 
0@ == 3
then
16@ = 72
end
    
end

else

if
$UNITED_III_SPAWN == 0
then

if
$PLAYER_ARMY_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 144
end

if 
0@ == 1
then
16@ = 140
end

if 
0@ == 2
then
16@ = 144
end

if 
0@ == 3
then
16@ = 140
end

else

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 200
end

if 
0@ == 1
then
16@ = 204
end

if 
0@ == 2
then
16@ = 200
end

if 
0@ == 3
then
16@ = 204
end

end

////////////////////////////////////////////////////////

end

if
$PLAYER_BANDIT_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 136
end

if 
0@ == 1
then
16@ = 138
end

if 
0@ == 2
then
16@ = 142
end

if 
0@ == 3
then
16@ = 145
end

else

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 195
end

if 
0@ == 1
then
16@ = 202
end

if 
0@ == 2
then
16@ = 198
end

if 
0@ == 3
then
16@ = 201
end

end

////////////////////////////////////////////////////////

end

if
$PLAYER_SWAT_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 3

if 
0@ == 0
then
16@ = 143
end

if 
0@ == 1
then
16@ = 144
end

if 
0@ == 2
then
16@ = 139
end

else

random_int 0@ 0 to 3

if 
0@ == 0
then
16@ = 199
end

if 
0@ == 1
then
16@ = 200
end

if 
0@ == 2
then
16@ = 203
end

end

////////////////////////////////////////////////////////

end

else

if
$PLAYER_ARMY_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 116
end

if 
0@ == 1
then
16@ = 113
end

if 
0@ == 2
then
16@ = 116
end

if 
0@ == 3
then
16@ = 113
end

else

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 170
end

if 
0@ == 1
then
16@ = 174
end

if 
0@ == 2
then
16@ = 170
end

if 
0@ == 3
then
16@ = 174
end

end

////////////////////////////////////////////////////////

end

if
$PLAYER_BANDIT_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 111
end

if 
0@ == 1
then
16@ = 112
end

if 
0@ == 2
then
16@ = 113
end

if 
0@ == 3
then
16@ = 117
end

else

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 165
end

if 
0@ == 1
then
16@ = 171
end

if 
0@ == 2
then
16@ = 172
end

if 
0@ == 3
then
16@ = 168
end

end

////////////////////////////////////////////////////////     

end

if
$PLAYER_SWAT_SIDE == 1
then

////////////////////////////////////////////////////////

if
STORIES_MAP == 0
then

random_int 0@ 0 to 4

if 
0@ == 0
then
16@ = 116
end

if 
0@ == 1
then
16@ = 113
end

if 
0@ == 2
then
16@ = 116
end

if 
0@ == 3
then
16@ = 113
end

else

random_int 0@ 0 to 3

if 
0@ == 0
then
16@ = 170
end

if 
0@ == 1
then
16@ = 173
end

if 
0@ == 2
then
16@ = 169
end

end

////////////////////////////////////////////////////////

end

end

end

end

////////////////////////////////////////////////////

if or
16@ == 22
16@ == 24
16@ == 25
16@ == 26
16@ == 27
16@ == 28
16@ == 29
16@ == 30 
    then
    else
    if or
    16@ == 31
    16@ == 33
    16@ == 34
    16@ == 71
    16@ == 72
    16@ == 73
    16@ == 74
    16@ == 75 
        then
        else
        if or
        16@ == 76
        16@ == 77
        16@ == 78
        16@ == 136
        16@ == 137
        16@ == 138
        16@ == 139
        16@ == 140
            then     
            else
            if or
            16@ == 141
            16@ == 142
            16@ == 143
            16@ == 144
            16@ == 145
            16@ == 146
            16@ == 147
                then
                else
                if or
                16@ == 111
                16@ == 112
                16@ == 113
                16@ == 116
                16@ == 117
                16@ == 120  
                16@ == 79
                16@ == 80
                    then
                    else
                    if or
                    16@ == 81
                    16@ == 82
                    16@ == 83
                    16@ == 84
                    16@ == 85
                    16@ == 86  
                    16@ == 87
                    16@ == 88
                        then
                        else
                        if or
                        16@ == 89
                        16@ == 90
                        16@ == 91
                        16@ == 23
                            then
                            else
                            if or
                            16@ == 165
                            16@ == 166
                            16@ == 167
                            16@ == 168
                            16@ == 169
                            16@ == 170
                            16@ == 171
                            16@ == 172
                                then
                                else
                                if or
                                16@ == 173
                                16@ == 174
                                16@ == 175
                                16@ == 176
                                16@ == 195
                                16@ == 196
                                16@ == 197
                                16@ == 198
                                    then
                                    else
                                    if or
                                    16@ == 199
                                    16@ == 200
                                    16@ == 201
                                    16@ == 202
                                    16@ == 203
                                    16@ == 204
                                    16@ == 205
                                    16@ == 206
                                        then       
                                        else
                                        if or
                                        16@ == 95
                                        16@ == 96
                                        16@ == 97
                                        16@ == 98
                                        16@ == 99
                                        16@ == 100
                                        16@ == 101
                                        16@ == 102
                                            then
                                            else       
                                            if or
                                            16@ == 103
                                            16@ == 104
                                            16@ == 105
                                            16@ >= 225
                                                then       
                                                else
                                                jump to @RANDOM_PEOPLE1_WEAPON_CREATE_ZAME
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end
    end
    
////////////////////////////////////////////////////    

if
18@ == 0
then
if
$TEAM1_WEP > 0
    then
    008B: 16@ = $TEAM1_WEP // (int)
    end
end

if
18@ == 1
then
if
$TEAM1_WEP > 0
    then
    008B: 16@ = $TEAM2_WEP // (int)
    end
end

if
18@ == 2
then
if
$TEAM1_WEP > 0
    then
    008B: 16@ = $TEAM3_WEP // (int)
    end
end

0781: get_weapon_with_ID 16@ model_to 0@ 
if 
07DE:   model 0@ exists // versionB 
jf @RANDOM_PEOPLE1_WEAPON_CREATE_ZAME 

if
18@ == 0
then
0AF1: write_int 16@ to_ini_file "saves/ZACM.set" section "SCR" key "SURVIVOR1_WEAPON_ID"
end

if
18@ == 1
then
0AF1: write_int 16@ to_ini_file "saves/ZACM.set" section "SCR" key "SURVIVOR2_WEAPON_ID"
end

if
18@ == 2
then
0AF1: write_int 16@ to_ini_file "saves/ZACM.set" section "SCR" key "SURVIVOR3_WEAPON_ID"
end

if
18@ == 3
then
0AF1: write_int 16@ to_ini_file "saves/ZACM.set" section "SCR" key "SURVIVOR4_WEAPON_ID"
end

if
18@ == 4
then
0AF1: write_int 16@ to_ini_file "saves/ZACM.set" section "SCR" key "SURVIVOR5_WEAPON_ID"
end

gosub @SURV_GIVE_RANDOM_MELEE_WEP_ZAME

if or
CUSTOM_MODE_ONLY_MELEE == 1
$MUTATION_ACTIVE == 2
then
008B: 22@ = $SURVIVOR_MELEE_ID[18@] // (int)
return
end

0085: 22@ = 16@ // (int)

return

:SURV_GIVE_RANDOM_MELEE_WEP_ZAME
wait 0

if
UNITED_MAP == 0
then
random_int $SURVIVOR_MELEE_ID[18@] 2 to 16
end

if
UNITED_MAP == 1
then

if 
$UNITED_VC_FLAG == 1
then

if
STORIES_MAP == 0
then
0209: $SURVIVOR_MELEE_ID[18@] = random_int_in_ranges 122 132
else
0209: $SURVIVOR_MELEE_ID[18@] = random_int_in_ranges 185 195
end

else

if
STORIES_MAP == 0
then
$SURVIVOR_MELEE_ID[18@] = 110
else
0209: $SURVIVOR_MELEE_ID[18@] = random_int_in_ranges 155 165
end

end

end    

////////////////////////////////////////////////////

if
0491:   actor PLAYER_ACTOR has_weapon 108
then
$SURVIVOR_MELEE_ID[18@] = 108
end    
  
0781: get_weapon_with_ID $SURVIVOR_MELEE_ID[18@] model_to 1@ 
if and
07DE:   model 1@ exists // versionB
not $SURVIVOR_MELEE_ID[18@] == 14 
jf @SURV_GIVE_RANDOM_MELEE_WEP_ZAME

return

:ZAME_LOAD_CHECKPOINT_INFO

048F: actor PLAYER_ACTOR remove_weapons
0AF0: 3@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT2_ID"
0AF0: 4@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT2_AMMO"
if
3@ > 0
then       

0781: get_weapon_with_ID 3@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,3@,4@)
if
4@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 3@ ammo_to 0
    end
    
end

0AF0: 5@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT3_ID"
0AF0: 6@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT3_AMMO"
if
5@ > 0
then                

0781: get_weapon_with_ID 5@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,5@,6@)
if
6@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 5@ ammo_to 0
    end
 
end

0AF0: 7@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT4_ID"
0AF0: 8@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT4_AMMO"
if
7@ > 0
then       

0781: get_weapon_with_ID 7@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,7@,8@)  
if
8@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 7@ ammo_to 0
    end

end

0AF0: 9@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT5_ID"
0AF0: 10@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT5_AMMO"
if
9@ > 0
then     

0781: get_weapon_with_ID 9@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,9@,10@)
if
10@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 9@ ammo_to 0
    end

end

0AF0: 11@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT6_ID"
0AF0: 12@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT6_AMMO"
if
11@ > 0
then       

0781: get_weapon_with_ID 11@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,11@,12@)  
if
12@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 11@ ammo_to 0
    end

end

0AF0: 13@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT7_ID"
0AF0: 14@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT7_AMMO"
if
13@ > 0
then      

0781: get_weapon_with_ID 13@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,13@,14@)
if
14@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 13@ ammo_to 0
    end

end

0AF0: 15@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT8_ID"
0AF0: 16@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT8_AMMO"
if
15@ > 0
then       

0781: get_weapon_with_ID 15@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,15@,16@)  
if
16@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 15@ ammo_to 0
    end

end

0AF0: 17@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT9_ID"
0AF0: 18@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT9_AMMO"
if
17@ > 0
then       

0781: get_weapon_with_ID 17@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,17@,18@)  
if
18@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 17@ ammo_to 0
    end

end

0AF0: 19@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT10_ID"
0AF0: 20@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT10_AMMO"
if
19@ > 0
then      

0781: get_weapon_with_ID 19@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,19@,20@) 
if
20@ < 1
    then
    017B: set_actor PLAYER_ACTOR weapon 19@ ammo_to 0
    end

end

0AF0: 21@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT11_ID"
0AF0: 22@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT11_AMMO"
if
21@ > 0
then     

0781: get_weapon_with_ID 21@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,21@,22@)

end

0AF0: 21@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_ID"
0AF0: 22@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_AMMO"
if
21@ > 0
then     

0781: get_weapon_with_ID 21@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,21@,22@)

end

0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "ARMOUR"
if
0@ > 0
    then
    035F: actor PLAYER_ACTOR armour += 0@
    end
    
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "NIGHTVISION_ENABLED"
if
0@ == 1
then
01B9: set_actor PLAYER_ACTOR armed_weapon_to 44
0A8C: write_memory 0x06861B7 size 1 value 133 virtual_protect 0

32@ = 0

repeat
wait 0

if
32@ > 5000
then
break
end

until 099D:   night_vision_enabled

0A8C: write_memory 0x06861B7 size 1 value 132 virtual_protect 0

end

0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "INFRAVISION_ENABLED"
if
0@ == 1
then
01B9: set_actor PLAYER_ACTOR armed_weapon_to 45
0A8C: write_memory 0x06861B7 size 1 value 133 virtual_protect 0

32@ = 0

repeat
wait 0

if
32@ > 5000
then
break
end

0A8D: 0@ = read_memory 0x0C402B9 size 1 virtual_protect 0
until 0@ == 1

0A8C: write_memory 0x06861B7 size 1 value 132 virtual_protect 0

end    
    
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "SELECTED_WEAPON"    
01B9: set_actor PLAYER_ACTOR armed_weapon_to 0@

///////////////////////////////////////2P WEAPONS///////////////////////////////////////

if and
0800:   in_two_players_mode
056D:   actor COOP_ACTOR defined
then

048F: actor COOP_ACTOR remove_weapons
0AF0: 3@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT2_ID"
0AF0: 4@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT2_AMMO"
if
3@ > 0
then       

0781: get_weapon_with_ID 3@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,3@,4@)
if
4@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 3@ ammo_to 0
    end
    
end

0AF0: 5@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT3_ID"
0AF0: 6@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT3_AMMO"
if
5@ > 0
then                

0781: get_weapon_with_ID 5@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,5@,6@)
if
6@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 5@ ammo_to 0
    end
 
end

0AF0: 7@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT4_ID"
0AF0: 8@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT4_AMMO"
if
7@ > 0
then       

0781: get_weapon_with_ID 7@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,7@,8@)  
if
8@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 7@ ammo_to 0
    end

end

0AF0: 9@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT5_ID"
0AF0: 10@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT5_AMMO"
if
9@ > 0
then     

0781: get_weapon_with_ID 9@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,9@,10@)
if
10@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 9@ ammo_to 0
    end

end

0AF0: 11@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT6_ID"
0AF0: 12@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT6_AMMO"
if
11@ > 0
then       

0781: get_weapon_with_ID 11@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,11@,12@)  
if
12@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 11@ ammo_to 0
    end

end

0AF0: 13@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT7_ID"
0AF0: 14@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT7_AMMO"
if
13@ > 0
then      

0781: get_weapon_with_ID 13@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,13@,14@)
if
14@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 13@ ammo_to 0
    end

end

0AF0: 15@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT8_ID"
0AF0: 16@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT8_AMMO"
if
15@ > 0
then       

0781: get_weapon_with_ID 15@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,15@,16@)  
if
16@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 15@ ammo_to 0
    end

end

0AF0: 17@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT9_ID"
0AF0: 18@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT9_AMMO"
if
17@ > 0
then       

0781: get_weapon_with_ID 17@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,17@,18@)  
if
18@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 17@ ammo_to 0
    end

end

0AF0: 19@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT10_ID"
0AF0: 20@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT10_AMMO"
if
19@ > 0
then      

0781: get_weapon_with_ID 19@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,19@,20@) 
if
20@ < 1
    then
    017B: set_actor COOP_ACTOR weapon 19@ ammo_to 0
    end

end

0AF0: 21@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT11_ID"
0AF0: 22@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT11_AMMO"
if
21@ > 0
then     

0781: get_weapon_with_ID 21@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,21@,22@)

end

0AF0: 21@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_ID"
0AF0: 22@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_AMMO"
if
21@ > 0
then     

0781: get_weapon_with_ID 21@ model_to 0@
while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(COOP_ACTOR,21@,22@)

end

0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "ARMOUR"
if
0@ > 0
    then
    035F: actor COOP_ACTOR armour += 0@
    end
    
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "SELECTED_WEAPON"    
01B9: set_actor COOP_ACTOR armed_weapon_to 0@    

end

///////////////////////////////////////2P WEAPONS END///////////////////////////////////////    

if and
056D:   actor $SURVIVER[0] defined
$SURVIVOR_IN_PLAYER_TEAM[0] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_ID"
if
0@ > 0
    then
    $SURVIVOR_BANKA_COUNT[0] = -999
    0AF0: 2@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_AMMO"
    0AF1: write_int 0@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_AMMO"
    end
end

if and
056D:   actor $SURVIVER[1] defined
$SURVIVOR_IN_PLAYER_TEAM[1] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_ID"
if
0@ > 0
    then
    $SURVIVOR_BANKA_COUNT[1] = -999
    0AF0: 2@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_AMMO"
    0AF1: write_int 0@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_AMMO"
    end
end

if and
056D:   actor $SURVIVER[2] defined
$SURVIVOR_IN_PLAYER_TEAM[2] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_ID"
if
0@ > 0
    then
    $SURVIVOR_BANKA_COUNT[2] = -999
    0AF0: 2@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_AMMO"
    0AF1: write_int 0@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_AMMO"
    end
end

if and
056D:   actor $SURVIVER[3] defined
$SURVIVOR_IN_PLAYER_TEAM[3] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_ID"
if
0@ > 0
    then
    $SURVIVOR_BANKA_COUNT[3] = -999
    0AF0: 2@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_AMMO"
    0AF1: write_int 0@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_AMMO"
    end
end

if and
056D:   actor $SURVIVER[4] defined
$SURVIVOR_IN_PLAYER_TEAM[4] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_ID"
if
0@ > 0
    then
    $SURVIVOR_BANKA_COUNT[4] = -999
    0AF0: 2@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_AMMO"
    0AF1: write_int 0@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_AMMO"
    end
end

return

:ZAME_LOAD_CHECKPOINT_INFO_END

0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "FAIL_TIMER"
if
0@ > 0
then
0AF0: $TIME = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "FAIL_TIMER"
end

0AF2: 0@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "X"
0AF2: 1@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "Y"
0AF2: 2@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "Z"
0AF2: 3@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "A"
actor.PutAtNoOffset(PLAYER_ACTOR,0@,1@,2@)
actor.Angle(PLAYER_ACTOR) = 3@
camera.Restore_WithJumpCut()
create_thread @3D_REFR
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "HOUR"
0AF0: 1@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "MINUTE"
00C0: set_current_time 0@ 1@

if and
0800:   in_two_players_mode
056D:   actor COOP_ACTOR defined
then
0AF2: 0@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "X"
0AF2: 1@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "Y"
0AF2: 2@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "Z"
0AF2: 3@ = get_float_from_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "A"
actor.PutAtNoOffset(COOP_ACTOR,0@,1@,2@) 
actor.Angle(COOP_ACTOR) = 3@
end

if and
056D:   actor $SURVIVER[0] defined
$SURVIVOR_IN_PLAYER_TEAM[0] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV1_HP"
if
0@ > 1000
    then
    actor.Health($SURVIVER[0]) = 0@
    end
end

if and
056D:   actor $SURVIVER[1] defined
$SURVIVOR_IN_PLAYER_TEAM[1] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV2_HP"
if
0@ > 1000
    then
    actor.Health($SURVIVER[1]) = 0@
    end
end

if and
056D:   actor $SURVIVER[2] defined
$SURVIVOR_IN_PLAYER_TEAM[2] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV3_HP"
if
0@ > 1000
    then
    actor.Health($SURVIVER[2]) = 0@
    end
end

if and
056D:   actor $SURVIVER[3] defined
$SURVIVOR_IN_PLAYER_TEAM[3] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV4_HP"
if
0@ > 1000
    then
    actor.Health($SURVIVER[3]) = 0@
    end
end

if and
056D:   actor $SURVIVER[4] defined
$SURVIVOR_IN_PLAYER_TEAM[4] == 1
then
0AF0: 0@ = get_int_from_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV5_HP"
if
0@ > 1000
    then
    actor.Health($SURVIVER[4]) = 0@
    end
end

return

:ZAME_CHKP_WRITE_CURRENT_INFO

if
COMMUNITY_MISSION_FLAG == 1
then
0AD3: ZAME_KONTROLT4K_STRING = format "me\cpB%d.set" COMMUNITY_MISSION_NUM
else
0AD3: ZAME_KONTROLT4K_STRING = format "me\cp%d.set" ZAME_MISSION_LOAD_NUMBER
end

0AF4: v$SNAME2 = read_string_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "MISSION_NAME"
0AF5: write_string v$SNAME2 to_ini_file ZAME_KONTROLT4K_STRING section "CHECKPOINT_PARAMETERS" key "MISSION_NAME"

if
$TIME > 0
then
0AF1: write_int $TIME to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "FAIL_TIMER"
else
0AF1: write_int -1 to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "FAIL_TIMER"
end

if
099D:   night_vision_enabled
then
0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "NIGHTVISION_ENABLED"
else
0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "NIGHTVISION_ENABLED"
end

0A8D: 0@ = read_memory 0x0C402B9 size 1 virtual_protect 0
if
0@ == 1
then
0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "INFRAVISION_ENABLED"
else
0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "INFRAVISION_ENABLED"
end

00BF: 0@ = current_time_hours, 1@ = current_time_minutes
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "HOUR"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "MISSION" key "MINUTE"

actor.StorePos(PLAYER_ACTOR,0@,1@,2@)
3@ = actor.Angle(PLAYER_ACTOR)
0AF3: write_float 0@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "X"
0AF3: write_float 1@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "Y"
0AF3: write_float 2@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "Z"
0AF3: write_float 3@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "A"
04DD: 0@ = actor PLAYER_ACTOR armour
if
0@ > 0
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "ARMOUR"
    else
    0AF1: write_int -1 to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "ARMOUR"
    end
    
0470: 0@ = actor PLAYER_ACTOR current_weapon  
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER" key "SELECTED_WEAPON"

if and
0800:   in_two_players_mode
056D:   actor COOP_ACTOR defined
    then    
    actor.StorePos(COOP_ACTOR,0@,1@,2@)
    3@ = actor.Angle(COOP_ACTOR)
    0AF3: write_float 0@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "X"
    0AF3: write_float 1@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "Y"
    0AF3: write_float 2@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "Z"
    0AF3: write_float 3@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "A"
    04DD: 0@ = actor COOP_ACTOR armour
    if
    0@ > 0
        then
        0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "ARMOUR"
        else
        0AF1: write_int -1 to_ini_file ZAME_KONTROLT4K_STRING section "PLAYER2" key "ARMOUR"
        end    
    end  

if and
056D:   actor $SURVIVER[0] defined
$SURVIVOR_IN_PLAYER_TEAM[0] == 1
then
0665: get_actor $SURVIVER[0] model_to 0@
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE1_MODEL"
0@ = actor.Health($SURVIVER[0]) 
if
0@ > 1000
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV1_HP"
    else
    0AF1: write_int 1000 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV1_HP"
    end
end

if and
056D:   actor $SURVIVER[1] defined
$SURVIVOR_IN_PLAYER_TEAM[1] == 1
then
0665: get_actor $SURVIVER[1] model_to 0@
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE2_MODEL"
0@ = actor.Health($SURVIVER[1])
if
0@ > 1000
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV2_HP"
    else
    0AF1: write_int 1000 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV2_HP"
    end
end

if and
056D:   actor $SURVIVER[2] defined
$SURVIVOR_IN_PLAYER_TEAM[2] == 1
then
0665: get_actor $SURVIVER[2] model_to 0@
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "TEAMMATE3_MODEL"
0@ = actor.Health($SURVIVER[2])
if
0@ > 1000
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV3_HP"
    else
    0AF1: write_int 1000 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV3_HP"
    end
end

if and
056D:   actor $SURVIVER[3] defined
$SURVIVOR_IN_PLAYER_TEAM[3] == 1
then
0@ = actor.Health($SURVIVER[3])
if
0@ > 1000
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV4_HP"
    else
    0AF1: write_int 1000 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV4_HP"
    end
end

if and
056D:   actor $SURVIVER[4] defined
$SURVIVOR_IN_PLAYER_TEAM[4] == 1
then
0@ = actor.Health($SURVIVER[4])
if
0@ > 1000
    then
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV5_HP"
    else
    0AF1: write_int 1000 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURV5_HP"
    end
end

if and
056D:   actor $SURVIVER[0] defined
$SURVIVOR_IN_PLAYER_TEAM[0] == 1
then
0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN"
if 
0@ == 1
    then    
    0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_ID"
    041A: 2@ = actor $SURVIVER[0] weapon 0@ ammo    
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_AMMO"  
    else
    0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR1_WEP_GIVEN_ID"
    end  
end
        
if and
056D:   actor $SURVIVER[1] defined
$SURVIVOR_IN_PLAYER_TEAM[1] == 1
then
0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN"
if 
0@ == 1
    then    
    0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_ID"
    041A: 2@ = actor $SURVIVER[1] weapon 0@ ammo
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_AMMO"
    else
    0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR2_WEP_GIVEN_ID"
    end
end
        
if and
056D:   actor $SURVIVER[2] defined
$SURVIVOR_IN_PLAYER_TEAM[2] == 1
then
0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN"
if 
0@ == 1
    then    
    0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_ID"
    041A: 2@ = actor $SURVIVER[2] weapon 0@ ammo
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_AMMO"
    else
    0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR3_WEP_GIVEN_ID"
    end
end
        
if and
056D:   actor $SURVIVER[3] defined
$SURVIVOR_IN_PLAYER_TEAM[3] == 1
then
0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN"
if 
0@ == 1
    then    
    0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_ID"
    041A: 2@ = actor $SURVIVER[3] weapon 0@ ammo
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_AMMO"
    else
    0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR4_WEP_GIVEN_ID"
    end
end
        
if and
056D:   actor $SURVIVER[4] defined
$SURVIVOR_IN_PLAYER_TEAM[4] == 1
then
0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN"
if 
0@ == 1
    then  
    0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_ID"
    041A: 2@ = actor $SURVIVER[4] weapon 0@ ammo
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_ID"
    0AF1: write_int 2@ to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_AMMO"
    else
    0AF1: write_int 0 to_ini_file ZAME_KONTROLT4K_STRING section "TEAMMATES" key "SURVIVOR5_WEP_GIVEN_ID"
    end
end 

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 2 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2266.9473 2459.5935 10.8203 
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT2_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT2_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 3 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then 
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2287.0044 2440.6406 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT3_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT3_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 4 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2264.989 2440.4954 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT4_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT4_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 5 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2247.5527 2440.502 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT5_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT5_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 6 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2247.4507 2479.1091 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT6_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT6_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 7 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2264.9094 2479.2163 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT7_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT7_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 8 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2286.7424 2479.0937 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT8_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT8_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 9 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2288.418 2459.5205 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT9_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT9_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 10 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2238.5464 2449.3889 11.0372
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT10_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT10_AMMO"
end
end

04B8: get_weapon_data_from_actor PLAYER_ACTOR slot 11 weapon 0@ ammo 1@ model 2@
if
not 2@ == -1
then
0E7F: get_model_type 2@ store_to 3@
if
3@ == 4
then
//032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2244.4404 2431.6255 10.8203
0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT11_ID"
0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT11_AMMO"
end
end

if
0491:   actor PLAYER_ACTOR has_weapon 92
    then
    0AF1: write_int 92 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_ID"
    0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_AMMO"
    end
    
if
0491:   actor PLAYER_ACTOR has_weapon 107
    then
    0AF1: write_int 107 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_ID"
    0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS" key "SLOT12_AMMO"
    end

if and
0800:   in_two_players_mode
056D:   actor COOP_ACTOR defined
    then
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 2 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2266.9473 2459.5935 10.8203 
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT2_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT2_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 3 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then 
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2287.0044 2440.6406 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT3_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT3_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 4 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2264.989 2440.4954 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT4_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT4_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 5 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2247.5527 2440.502 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT5_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT5_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 6 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2247.4507 2479.1091 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT6_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT6_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 7 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2264.9094 2479.2163 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT7_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT7_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 8 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2286.7424 2479.0937 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT8_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT8_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 9 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2288.418 2459.5205 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT9_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT9_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 10 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2238.5464 2449.3889 11.0372
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT10_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT10_AMMO"
    end
    end
    
    04B8: get_weapon_data_from_actor COOP_ACTOR slot 11 weapon 0@ ammo 1@ model 2@
    if
    not 2@ == -1
    then
    0E7F: get_model_type 2@ store_to 3@
    if
    3@ == 4
    then
    //032B: 3@ = create_weapon_pickup 2@ group 15 ammo 1@ at 2244.4404 2431.6255 10.8203
    0AF1: write_int 0@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT11_ID"
    0AF1: write_int 1@ to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT11_AMMO"
    end
    end
    
    if
    0491:   actor COOP_ACTOR has_weapon 92
        then
        0AF1: write_int 92 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_ID"
        0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_AMMO"
        end
        
    if
    0491:   actor COOP_ACTOR has_weapon 107
        then
        0AF1: write_int 107 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_ID"
        0AF1: write_int 1 to_ini_file ZAME_KONTROLT4K_STRING section "WEAPONS2" key "SLOT12_AMMO"
        end
    
    end

return        

:ZAME_CARREC_GET_NUM

/////////////////////////////////////////////////////////////////////////////////////////////////////////

if
ZAME_MISSION_LOAD_NUMBER == 1
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/1/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/1/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/1/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/1/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/1/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/1/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/1/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/1/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/1/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/1/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 2
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/2/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/2/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/2/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/2/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/2/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/2/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/2/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/2/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/2/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/2/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 3
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/3/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/3/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/3/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/3/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/3/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/1/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/3/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/3/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/3/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/3/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 4
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/4/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/4/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/4/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/4/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/4/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/1/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/4/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/4/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/4/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/4/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 5
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/5/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/5/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/5/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/5/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/5/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/1/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/5/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/5/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/5/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/5/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 6
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/6/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/6/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/6/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/6/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/6/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/6/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/6/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/6/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/6/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/6/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 7
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/7/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/7/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/7/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/7/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/7/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/7/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/7/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/7/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/7/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/7/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 8
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/8/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/8/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/8/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/8/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/8/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/8/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/8/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/8/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/8/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/8/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

if
ZAME_MISSION_LOAD_NUMBER == 9
then

0AF0: get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "CARREC_NUM"
if
2@ == 74
then
0B04: copy_file "me/9/74.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec074.rrr" //IF and SET
end

if
2@ == 75
then
0B04: copy_file "me/9/75.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec075.rrr" //IF and SET
end

if
2@ == 76
then
0B04: copy_file "me/9/76.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec076.rrr" //IF and SET
end

if
2@ == 77
then
0B04: copy_file "me/9/77.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec077.rrr" //IF and SET
end

if
2@ == 78
then
0B04: copy_file "me/9/78.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec078.rrr" //IF and SET
end

if
2@ == 79
then
0B04: copy_file "me/9/79.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec079.rrr" //IF and SET
end

if
2@ == 80
then
0B04: copy_file "me/9/80.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec080.rrr" //IF and SET
end

if
2@ == 81
then
0B04: copy_file "me/9/81.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec081.rrr" //IF and SET
end

if
2@ == 82
then
0B04: copy_file "me/9/82.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec082.rrr" //IF and SET
end

if
2@ == 83
then
0B04: copy_file "me/9/83.rrr" to "modloader/MODLOADER GLOBAL FILES/ExtraContent/Zombiegeddon Replay/carrec083.rrr" //IF and SET
end

end

return

:ZAME_CAR_ADVENTURE_CHASE_MODE
player.CanMove(0,false)
fade 0 250
$HUD_REMOVE = 1
wait 250

036A: put_actor PLAYER_ACTOR in_car ZAME_ADVENTURE_CAR_UKAZATEL

for 0@ = 0 to 2
092B: 1@ = group PLAYER_GROUP member 0@
if and
056D:   actor 1@ defined
87D6: not  1@ == $SURVIVER[20@] // @ == $ (int)
    then
    //06C9: remove_actor 1@ from_group
    0430: put_actor 1@ into_car ZAME_ADVENTURE_CAR_UKAZATEL passenger_seat -1
    end
end

gosub @ZAME_DELETE_CARRECS
gosub @ZAME_CARREC_GET_NUM
gosub @ZAME_CHECK_CARREC

wait 2000 

repeat
wait 0
07C0: load_path 2@
until 07C1:   path 2@ available

05EB: assign_car ZAME_CAR_ADVENTURE_CAR to_path 2@ 
                                                    
0AF2: get_float 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_X0"
0AF2: get_float 3@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Y0"
0AF2: get_float 4@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DEST_Z0"
//06D5: MISSION_CHECKPOINT = create_racing_checkpoint_at 2@ 3@ 4@ point_to 0.0 0.0 0.0 type 1 radius 6.0   
//MISSION_MARKER = 0
//018A: MISSION_MARKER = create_checkpoint_at 2@ 3@ 4@
//marker.SetIconSize(MISSION_MARKER,2)

player.CanMove(0,true)
fade 1 250
$HUD_REMOVE = 0
wait 250

008A: $MISSION_CAR1 = ZAME_CAR_ADVENTURE_CAR // (int)
$MISSION19_PATH_SPEED = 1.0
$M19_RADIUS_JAMES_SPEED_UP = 10.0
create_thread @CAR_SP2 0 ZAME_ADVENTURE_CAR_UKAZATEL

repeat
wait 0

//if or
//$CHEATS_ON == 2
//ZAME_TARGETSKIP_MODE > 0
//then
//break
//end

if or
actor.Dead(PLAYER_ACTOR)
car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
GAME_OVER_FLAG == 1
then

if
car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
then
ZAME_FAILED_BY_REASON = 2
end

jump to @KOD_PROVALA_ZAME
end

if
0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
then

gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
if
ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
then
jump to @KOD_PROVALA_ZAME
end

end

if or
00F2:   actor 20@ near_actor PLAYER_ACTOR radius 200.0 200.0 sphere 0
02CB:   actor 20@ bounding_sphere_visible   
then
//ass
else
ZAME_FAILED_BY_REASON = 7
jump to @KOD_PROVALA_ZAME
end

if and
0EEB: locate_car_distance_to_coordinates ZAME_CAR_ADVENTURE_CAR pos 2@ 3@ 4@ radius 5.0
0EEB: locate_car_distance_to_coordinates ZAME_ADVENTURE_CAR_UKAZATEL pos 2@ 3@ 4@ radius 10.0
01C1:   car ZAME_CAR_ADVENTURE_CAR stopped
    then 
        
    0459: end_thread_named 'CAR_SP2'
    $MISSION_CAR1 = -1
    
    ZAME_CAR_ADV_FLAG = 0
    05EC: release_car ZAME_CAR_ADVENTURE_CAR from_path       
        
    player.CanMove(PLAYER_CHAR,false)
    0221: set_player PLAYER_CHAR apply_brakes_to_car 1
    0A8C: write_memory 0x6BE94E size 2 value 33807 virtual_protect 1 //CBike
    0A8C: write_memory 0x6BE950 size 2 value 166 virtual_protect 1 //CBike
    
    /////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "4" time 2000
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    break
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until 01C1:   car ZAME_ADVENTURE_CAR_UKAZATEL stopped
        
//    06D6: disable_racing_checkpoint MISSION_CHECKPOINT
//    marker.Disable(MISSION_MARKER)
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    actor.DestroyInstantly(20@)
    marker.Disable(21@)
//    car.Destroy(ZAME_CAR_ADVENTURE_CAR)    
    wait 250
    
    if
    8AF0: not get_int 2@ from_ini_file "me\temp.dat" section v$RACE_FILE key "DONT_FADE_IN_AT_END"
    then
    fade 1 250
    end
    
    $HUD_REMOVE = 0
    wait 250
    
    player.CanMove(PLAYER_CHAR,true)
    0221: set_player PLAYER_CHAR apply_brakes_to_car 0
    0A8C: write_memory 0x6BE94E size 2 value 42985 virtual_protect 1 //CBike
    0A8C: write_memory 0x6BE950 size 2 value 0 virtual_protect 1 //CBike
    
    068B: set_car ZAME_ADVENTURE_CAR_UKAZATEL all_disembark
    02D4: car ZAME_ADVENTURE_CAR_UKAZATEL turn_off_engine
    
    /////////////////////////////////////////////////////////////
    
    repeat
    wait 0
    
//    0AD1: show_formatted_text_highpriority "5" time 2000
    
    if or
    $CHEATS_ON == 2
    ZAME_TARGETSKIP_MODE > 0
    then
    0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2@ 3@ 4@
    SAVE_PRE_TP_TEAMMATES_FLAG = 1
    end
    
    if or
    actor.Dead(PLAYER_ACTOR)
    car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
    GAME_OVER_FLAG == 1
    then
    
    if
    car.Wrecked(ZAME_ADVENTURE_CAR_UKAZATEL)
    then
    ZAME_FAILED_BY_REASON = 2
    end
    
    jump to @KOD_PROVALA_ZAME
    end
        
    if
    0AB0:   key_pressed ZAME_RETURN_OR_RESTART_KEY
    then
    
    gosub @ZAME_GET_BACK_IN_EDITOR_CONFIRM
    if
    ZAME_GET_BACK_IN_EDITOR_CONFIRM_FLAG >= 1
    then
    jump to @KOD_PROVALA_ZAME
    end
    
    end
    
    until not actor.InCar(PLAYER_ACTOR,ZAME_ADVENTURE_CAR_UKAZATEL)
    
    car.SetImmunities(ZAME_ADVENTURE_CAR_UKAZATEL,1,1,1,1,1)
        
    0085: ZAME_CAR_ADVENTURE_CAR = ZAME_ADVENTURE_CAR_UKAZATEL // (int)
    
    jump to @DRIVE_END_BUT_NOT_EXIT
    
    end

until false

:ZAME_DELETE_CARRECS

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec074.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec074.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec075.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec075.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec076.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec076.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec077.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec077.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec078.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec078.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec079.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec079.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec080.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec080.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec081.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec081.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec082.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec082.rrr"  // IF and SET  

end

if
0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec083.rrr"
then

repeat
wait 0
until 0B00: delete_file "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec083.rrr"  // IF and SET  

end

return

:ZAME_CHECK_CARREC

if
2@ == 74
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec074.rrr"  

end

if
2@ == 75
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec075.rrr"  

end  

if
2@ == 76
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec076.rrr"  

end

if
2@ == 77
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec077.rrr"  

end

if
2@ == 78
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec078.rrr"  

end

if
2@ == 79
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec079.rrr"  

end

if
2@ == 80
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec080.rrr"  

end

if
2@ == 81
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec081.rrr"  

end

if
2@ == 82
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec082.rrr"  

end

if
2@ == 83
then 
  
repeat
wait 0
until 0AAB:   file_exists "modloader/MODLOADER GLOBAL FILES\ExtraContent/Zombiegeddon Replay/carrec083.rrr"  

end

return

:ZAME_CHECK_INSTAJUMP_TARGET_EXIT_CHECK_SLOI2

0AD3: v$RACE_FILE = format "OBJ%dN" ZAME_CURRENT_OBJECTIVE_INDEX
if
0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
    then
    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
    else
    0AD3: v$RACE_FILE = format "OBJ%dO" ZAME_CURRENT_OBJECTIVE_INDEX
    if
    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
        then
        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
        else
        0AD3: v$RACE_FILE = format "OBJ%dP" ZAME_CURRENT_OBJECTIVE_INDEX
        if
        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
            then
            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
            else
            0AD3: v$RACE_FILE = format "OBJ%dQ" ZAME_CURRENT_OBJECTIVE_INDEX
            if
            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                then
                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                else
                0AD3: v$RACE_FILE = format "OBJ%dR" ZAME_CURRENT_OBJECTIVE_INDEX
                if
                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                    then
                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                    else
                    0AD3: v$RACE_FILE = format "OBJ%dS" ZAME_CURRENT_OBJECTIVE_INDEX
                    if
                    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                        then
                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                        else
                        0AD3: v$RACE_FILE = format "OBJ%dT" ZAME_CURRENT_OBJECTIVE_INDEX
                        if
                        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                            then
                            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                            else
                            0AD3: v$RACE_FILE = format "OBJ%dU" ZAME_CURRENT_OBJECTIVE_INDEX
                            if
                            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                then
                                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                else
                                0AD3: v$RACE_FILE = format "OBJ%dV" ZAME_CURRENT_OBJECTIVE_INDEX
                                if
                                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                    then
                                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                    else
                                    0AD3: v$RACE_FILE = format "OBJ%dW" ZAME_CURRENT_OBJECTIVE_INDEX
                                    if
                                    0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                        then
                                        jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                        else
                                        0AD3: v$RACE_FILE = format "OBJ%dX" ZAME_CURRENT_OBJECTIVE_INDEX
                                        if
                                        0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                            then
                                            jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                            else
                                            0AD3: v$RACE_FILE = format "OBJ%dY" ZAME_CURRENT_OBJECTIVE_INDEX
                                            if
                                            0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                                then
                                                jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                                else
                                                0AD3: v$RACE_FILE = format "OBJ%dZ" ZAME_CURRENT_OBJECTIVE_INDEX
                                                if
                                                0D49: 0@ = compare_strings v$RACE_FILE v$SHITME_FILE // IF and SET
                                                    then
                                                    jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT
                                                    end
                                                end
                                            end
                                        end
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end
    end

jump to @ZAME_CHECK_INSTAJUMP_TARGET_EXIT_CHECK_SLOI2_RETURN

:ZAME_ENABLE_CUTSCENE_GODMODE
$GODMODE_FLAG = 1
return

:ZAME_DISABLE_CUTSCENE_GODMODE

if and
ZAME_TARGETSKIP_MODE < 1
not GODMODE_FLAG2 == 1
then
$GODMODE_FLAG = 0
end

return