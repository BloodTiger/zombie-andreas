:MISSION_SETTINGS
    
Player.CanMove(PLAYER_CHAR) = False
Cinema.Radar(0)
0512: show_permanent_text_box 'SE119'
08D4: $PANEL = create_panel_with_title 'SE8' position 72.0 160.0 width 150.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel $PANEL column 0 header 'dummy' data 'SE16' 'SE17' 'SE18' 'SE54' 'SE126' 'SE135' 'SE250' 'SE256' 'SE251' 'SE259' 'SE262' 'GAME164'

if
UNITED_MAP == 1
then
08D9: set_panel $PANEL row 8 enable 0
end
 
wait 100     

:MISSION_SETTINGS_CLOSE_CHECK
wait 0 
if 
00E1:   player 0 pressed_key 15 
jf @MISSION_SETTINGS_SELECTED_CHECK    
08DA: remove_panel $PANEL 
Text.RemoveTextBox
wait 100 
jump @ZAME_MAIN_MENU

:MISSION_SETTINGS_SELECTED_CHECK
wait 0 
if 
00E1:   player 0 pressed_key 16 
jf @MISSION_SETTINGS_CLOSE_CHECK

08D7: 0@ = panel $PANEL active_row 

08DA: remove_panel $PANEL 
Text.RemoveTextBox

if
0@ == 0
then
jump to @zame_menu_21408
end  

if
0@ == 1
then
jump to @zame_menu_21732
end  

if
0@ == 2
then
jump to @zame_player_teammate_settings_37888
end

if
0@ == 3
then
jump to @ZAME_DIFFICULTY_SELECT
end

if
0@ == 4
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_AFTERLOAD"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_AFTERLOAD"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE128' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_AFTERLOAD"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE129' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 5
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SINGLE_START"

if
0@ < 1
then
SINGLE_SPAWN_FLAG = 1
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SINGLE_START"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE136' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
SINGLE_SPAWN_FLAG = 0
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SINGLE_START"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE137' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 6
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_CINEMA"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_CINEMA"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE252' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_CINEMA"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE253' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 7
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_MUSIC"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_MUSIC"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE257' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_START_MUSIC"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE258' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 8
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ONY_FP_MODE"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ONY_FP_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE254' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ONY_FP_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE255' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 9
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE260' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "NO_TEAMMATE_DEATHS"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE261' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 10
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_NEXT_MISSION"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_NEXT_MISSION"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE263' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
else                                                                                 
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "AUTOSTART_NEXT_MISSION"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE264' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS
end

end

if
0@ == 11
then
jump to @MISSION_SETTINGS2
end

//////////////////////////////////////////////////////////////////

:MISSION_SETTINGS2
    
Player.CanMove(PLAYER_CHAR) = False
Cinema.Radar(0)
0512: show_permanent_text_box 'SE119'
08D4: $PANEL = create_panel_with_title 'SE8' position 72.0 160.0 width 150.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel $PANEL column 0 header 'dummy' data 'SE274' 'SE283' 'SE293' 'SE297' 'SE310' 'SE404' 'SE494' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY' 
wait 100     

:MISSION_SETTINGS2_CLOSE_CHECK
wait 0 
if 
00E1:   player 0 pressed_key 15 
jf @MISSION_SETTINGS2_SELECTED_CHECK    
08DA: remove_panel $PANEL 
Text.RemoveTextBox
wait 100 
jump @MISSION_SETTINGS

:MISSION_SETTINGS2_SELECTED_CHECK
wait 0 
if 
00E1:   player 0 pressed_key 16 
jf @MISSION_SETTINGS2_CLOSE_CHECK

08D7: 0@ = panel $PANEL active_row 

08DA: remove_panel $PANEL 
Text.RemoveTextBox

if
0@ == 0
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"

if
0@ < 1
then

0581: enable_radar 1 
Player.CanMove(PLAYER_CHAR) = True
0512: show_permanent_text_box 'SE279' 
wait 100 

repeat
wait 0

if
00E1:   player 0 pressed_key 15
    then
    03E6: remove_text_box  
    Player.CanMove(PLAYER_CHAR) = False
    0581: enable_radar 0 
    jump @MISSION_SETTINGS2
    end
  
until 00E1:   player 0 pressed_key 16
 
03E6: remove_text_box 
Actor.StorePos(PLAYER_ACTOR, 1@, 2@, 3@)
4@ = Actor.Angle(PLAYER_ACTOR)
0AF3: write_float 1@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_X"
0AF3: write_float 2@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Y"
0AF3: write_float 3@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_Z"
0AF3: write_float 4@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE_2P_START_A"

if
056D:   actor ZAME_2P_DUMMY_ACTOR defined
then
actor.DestroyInstantly(ZAME_2P_DUMMY_ACTOR)
end

if
8AF0: not get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE1_MODEL"
then
0376: ZAME_2P_DUMMY_ACTOR = create_random_actor_at 1@ 2@ 3@
0E0B: mark_char_as_needed ZAME_2P_DUMMY_ACTOR
else
ZAME_2P_DUMMY_ACTOR = Actor.Create(26, 0@, 1@, 2@, 3@)
end

0860: link_actor ZAME_2P_DUMMY_ACTOR to_interior ZAME_START_POINT_INTERIOR
0972: put_actor ZAME_2P_DUMMY_ACTOR at 1@ 2@ 3@ no_offset 
Actor.Angle(ZAME_2P_DUMMY_ACTOR) = 4@
0575: set_actor ZAME_2P_DUMMY_ACTOR keep_position 1 
Actor.SetImmunities(ZAME_2P_DUMMY_ACTOR, 1, 1, 1, 1, 1)
0619: enable_actor ZAME_2P_DUMMY_ACTOR collision_detection 0 
0@ = Marker.CreateAboveActor(ZAME_2P_DUMMY_ACTOR)

0512: show_permanent_text_box 'SE281'
018C: play_sound 1057 at 0.0 0.0 0.0
wait 100 

repeat
wait 0 
until 0E3E:   player 0 pressed_key 15

068D: get_camera_position_to 2@ 3@ 4@
068E: get_camera_target_point_to 5@ 6@ 7@ 

0AF3: write_float 2@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_X"
0AF3: write_float 3@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Y"
0AF3: write_float 4@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POS_Z"
0AF3: write_float 5@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_X"
0AF3: write_float 6@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Y"
0AF3: write_float 7@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_CAM_POINT_AT_Z"

03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE275' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0

0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
 
jump @MISSION_SETTINGS2
else

if
056D:   actor ZAME_2P_DUMMY_ACTOR defined
then
actor.DestroyInstantly(ZAME_2P_DUMMY_ACTOR)
end
                                                                                 
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "PVP_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE276' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

if
0@ == 1
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "DONT_SPAWN_BROKEN_CARS"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "DONT_SPAWN_BROKEN_CARS"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE284' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "DONT_SPAWN_BROKEN_CARS"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE285' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

if
0@ == 2
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FRIENDLY_FIRE"
if
0@ < 0
then
0@ = 2
end

if
0@ == 2
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FRIENDLY_FIRE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE294' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 2 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FRIENDLY_FIRE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE295' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

if
0@ == 3
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE298' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "COOP_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE299' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

if
0@ == 4
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "RANDOM_SPECINF_SPAWN"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "RANDOM_SPECINF_SPAWN"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE311' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "RANDOM_SPECINF_SPAWN"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE312' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

//////////////////////////////////////////////////////////////////

if
0@ == 5
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "REALISM_MODE"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "REALISM_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE405' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "REALISM_MODE"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE406' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

//////////////////////////////////////////////////////////////////

if
0@ == 6
then

0AF0: get_int 0@ from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SHITTALK_ON"

if
0@ < 1
then
0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SHITTALK_ON"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE495' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
else
0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "SHITTALK_ON"
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'SE496' time 4000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS2
end

end

//////////////////////////////////////////////////////////////////

:zame_player_teammate_settings_37888
0512: show_permanent_text_box 'SE124' 
08D4: $PANEL = create_panel_with_title 'se12' position 72.0 160.0 width 150.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel $PANEL column 0 header 'dummy' data 'SE265' 'SE266' 'SE267' 'SE268' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy'
wait 100 

:zame_player_teammate_settings_38064
wait 0 
if 
00E1:   player 0 pressed_key 15 
jf @zame_player_teammate_settings_38097 
08DA: remove_panel $PANEL 
jump @MISSION_SETTINGS 

:zame_player_teammate_settings_38097
wait 0 
if 
00E1:   player 0 pressed_key 16 
jf @zame_player_teammate_settings_38064 
08D7: ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM = panel $PANEL active_row 
08DA: remove_panel $PANEL 
03E6: remove_text_box

jump to @ZAME_MENU_PLAYER_SETTINGS_18973

////////////////////////////////////////////////////////////////// 
   
:zame_menu_21408
0512: show_permanent_text_box 'se40'
0E6A: make_nop 0x052CF53 size 6 //Выключаем обновление часов
wait 100  
00BF: ZAME_MISSION_STARTING_HOUR = current_time_hours, ZAME_MISSION_STARTING_MINUTE = current_time_minutes 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 

:zame_menu_21443
wait 0
00E2: get_player 0 key 1 state_to 0@ 
if
not 0@ > 0
jf @zame_menu_21547 
if
not 0@ < 0
jf @zame_menu_21591
00E2: get_player 0 key 0 state_to 0@ 
if
not 0@ < 0
jf @zame_menu_21547_MINUTES 
if
not 0@ > 0
jf @zame_menu_21591_MINUTES 
if 
00E1:   player 0 pressed_key 16 
jf @zame_menu_21687 
03E6: remove_text_box

text.ClearAll()
text.RemoveTextBox()

while true
wait 0
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE
text.ShowH('SE497',100,1)
    
if
0E3E: is_button_just_pressed 0 button 11
    then
    0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FREZEE_TIME"
    0E6A: make_nop 0x052CF53 size 6 //Выключаем обновление часов
    text.ClearAll()         
    break
    end
    
if
0E3E: is_button_just_pressed 0 button 10
    then
    0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FREZEE_TIME"
    text.ClearAll()        
    break
    end
    
end    
 
00BC: show_text_highpriority GXT 'se41' time 2000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS

:zame_menu_21547
ZAME_MISSION_STARTING_HOUR -= 1 
if 
  ZAME_MISSION_STARTING_HOUR >= 0 
jf @zame_menu_21661 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21591
ZAME_MISSION_STARTING_HOUR += 1 
if 
   not ZAME_MISSION_STARTING_HOUR > 23 
jf @zame_menu_21635 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21635
ZAME_MISSION_STARTING_HOUR = 0 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21661
ZAME_MISSION_STARTING_HOUR = 23 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443

:zame_menu_21547_MINUTES
ZAME_MISSION_STARTING_MINUTE -= 1 
if 
  ZAME_MISSION_STARTING_MINUTE >= 0 
jf @zame_menu_21661_MINUTES 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21591_MINUTES
ZAME_MISSION_STARTING_MINUTE += 1 
if 
   not ZAME_MISSION_STARTING_MINUTE > 59 
jf @zame_menu_21635_MINUTES 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21635_MINUTES
ZAME_MISSION_STARTING_MINUTE = 0 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443 

:zame_menu_21661_MINUTES
ZAME_MISSION_STARTING_MINUTE = 59 
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
wait 100 
jump @zame_menu_21443  

:zame_menu_21687
if 
00E1:   player 0 pressed_key 15 
jf @zame_menu_21443
0AF0: 0@ = get_int_from_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "FREZEE_TIME"
if
0@ == 1
then
0E6A: make_nop 0x052CF53 size 6 //Выключаем обновление часов
else
//Возвращаем обновление часов
0A8C: write_memory 0x052CF53 size 2 value 1534 virtual_protect 1
0A8C: write_memory 0x052CF55 size 2 value 338 virtual_protect 1
0A8C: write_memory 0x052CF57 size 2 value 183 virtual_protect 1
end
00C0: set_current_time_hours_to ZAME_MISSION_STARTING_HOUR minutes_to ZAME_MISSION_STARTING_MINUTE 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
03E6: remove_text_box 
jump @MISSION_SETTINGS 

//////////////////////////////////////////////////////////////////

:zame_menu_21732
0512: show_permanent_text_box 'se36'
wait 100 

:zame_menu_21743
wait 0 
01E5: show_text_1number_highpriority GXT 'se37' number ZAME_MISSION_STARTING_WEATHER time 100 flag 1 
if and
80E1:   not player 0 pressed_key 10
8E11: not is_mouse_wheel_down 
jf @zame_menu_21850 
if and
80E1:   not player 0 pressed_key 11
8E10: not is_mouse_wheel_up 
jf @zame_menu_21915 
if 
00E1:   player 0 pressed_key 16 
jf @zame_menu_22018 
03E6: remove_text_box 
00BC: show_text_highpriority GXT 'se38' time 2000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
jump @MISSION_SETTINGS 

:zame_menu_21850
ZAME_MISSION_STARTING_WEATHER -= 1 
if 
  ZAME_MISSION_STARTING_WEATHER >= 0 
jf @zame_menu_21999 
if
UNITED_MAP == 1
then
0@ = -1
gosub @ZAME_PROHIBITED_WEATHERS_ON_UNITED_MAP_CHECK
end

set_weather ZAME_MISSION_STARTING_WEATHER 
01B5: force_weather ZAME_MISSION_STARTING_WEATHER 
01E5: show_text_1number_highpriority GXT 'se37' number ZAME_MISSION_STARTING_WEATHER time 200 flag 1 
wait 100 
jump @zame_menu_21743 

:zame_menu_21915
ZAME_MISSION_STARTING_WEATHER += 1 
if 
   not ZAME_MISSION_STARTING_WEATHER > 22 
jf @zame_menu_21980 
if
UNITED_MAP == 1
then
0@ = 1
gosub @ZAME_PROHIBITED_WEATHERS_ON_UNITED_MAP_CHECK
end

set_weather ZAME_MISSION_STARTING_WEATHER 
01B5: force_weather ZAME_MISSION_STARTING_WEATHER 
01E5: show_text_1number_highpriority GXT 'se37' number ZAME_MISSION_STARTING_WEATHER time 200 flag 1 
wait 100 
jump @zame_menu_21743 

:zame_menu_21980
ZAME_MISSION_STARTING_WEATHER = 0 
set_weather ZAME_MISSION_STARTING_WEATHER 
jump @zame_menu_21743 

:zame_menu_21999

if and
$UNITED_III_SPAWN == 0
UNITED_MAP == 1
then
ZAME_MISSION_STARTING_WEATHER = 9
else
ZAME_MISSION_STARTING_WEATHER = 22
end
 
set_weather ZAME_MISSION_STARTING_WEATHER 
jump @zame_menu_21743 

:zame_menu_22018
if 
00E1:   player 0 pressed_key 15 
jf @zame_menu_21743 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0 
03E6: remove_text_box 
jump @MISSION_SETTINGS 

//////////////////////////////////////////////////////////////////

:ZAME_MENU_PLAYER_SETTINGS_18973

0944: manipulate_weapon_camera PLAYER_ACTOR

const
ZAME_SKINS_COUNT_MIN = 4@
ZAME_SKINS_COUNT_MAX = 5@
end    

if
UNITED_MAP == 0
then

0512: show_permanent_text_box 'SE223'
08D4: $PANEL = create_panel_with_title 'SE501' position 72.0 160.0 width 150.0 columns 1 interactive 1 background 1 alignment 1 
08DB: set_panel $PANEL column 0 header 'SE502' data 'SE498' 'SE499' 'SE500' 'SE662' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 'dummy' 
wait 100

repeat
wait 0

if 
00E1:   player 0 pressed_key 15 
then
08DA: remove_panel $PANEL
Text.RemoveTextBox

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
then
jump @TARGETS_SETTINGS3 
end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
then
jump @TARGETS_SETTINGS4
end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
then
jump @TRIGGERS_SETTINGS 
end

jump @MISSION_SETTINGS 
end

until 00E1:   player 0 pressed_key 16 

08D7: 24@ = panel $PANEL active_row 
08DA: remove_panel $PANEL
Text.RemoveTextBox    

if
24@ == 3
then
gosub @ZAME_SELECT_SKIN_BY_ID

while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

text.ClearAll()
09C7: change_player PLAYER_CHAR model_to 0@
wait 1000

jump to @ZAME_MENU_PLAYER_SETTINGS_20003
end  

else     
24@ = 0      
end 
wait 0 
       
if
UNITED_MAP == 0
then

if
24@ == 0
then
ZAME_SKINS_COUNT_MIN = 7
ZAME_SKINS_COUNT_MAX = 288

else

if
not 24@ == 2
then
0AF0: ZAME_SKINS_COUNT_MIN = get_int_from_ini_file "modloader\MODLOADER GLOBAL FILES\ExtraContent\New Survivors\CONFIG\NEWSKINS.ini" section "NEWSKINS" key "NEW_SKINS_COUNT_MIN"
0AF0: ZAME_SKINS_COUNT_MAX = get_int_from_ini_file "modloader\MODLOADER GLOBAL FILES\ExtraContent\New Survivors\CONFIG\NEWSKINS.ini" section "NEWSKINS" key "NEW_SKINS_COUNT_MAX"
else
0AF0: ZAME_SKINS_COUNT_MIN = get_int_from_ini_file "modloader\MODLOADER GLOBAL FILES\ExtraContent\New Survivors\CONFIG\NEWSKINS.ini" section "NEWSKINS2" key "NEW_SKINS_COUNT_MIN"
0AF0: ZAME_SKINS_COUNT_MAX = get_int_from_ini_file "modloader\MODLOADER GLOBAL FILES\ExtraContent\New Survivors\CONFIG\NEWSKINS.ini" section "NEWSKINS2" key "NEW_SKINS_COUNT_MAX"
end

end

else
    
if
$UNITED_VC_FLAG == 0
then
    
if
STORIES_MAP == 0
then
ZAME_SKINS_COUNT_MIN = 15850
ZAME_SKINS_COUNT_MAX = 15963
else
ZAME_SKINS_COUNT_MIN = 15743
ZAME_SKINS_COUNT_MAX = 15847
end
    
else
    
if
STORIES_MAP == 0
then
ZAME_SKINS_COUNT_MIN = 15599
ZAME_SKINS_COUNT_MAX = 15742
else
ZAME_SKINS_COUNT_MIN = 16791
ZAME_SKINS_COUNT_MAX = 16882
end
    
end
    
end        

0581: enable_radar 1 
0512: show_permanent_text_box 'se63'    
wait 100

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 0
then 
0085: 0@ = ZAME_START_PLAYER_MODEL // (int) 
Marker.Disable(ZAME_PLAYER_DUMMY_MARKER)
0337: set_actor ZAME_PLAYER_DUMMY visibility 0 

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end

09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL
else

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 1
    then
    
    if
    TEAM1_SKIN > 0
    then
    008B: 0@ = TEAM1_SKIN // (int)
    else
    0085: 0@ = ZAME_START_PLAYER_MODEL // (int)
    end
    
    end
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 2
    then
    
    if
    TEAM2_SKIN > 0
    then
    008B: 0@ = TEAM2_SKIN // (int)
    else
    0085: 0@ = ZAME_START_PLAYER_MODEL // (int)
    end
    
    end
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 3
    then
    
    if
    TEAM3_SKIN > 0
    then
    008B: 0@ = TEAM3_SKIN // (int)
    else
    0085: 0@ = ZAME_START_PLAYER_MODEL // (int)
    end
    
    end 
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
    then
    0085: 0@ = ZAME_LATEST_SKIN_SELECTED // (int)
    end
    
if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
    then
    0085: 0@ = ZAME_LATEST_SKIN_SELECTED // (int)
    end               

end 

if
801D:   0@ < ZAME_SKINS_COUNT_MIN  // (int)
    then
    008B: 0@ = ZAME_SKINS_COUNT_MIN // (int)
    
    while not model.Available(0@)
    wait 0
    model.Load(0@)
    mload
    end
    
    09C7: change_player PLAYER_CHAR model_to 0@
    else
    if
    001D:   0@ > ZAME_SKINS_COUNT_MAX  // (int)
        then
        008B: 0@ = ZAME_SKINS_COUNT_MAX // (int)
        
        while not model.Available(0@)
        wait 0
        model.Load(0@)
        mload
        end
        
        09C7: change_player PLAYER_CHAR model_to 0@
        else
        if or
        ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
        ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
        ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
            then
            
            while not model.Available(ZAME_LATEST_SKIN_SELECTED)
            wait 0
            model.Load(ZAME_LATEST_SKIN_SELECTED)
            mload
            end
            
            09C7: change_player PLAYER_CHAR model_to ZAME_LATEST_SKIN_SELECTED
            
            end
        end    
    end

:ZAME_MENU_PLAYER_SETTINGS_19020
wait 0 
01E5: show_text_1number_highpriority GXT 'se37' number 0@ time 300 flag 1
if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
then
0085: ZAME_LATEST_SKIN_SELECTED = 0@ // (int) 
end

if and
80E1:   not player 0 pressed_key 11
8E10: not is_mouse_wheel_up 
jf @ZAME_MENU_PLAYER_SETTINGS_19165 
if and
80E1:   not player 0 pressed_key 10
8E11: not is_mouse_wheel_down 
jf @ZAME_MENU_PLAYER_SETTINGS_19516 
if 
//00E1:   player 0 pressed_key 16 
0E3E: is_button_just_pressed 0 button 16
jf @ZAME_MENU_PLAYER_SETTINGS_19105 
wait 100 
jump @ZAME_MENU_PLAYER_SETTINGS_20003 

:ZAME_MENU_PLAYER_SETTINGS_19105
if 
00E1:   player 0 pressed_key 15 
jf @ZAME_MENU_PLAYER_SETTINGS_19020 
0581: enable_radar 0 
03E6: remove_text_box 

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end

09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
0337: set_actor ZAME_PLAYER_DUMMY visibility 1

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
then
jump @TARGETS_SETTINGS3 
end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
then
jump @TARGETS_SETTINGS4
end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
then
jump @TRIGGERS_SETTINGS 
end
 
jump @MISSION_SETTINGS  

:ZAME_MENU_PLAYER_SETTINGS_19165
0085: 3@ = 0@ // (int) 
0@ += 1
if 
07DE:   model 0@ exists  // versionB
jf @ZAME_MENU_PLAYER_SETTINGS_19165 
01E5: show_text_1number_highpriority GXT 'se37' number 0@ time 300 flag 1 
if 
//   not 0@ > 288
   801D: not  0@ > ZAME_SKINS_COUNT_MAX  // (int) 
jf @ZAME_MENU_PLAYER_SETTINGS_19866 
if 
   not Model.Available(0@)
jf @ZAME_MENU_PLAYER_SETTINGS_19497 
Model.Load(0@)
038B: load_requested_models 

:ZAME_MENU_PLAYER_SETTINGS_19497
09C7: change_player PLAYER_CHAR model_to 0@

if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end
 
jump @ZAME_MENU_PLAYER_SETTINGS_19020 

:ZAME_MENU_PLAYER_SETTINGS_19516
0085: 3@ = 0@ // (int) 
0@ -= 1 
if
07DE:   model 0@ exists  // versionB 
jf @ZAME_MENU_PLAYER_SETTINGS_19516 
01E5: show_text_1number_highpriority GXT 'se37' number 0@ time 300 flag 1 
if 
//  0@ >= 0
  002D:   0@ >= ZAME_SKINS_COUNT_MIN  // (int) 
jf @ZAME_MENU_PLAYER_SETTINGS_19934 
if 
   not Model.Available(0@)
jf @ZAME_MENU_PLAYER_SETTINGS_19847 
Model.Load(0@)
038B: load_requested_models 

:ZAME_MENU_PLAYER_SETTINGS_19847
09C7: change_player PLAYER_CHAR model_to 0@ 

if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end
 
jump @ZAME_MENU_PLAYER_SETTINGS_19020 

:ZAME_MENU_PLAYER_SETTINGS_19866
//0@ = 0
0085: 0@ = ZAME_SKINS_COUNT_MIN // (int) 
01E5: show_text_1number_highpriority GXT 'se37' number 0@ time 300 flag 1 
if 
   not Model.Available(0@)
jf @ZAME_MENU_PLAYER_SETTINGS_19915 
Model.Load(0@)
038B: load_requested_models 

:ZAME_MENU_PLAYER_SETTINGS_19915
09C7: change_player PLAYER_CHAR model_to 0@
 
if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end

jump @ZAME_MENU_PLAYER_SETTINGS_19020 

:ZAME_MENU_PLAYER_SETTINGS_19934
//0@ = 288
0085: 0@ = ZAME_SKINS_COUNT_MAX // (int) 
01E5: show_text_1number_highpriority GXT 'se37' number 0@ time 300 flag 1 
if 
   not Model.Available(0@)
jf @ZAME_MENU_PLAYER_SETTINGS_19984 
Model.Load(0@)
038B: load_requested_models 

:ZAME_MENU_PLAYER_SETTINGS_19984
09C7: change_player PLAYER_CHAR model_to 0@ 

if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end

jump @ZAME_MENU_PLAYER_SETTINGS_19020 

:ZAME_MENU_PLAYER_SETTINGS_20003
0581: enable_radar 1 

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
then
0512: show_permanent_text_box 'se65b'
else
0512: show_permanent_text_box 'se65'
end

018C: play_sound 1057 at 0.0 0.0 0.0 
wait 100  

if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then
0089: 1@ = ZAME_LATEST_WEP_SELECTED // (float)
gosub @zame_weap_id_get2
gosub @ZAME_MENU_PLAYER_SETTINGS_20350B
else
0089: 1@ = ZAME_PLAYER_START_WEAPON_ID2 // (float)
gosub @zame_weap_id_get2
gosub @ZAME_MENU_PLAYER_SETTINGS_20350
end 

:ZAME_MENU_PLAYER_SETTINGS_20037
wait 0 

if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then                                        
0089: ZAME_LATEST_WEP_SELECTED = 1@ // (float)
else
0089: ZAME_PLAYER_START_WEAPON_ID2 = 1@ // (float)
end

/////////////////////FUCK, GET BACK!!!/////////////////////
if and
00E1:   player 0 pressed_key 15  
not ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
then
Player.CanMove(PLAYER_CHAR) = False
048F: actor PLAYER_ACTOR remove_weapons
03E6: remove_text_box 
0581: enable_radar 0 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
0337: set_actor ZAME_PLAYER_DUMMY visibility 1 

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end

09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL

if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8 
then 

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then
jump @TARGETS_SETTINGS2
end                  

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
then
jump @TARGETS_SETTINGS4
else
jump @TARGETS_SETTINGS3
end
   
else 
jump @MISSION_SETTINGS 
end

end
/////////////////////FUCK, GET BACK!!!/////////////////////

if and
8E3E: not is_button_just_pressed 0 button 11
8E10: not is_mouse_wheel_up 
jf @ZAME_MENU_PLAYER_SETTINGS_20190 
if and
8E3E: not is_button_just_pressed 0 button 10 
8E11: not is_mouse_wheel_down
jf @ZAME_MENU_PLAYER_SETTINGS_20552 
if 
//00E1:   player 0 pressed_key 16
0E3E: is_button_just_pressed 0 button 16 
jf @ZAME_MENU_PLAYER_SETTINGS_20116 
03E6: remove_text_box

ZAME_TEMP_FUCKEEE = 0
if
270@ < 16
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or
270@ == 106
270@ == 108
270@ == 110
270@ == 115
270@ == 118
270@ == 44
270@ == 45
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or
270@ == 121
270@ == 122
270@ == 123
270@ == 124
270@ == 125
270@ == 126
270@ == 127
270@ == 128
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or
270@ == 129
270@ == 130
270@ == 131
270@ == 132
270@ == 133
270@ == 134
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or
270@ == 154
270@ == 155
270@ == 156
270@ == 157
270@ == 158
270@ == 159
270@ == 160
270@ == 161
    then  
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or    
270@ == 162
270@ == 163
270@ == 164
270@ == 92
270@ == 107
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or
270@ == 184
270@ == 185
270@ == 186
270@ == 187
270@ == 188
270@ == 189
270@ == 190
270@ == 191
    then  
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or    
270@ == 192
270@ == 193
270@ == 194
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or    
270@ == 175
270@ == 176
270@ == 183
270@ == 205
270@ == 206
270@ == 213
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if or    
270@ == 177
270@ == 178
270@ == 179
270@ == 207
270@ == 208
270@ == 209
    then
    ZAME_TEMP_FUCKEEE = 1
    end
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
then
gosub @ZAME_MENU_PLAYER_SETTINGS_29619
end    

if and
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 0
not ZAME_TEMP_FUCKEEE == 1
then 
gosub @ZAME_MENU_PLAYER_SETTINGS_29619
end

if
ZAME_TEMP_FUCKEEE == 1
then
ZAME_TEMP_FUCKEEE = 0
end
 
048F: actor PLAYER_ACTOR remove_weapons 
jump @ZAME_MENU_PLAYER_SETTINGS_20705 

:ZAME_MENU_PLAYER_SETTINGS_20116
if 
//00E1:   player 0 pressed_key 16
0E3E: is_button_just_pressed 0 button 16 
jf @ZAME_MENU_PLAYER_SETTINGS_20037 
048F: actor PLAYER_ACTOR remove_weapons 
03E6: remove_text_box 
0581: enable_radar 0 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
0337: set_actor ZAME_PLAYER_DUMMY visibility 1

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end
 
09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL 
jump @MISSION_SETTINGS  

:ZAME_MENU_PLAYER_SETTINGS_20190

if
80E1:   not player 0 pressed_key 14
then
1@ += 1
else
1@ += 10
end
 
gosub @zame_weap_id_get2 
0781: get_weapon_with_ID 270@ model_to 10@ 
if 
07DE:   model 10@ exists // versionB 
jf @ZAME_MENU_PLAYER_SETTINGS_20190 
Model.Load(10@)
038B: load_requested_models 
if 
   Model.Available(10@)
jf @ZAME_MENU_PLAYER_SETTINGS_20190 
11@ = 99999 
Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, 270@, 11@) 
jump @ZAME_MENU_PLAYER_SETTINGS_20037 

:ZAME_MENU_PLAYER_SETTINGS_20350
0781: get_weapon_with_ID 270@ model_to 10@ 
if 
07DE:   model 10@ exists // versionB 
jf @ZAME_MENU_PLAYER_SETTINGS_20350 
Model.Load(10@)
038B: load_requested_models 
if 
   Model.Available(10@)
jf @ZAME_MENU_PLAYER_SETTINGS_20350 
11@ = 99999  
Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, 270@, 11@)
01B9: set_actor PLAYER_ACTOR armed_weapon_to 270@ 
return 

:ZAME_MENU_PLAYER_SETTINGS_20350B
0781: get_weapon_with_ID 270@ model_to 10@ 
if 
07DE:   model 10@ exists // versionB 
jf @ZAME_MENU_PLAYER_SETTINGS_20350B 
Model.Load(10@)
038B: load_requested_models 
if 
   Model.Available(10@)
jf @ZAME_MENU_PLAYER_SETTINGS_20350B 
11@ = 99999  
Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, 270@, 11@)
01B9: set_actor PLAYER_ACTOR armed_weapon_to 270@ 
return 

:ZAME_MENU_PLAYER_SETTINGS_20552

if
80E1:   not player 0 pressed_key 14
then
1@ -= 1
else
1@ -= 10
end
 
gosub @zame_weap_id_get2 
0781: get_weapon_with_ID 270@ model_to 10@ 
if 
07DE:   model 10@ exists // versionB 
jf @ZAME_MENU_PLAYER_SETTINGS_20552 
Model.Load(10@)
038B: load_requested_models 
if 
   Model.Available(10@)
jf @ZAME_MENU_PLAYER_SETTINGS_20552 
11@ = 99999  
Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, 270@, 11@) 
jump @ZAME_MENU_PLAYER_SETTINGS_20037 

:ZAME_MENU_PLAYER_SETTINGS_20705

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then     
gosub @ZAME_MENU_PLAYER_SETTINGS_29619
return
end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM > 0
then

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 1
    then
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE1_MODEL"
    008A: TEAM1_SKIN = 0@ // (int)    
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE1_WEP_ID"
    end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 2
    then
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE2_MODEL"
    008A: TEAM2_SKIN = 0@ // (int)
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE2_WEP_ID"
    end

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 3
    then
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE3_MODEL"
    008A: TEAM3_SKIN = 0@ // (int)
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "TEAMMATE3_WEP_ID"
    end
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
    then
    
    0581: enable_radar 1 
    Player.CanMove(PLAYER_CHAR) = True
    0512: show_permanent_text_box 'SE410'
    018C: play_sound 1057 at 0.0 0.0 0.0 
    wait 100 
    
    repeat
    wait 0 
    
    if 
    00E1:   player 0 pressed_key 15 
    then
    Player.CanMove(PLAYER_CHAR) = False
    03E6: remove_text_box 
    0581: enable_radar 0 
    ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
    Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
    0337: set_actor ZAME_PLAYER_DUMMY visibility 1
    
    while not model.Available(ZAME_START_PLAYER_MODEL)
    wait 0
    model.Load(ZAME_START_PLAYER_MODEL)
    mload
    end
     
    09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL
    jump to @TARGETS_SETTINGS3
    end 
    
    if 
//    00E1:   player 0 pressed_key 16
    0E3E: is_button_just_pressed 0 button 16
        then          
        break
        end 
        
    until false
        
    while not model.Available(ZAME_START_PLAYER_MODEL)
    wait 0
    model.Load(ZAME_START_PLAYER_MODEL)
    mload
    end
    
    09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL 
    
    if
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    then
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX
    else
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_RECREATE_INDEX
    end
    
    if or
    ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG == 1
    ZAME_RECREATE_OBJECTIVE_FLAG == 2
    then
    0AD3: v$RACE_FILE = format "%s" v$RACB_FILE
    end
    
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_MODEL"
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_WEP_ID"
    
    Actor.StorePos(PLAYER_ACTOR, 2@, 3@, 4@)
    0@ = Marker.CreateIconAndSphere2(ZAME_ALLY_TRIGGER_ICON_ID, 2@, 3@, 4@)
    
    ZAME_OBJECT_HANLDE = Object.Init(ZAME_ALLY_OBJECT_ID, 2@, 3@, 4@)
    0E0D: mark_object_as_needed ZAME_OBJECT_HANLDE
    0566: link_object ZAME_OBJECT_HANLDE to_interior $ACTIVE_INTERIOR
    
    0AF1: write_int 23 to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE"
    0AF1: write_int 0 to_ini_file "me\temp.dat" section v$RACE_FILE key "DELETE_TEAMMATE"
    0AF1: write_int $ACTIVE_INTERIOR to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_INT"
    0AF3: write_float 2@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
    0AF3: write_float 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
    0AF3: write_float 4@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
    128@ = actor.Angle(PLAYER_ACTOR)
    0AF3: write_float 128@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_A"
    
    0AF3: write_float 2@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_X"
    0AF3: write_float 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_Y"
    0AF3: write_float 4@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_Z"
    0AF3: write_float 128@ to_ini_file "me\temp.dat" section v$RACE_FILE key "TEAMMATE_A"
    
    0AF1: write_int ZAME_OBJECTIVES_COUNT to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "OBJECTIVES_COUNT"
    0AF1: write_int ZAME_CURRENT_OBJECTIVE_INDEX to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "OBJECTIVE_INDEX"
    
    if and
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    not ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG == 1
    then
    ZAME_CURRENT_OBJECTIVE_INDEX += 1 
    ZAME_OBJECTIVES_COUNT += 1
    end
    
    ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG = 0
    
    gosub @zame_menu_25351
    
    if
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    then 
    00BC: show_text_highpriority GXT 'se409' time 2000 flag 1
    gosub @zame_created_trigger_sound
    else
    00BC: show_text_highpriority GXT 'SE409B' time 2000 flag 1
    gosub @zame_recreated_trigger_sound        
    gosub @MISSION_SAVE_INITIALIZATION
    end 
     
    Player.CanMove(PLAYER_CHAR) = False
    0581: enable_radar 0 
    jump @TARGETS_SETTINGS3
    
    end 
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
    then     
    
    while not model.Available(ZAME_START_PLAYER_MODEL)
    wait 0
    model.Load(ZAME_START_PLAYER_MODEL)
    mload
    end
    
    09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL
    
    if
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    then
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX
    else
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_RECREATE_INDEX
    end
    
    if or
    ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG == 1
    ZAME_RECREATE_OBJECTIVE_FLAG == 2
    then
    0AD3: v$RACE_FILE = format "%s" v$RACB_FILE
    end
           
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_MODEL"
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section v$RACE_FILE key "MARODER_WEP_ID"    
    jump to @CUM_BACK_FROM_MARODER_SKINWEP_SELECT    
    end   
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
    then
    
    0581: enable_radar 1 
    Player.CanMove(PLAYER_CHAR) = True
    0512: show_permanent_text_box 'SE581'
    018C: play_sound 1057 at 0.0 0.0 0.0 
    wait 100 
    
    repeat
    wait 0 
    
    if 
    00E1:   player 0 pressed_key 15 
    then
    Player.CanMove(PLAYER_CHAR) = False
    03E6: remove_text_box 
    0581: enable_radar 0 
    ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
    Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
    0337: set_actor ZAME_PLAYER_DUMMY visibility 1
    
    while not model.Available(ZAME_START_PLAYER_MODEL)
    wait 0
    model.Load(ZAME_START_PLAYER_MODEL)
    mload
    end
     
    09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL
    jump to @TARGETS_SETTINGS3
    end 
    
    if 
//    00E1:   player 0 pressed_key 16
    0E3E: is_button_just_pressed 0 button 16
        then          
        break
        end 
        
    until false
        
    while not model.Available(ZAME_START_PLAYER_MODEL)
    wait 0
    model.Load(ZAME_START_PLAYER_MODEL)
    mload
    end
    
    09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL 
    
    if
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    then
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_CURRENT_OBJECTIVE_INDEX
    else
    0AD3: v$RACE_FILE = format "OBJ%d" ZAME_RECREATE_INDEX
    end
    
    if or
    ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG == 1
    ZAME_RECREATE_OBJECTIVE_FLAG == 2
    then
    0AD3: v$RACE_FILE = format "%s" v$RACB_FILE
    end
    
    0AF1: write_int 0@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_MODEL"
    0AF1: write_int 270@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_WEP_ID"
    0AF1: write_int 9@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_WEP_AMMO"    
    
    Actor.StorePos(PLAYER_ACTOR, 2@, 3@, 4@)
    0@ = Marker.CreateIconAndSphere2(ZAME_CHANGESKIN_TRIGGER_ICON_ID, 2@, 3@, 4@)
    
    ZAME_OBJECT_HANLDE = Object.Init(ZAME_CHANGESKIN_OBJECT_ID, 2@, 3@, 4@)
    0E0D: mark_object_as_needed ZAME_OBJECT_HANLDE
    0566: link_object ZAME_OBJECT_HANLDE to_interior $ACTIVE_INTERIOR
    
    0AF1: write_int 33 to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_TYPE"
    0AF1: write_int $ACTIVE_INTERIOR to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_INT"
    0AF3: write_float 2@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_X"
    0AF3: write_float 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Y"
    0AF3: write_float 4@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_Z"
    128@ = actor.Angle(PLAYER_ACTOR)
    0AF3: write_float 128@ to_ini_file "me\temp.dat" section v$RACE_FILE key "OBJECTIVE_A"
    
    0AF3: write_float 2@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_X"
    0AF3: write_float 3@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_Y"
    0AF3: write_float 4@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_Z"
    0AF3: write_float 128@ to_ini_file "me\temp.dat" section v$RACE_FILE key "REBORN_A"
    
    0AF1: write_int ZAME_OBJECTIVES_COUNT to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "OBJECTIVES_COUNT"
    0AF1: write_int ZAME_CURRENT_OBJECTIVE_INDEX to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "OBJECTIVE_INDEX"
    
    if and
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    not ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG == 1
    then
    ZAME_CURRENT_OBJECTIVE_INDEX += 1 
    ZAME_OBJECTIVES_COUNT += 1
    end
    
    ZAME_CREATE_OBJ_BETWEEN_OBJS_FLAG = 0
    
    gosub @zame_menu_25351
    
    if
    ZAME_RECREATE_OBJECTIVE_FLAG == 0
    then 
    00BC: show_text_highpriority GXT 'SE579' time 2000 flag 1
    gosub @zame_created_trigger_sound
    else
    00BC: show_text_highpriority GXT 'SE579B' time 2000 flag 1
    gosub @zame_recreated_trigger_sound        
    gosub @MISSION_SAVE_INITIALIZATION
    end 
     
    Player.CanMove(PLAYER_CHAR) = False
    0581: enable_radar 0 
    jump @TARGETS_SETTINGS3
    
    end  
    
if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
    then 
    jump to @ZAME_TRIGGER_DUMMYPED_RETURNED
    end                    
     
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0
text.ClearAll()
Text.RemoveTextBox
text.ShowH('SE66B',2000,1) 
jump @MISSION_SETTINGS    

end

0581: enable_radar 1 
Player.CanMove(PLAYER_CHAR) = True
0512: show_permanent_text_box 'se34'
018C: play_sound 1057 at 0.0 0.0 0.0 
wait 100 

:ZAME_MENU_PLAYER_SETTINGS_20731
wait 0 
if 
00E1:   player 0 pressed_key 16 
jf @ZAME_MENU_PLAYER_SETTINGS_20968 
03E6: remove_text_box 
Actor.StorePos(PLAYER_ACTOR, ZAME_START_POINT_X, ZAME_START_POINT_Y, ZAME_START_POINT_Z)
ZAME_START_POINT_ANGLE = Actor.Angle(PLAYER_ACTOR)
0085: ZAME_START_PLAYER_MODEL = 0@ // (int) 
0085: ZAME_PLAYER_START_WEAPON_ID = 270@ // (int) 
0085: ZAME_PLAYER_START_WEAPON_AMMO = 9@ // (int) 
077E: get_active_interior_to ZAME_START_POINT_INTERIOR 
Marker.Disable(ZAME_PLAYER_DUMMY_MARKER)
Actor.DestroyInstantly(ZAME_PLAYER_DUMMY)
Actor.RemoveReferences(ZAME_PLAYER_DUMMY)
if 
   not Model.Available(ZAME_START_PLAYER_MODEL)
jf @ZAME_MENU_PLAYER_SETTINGS_20849 
Model.Load(ZAME_START_PLAYER_MODEL)
038B: load_requested_models 

:ZAME_MENU_PLAYER_SETTINGS_20849
ZAME_PLAYER_DUMMY = Actor.Create(26, ZAME_START_PLAYER_MODEL, ZAME_START_POINT_X, ZAME_START_POINT_Y, ZAME_START_POINT_Z)
0860: link_actor ZAME_PLAYER_DUMMY to_interior ZAME_START_POINT_INTERIOR
0972: put_actor ZAME_PLAYER_DUMMY at ZAME_START_POINT_X ZAME_START_POINT_Y ZAME_START_POINT_Z no_offset 
Actor.Angle(ZAME_PLAYER_DUMMY) = ZAME_START_POINT_ANGLE
0575: set_actor ZAME_PLAYER_DUMMY keep_position 1 
Actor.SetImmunities(ZAME_PLAYER_DUMMY, 1, 1, 1, 1, 1)
0619: enable_actor ZAME_PLAYER_DUMMY collision_detection 0 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)

0781: get_weapon_with_ID ZAME_PLAYER_START_WEAPON_ID model_to 0@

while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

Actor.GiveWeaponAndAmmo(ZAME_PLAYER_DUMMY, ZAME_PLAYER_START_WEAPON_ID, 1)

///////////////////////////////////Выбор стиля анимации///////////////////////////////////                      

if
not UNITED_MAP == 1
then
    
while true
wait 0    
    
09C1: add_next_text_to_brief_history 0
    
if
0A4B:   controls_set_to_joystick
then
text.ShowH('GME991B',10,1)
    
if 
0E3E: is_button_just_pressed 0 button 14
    then
    0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
    062A: change_float_stat 23 to 0.0
    062A: change_float_stat 21 to 0.0
    070D: rebuild_player PLAYER_CHAR        
    break
    end
        
if 
0E3E: is_button_just_pressed 0 button 16
    then
    0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
    062A: change_float_stat 23 to 501.0
    062A: change_float_stat 21 to 0.0
    070D: rebuild_player PLAYER_CHAR  
    break
    end
        
if 
0E3E: is_button_just_pressed 0 button 17
    then
    0AF1: write_int 2 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
    062A: change_float_stat 23 to 0.0
    062A: change_float_stat 21 to 1000.0
    070D: rebuild_player PLAYER_CHAR    
    break
    end  
    
else    
text.ShowH('GAME991',10,1)
    
if 
0E3D:   key_pressed 49
    then
    0AF1: write_int 0 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"     
    break
    end
        
if 
0E3D:   key_pressed 50
    then
    0AF1: write_int 1 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
    break
    end
        
if 
0E3D:   key_pressed 51
    then
    0AF1: write_int 2 to_ini_file "me\temp.dat" section "MISSION_PARAMETERS" key "ANIM_STYLE"
    break
    end  
    
end          
        
end

end    

00BC: show_text_highpriority GXT 'se66' time 2000 flag 1 
Player.CanMove(PLAYER_CHAR) = False
0581: enable_radar 0
text.ClearAll()
Text.RemoveTextBox
text.ShowH('SE66',2000,1) 
jump @MISSION_SETTINGS  

:ZAME_MENU_PLAYER_SETTINGS_20968
if and
00E1:   player 0 pressed_key 15  
not ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
jf @ZAME_MENU_PLAYER_SETTINGS_20731 
Player.CanMove(PLAYER_CHAR) = False
03E6: remove_text_box 
0581: enable_radar 0 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
0337: set_actor ZAME_PLAYER_DUMMY visibility 1 

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end

09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
then                   
jump @TARGETS_SETTINGS3   
else 
jump @MISSION_SETTINGS 
end

:ZAME_MENU_PLAYER_SETTINGS_29619
if and
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then
0512: show_permanent_text_box 'se113b'
else
0512: show_permanent_text_box 'se113'
end
018C: play_sound 1057 at 0.0 0.0 0.0 
wait 100 
gosub @ZAME_MENU_PLAYER_SETTINGS_29769
0085: 9@ = ZAME_PLAYER_START_WEAPON_AMMO // (int) 

:ZAME_MENU_PLAYER_SETTINGS_29641
wait 0 

/////////////////////FUCK, GET BACK!!!/////////////////////
if and
00E1:   player 0 pressed_key 15  
not ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 5
not ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 8
then
Player.CanMove(PLAYER_CHAR) = False
048F: actor PLAYER_ACTOR remove_weapons
03E6: remove_text_box 
0581: enable_radar 0 
ZAME_PLAYER_DUMMY_MARKER = Marker.CreateAboveActor(ZAME_PLAYER_DUMMY)
Marker.SetColor(ZAME_PLAYER_DUMMY_MARKER, 2)
0337: set_actor ZAME_PLAYER_DUMMY visibility 1 

while not model.Available(ZAME_START_PLAYER_MODEL)
wait 0
model.Load(ZAME_START_PLAYER_MODEL)
mload
end

09C7: change_player PLAYER_CHAR model_to ZAME_START_PLAYER_MODEL

if or
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 4
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 7
then                   

if
ZAME_MISSION_PLAYER_TEAMMATE_SET_NUM == 6
then
jump @TARGETS_SETTINGS4
else
jump @TARGETS_SETTINGS3
end
   
else 
jump @MISSION_SETTINGS 
end

end
/////////////////////FUCK, GET BACK!!!/////////////////////

01E5: show_text_1number_highpriority GXT 'se114' number 9@ time 200 flag 1 
if and
80E1:   not player 0 pressed_key 11
8E10: not is_mouse_wheel_up 
jf @ZAME_MENU_PLAYER_SETTINGS_29715 
if and
80E1:   not player 0 pressed_key 10
8E11: not is_mouse_wheel_down 
jf @ZAME_MENU_PLAYER_SETTINGS_29733 
if 
00E1:   player 0 pressed_key 16 
jf @ZAME_MENU_PLAYER_SETTINGS_29641 
return 

:ZAME_MENU_PLAYER_SETTINGS_29715
if
80E1:   not player 0 pressed_key 14
then
9@ += 1
else
9@ += 10
end
 
if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end
 
jump @ZAME_MENU_PLAYER_SETTINGS_29641 

:ZAME_MENU_PLAYER_SETTINGS_29733
if 
  9@ > 0 
jf @ZAME_MENU_PLAYER_SETTINGS_29641

if
80E1:   not player 0 pressed_key 14
then
9@ -= 1
else 
9@ -= 10
end
 
if and
8E10: not is_mouse_wheel_up
8E11: not is_mouse_wheel_down
then 
wait 100
end
 
jump @ZAME_MENU_PLAYER_SETTINGS_29641 

:ZAME_MENU_PLAYER_SETTINGS_29769
if 
  9@ == 0 
jf @ZAME_MENU_PLAYER_SETTINGS_29796 
9@ = 1 
return 

:ZAME_MENU_PLAYER_SETTINGS_29796
return

:ZAME_DIFFICULTY_SELECT
09C1: add_next_text_to_brief_history 0      
0512: show_permanent_text_box 'GAME39' 
08D4: $PANEL = create_panel_with_title 'GAME73' position 72.0 160.0 width 150.0 columns 1 interactive 1 background 1 alignment 1     
08DB: set_panel $PANEL column 0 header 'dummy' data 'GAME279' 'GAME280' 'GAME281' 'GAME282' 'SE519' 'SE520' 'SE521' 'SE522' 'DUMMY' 'DUMMY' 'DUMMY' 'DUMMY'      

:ZAME_DIFFICULTY_SELECT_IDLE
wait 0

if
8A2A: not  text_box 'GAME39' displayed
then
09C1: add_next_text_to_brief_history 0
0512: show_permanent_text_box 'GAME39' 
end

08D7: $PANEL2_ACTIVE_ROW = panel $PANEL active_row 

if
$PANEL2_ACTIVE_ROW == 0 
    then       
    if
    0E3E: is_button_just_pressed 0 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all        
        gosub @DIFFUCLITY_EASY_SELECT
        ZAME_DIFFICULTY_LEVEL = 0
        text.ClearAll()
        Text.RemoveTextBox
        text.ShowH('SE43',2000,1)        
        jump @MISSION_SETTINGS
        end
    end     

if
$PANEL2_ACTIVE_ROW == 1 
    then 
    if
    0E3E: is_button_just_pressed 0 16
        then
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                
        gosub @DIFFUCLITY_NORMAL_SELECT
        ZAME_DIFFICULTY_LEVEL = 1
        text.ClearAll()
        Text.RemoveTextBox
        text.ShowH('SE43',2000,1)
        jump @MISSION_SETTINGS        
        end
     end      

if
$PANEL2_ACTIVE_ROW == 2 
    then 
    if
    0E3E: is_button_just_pressed 0 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all
        gosub @DIFFUCLITY_HARD_SELECT
        ZAME_DIFFICULTY_LEVEL = 2
        text.ClearAll()
        Text.RemoveTextBox
        text.ShowH('SE43',2000,1)
        jump @MISSION_SETTINGS
        end
    end      

if
$PANEL2_ACTIVE_ROW == 3 
    then  
    if
    0E3E: is_button_just_pressed 0 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                        
        gosub @DIFFUCLITY_NIGHTMARE_SELECT
        ZAME_DIFFICULTY_LEVEL = 3
        text.ClearAll()
        Text.RemoveTextBox
        text.ShowH('SE43',2000,1)
        jump @MISSION_SETTINGS
        end
    end 
    
if
$PANEL2_ACTIVE_ROW > 3 
    then  
    if
    0E3E: is_button_just_pressed 0 16
        then    
        03E6: remove_text_box 
        08DA: remove_panel $PANEL  
        00BE: text_clear_all                        
        gosub @DIFFUCLITY_NIGHTMARE_SELECT
        ZAME_DIFFICULTY_LEVEL = 3
        
        if
        $PANEL2_ACTIVE_ROW == 4
        then
        
        if
        ZAME_MISSION_LOAD_NUMBER == 1
        then
        0B00: delete_file "me\ms1.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms1.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 2
        then
        0B00: delete_file "me\ms2.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms2.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 3
        then
        0B00: delete_file "me\ms3.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms3.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 4
        then
        0B00: delete_file "me\ms4.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms4.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 5
        then
        0B00: delete_file "me\ms5.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms5.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 6
        then
        0B00: delete_file "me\ms6.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms6.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 7
        then
        0B00: delete_file "me\ms7.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms7.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 8
        then
        0B00: delete_file "me\ms8.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Easy.ini" to "me\ms8.ini" //IF and SET
        end
        
        end
        
        if
        $PANEL2_ACTIVE_ROW == 5
        then
        
        if
        ZAME_MISSION_LOAD_NUMBER == 1
        then
        0B00: delete_file "me\ms1.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms1.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 2
        then
        0B00: delete_file "me\ms2.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms2.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 3
        then
        0B00: delete_file "me\ms3.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms3.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 4
        then
        0B00: delete_file "me\ms4.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms4.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 5
        then
        0B00: delete_file "me\ms5.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms5.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 6
        then
        0B00: delete_file "me\ms6.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms6.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 7
        then
        0B00: delete_file "me\ms7.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms7.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 8
        then
        0B00: delete_file "me\ms8.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Normal.ini" to "me\ms8.ini" //IF and SET
        end
        
        end
        
        if
        $PANEL2_ACTIVE_ROW == 6
        then
        
        if
        ZAME_MISSION_LOAD_NUMBER == 1
        then
        0B00: delete_file "me\ms1.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms1.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 2
        then
        0B00: delete_file "me\ms2.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms2.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 3
        then
        0B00: delete_file "me\ms3.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms3.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 4
        then
        0B00: delete_file "me\ms4.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms4.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 5
        then
        0B00: delete_file "me\ms5.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms5.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 6
        then
        0B00: delete_file "me\ms6.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms6.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 7
        then
        0B00: delete_file "me\ms7.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms7.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 8
        then
        0B00: delete_file "me\ms8.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Hard.ini" to "me\ms8.ini" //IF and SET
        end
        
        end
        
        if
        $PANEL2_ACTIVE_ROW == 7
        then
        
        if
        ZAME_MISSION_LOAD_NUMBER == 1
        then
        0B00: delete_file "me\ms1.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms1.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 2
        then
        0B00: delete_file "me\ms2.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms2.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 3
        then
        0B00: delete_file "me\ms3.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms3.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 4
        then
        0B00: delete_file "me\ms4.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms4.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 5
        then
        0B00: delete_file "me\ms5.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms5.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 6
        then
        0B00: delete_file "me\ms6.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms6.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 7
        then
        0B00: delete_file "me\ms7.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms7.ini" //IF and SET
        end
        
        if
        ZAME_MISSION_LOAD_NUMBER == 8
        then
        0B00: delete_file "me\ms8.ini"  // IF and SET
        0B04: copy_file "saves\owngame\presets\difficulty_Nightmare.ini" to "me\ms8.ini" //IF and SET
        end
        
        end
        
        text.ClearAll()
        Text.RemoveTextBox
        text.ShowH('SE523',5000,1)
        wait 5000
        jump @MISSION_SETTINGS
        end
    end                                 

if
0E3E: is_button_just_pressed 0 15 
then
03E6: remove_text_box 
08DA: remove_panel $PANEL  
00BE: text_clear_all
jump @MISSION_SETTINGS
else
jump @ZAME_DIFFICULTY_SELECT_IDLE
end  

:ZAME_SELECT_SKIN_BY_ID

06D1: v$SNAME3 = "" // v$ // Sunday
06D1: v$SNAME2 = "" // v$ // Sunday

29@ = 0
33@ = 0
KEYS_TYPED_NUM = 0

ZAME_NAME_AUD_TYPING_FLAG = 2
    
0AE0: remove_dynamic_GXT_entry "F_NAME"
0ADF: add_dynamic_GXT_entry "F_NAME" text ""

0512: show_permanent_text_box 'SE663'

while true
wait 0

if
8A2A: not  text_box 'SE663' displayed
    then
    0512: show_permanent_text_box 'SE663'
    end

CURRENT_LAYOUT = 1
gosub @OBJECT_ID_SELECT_KEYS_CHECK

if
8846: not  string v$SNAME3 empty // v$
then
0384: show_text_1string GXT "SE664" string "F_NAME" time 99999999 1
else
0384: show_text_1string GXT "SE664" string v$NAME3 time 99999999 1
end

if and
0E3E: is_button_just_pressed 0 button 16
33@ > 500
8846: not  string v$SNAME3 empty // v$
    then
    0AF5: write_string v$SNAME3 to_ini_file "me\temp.dat" section v$RACE_FILE key "ID_ID_ID"
    0AF0: 0@ = get_int_from_ini_file "me\temp.dat" section v$RACE_FILE key "ID_ID_ID"
    if
    07DE:   model 0@ exists  // versionB
        then
        
        33@ = 0
        text.RemoveTextBox()
        text.ClearAll()
        wait 5
        ZAME_NAME_AUD_TYPING_FLAG = 0        
        
        return
        else
        text.ShowH('SE234',1000,1)
        wait 1000
        end
    end

end