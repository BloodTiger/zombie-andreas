const 

///////////////////1 - Воспроизведение звука/////////////////// 
//Параметр 1 - постоянное, безусловное воспроизведение на кооординате.
//Параметр 2 - повтор звука.
//Параметр 3 - коэффициент усиления.
//Параметр 4 - задержка перед воспроизведением.
//Параметр 5 - хэндл к звуку.
//THING_X, THING_Y, THING_Z - координата для 3D звука
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат, при заходе в который звук будет воспроизведен.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы, при заходе в которую будет воспроизведен звук, THING_A2 - радиус.

///////////////////2 - Таймер провала/////////////////// 
//Параметр 1 - время таймера (мс).

///////////////////3 - Телепорт/////////////////// 
//Параметр 1 - номер интерьера.
//THING_X, THING_Y, THING_Z - координата маркера для телепорта, THING_A - угол обратного телепорта.
//THING_X2, THING_Y2, THING_Z2 - координата точки телепорта, THING_A2 - угол обратного телепорта.

///////////////////4 - Показ текста///////////////////
//Параметр 4 - задержка перед воспроизведением.
//Параметр 5 - ZAME_MISSION_PNG_PREVIEW_DRAW_FLAG.
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат показа текста.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы, при заходе в которую будет показан текст, THING_A2 - радиус.

///////////////////5 - Зона получения урона///////////////////
//Параметр 1 - количество урона.
//Параметр 4 - переодичность (мс) нанесения урона.
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат нанесения урона.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы, при заходе в которую будет нанесен урон, THING_A2 - радиус.

///////////////////6 - Вывoд тekcтypы нa эkpaн (зaпиcka)///////////////////
//Параметр 1 - записка стайл (нужно нажать чтобы подобрать).
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат показа записки.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы, при заходе в которую будет показана записка, THING_A2 - радиус.

///////////////////7 - Взpыв нa koopдинaтe///////////////////
//Параметр 1 - тип взрыва.
//THING_X, THING_Y, THING_Z - координата для взрыва
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат показа записки.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы, при заходе в которую будет показана записка, THING_A2 - радиус.

///////////////////8 - Coздaниe oгня нa koopдинaтe///////////////////
//Параметр 1 - размер взрыва.
//Параметр 2 - скорость распространения

///////////////////9 - Игровая зона///////////////////
//THING_X2, THING_Y2, THING_Z2, THING_X3, THING_Y3, THING_Z3 - квадрат ограничителя игровой зоны.
//если THING_X3, THING_Y3, THING_Z3 равны -1, то THING_X2, THING_Y2, THING_Z2 - координата сферы ограничения игровой зоны, THING_A2 - радиус.

ZAME_PARALLEL_THING_TYPE = 0@
ZAME_PARALLEL_THING_X = 1@
ZAME_PARALLEL_THING_Y = 2@
ZAME_PARALLEL_THING_Z = 3@
ZAME_PARALLEL_THING_A = 4@
ZAME_PARALLEL_THING_X2 = 5@
ZAME_PARALLEL_THING_Y2 = 6@
ZAME_PARALLEL_THING_Z2 = 7@
ZAME_PARALLEL_THING_A2 = 8@
ZAME_PARALLEL_THING_X3 = 9@
ZAME_PARALLEL_THING_Y3 = 10@
ZAME_PARALLEL_THING_Z3 = 11@
ZAME_PARALLEL_THING_A3 = 12@
ZAME_PARALLEL_THING_PARAM1 = 13@
ZAME_PARALLEL_THING_PARAM2 = 14@
ZAME_PARALLEL_THING_PARAM3 = 15@
ZAME_PARALLEL_THING_PARAM4 = 16@
ZAME_PARALLEL_THING_PARAM5 = 17@
ZAME_PARALLEL_THING_TRIGGER_ONCE = 18@
ZAME_PARALLEL_THING_AFTEROBJ_NUM = 19@
ZAME_PARALLEL_THING_UNTILOBJ_NUM = 20@  
ZAME_PARALLEL_THING_TEST_MODE = 21@
ZAME_PARALLEL_THING_NUM = 22@
ZAME_PARALLEL_TEMP_VAR = 29@
ZAME_PARALLEL_TEMP_VAR2 = 30@ 
end

:ZAM_TRG
thread 'ZAM_TRG'

if
ZAME_PARALLEL_THING_TYPE == 0
then
end_thread
end   

repeat
wait 0

//0AD1: show_formatted_text_highpriority "%d < ZAME_PARALLEL_THING_AFTEROBJ_NUM %d" time 2000 ZAME_CURRENT_OBJECTIVE_GLOB ZAME_PARALLEL_THING_AFTEROBJ_NUM

if
ZAME_PARALLEL_THING_TEST_MODE == 1
    then
    break
    end

until 002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_AFTEROBJ_NUM  // (int)

///////////////////9 - Ограничитель игровой зоны///////////////////

if
ZAME_PARALLEL_THING_TYPE == 9
    then
    
    :GO_FUCKING_AGAIN_GAMEZONE_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        if
        ZAME_PARALLEL_THING_TEST_MODE == 1
        then
        //ass
        else
        
        /////////////////////////////GET BACK TO THE FUCKING GAME ZONE SHINJI/////////////////////////////
        
        while true
        wait 0
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        if
        80FE: not  actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2
            then
            
            32@ = 0
            while 80FE: not  actor PLAYER_ACTOR sphere 1 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2
            wait 0
            
            1@ = 10000
            0085: 0@ = 32@ // (int)
            0062: 1@ -= 0@  // (int)
            1@ /= 1000                    
            text.Show1Number('SE518',1@,100,1)
            
            if
            32@ > 10000
                then
                05BE: AS_actor PLAYER_ACTOR die
                end_thread
                end
                        
            end            
                        
            end
        
        end
        
        /////////////////////////////GET BACK TO THE FUCKING GAME ZONE SHINJI/////////////////////////////
          
        end
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_GAMEZONE_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        if
        ZAME_PARALLEL_THING_TEST_MODE == 1
        then
        //ass
        else
        
        /////////////////////////////GET BACK TO THE FUCKING GAME ZONE SHINJI/////////////////////////////
        
        while true
        wait 0
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        if
        80A4: not  actor PLAYER_ACTOR sphere 0 in_cube_cornerA ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 cornerB ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3
            then
            
            32@ = 0
            while 80A4: not  actor PLAYER_ACTOR sphere 1 in_cube_cornerA ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 cornerB ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3
            wait 0
            
            1@ = 10000
            0085: 0@ = 32@ // (int)
            0062: 1@ -= 0@  // (int)
            1@ /= 1000                    
            text.Show1Number('SE518',1@,100,1)
            
            if
            32@ > 10000
                then
                05BE: AS_actor PLAYER_ACTOR die
                end_thread
                end
                        
            end            
                        
            end
        
        end
        
        /////////////////////////////GET BACK TO THE FUCKING GAME ZONE SHINJI/////////////////////////////
        
        end
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_GAMEZONE_CHECK
        else
        end_thread
        end
        
        end 
    
    end

///////////////////8 - Огонь нa koopдинaтe///////////////////

if
ZAME_PARALLEL_THING_TYPE == 8
    then
    
    :GO_FUCKING_AGAIN_FIRE_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        02CF: ZAME_PARALLEL_TEMP_VAR = create_fire_at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z propagation ZAME_PARALLEL_THING_PARAM2 size ZAME_PARALLEL_THING_PARAM1
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_FIRE_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        02CF: ZAME_PARALLEL_TEMP_VAR = create_fire_at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z propagation ZAME_PARALLEL_THING_PARAM2 size ZAME_PARALLEL_THING_PARAM1
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_FIRE_CHECK
        else
        end_thread
        end
        
        end 
     
    end 

///////////////////7 - Взpыв нa koopдинaтe///////////////////

if
ZAME_PARALLEL_THING_TYPE == 7
    then  
    
    :GO_FUCKING_AGAIN_EXPLOSION_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        0948: create_explosion_at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z type ZAME_PARALLEL_THING_PARAM1 camera_shake 1.0
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_EXPLOSION_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        0948: create_explosion_at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z type ZAME_PARALLEL_THING_PARAM1 camera_shake 1.0
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_EXPLOSION_CHECK
        else
        end_thread
        end
        
        end 
    
    end

///////////////////6 - Вывoд тekcтypы нa эkpaн (зaпиcka)///////////////////

if
ZAME_PARALLEL_THING_TYPE == 6
    then             
    
    :GO_FUCKING_AGAIN_ZAPISKATEXTURE_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        gosub @ZAME_TRIIGER_SHOW_ZAPISKA
        gosub @ZAME_TRIIGER_SPHERE_ENTER_ANTICHECK
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_ZAPISKATEXTURE_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        gosub @ZAME_TRIIGER_SHOW_ZAPISKA
        gosub @ZAME_TRIIGER_CUBE_ENTER_ANTICHECK
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_ZAPISKATEXTURE_CHECK
        else
        end_thread
        end
        
        end 
    
    end

///////////////////5 - Зона получения урона///////////////////

if
ZAME_PARALLEL_THING_TYPE == 5
    then
    
    :GO_FUCKING_AGAIN_DAMAGEZONE_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        0AF0: get_int 24@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
        if or
        ZAME_PARALLEL_THING_TEST_MODE == 1
        24@ == 1
        ZAME_KONTROLT4K_LOADING_FLAG_GLOB == 1
        then
        0AD1: show_formatted_text_highpriority "DAMAGEZONE DAMAGE BY %d HP" time 16@ ZAME_PARALLEL_THING_PARAM1
        else
        0851: set_actor PLAYER_ACTOR decrease_health_by ZAME_PARALLEL_THING_PARAM1 affect_armour 1  
        end
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_DAMAGEZONE_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        0AF0: get_int 24@ from_ini_file "saves\ZACM.set" section "SCR" key "EDITOR_LAUNCH_FROM_OBJ"
        if or
        ZAME_PARALLEL_THING_TEST_MODE == 1
        24@ == 1
        ZAME_KONTROLT4K_LOADING_FLAG_GLOB == 1
        then
        0AD1: show_formatted_text_highpriority "DAMAGEZONE DAMAGE BY %d HP" time 16@ ZAME_PARALLEL_THING_PARAM1
        else
        0851: set_actor PLAYER_ACTOR decrease_health_by ZAME_PARALLEL_THING_PARAM1 affect_armour 1  
        end
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_DAMAGEZONE_CHECK
        else
        end_thread
        end
        
        end 
    
    end

///////////////////4 - Показ текста///////////////////

if
ZAME_PARALLEL_THING_TYPE == 4
    then
    
    :GO_FUCKING_AGAIN_TEXT_CHECK
    
    ////////////////////////////Проигрывание при заходе в зону////////////////////////////
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
        then
        ZAME_PARALLEL_THING_X3 = -1.0
        ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
        gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        gosub @ZAME_TRIGGER_TEXT_SHOW
        gosub @ZAME_TRIIGER_SPHERE_ENTER_ANTICHECK        
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0  
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then        
        jump to @GO_FUCKING_AGAIN_TEXT_CHECK
        else
        end_thread
        end
        
        else
        0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
        ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
        gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
        
        if and
        002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
        not ZAME_PARALLEL_THING_TEST_MODE == 1
        then    
        end_thread
        end
        
        gosub @ZAME_TRIGGER_TEXT_SHOW
        gosub @ZAME_TRIIGER_CUBE_ENTER_ANTICHECK
        
        if or
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 0
        ZAME_PARALLEL_THING_TEST_MODE == 1  
        then
        jump to @GO_FUCKING_AGAIN_TEXT_CHECK
        else
        end_thread
        end
        
        end 
    
    end

///////////////////3 - Телепорт///////////////////

if
ZAME_PARALLEL_THING_TYPE == 3
    then
    
    if
    UNITED_MAP == 0
    then
    ZAME_PARALLEL_THING_PARAM2 = Object.Init(9268, ZAME_PARALLEL_THING_X, ZAME_PARALLEL_THING_Y, ZAME_PARALLEL_THING_Z)
    ZAME_PARALLEL_THING_PARAM3 = Object.Init(9268, ZAME_PARALLEL_THING_X2, ZAME_PARALLEL_THING_Y2, ZAME_PARALLEL_THING_Z2)
    else
    ZAME_PARALLEL_THING_PARAM2 = Object.Init(18161, ZAME_PARALLEL_THING_X, ZAME_PARALLEL_THING_Y, ZAME_PARALLEL_THING_Z)
    ZAME_PARALLEL_THING_PARAM3 = Object.Init(18161, ZAME_PARALLEL_THING_X2, ZAME_PARALLEL_THING_Y2, ZAME_PARALLEL_THING_Z2)
    end
    
    0566: link_object ZAME_PARALLEL_THING_PARAM2 to_interior ZAME_PARALLEL_THING_PARAM1
    0566: link_object ZAME_PARALLEL_THING_PARAM3 to_interior ZAME_PARALLEL_THING_PARAM1
    end

///////////////////2 - Таймер провала///////////////////
if and
ZAME_PARALLEL_THING_TYPE == 2
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then
    
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
    then
    gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
    else
    gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
    end
    0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
    
    repeat
    wait 0
    until $HUD_REMOVE == 0
    
    repeat
    wait 0
    until 09E7:  player PLAYER_CHAR not_frozen
    
    008A: $TIME = ZAME_PARALLEL_THING_PARAM1 // (int)
    if
    0800:   in_two_players_mode
    then
    $TIME *= 2
    end
    
    $TIME *= 1000
    03C3: set_timer_to $TIME type 1 GXT 'BB_19' // global_variable  // Time
    end
    
///////////////////2 - Таймер провала///////////////////
if and
ZAME_PARALLEL_THING_TYPE == 2
ZAME_PARALLEL_THING_TEST_MODE == 1
    then
    
    :GO_FUCKING_AGAIN_TIMERFAIL_CHECK
    
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
    then
    gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK
    else
    gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
    end
    0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
    
    repeat
    wait 0
    until $HUD_REMOVE == 0
    
    repeat
    wait 0
    until 09E7:  player PLAYER_CHAR not_frozen
    
    0AD1: show_formatted_text_highpriority "FAIL TIMER BETWEEN %d and %d" time 2000 ZAME_PARALLEL_THING_AFTEROBJ_NUM ZAME_PARALLEL_THING_UNTILOBJ_NUM
    008A: $TIME = ZAME_PARALLEL_THING_PARAM1 // (int)
    $TIME *= 1000
    03C3: set_timer_to $TIME type 1 GXT 'BB_19' // global_variable  // Time
    
    0085: ZAME_PARALLEL_TEMP_VAR = ZAME_PARALLEL_THING_AFTEROBJ_NUM // (int)    
    ZAME_PARALLEL_TEMP_VAR += 1
    0AD3: 24@v = format "OBJ%d" ZAME_PARALLEL_TEMP_VAR
    if
    8AF0: not get_int ZAME_PARALLEL_TEMP_VAR2 from_ini_file "me\temp.dat" section 24@v key "DO_NOT_EXIST_PLEASE"
        then        
        0AF2: get_float ZAME_PARALLEL_THING_X from_ini_file "me\temp.dat" section 24@v key "OBJECTIVE_X"
        0AF2: get_float ZAME_PARALLEL_THING_Y from_ini_file "me\temp.dat" section 24@v key "OBJECTIVE_Y"
        0AF2: get_float ZAME_PARALLEL_THING_Z from_ini_file "me\temp.dat" section 24@v key "OBJECTIVE_Z"               
        0459: end_thread_named 'ZAM_COR'
        create_thread @ZAM_COR ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z 1000 255 0 0 155 1 1     
        end  
    
    0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
    if
    ZAME_PARALLEL_THING_X3 == -1
    then
    gosub @ZAME_TRIIGER_SPHERE_ENTER_ANTICHECK
    else
    gosub @ZAME_TRIIGER_CUBE_ENTER_ANTICHECK
    end
    0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
    
    014F: stop_timer $TIME
    $TIME = 0
    
    jump to @GO_FUCKING_AGAIN_TIMERFAIL_CHECK
    
    end    

///////////////////1 - Воспроизведение звука///////////////////
if
ZAME_PARALLEL_THING_TYPE == 1
    then
    
    0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
    0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "AUD_NAME"
    if
    0AAB:   file_exists 24@v
    then
    ZAME_PARALLEL_THING_PARAM5 = audiostream.Load3d(24@v)
    Audiostream.SetPosition(ZAME_PARALLEL_THING_PARAM5,ZAME_PARALLEL_THING_Z,ZAME_PARALLEL_THING_X,ZAME_PARALLEL_THING_Y) //ZXY
    0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
    ZAME_PARALLEL_TEMP_VAR /= 100.0
    005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
    Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
    Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
    end
    
    if
    ZAME_PARALLEL_THING_PARAM1 == 1 //постоянное, безусловное воспроизведение на кооординате.
        then
        wait 16@
        ////////////////////////////Безусловное проигрывание////////////////////////////
        Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM5, PLAY)
        0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
        ZAME_PARALLEL_TEMP_VAR /= 100.0
        005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
        Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
        Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
        else
        ////////////////////////////Проигрывание при заходе в зону////////////////////////////
        0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
        if
        ZAME_PARALLEL_THING_X3 == -1
            then
            ZAME_PARALLEL_THING_X3 = -1.0
            ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
            gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK            
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM5, PLAY)
            0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
            ZAME_PARALLEL_TEMP_VAR /= 100.0
            005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
            else
            0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
            ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
            gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM5, PLAY)
            0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
            ZAME_PARALLEL_TEMP_VAR /= 100.0
            005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
            end 
        end
        
    end    

while true
wait 0

//0AD1: show_formatted_text_highpriority "%d > ZAME_PARALLEL_THING_UNTILOBJ_NUM %d" time 2000 ZAME_CURRENT_OBJECTIVE_GLOB ZAME_PARALLEL_THING_UNTILOBJ_NUM
if and
002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then
    
    if
    ZAME_PARALLEL_THING_TYPE == 1
    then
    audiostream.Release(ZAME_PARALLEL_THING_PARAM5)
    end
    
    if
    ZAME_PARALLEL_THING_TYPE == 2
    then
    014F: stop_timer $TIME
    $TIME = 0
    end
    
    if
    ZAME_PARALLEL_THING_TYPE == 3
    then
    object.Destroy(ZAME_PARALLEL_THING_PARAM2)
    object.Destroy(ZAME_PARALLEL_THING_PARAM3)
    end
    
    end_thread
    end
    
if
ZAME_PARALLEL_THING_TYPE == 3
then

///////////////////////////////////Спускание с лестницы///////////////////////////////////    

if and
//00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 5.0 5.0 5.0
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 3.0
$PANEL_OPEN == 0
    then             
    
    if and
    ZAME_PARALLEL_THING_TEST_MODE == 1
    0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 3.0
    then
    text.ShowTextBox('SE477')
    wait 500
    end
    
    while 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 3.0
//    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 3.0 3.0 3.0
    wait 0
    
    {$INCLUDE ZAME Trigger Thing Delete Check.txt}                        
    
    if and
    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 1.5 1.5 3.0
    not actor.Driving(PLAYER_ACTOR)    
        then
        LADDER_ON_MARKER_FLAG = 1
        
        if and
        $KEY_USE == 69
        8A4B: not  controls_set_to_joystick
        then
        0512: show_permanent_text_box 'GAME289'
        else
        if
        8A4B: not  controls_set_to_joystick
            then
            0512: show_permanent_text_box 'GA289_2'
            else
            0512: show_permanent_text_box 'GA289_3'
            end
        end
        
        if
        0AB0:   key_pressed 69
            then
            
            0EAC: get_char_proofs PLAYER_ACTOR bullet $CIM_BUL fire $CIM_FIR explosion $CIM_EXP collision $CIM_COL melee $CIM_MEL
            actor.SetImmunities(PLAYER_ACTOR,1,1,1,1,1)     
            
            text.RemoveTextBox()
                    
//            player.CanMove(PLAYER_CHAR) = false
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                             
                    
            $HUD_REMOVE = 1
            fade 0 500
            wait 500
                    
            $SPEED_01_FLAG = 1
                    
            ZAME_PARALLEL_THING_PARAM4 = Audiostream.Load("AUDIO\SOUNDS\LadderClimb.mp3") 
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM4, 1)  
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM4, PLAY)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM4) = $SOUNDS_VOLUME
                    
            0087: ZAME_PARALLEL_TEMP_VAR = ZAME_PARALLEL_THING_Z // (float)
            0087: ZAME_PARALLEL_TEMP_VAR2 = ZAME_PARALLEL_THING_Z2 // (float)
                                
            0063: ZAME_PARALLEL_TEMP_VAR -= ZAME_PARALLEL_TEMP_VAR2  // (float)  
                    
            if
            ZAME_PARALLEL_TEMP_VAR < 0.0
            then                            
            ZAME_PARALLEL_TEMP_VAR *= -1.0
            end 
            
            0092: ZAME_PARALLEL_TEMP_VAR = float ZAME_PARALLEL_TEMP_VAR to_integer
                    
            ZAME_PARALLEL_TEMP_VAR *= 25                    
            
            gosub @LADDER_SYS_GOING_PROCESS2 
                    
//            wait ZAME_PARALLEL_TEMP_VAR
                    
            $SPEED_01_FLAG = 0                
            015D: set_gamespeed 1.0
                    
            if
            $COMMAND_STAY_IN_CAR == 1
            then
            09BC: put_actor PLAYER_ACTOR at ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 no_offset_and_dont_warp_gang
            else        
            actor.PutAtNoOffset(PLAYER_ACTOR,ZAME_PARALLEL_THING_X2,ZAME_PARALLEL_THING_Y2,ZAME_PARALLEL_THING_Z2)
            end
            
            actor.Angle(PLAYER_ACTOR) = ZAME_PARALLEL_THING_A2
            camera.Restore_WithJumpCut()                        
                    
            audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM4,STOP)
            audiostream.Release(ZAME_PARALLEL_THING_PARAM4)
            
//            if
//            $COMMAND_STAY_IN_CAR == 0
//            then
//            gosub @FRNDS_LDR_CHECK_TP
//            end
                    
//            player.CanMove(PLAYER_CHAR) = true
            0E68: set_player_control_pad 1 1 
            0E69: set_player_control_pad_movement 0 1
            
            actor.SetImmunities(PLAYER_ACTOR,$CIM_BUL,$CIM_FIR,$CIM_EXP,$CIM_COL,$CIM_MEL)
                    
            fade 1 500
            $HUD_REMOVE = 0
            wait 500
            
            LADDER_ON_MARKER_FLAG = 0                
                    
            end
        else
        if or
        0A2A:   text_box 'GAME289' displayed
        0A2A:   text_box 'GA289_2' displayed
        0A2A:   text_box 'GA289_3' displayed
            then
            text.RemoveTextBox()
            LADDER_ON_MARKER_FLAG = 0 
            end 
        end 
        
    end
    
    LADDER_ON_MARKER_FLAG = 0
    
    end
    
///////////////////////////////////Поднимание на лестнице///////////////////////////////////

if and
//00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius 3.0 3.0 3.0
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius 3.0
$PANEL_OPEN == 0
    then       
    
    if and
    ZAME_PARALLEL_THING_TEST_MODE == 1      
    0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 3.0
    then
    text.ShowTextBox('SE477')
    wait 500
    end
            
    while 0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius 3.0
//    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius 3.0 3.0 3.0
    wait 0
    
    {$INCLUDE ZAME Trigger Thing Delete Check.txt}                
            
    if and
    00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius 1.5 1.5 3.0
    not actor.Driving(PLAYER_ACTOR)    
        then
        LADDER_ON_MARKER_FLAG = 1
        
        if and
        $KEY_USE == 69
        8A4B: not  controls_set_to_joystick
        then
        0512: show_permanent_text_box 'GAME288'
        else
        if
        8A4B: not  controls_set_to_joystick
            then
            0512: show_permanent_text_box 'GA288_2'
            else
            0512: show_permanent_text_box 'GA288_3'
            end
        end
        
        if
        0AB0:   key_pressed 69
            then
            
            0EAC: get_char_proofs PLAYER_ACTOR bullet $CIM_BUL fire $CIM_FIR explosion $CIM_EXP collision $CIM_COL melee $CIM_MEL
            actor.SetImmunities(PLAYER_ACTOR,1,1,1,1,1)    
            
            text.RemoveTextBox()
                    
//            player.CanMove(PLAYER_CHAR) = false
            0E68: set_player_control_pad 0 1 
            0E69: set_player_control_pad_movement 0 0                            
                    
            $HUD_REMOVE = 1
            fade 0 500
            wait 500
                    
            $SPEED_01_FLAG = 1
                    
            ZAME_PARALLEL_THING_PARAM4 = Audiostream.Load("AUDIO\SOUNDS\LadderClimb.mp3") 
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM4, 1)  
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM4, PLAY)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM4) = $SOUNDS_VOLUME
                    
            0087: ZAME_PARALLEL_TEMP_VAR = ZAME_PARALLEL_THING_Z // (float)
            0087: ZAME_PARALLEL_TEMP_VAR2 = ZAME_PARALLEL_THING_Z2 // (float)
                                
            0063: ZAME_PARALLEL_TEMP_VAR -= ZAME_PARALLEL_TEMP_VAR2  // (float)  
                    
            if
            ZAME_PARALLEL_TEMP_VAR < 0.0
            then                            
            ZAME_PARALLEL_TEMP_VAR *= -1.0
            end
    
            0092: ZAME_PARALLEL_TEMP_VAR = float ZAME_PARALLEL_TEMP_VAR to_integer
                    
            ZAME_PARALLEL_TEMP_VAR *= 25
            
            gosub @LADDER_SYS_GOING_PROCESS2                    
                    
//            wait ZAME_PARALLEL_TEMP_VAR
                    
            $SPEED_01_FLAG = 0                
            015D: set_gamespeed 1.0
            
            if
            $COMMAND_STAY_IN_CAR == 1
            then
            09BC: put_actor PLAYER_ACTOR at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z no_offset_and_dont_warp_gang
            else        
            actor.PutAtNoOffset(PLAYER_ACTOR,ZAME_PARALLEL_THING_X,ZAME_PARALLEL_THING_Y,ZAME_PARALLEL_THING_Z)
            end
            
            actor.Angle(PLAYER_ACTOR) = ZAME_PARALLEL_THING_A
            camera.Restore_WithJumpCut()                        
                    
            audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM4,STOP)
            audiostream.Release(ZAME_PARALLEL_THING_PARAM4)
            
//            if
//            $COMMAND_STAY_IN_CAR == 0
//            then
//            gosub @FRNDS_LDR_CHECK_TP
//            end
                    
//            player.CanMove(PLAYER_CHAR) = true
            0E68: set_player_control_pad 1 1 
            0E69: set_player_control_pad_movement 0 1
            
            actor.SetImmunities(PLAYER_ACTOR,$CIM_BUL,$CIM_FIR,$CIM_EXP,$CIM_COL,$CIM_MEL)
                    
            fade 1 500
            $HUD_REMOVE = 0
            wait 500
            
            LADDER_ON_MARKER_FLAG = 0                
                    
            end
        else        
        if or
        0A2A:   text_box 'GAME288' displayed
        0A2A:   text_box 'GA288_2' displayed
        0A2A:   text_box 'GA288_3' displayed
            then
            text.RemoveTextBox()
            LADDER_ON_MARKER_FLAG = 0 
            end 
        end                                                       
        
    end
    
    LADDER_ON_MARKER_FLAG = 0    
    
    end    

end    
    
if and
ZAME_PARALLEL_THING_TYPE == 2
$TIME < 1
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then
    05BE: AS_actor PLAYER_ACTOR die
    end_thread   
    end 

if and
ZAME_PARALLEL_THING_TYPE == 1
ZAME_PARALLEL_THING_PARAM1 == 0
ZAME_PARALLEL_THING_PARAM2 == 0
    then
    0AB9: get_mp3 ZAME_PARALLEL_THING_PARAM5 state_to ZAME_PARALLEL_TEMP_VAR
    if
    ZAME_PARALLEL_TEMP_VAR == -1
        then
        
        if
        ZAME_PARALLEL_THING_TRIGGER_ONCE == 1
        then
        audiostream.Release(ZAME_PARALLEL_THING_PARAM5)
        end_thread
        end
        
        ///////////////////////////Проигрывание при заходе в зону////////////////////////////
        0092: ZAME_PARALLEL_THING_X3 = float ZAME_PARALLEL_THING_X3 to_integer
        if
        ZAME_PARALLEL_THING_X3 == -1
            then
            ZAME_PARALLEL_THING_X3 = -1.0
            ////////////////////////////Проигрывание при заходе в сферную зону////////////////////////////
            gosub @ZAME_TRIIGER_SPHERE_ENTER_CHECK            
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM5, PLAY)
            0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
            ZAME_PARALLEL_TEMP_VAR /= 100.0
            005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
            gosub @ZAME_TRIIGER_SPHERE_ENTER_ANTICHECK
            else
            0093: ZAME_PARALLEL_THING_X3 = integer ZAME_PARALLEL_THING_X3 to_float
            ////////////////////////////Проигрывание при заходе в кубическфую зону////////////////////////////
            gosub @ZAME_TRIIGER_CUBE_ENTER_CHECK
            Audiostream.PerformAction(ZAME_PARALLEL_THING_PARAM5, PLAY)
            0089: ZAME_PARALLEL_TEMP_VAR2 = $SOUNDS_VOLUME // (float)
            ZAME_PARALLEL_TEMP_VAR /= 100.0
            005B: ZAME_PARALLEL_TEMP_VAR2 += ZAME_PARALLEL_THING_PARAM3  // (float)
            Audiostream.Volume(ZAME_PARALLEL_THING_PARAM5) = $SOUNDS_VOLUME
            Audiostream.Loop(ZAME_PARALLEL_THING_PARAM5, ZAME_PARALLEL_THING_PARAM2)
            gosub @ZAME_TRIIGER_CUBE_ENTER_ANTICHECK
            end 
        end
    end

end

end_thread

:ZAME_TRIIGER_SPHERE_ENTER_CHECK

//018A: FERNANDO_DIALOG_COUNT = create_checkpoint_at ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2

repeat
wait 0

if and
002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then    
    return
    end

//0AD1: show_formatted_text_highpriority "SPHERE CHECK ~n~ %f %f %f, RADIUS %f" time 10 ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 ZAME_PARALLEL_THING_A2
until 00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2

wait ZAME_PARALLEL_THING_PARAM4

return

:ZAME_TRIIGER_CUBE_ENTER_CHECK

//018A: FERNANDO_DIALOG_COUNT = create_checkpoint_at ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2
//018A: FERNANDO_DIALOG_COUNT = create_checkpoint_at ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3

repeat
wait 0

if and
002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then    
    return
    end

//0AD1: show_formatted_text_highpriority "CUBE CHECK ~n~ %f %f %f ~n~ %f %f %f" time 10 ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3
until 00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 cornerB ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3

wait ZAME_PARALLEL_THING_PARAM4

return

:ZAME_TRIIGER_SPHERE_ENTER_ANTICHECK

if
ZAME_PARALLEL_THING_TEST_MODE == 1
then
text.ShowTextBox('SE477')
end

repeat
wait 0

{$INCLUDE ZAME Trigger Thing Delete Check.txt}

if and
002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then    
    return
    end

//0AD1: show_formatted_text_highpriority "SPHERE ANTICHECK" time 10
until 80FE: not  actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 radius ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2 ZAME_PARALLEL_THING_A2

wait ZAME_PARALLEL_THING_PARAM4

return

:ZAME_TRIIGER_CUBE_ENTER_ANTICHECK

if
ZAME_PARALLEL_THING_TEST_MODE == 1
then
text.ShowTextBox('SE477')
end

repeat
wait 0

{$INCLUDE ZAME Trigger Thing Delete Check.txt}

if and
002E:   ZAME_CURRENT_OBJECTIVE_GLOB >= ZAME_PARALLEL_THING_UNTILOBJ_NUM  // (int)
not ZAME_PARALLEL_THING_TEST_MODE == 1
    then    
    return
    end

//0AD1: show_formatted_text_highpriority "CUBE ANTICHECK" time 10
until 80A4: not  actor PLAYER_ACTOR sphere 0 in_cube_cornerA ZAME_PARALLEL_THING_X2 ZAME_PARALLEL_THING_Y2 ZAME_PARALLEL_THING_Z2 cornerB ZAME_PARALLEL_THING_X3 ZAME_PARALLEL_THING_Y3 ZAME_PARALLEL_THING_Z3

wait ZAME_PARALLEL_THING_PARAM4

return

:LADDER_SYS_GOING_PROCESS2

32@ = 0
            
repeat
wait 0

fade 0 0

0085: ZAME_PARALLEL_TEMP_VAR2 = ZAME_PARALLEL_TEMP_VAR // (int)
ZAME_PARALLEL_TEMP_VAR2 /= 100
0085: ZAME_PARALLEL_THING_PARAM5 = 32@ // (int)

if
ZAME_PARALLEL_TEMP_VAR2 < 1
then
return
end

0072: ZAME_PARALLEL_THING_PARAM5 /= ZAME_PARALLEL_TEMP_VAR2 // (int)
            
03F0: enable_text_draw 1
0349: set_text_draw_font 2
0340: set_text_draw_RGBA 180 180 180 255
if
DIRECTFONT_INSTALLED == 1
then    
0340: set_text_draw_RGBA DIRECTFONT_FONT2_R DIRECTFONT_FONT2_G DIRECTFONT_FONT2_B 255
end
 
033F: set_text_draw_letter_size $SAVING_TEXT_SIZE_X $SAVING_TEXT_SIZE_Y
0343: set_text_draw_linewidth 640.0
            
if
UNITED_MAP == 1
then    
0349: set_text_draw_font 2
end

if
ZAME_PARALLEL_THING_PARAM5 > 100
then
ZAME_PARALLEL_THING_PARAM5 = 100
end
            
045A: draw_text_1number 260.0 220.0 GXT 'GME1001' number ZAME_PARALLEL_THING_PARAM5
            
until ZAME_PARALLEL_THING_PARAM5 >= 100
            
return             

:ZAME_TRIGGER_TEXT_SHOW

0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
if
0AF0: get_int ZAME_PARALLEL_TEMP_VAR from_ini_file "me\temp.dat" section 24@v key "SHOW_AS_TEXTBOX"
then 

/////////////////////////////////////TEXT BOX/////////////////////////////////////
                 
09BD: allow_other_threads_to_display_text_boxes 1
0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "FXT_ID"
text.ShowTextBox(24@v)
    
repeat
wait 0    
until 8A2A: not  text_box 24@v displayed
    
09BD: allow_other_threads_to_display_text_boxes 0

//////////////////////////////////////////////////////////////////////////////////

else

/////////////////////////////////////SUBTITLE/////////////////////////////////////

0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "FXT_ID"
09FD: get_gxt_string 24@v width_to ZAME_PARALLEL_TEMP_VAR  // ~k~~PED_SPRINT~ Select
0093: ZAME_PARALLEL_TEMP_VAR = integer ZAME_PARALLEL_TEMP_VAR to_float
ZAME_PARALLEL_TEMP_VAR *= 8.0
0092: ZAME_PARALLEL_TEMP_VAR = float ZAME_PARALLEL_TEMP_VAR to_integer

32@ = 0
$PHRASES_OFF_FLAG = 1

repeat
wait 0
text.ShowH(24@v,10,1)
until 002D:   32@ >= ZAME_PARALLEL_TEMP_VAR  // (int)

$PHRASES_OFF_FLAG = 0 

////////////////////////////////////////////////////////////////////////////////// 

end

return          

:ZAME_TRIIGER_SHOW_ZAPISKA

if
ZAME_PARALLEL_THING_PARAM1 == 1
then
gosub @ZAME_TRIIGER_SHOW_ZAPISKA_NEED_TO_GRAB 
gosub @ZAME_MISSION_PICTURES_CHECK2
gosub @ZAME_TXD_PIC_SHOW2
else
gosub @ZAME_MISSION_PICTURES_CHECK2
gosub @ZAME_TXD_PIC_SHOW2
end

return

:ZAME_TRIIGER_SHOW_ZAPISKA_NEED_TO_GRAB 

///////////////////////////////////Поднятие записки///////////////////////////////////
    

while 00FE:   actor PLAYER_ACTOR sphere 0 in_sphere ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 10.0 10.0 10.0
wait 0

0D54: draw_corona_with_extra_params_texture 0 color 255 0 0 155 on_entity 0 at ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z size 0.5 far_clip 10.0 near_clip 0.5 flare 0 enable_reflection 1 check_obstacles 0 flash_while_fading 0 fade_speed 15.0 only_from_below 0
       
if
0101:   actor PLAYER_ACTOR in_sphere ZAME_PARALLEL_THING_X ZAME_PARALLEL_THING_Y ZAME_PARALLEL_THING_Z radius 1.5 1.5 3.0 sphere 0 stopped
    then
    
    if and
    $KEY_USE == 69
    8A4B: not  controls_set_to_joystick
    then  
    0512: show_permanent_text_box 'GAME287'  // If your health reaches zero, you will pass out and you will be treated at the local medical center.
    else
    if
    8A4B: not  controls_set_to_joystick
        then
        0512: show_permanent_text_box 'GA287_2'  // If your health reaches zero, you will pass out and you will be treated at the local medical center.
        else
        0512: show_permanent_text_box 'GA287_3'  // If your health reaches zero, you will pass out and you will be treated at the local medical center.
        end
    end
    
    if
    0AB0:   key_pressed 69
        then        
        text.RemoveTextBox()             
        break           
        end
    else 
    if or
    0A2A:   text_box 'GAME287' displayed  // ~h~Gambling Skill~w~ - Gambler level reached. Your maximum wager has increased to $1,000. You can now borrow up to $1,000 from the casino.
    0A2A:   text_box 'GA287_2' displayed  // ~h~Gambling Skill~w~ - Gambler level reached. Your maximum wager has increased to $1,000. You can now borrow up to $1,000 from the casino.
    0A2A:   text_box 'GA287_3' displayed  // ~h~Gambling Skill~w~ - Gambler level reached. Your maximum wager has increased to $1,000. You can now borrow up to $1,000 from the casino.
        then
        text.RemoveTextBox() 
        end  
    end

end                          

return

:ZAME_MISSION_PICTURES_CHECK2

008B: ZAME_PARALLEL_TEMP_VAR = ZAME_MISSION_LOAD_NUMBER_GLOB // (int)
ZAME_PARALLEL_TEMP_VAR -= 1

///////////////////////////////1 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 0
    then
    if
    0AAB:   file_exists "ME\MS1.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS1.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////2 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 1
    then
    if
    0AAB:   file_exists "ME\MS2.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS2.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////3 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 2
    then
    if
    0AAB:   file_exists "ME\MS3.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS3.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////4 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 3
    then
    if
    0AAB:   file_exists "ME\MS4.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS4.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////5 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 4
    then
    if
    0AAB:   file_exists "ME\MS5.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS5.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////6 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 5
    then
    if
    0AAB:   file_exists "ME\MS6.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS6.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////7 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 6
    then
    if
    0AAB:   file_exists "ME\MS7.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS7.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end
    
///////////////////////////////8 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 7
    then
    if
    0AAB:   file_exists "ME\MS8.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS8.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end 
    
///////////////////////////////9 слот///////////////////////////////
if
ZAME_PARALLEL_TEMP_VAR == 8
    then
    if
    0AAB:   file_exists "ME\MS9.TXD"
        then    
        if
        0D42: load_txd "PiZdA" from "ME\\MS9.TXD" // IF and SET 
            then
            0D43: ZAME_PARALLEL_TEMP_VAR = txd "PiZdA" id
            0AD3: 24@v = format "TRG%d" ZAME_PARALLEL_THING_NUM
            0AF4: 24@v = read_string_from_ini_file "me\temp.dat" section 24@v key "TEXTURE_NAME"
            if
            0D46: ZAME_PARALLEL_TEMP_VAR2 = find_texture 24@v in_dictionary ZAME_PARALLEL_TEMP_VAR // IF and SET
                then
                ZAME_PARALLEL_THING_PARAM5 = 1 
                end
            else
            if
            ZAME_PARALLEL_THING_PARAM5 == 1
                then
                ZAME_PARALLEL_THING_PARAM5 = 0
                end
            end
        else
        if
        ZAME_PARALLEL_THING_PARAM5 == 1
            then
            ZAME_PARALLEL_THING_PARAM5 = 0
            end
        end    
    end                                

return

:ZAME_TXD_PIC_SHOW2   

//$READING_NOTE_FLAG = 1
//USER_TAPE_OFF_FLAG = 1

//player.CanMove(PLAYER_CHAR) = false
0E68: set_player_control_pad 0 1 
0E69: set_player_control_pad_movement 0 0

$HUD_REMOVE = 1
$HUD_OFF_INST = 1
cinema.Radar(0)

////////////////////////////////////////////////

015D: set_gamespeed 0.0
$SPEED_00_FLAG = 1

//////////Показываем странички записки//////////

 repeat 
wait 0
//fade 0 0
0E1E: draw_texture_plus ZAME_PARALLEL_TEMP_VAR2 event 2 pos 320.0 225.0 size 640.0 450.0 angle 0.0 depth 0.0 fix_aspect_ratio 0 maskTrisCount 0 maskTrisArray 0 rgba 255 255 255 255
 until 0E3E: is_button_just_pressed 0 17   

////////////////////////////////////////////////

$SPEED_00_FLAG = 0   

015D: set_gamespeed 1.0

wait 1
03F0: enable_text_draw 0
wait 1
0391: release_textures 

wait 1

0A0E: disable_text_with_style 1 

//player.CanMove(PLAYER_CHAR) = true
0E68: set_player_control_pad 0 1 
0E69: set_player_control_pad_movement 0 1

$HUD_REMOVE = 0
$HUD_ON_INST = 1
cinema.Radar(1)

//$READING_NOTE_FLAG = 0

return