//CAMP_NUMBER = 1

const
MISSION14_BANDIT_CAR4 = 204@
MAIN_QUEST2_ACTOR = $RNDM_HOUSE_WEAPON[23]
MQ2_TEMP_CAR_X = 402@
MQ2_TEMP_CAR_Y = 403@
MQ2_TEMP_CAR_Z = 404@
MQ2_TEMP_CAR_ANGLE = 405@
MQ2_TEMP_CAR_SAVE_FLAG = 406@
MQ2_ALLOW_HEADSHOOT_PRE = 407@
end

:MQ2
thread 'MQ2'
gosub @ASSKOD_MISSII2829ASS_2 
if 
wasted_or_busted 
jf @ASSPROPUSK_KODA2829ASS_2 
gosub @ASSKOD_PROVALA2829ASS_2 

:ASSPROPUSK_KODA2829ASS_2        
gosub @ASSUDALENIE_KODA2829ASS_2

HARDCORE_DANGER_FLAG_SCRIPTED = 0
if
GAME_OVER_FLAG == 1
then
HARDCORE_DANGER_ANTIFLAG_SCRIPTED = 1
end

create_thread @MQ_CHKP

end_thread

:ASSKOD_MISSII2829ASS_2
increment_mission_attempts
0629: change_integer_stat 258 to 31

if
056E:   car $USED_CAR[LATEST_CAR_SLOT_USED] defined
then
Car.StorePos($USED_CAR[LATEST_CAR_SLOT_USED], MQ2_TEMP_CAR_X, MQ2_TEMP_CAR_Y, MQ2_TEMP_CAR_Z)
MQ2_TEMP_CAR_ANGLE = car.Angle($USED_CAR[LATEST_CAR_SLOT_USED])
MQ2_TEMP_CAR_SAVE_FLAG = 1
else
MQ2_TEMP_CAR_SAVE_FLAG = 0
end

///////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 1
$MUSIC_ASSHOLE = Audiostream.Load("AUDIO\SOUNDS\QUESTS\Q2\Q2A.wav")
Audiostream.PerformAction($MUSIC_ASSHOLE, PLAY)
Audiostream.Loop($MUSIC_ASSHOLE, 1)
Audiostream.Volume($MUSIC_ASSHOLE) = 0.0

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

/////////////////////////////////////////////////////////////////////

actor.StorePos(PLAYER_ACTOR,100@,101@,102@)
0084: $QUEST_CAMP_NUMBER = $ENTERED_CAMP_NUMBER // (int)

marker.Disable($CAMP_MARKER[$QUEST_CAMP_NUMBER])
$CAMP_MARKER[$QUEST_CAMP_NUMBER] = Marker.CreateIconWithoutSphere(31, $CAMP_X[$QUEST_CAMP_NUMBER], $CAMP_Y[$QUEST_CAMP_NUMBER], $CAMP_Z[$QUEST_CAMP_NUMBER])

MAIN_QUEST_TEAMMATES_REMOVE_FLAG = 1 

repeat
wait 0
until $PHRASES_OFF_FLAG == 0

//MAIN_QUEST2_COMPLETED_FLAG = 1

$CAMP_ACTOR1_DEAD[1] = 0
$CAMP_ACTOR2_DEAD[1] = 0
$CAMP_ACTOR3_DEAD[1] = 0
$CAMP_ACTOR4_DEAD[1] = 0
$CAMP_ACTOR5_DEAD[1] = 0
$CAMP_ACTOR6_DEAD[1] = 0
$CAMP_ACTOR7_DEAD[1] = 0
$CAMP_ACTOR8_DEAD[1] = 0
$CAMP_ACTOR9_DEAD[1] = 0
$CAMP_ACTOR10_DEAD[1] = 0
$CAMP_ACTOR1_GDL[1] = 0
$CAMP_ACTOR2_GDL[1] = 0
$CAMP_ACTOR3_GDL[1] = 0
$CAMP_ACTOR4_GDL[1] = 0
$CAMP_ACTOR5_GDL[1] = 0
$CAMP_ACTOR6_GDL[1] = 0
$CAMP_ACTOR7_GDL[1] = 0
$CAMP_ACTOR8_GDL[1] = 0
$CAMP_ACTOR9_GDL[1] = 0
$CAMP_ACTOR10_GDL[1] = 0

00BA: show_text_styled GXT "GAME611" time 5000 style 2

032B: 203@ = create_weapon_pickup #SNIPER type 3 ammo 28 at 2821.6079 -2007.9825 20.3843

$ONMISSION = 1
$QUEST_TYPE = 14
CAMP_DONT_SAY_HELLO_FLAG = 1
$NOTSPAWN_ETC = 1
$SPECIAL_INFECTED_NOT_SPAWN_FLAG = 1
$SURVIVORS_DONT_SPAWN_FLAG = 1

if and
$CHEATS_ON == 1
0AB0:   key_pressed 49
then
0AF1: write_int 1 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
end

if and
$CHEATS_ON == 1
0AB0:   key_pressed 50
then
0AF1: write_int 2 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
end

if and
$CHEATS_ON == 1
0AB0:   key_pressed 51
then
0AF1: write_int 3 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
end

0AF0: 0@ = get_int_from_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"

if
MQ_CHECKPOINT_FUCKNO == 1
then
0@ = 0
end

if
0@ == 1
then
$HUD_REMOVE = 1
fade 0 500
wait 500
$SAVESTATUS = 1

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

wait 500
$SAVESTATUS = 0
jump to @MAIN_QUEST2_BANDIT_ATTACK_ON_CAMP
end

if
0@ == 2
then
$HUD_REMOVE = 1

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

fade 0 500
wait 500
jump to @Q2_AFTER_BANDIT_ATTACK_JUMP
end

if
0@ == 3
then
$HUD_REMOVE = 1

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 500
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

fade 0 500
wait 500
gosub @Q2_CHASE_JUMP_PRE
jump to @Q2_CHASE_JUMP
end

018A: MISSION_CHECKPOINT = create_checkpoint_at 2818.1646 -2007.7213 20.3843
0A40: MISSION_SPHERE = create_entrance_marker_at 2818.1646 -2007.7213 20.3843 color 14
v$OBJECTIVE = "GAME612"
if
REALISM_MODE == 1
then
v$OBJECTIVE = "GRME612"
end

0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

repeat
wait 0

if
875C: not  marker MISSION_CHECKPOINT enabled
then
018A: MISSION_CHECKPOINT = create_checkpoint_at 2818.1646 -2007.7213 20.3843
end

//mqskip
if and
$CHEATS_ON == 1
$DEBUG_MENU_ON == 1
$CHEAT_TYPE_FLAG == 1
    then
    if
    0ADC:   test_cheat "SKIP"
        then
        $TALK_SIMULATE = 1
        $QUEST_READY_FLAG = 1
        
        /////////////////////Плавное затухание/////////////////////

        $MUSIC_FADE_NUMBER += 1
        if
        $MUSIC_FADE_NUMBER > 4
            then
            $MUSIC_FADE_NUMBER = 0 
            end    
                
        0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
        $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
                
        $MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 100
        $MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
        $MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
        create_thread @MUS_FAD
                
        wait 1
                
        while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
        wait 0
        end
            
        MAIN_QUEST_MUSIC_FLAG = 0
        
        jump to @MQ2_END_JUMP
        end
    end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
00FE:   actor PLAYER_ACTOR sphere 0 in_sphere 2818.1646 -2007.7213 20.3843 radius 1.5 1.5 2.0
02A0:   actor PLAYER_ACTOR stopped
044B:   actor PLAYER_ACTOR on_foot
    then
    break
    end
 
until false

marker.Disable(MISSION_CHECKPOINT)
0A41: destroy_entrance_marker MISSION_SPHERE
player.CanMove(PLAYER_CHAR,false)

fade 0 500
$HUD_REMOVE = 1
wait 500

$SAVESTATUS = 1
v$OBJECTIVE = "DUMMY"

actor.PutAtNoOffset(PLAYER_ACTOR,2818.4336, -2008.1244, 20.3843)
actor.Angle(PLAYER_ACTOR) = 211.1916
camera.Restore_WithJumpCut()
04EB: AS_actor PLAYER_ACTOR crouch 1
HARDCORE_DANGER_FLAG_SCRIPTED = 1

/////////////////////////////////////////////////

:CAR_CREATE_MISSION31_1
if
model.Available(15422)
then

MISSION14_BANDIT_CAR1 = Car.Create(15422, 2713.1287, -2153.385, 10.8626)
Car.Angle(MISSION14_BANDIT_CAR1) = 271.4662

if
model.Available(15422)
then
//model.Destroy(15422)
end

else
model.Load(15422)
mload
wait 0
jump to @CAR_CREATE_MISSION31_1
end

:CAR_CREATE_MISSION31_2
if
model.Available(15422)
then

MISSION14_BANDIT_CAR2 = Car.Create(15422, 2713.2788, -2170.2214, 10.867)
Car.Angle(MISSION14_BANDIT_CAR2) = 271.989

if
model.Available(15422)
then
//model.Destroy(15422)
end

else
model.Load(15422)
mload
wait 0
jump to @CAR_CREATE_MISSION31_2
end

0229: set_car MISSION14_BANDIT_CAR1 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
0229: set_car MISSION14_BANDIT_CAR2 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2

///////////////////////////////////////////////////////////////////////////////////////

while not model.Available($CAMP_MODEL1[1])
wait 0
model.Load($CAMP_MODEL1[1])
mload
end

$RNDM_HOUSE_WEAPON[23] = actor.Create(26,$CAMP_MODEL1[1],2829.0149, -2018.8585, 10.1016)
actor.Angle($RNDM_HOUSE_WEAPON[23]) = 180.0

while not model.Available($CAMP_MODEL2[1])
wait 0
model.Load($CAMP_MODEL2[1])
mload
end

$RNDM_HOUSE_WEAPON[24] = actor.Create(26,$CAMP_MODEL2[1],2830.3433, -2018.154, 10.1094)
actor.Angle($RNDM_HOUSE_WEAPON[24]) = 180.0

while not model.Available($CAMP_MODEL5[1])
wait 0
model.Load($CAMP_MODEL5[1])
mload
end

$RNDM_HOUSE_WEAPON[25] = actor.Create(26,$CAMP_MODEL5[1],2831.9709, -2018.6934, 10.1094)
actor.Angle($RNDM_HOUSE_WEAPON[25]) = 180.0

while not model.Available($CAMP_MODEL4[1])
wait 0
model.Load($CAMP_MODEL4[1])
mload
end

$RNDM_HOUSE_WEAPON[26] = actor.Create(26,$CAMP_MODEL4[1],2830.3088, -2019.7867, 10.1094)
actor.Angle($RNDM_HOUSE_WEAPON[26]) = 180.0

repeat
wait 0

if and
056D:   actor $RNDM_HOUSE_WEAPON[23] defined
056D:   actor $RNDM_HOUSE_WEAPON[24] defined
056D:   actor $RNDM_HOUSE_WEAPON[25] defined
    then
    break
    end
    
until false

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[23],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[23] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[23] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[23]) = 1500
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[23]) = 85
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[23] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[24],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[24] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[24] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[24]) = 1500
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[24]) = 85
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[24] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[25],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[25] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[25] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[25]) = 1500
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[25]) = 85
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[25] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[26],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[26] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[26] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[26]) = 1500
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[26]) = 85
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[26] 371

0781: get_weapon_with_ID $CAMP_WEAPON1[2] model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[23],$CAMP_WEAPON1[2],9999)

0781: get_weapon_with_ID $CAMP_WEAPON2[2] model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[24],$CAMP_WEAPON2[2],9999)

0781: get_weapon_with_ID $CAMP_WEAPON3[2] model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[25],$CAMP_WEAPON3[2],9999)

///////////////////////////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT1)
wait 0
model.Load(#BANDIT1)
mload
end

$RNDM_HOUSE_WEAPON[31] = actor.Create(25,#BANDIT1,0.0,0.0,0.0)

while not model.Available(#BANDIT2)
wait 0
model.Load(#BANDIT2)
mload
end

$RNDM_HOUSE_WEAPON[32] = actor.Create(25,#BANDIT2,0.0,0.0,0.0)

while not model.Available(#BANDIT3)
wait 0
model.Load(#BANDIT3)
mload
end

$RNDM_HOUSE_WEAPON[33] = actor.Create(25,#BANDIT3,0.0,0.0,0.0)

while not model.Available(#BANDIT4)
wait 0
model.Load(#BANDIT4)
mload
end

$RNDM_HOUSE_WEAPON[34] = actor.Create(25,#BANDIT4,0.0,0.0,0.0)

while not model.Available(#BANDIT5)
wait 0
model.Load(#BANDIT5)
mload
end

$RNDM_HOUSE_WEAPON[36] = actor.Create(25,#BANDIT5,0.0,0.0,0.0)

while not model.Available(1326)
wait 0
model.Load(1326)
mload
end

$RNDM_HOUSE_WEAPON[37] = actor.Create(25,1326,0.0,0.0,0.0)

while not model.Available(#BANDIT7)
wait 0
model.Load(#BANDIT7)
mload
end

$RNDM_HOUSE_WEAPON[38] = actor.Create(25,#BANDIT7,0.0,0.0,0.0)

while not model.Available(#BANDIT8)
wait 0
model.Load(#BANDIT8)
mload
end

$RNDM_HOUSE_WEAPON[39] = actor.Create(25,#BANDIT8,0.0,0.0,0.0)

036A: put_actor $RNDM_HOUSE_WEAPON[31] in_car MISSION14_BANDIT_CAR1
0430: put_actor $RNDM_HOUSE_WEAPON[32] into_car MISSION14_BANDIT_CAR1 passenger_seat 0
0430: put_actor $RNDM_HOUSE_WEAPON[33] into_car MISSION14_BANDIT_CAR1 passenger_seat 1
0430: put_actor $RNDM_HOUSE_WEAPON[34] into_car MISSION14_BANDIT_CAR1 passenger_seat 2

036A: put_actor $RNDM_HOUSE_WEAPON[36] in_car MISSION14_BANDIT_CAR2
0430: put_actor $RNDM_HOUSE_WEAPON[37] into_car MISSION14_BANDIT_CAR2 passenger_seat 0
0430: put_actor $RNDM_HOUSE_WEAPON[38] into_car MISSION14_BANDIT_CAR2 passenger_seat 1
0430: put_actor $RNDM_HOUSE_WEAPON[39] into_car MISSION14_BANDIT_CAR2 passenger_seat 2 

081A: set_actor $RNDM_HOUSE_WEAPON[31] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[32] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[33] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[34] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[36] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[37] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[38] weapon_skill_to 2
081A: set_actor $RNDM_HOUSE_WEAPON[39] weapon_skill_to 2      
 
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[31],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[31] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[31] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[31]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[31]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[31] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[32],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[32] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[32] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[32]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[32]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[32] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[33],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[33] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[33] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[33]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[33]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[33] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[34],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[34] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[34] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[34]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[34]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[34] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[36],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[36] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[36] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[36]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[36]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[36] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[37],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[37] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[37] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[37]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[37]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[37] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[38],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[38] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[38] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[38]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[38]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[38] 371

actor.SetWalkStyle($RNDM_HOUSE_WEAPON[39],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[39] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[39] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[39]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[39]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[39] 371

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[31],30,9999)

0781: get_weapon_with_ID 22 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[32],22,9999)

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[33],30,9999)

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[34],30,9999)

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[36],30,9999)

0781: get_weapon_with_ID 22 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[37],22,9999)

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[38],30,9999)

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[39],30,9999)

for 0@ = 31 to 39

if
not 0@ == 35
then
077A: set_actor $RNDM_HOUSE_WEAPON[0@] acquaintance 0 to_actors_pedtype 0 // see ped.dat
end

end

$BANDITS_DONT_ATTACK_PLAYER_FLAG = 1

///////////////////////////////////////////////////////////////////////////////////////

05D6: clear_scmpath 
05D7: add_point_to_scmpath 2822.9043 -2044.958 10.9375
07E7: AS_assign_scmpath_to_actor $RNDM_HOUSE_WEAPON[31] in_car MISSION14_BANDIT_CAR1 speed 20.0 flags 1 0 2 
00AE: set_car MISSION14_BANDIT_CAR1 traffic_behaviour_to 2
0423: set_car MISSION14_BANDIT_CAR1 improved_handling_to 1.0 // (float) 
03AB: set_car MISSION14_BANDIT_CAR1 strong 1 
00AE: unknown_set_car MISSION14_BANDIT_CAR1 to_ignore_traffic_lights 2

05D6: clear_scmpath 
05D7: add_point_to_scmpath 2837.9343 -2043.6302 10.9375
07E7: AS_assign_scmpath_to_actor $RNDM_HOUSE_WEAPON[36] in_car MISSION14_BANDIT_CAR2 speed 20.0 flags 1 0 2 
00AE: set_car MISSION14_BANDIT_CAR2 traffic_behaviour_to 2
0423: set_car MISSION14_BANDIT_CAR2 improved_handling_to 1.0 // (float) 
03AB: set_car MISSION14_BANDIT_CAR2 strong 1 
00AE: unknown_set_car MISSION14_BANDIT_CAR2 to_ignore_traffic_lights 2

wait 1000

player.CanMove(PLAYER_CHAR,true)
fade 1 500
$HUD_REMOVE = 0
wait 500

/////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
82E0: not  actor PLAYER_ACTOR firing_weapon
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 2814.2024 -2004.5487 19.1018 cornerB 2847.228 -2011.8293 25.1018
jf @MAIN_QUEST2_FAILED_AGRO2

if and
01AE:   car MISSION14_BANDIT_CAR1 sphere 0 near_point 2822.9043 -2044.958 radius 12.0 12.0 stopped
01AE:   car MISSION14_BANDIT_CAR2 sphere 0 near_point 2837.9343 -2043.6302 radius 12.0 12.0 stopped
    then
    break
    end

until false

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 1
$MUSIC_ASSHOLE = Audiostream.Load("AUDIO\SOUNDS\QUESTS\Q2\Q2B.wav")
Audiostream.PerformAction($MUSIC_ASSHOLE, PLAY)
Audiostream.Loop($MUSIC_ASSHOLE, 1)
Audiostream.Volume($MUSIC_ASSHOLE) = 0.0

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

/////////////////////////////////////////////////////////////////////

05BF: AS_actor $RNDM_HOUSE_WEAPON[23] look_at_actor $RNDM_HOUSE_WEAPON[32] 999000 ms
05BF: AS_actor $RNDM_HOUSE_WEAPON[24] look_at_actor $RNDM_HOUSE_WEAPON[32] 999000 ms
05BF: AS_actor $RNDM_HOUSE_WEAPON[25] look_at_actor $RNDM_HOUSE_WEAPON[33] 999000 ms
05BF: AS_actor $RNDM_HOUSE_WEAPON[26] look_at_actor $RNDM_HOUSE_WEAPON[33] 999000 ms

068B: set_car MISSION14_BANDIT_CAR1 all_disembark
068B: set_car MISSION14_BANDIT_CAR2 all_disembark

07CD: AS_actor $RNDM_HOUSE_WEAPON[32] walk_to 2829.1116 -2022.1012 11.1016 stop_with_angle 325.917 within_radius 2.0
07CD: AS_actor $RNDM_HOUSE_WEAPON[37] walk_to 2831.3972 -2022.2653 11.1094 stop_with_angle 23.1463 within_radius 2.0

07A3: AS_actor $RNDM_HOUSE_WEAPON[31] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[23] wait_radius_between 10.0 and 15.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[33] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[23] wait_radius_between 10.0 and 15.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[34] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[23] wait_radius_between 10.0 and 15.0

07A3: AS_actor $RNDM_HOUSE_WEAPON[36] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[25] wait_radius_between 10.0 and 15.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[38] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[25] wait_radius_between 10.0 and 15.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[39] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[25] wait_radius_between 10.0 and 15.0

07A3: AS_actor $RNDM_HOUSE_WEAPON[23] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[33] wait_radius_between 100.0 and 150.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[24] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[36] wait_radius_between 100.0 and 150.0
07A3: AS_actor $RNDM_HOUSE_WEAPON[25] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[38] wait_radius_between 100.0 and 150.0

/////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
82E0: not  actor PLAYER_ACTOR firing_weapon
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 2814.2024 -2004.5487 19.1018 cornerB 2847.228 -2011.8293 25.1018
jf @MAIN_QUEST2_FAILED_AGRO2

if and
00EF:   actor $RNDM_HOUSE_WEAPON[32] sphere 0 near_point 2829.1116 -2022.1012 radius 2.5 2.5 stopped
00EF:   actor $RNDM_HOUSE_WEAPON[37] sphere 0 near_point 2831.3972 -2022.2653 radius 2.5 2.5 stopped
    then
    break
    end

until false

/////////////////////////////////////////////////////////////////////

0084: $DIALOG_ACTOR[0] = $RNDM_HOUSE_WEAPON[32] // (int)
0084: $DIALOG_ACTOR[1] = $RNDM_HOUSE_WEAPON[37] // (int)
0084: $DIALOG_ACTOR[2] = $RNDM_HOUSE_WEAPON[26] // (int)
0084: $DIALOG_ACTOR[3] = $RNDM_HOUSE_WEAPON[26] // (int)
0084: $DIALOG_ACTOR[4] = $RNDM_HOUSE_WEAPON[32] // (int)
0084: $DIALOG_ACTOR[5] = $RNDM_HOUSE_WEAPON[37] // (int)
v$ST_DIALOG[0] = "MQ_146"
v$ST_DIALOG[1] = "MQ_147"
v$ST_DIALOG[2] = "MQ_148"
v$ST_DIALOG[3] = "MQ_149"
v$ST_DIALOG[4] = "MQ_150"
v$ST_DIALOG[5] = "MQ_151" 
$DIALOG_COUNT = 5
create_thread @DG_SYS

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
82E0: not  actor PLAYER_ACTOR firing_weapon
00A4:   actor PLAYER_ACTOR sphere 0 in_cube_cornerA 2814.2024 -2004.5487 19.1018 cornerB 2847.228 -2011.8293 25.1018
jf @MAIN_QUEST2_FAILED_AGRO2

until $DIALOG_END == 1

0635: AS_actor $RNDM_HOUSE_WEAPON[32] aim_at_actor $RNDM_HOUSE_WEAPON[26] 9999 ms
0635: AS_actor $RNDM_HOUSE_WEAPON[37] aim_at_actor $RNDM_HOUSE_WEAPON[26] 9999 ms

0781: get_weapon_with_ID 22 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[26],22,9999)

if
0E4D: random_percent 50
then
0635: AS_actor $RNDM_HOUSE_WEAPON[26] aim_at_actor $RNDM_HOUSE_WEAPON[32] 9999 ms
else
0635: AS_actor $RNDM_HOUSE_WEAPON[26] aim_at_actor $RNDM_HOUSE_WEAPON[37] 9999 ms
end

/////////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT8)
wait 0
model.Load(#BANDIT8)
mload
end

$RNDM_HOUSE_WEAPON[35] = actor.Create(25,#BANDIT8,2787.8811, -2082.5823, 24.152)
actor.Angle($RNDM_HOUSE_WEAPON[35]) = 319.0771

081A: set_actor $RNDM_HOUSE_WEAPON[35] weapon_skill_to 2
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[35],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[35] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[35] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[35]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[35]) = 45

0781: get_weapon_with_ID 34 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[35],34,9999)

0615: define_AS_pack_begin 51@
05D3: AS_actor -1 goto_point 2793.5959 -2075.969 26.8688 mode 7 time 25000 ms // versionA
05E2: AS_actor -1 kill_actor $RNDM_HOUSE_WEAPON[26]
0616: define_AS_pack_end 51@
0618: assign_actor $RNDM_HOUSE_WEAPON[35] to_AS_pack 51@
061B: remove_references_to_AS_pack 51@

/////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if or
02E0:   actor $RNDM_HOUSE_WEAPON[35] firing_weapon
0364:   actor $RNDM_HOUSE_WEAPON[35] spotted_actor $RNDM_HOUSE_WEAPON[26]
051A:   actor $RNDM_HOUSE_WEAPON[35] damaged_by_actor $RNDM_HOUSE_WEAPON[26]
8184:   actor $RNDM_HOUSE_WEAPON[35] health < 1
    then
    break
    end

until false

/////////////////////////////////////////////////////////////////////

for 0@ = 23 to 39

if and
not 0@ == 35
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
then
0687: clear_actor $RNDM_HOUSE_WEAPON[0@] task
end

end

$BANDITS_DONT_ATTACK_PLAYER_FLAG = 0

for 0@ = 31 to 39

if
not 0@ == 35
then
077A: set_actor $RNDM_HOUSE_WEAPON[0@] acquaintance 4 to_actors_pedtype 0 // see ped.dat
end

end

v$OBJECTIVE = "GAME614"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

v$ST_DIALOG[0] = "MQ_114"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

for 0@ = 31 to 39
0085: 1@ = 0@ // (int)
1@ -= 31
$BANDIT_MARKER[1@] = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[0@])
marker.SetIconSize($BANDIT_MARKER[1@],2)
create_thread @ANT_PRE $RNDM_HOUSE_WEAPON[0@]
end

0631: put_actor $RNDM_HOUSE_WEAPON[23] in_group PLAYER_GROUP

if
COOP_ACTIVE_FLAG == 1
then
0EA0: set_actor_second_player $RNDM_HOUSE_WEAPON[23] enable_camera 1 separate_cars 0
0084: COOP_ACTOR = $RNDM_HOUSE_WEAPON[23] // (int)
end

0631: put_actor $RNDM_HOUSE_WEAPON[24] in_group PLAYER_GROUP
0631: put_actor $RNDM_HOUSE_WEAPON[25] in_group PLAYER_GROUP
0631: put_actor $RNDM_HOUSE_WEAPON[26] in_group PLAYER_GROUP

/////////////////////////////////////////////////////////////////////

$SAVESTATUS = 0

repeat
wait 0

for 0@ = 31 to 39
0085: 1@ = 0@ // (int)
1@ -= 31

if and
075C:   marker $BANDIT_MARKER[1@] enabled
8184:   actor $RNDM_HOUSE_WEAPON[0@] health < 1
then
marker.Disable($BANDIT_MARKER[1@])
gosub @Q3_DEATH_PHRASE
end

end

for 0@ = 31 to 39
gosub @MISSION31_ATTACK_SYSTEM
end

random_int 11@ 0 5
random_int 0@ 31 39
gosub @MISSION31_TEAMMATES_ATTACK_PEOPLE1

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
8184:   actor $RNDM_HOUSE_WEAPON[31] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[32] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[33] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[34] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[35] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[36] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[37] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[38] health < 1
    then
    if 
    8184:   actor $RNDM_HOUSE_WEAPON[39] health < 1
        then
        break
        end
    end

until false

for 0@ = 31 to 39

0085: 1@ = 0@ // (int)
1@ -= 31

if
075C:   marker $BANDIT_MARKER[1@] enabled
then
marker.Disable($BANDIT_MARKER[1@])
end

end

v$OBJECTIVE = "DUMMY"
HARDCORE_DANGER_FLAG_SCRIPTED = 0

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

/////////////////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 0

06C9: remove_actor $RNDM_HOUSE_WEAPON[26] from_group

v$ST_DIALOG[0] = "MQ_115"
v$ST_DIALOG[1] = "MQ_116"
$DIALOG_COUNT = 1
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

/////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

until $DIALOG_END == 1

actor.StorePos($RNDM_HOUSE_WEAPON[32],25@,26@,27@)

0615: define_AS_pack_begin 51@
05D3: AS_actor -1 goto_point 25@ 26@ 27@ mode 7 time 25000 ms // versionA
0616: define_AS_pack_end 51@
0618: assign_actor $RNDM_HOUSE_WEAPON[26] to_AS_pack 51@
061B: remove_references_to_AS_pack 51@

32@ = 0

/////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
02A0:   actor $RNDM_HOUSE_WEAPON[26] stopped
89DE: not  actor $RNDM_HOUSE_WEAPON[26] entering_car
not actor.Driving($RNDM_HOUSE_WEAPON[26])
0449:   actor $RNDM_HOUSE_WEAPON[26] in_a_car
32@ > 1000
80EF: not  actor $RNDM_HOUSE_WEAPON[26] sphere 0 near_point 25@ 26@ radius 2.0 2.0 stopped
    then
    32@ = 0
    0615: define_AS_pack_begin 51@
    05D3: AS_actor -1 goto_point 25@ 26@ 27@ mode 7 time 25000 ms // versionA
    0616: define_AS_pack_end 51@
    0618: assign_actor $RNDM_HOUSE_WEAPON[26] to_AS_pack 51@
    061B: remove_references_to_AS_pack 51@
    end

until 00EF:   actor $RNDM_HOUSE_WEAPON[26] sphere 0 near_point 25@ 26@ radius 2.0 2.0 stopped

///////////////////////////////////////////////////////////////////////////////////////

0470: 9@ = actor $RNDM_HOUSE_WEAPON[26] current_weapon
06AB: set_actor $RNDM_HOUSE_WEAPON[26] all_weapons_hidden 1 

while not animation.Available("BOMBER")
wait 0
animation.Load("BOMBER")
end

32@ = 0

03CF: load_wav 20802 as 4 

while 83D0: not  wav 4 loaded 
wait 0
03CF: load_wav 20802 as 4 
end
 
0949: link_wav 4 to_actor $RNDM_HOUSE_WEAPON[26]
03D1: play_wav 4

0605: actor $RNDM_HOUSE_WEAPON[26] perform_animation "BOM_PLANT" IFP "BOMBER" framedelta 4.0 loop 0 lockX 0 lockY 0 lockF 0 time -1 

32@ = 0
while 83D2:   wav 4 ended 
wait 0
if
32@ > 3500
    then
    break
    end
end

040D: unload_wav 4 
04EF: release_animation "BOMBER"

06AB: set_actor $RNDM_HOUSE_WEAPON[26] all_weapons_hidden 0
01B9: set_actor $RNDM_HOUSE_WEAPON[26] armed_weapon_to 9@

wait 500

v$ST_DIALOG[0] = "MQ_117"
v$ST_DIALOG[1] = "MQ_118"
$DIALOG_COUNT = 1
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

///////////////////////////////////////////////////////////////////////////////////////

repeat
wait 0

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

until $DIALOG_END == 1

0639: AS_actor $RNDM_HOUSE_WEAPON[26] rotate_to_actor PLAYER_ACTOR

///////////////////////////////////////////////////////////////////////////////////////

v$OBJECTIVE = "GAME615"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
MISSION_MARKER = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[26])
07E0: set_marker MISSION_MARKER type_to 1

///////////////////////////////////////////////////////////////////////////////////////

32@ = 0

repeat
wait 0

if and
32@ > 500
86EE: not  actor $RNDM_HOUSE_WEAPON[26] in_group PLAYER_GROUP
    then
    0631: put_actor $RNDM_HOUSE_WEAPON[26] in_group PLAYER_GROUP
    end

if and
0184:   actor $RNDM_HOUSE_WEAPON[23] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[24] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[25] health > 0
0184:   actor $RNDM_HOUSE_WEAPON[26] health > 0
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

until 0104:   actor PLAYER_ACTOR near_actor $RNDM_HOUSE_WEAPON[26] radius 1.5 1.5 2.0 sphere 0

v$OBJECTIVE = "DUMMY"

marker.Disable(MISSION_MARKER)
player.CanMove(PLAYER_CHAR,false)

fade 0 500
$HUD_REMOVE = 1
wait 500

cinema.Widescreen(1)
0A48: enable_menu_access_in_widescreen_mode 0
    
////////////////////////////////////////////////////////        

0A0E: disable_text_with_style 1
    
0391: release_textures
0390: load_txd_dictionary 'quest2' 
wait 1
038F: load_texture "banditn" as 1 // Load dictionary with 0390 first 
wait 1    
    
32@ = 0
$READING_NOTE_FLAG = 1
$SPEED_08_FLAG = 1

gosub @MAIN_QUEST2_NOTE_SOUND_PLAY 
    
 repeat 
wait 0
03F0: enable_text_draw 1
038D: draw_texture 1 position 320.0 224.5 size 640.0 449.0 RGBA 255 255 255 255
03E3: set_texture_to_be_drawn_antialiased 1 
 until 0E3E: is_button_just_pressed 0 17

audiostream.PerformAction(14@,STOP)
audiostream.Release(14@)     
     
$SPEED_08_FLAG = 0
015D: set_gamespeed 1.0      
     
wait 1
03F0: enable_text_draw 0
wait 1
0391: release_textures 
    
0A0E: disable_text_with_style 0
    
//////////////////////////////////////////////////////// 

$READING_NOTE_FLAG = 0    
$SPEED_08_FLAG = 0

cinema.Widescreen(0)
0A48: enable_menu_access_in_widescreen_mode 1   
    
015D: set_gamespeed 1.0 
    
player.CanMove(PLAYER_CHAR) = true
    
fade 1 500
$HUD_REMOVE = 0
wait 500

v$ST_DIALOG[0] = "MQ_119"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2
         
wait 1000

repeat
wait 0
until $DIALOG_END == 1

player.CanMove(PLAYER_CHAR) = false

fade 0 500
$HUD_REMOVE = 1
wait 1000

if
COOP_ACTIVE_FLAG == 1
then
0EA1: disable_second_player_restore_camera 1
COOP_ACTOR = -69
end

for 0@ = 23 to 39

if
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
then
actor.DestroyInstantly($RNDM_HOUSE_WEAPON[0@])
actor.RemoveReferences($RNDM_HOUSE_WEAPON[0@])
$RNDM_HOUSE_WEAPON[0@] = -69 
end

end

car.RemoveReferences(MISSION14_BANDIT_CAR1)
car.RemoveReferences(MISSION14_BANDIT_CAR2)

0AF1: write_int 1 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
:MAIN_QUEST2_BANDIT_ATTACK_ON_CAMP

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

:CAR_CREATE_MISSION31_3
if
model.Available(#PCJ600)
then

MISSION14_BANDIT_CAR1 = Car.Create(#PCJ600, 2811.4963, -1361.337, 43.0742)
Car.Angle(MISSION14_BANDIT_CAR1) = 342.0485

if
model.Available(#PCJ600)
then
//model.Destroy(#PCJ600)
end

else
model.Load(#PCJ600)
mload
wait 0
jump to @CAR_CREATE_MISSION31_3
end

:CAR_CREATE_MISSION31_4
if
model.Available(#PCJ600)
then

MISSION14_BANDIT_CAR2 = Car.Create(#PCJ600, 2812.5486, -1361.3037, 43.0779)
Car.Angle(MISSION14_BANDIT_CAR2) = 337.1857

if
model.Available(#PCJ600)
then
//model.Destroy(#PCJ600)
end

else
model.Load(#PCJ600)
mload
wait 0
jump to @CAR_CREATE_MISSION31_4
end

:CAR_CREATE_MISSION31_5
if
model.Available(#PCJ600)
then

MISSION14_BANDIT_CAR3 = Car.Create(#PCJ600, 2813.4526, -1361.3636, 43.0823)
Car.Angle(MISSION14_BANDIT_CAR3) = 333.3298

if
model.Available(#PCJ600)
then
//model.Destroy(#PCJ600)
end

else
model.Load(#PCJ600)
mload
wait 0
jump to @CAR_CREATE_MISSION31_5
end

:CAR_CREATE_MISSION31_6
if
model.Available(#PCJ600)
then

MISSION14_BANDIT_CAR4 = Car.Create(#PCJ600, 2813.4526, -1361.3636, 43.0823)
Car.Angle(MISSION14_BANDIT_CAR4) = 333.3298

if
model.Available(#PCJ600)
then
//model.Destroy(#PCJ600)
end

else
model.Load(#PCJ600)
mload
wait 0
jump to @CAR_CREATE_MISSION31_6
end

0229: set_car MISSION14_BANDIT_CAR1 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
0229: set_car MISSION14_BANDIT_CAR2 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
0229: set_car MISSION14_BANDIT_CAR3 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
0229: set_car MISSION14_BANDIT_CAR4 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
car.SetImmunities(MISSION14_BANDIT_CAR1,1,0,0,0,0)
car.SetImmunities(MISSION14_BANDIT_CAR2,1,0,0,0,0)
car.SetImmunities(MISSION14_BANDIT_CAR3,1,0,0,0,0)
car.SetImmunities(MISSION14_BANDIT_CAR4,1,0,0,0,0)
    
repeat
wait 0
07C0: load_path 991
until 07C1:   path 991 available
    
05EB: assign_car MISSION14_BANDIT_CAR1 to_path 991
06FD: set_car MISSION14_BANDIT_CAR1 speed_on_path_to 0.0

repeat
wait 0
07C0: load_path 992
until 07C1:   path 992 available
    
05EB: assign_car MISSION14_BANDIT_CAR2 to_path 992
06FD: set_car MISSION14_BANDIT_CAR2 speed_on_path_to 0.0

repeat
wait 0
07C0: load_path 993
until 07C1:   path 993 available
    
05EB: assign_car MISSION14_BANDIT_CAR3 to_path 993
06FD: set_car MISSION14_BANDIT_CAR3 speed_on_path_to 0.0

repeat
wait 0
07C0: load_path 994
until 07C1:   path 994 available
    
05EB: assign_car MISSION14_BANDIT_CAR4 to_path 994
06FD: set_car MISSION14_BANDIT_CAR4 speed_on_path_to 0.0

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

wait 1000

0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2792.2659 -1429.892 36.0938
actor.PutAtNoOffset(PLAYER_ACTOR,2792.2659, -1429.892, 36.0938)
actor.Angle(PLAYER_ACTOR) = 359.0257
camera.Restore_WithJumpCut()
create_thread @REFR_3D

wait 1000

$QUEST_READY_FLAG = 28

$CAMP_SPOTTED_FLAG = 1
$TALK_SIMULATE = 1
$PHRASES_OFF_FLAG = 1

if
MQ2_TEMP_CAR_SAVE_FLAG == 1
then
0088: $SAVE_CAR_X[LATEST_CAR_SLOT_USED] = MQ2_TEMP_CAR_X // (float)
0088: $SAVE_CAR_Y[LATEST_CAR_SLOT_USED] = MQ2_TEMP_CAR_Y // (float)
0088: $SAVE_CAR_Z[LATEST_CAR_SLOT_USED] = MQ2_TEMP_CAR_Z // (float)
0088: $SAVE_CAR_ANGLE[LATEST_CAR_SLOT_USED] = MQ2_TEMP_CAR_ANGLE // (float)
end
    
SAVED_CARS_MARK_REDO = 1
wait 200    
SAVED_CARS_MARK_REDO = 0

fade 1 500
$HUD_REMOVE = 1
wait 500

repeat
wait 0
$PHRASES_OFF_FLAG = 1
until $QUEST_READY_FLAG == 29

32@ = 0
PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1

repeat
wait 0
$PHRASES_OFF_FLAG = 1
until 32@ > 2000

/////////////////////////////////////////////////////////////////////////

06FD: set_car MISSION14_BANDIT_CAR1 speed_on_path_to 0.0
06FD: set_car MISSION14_BANDIT_CAR2 speed_on_path_to 0.0
06FD: set_car MISSION14_BANDIT_CAR3 speed_on_path_to 0.0
06FD: set_car MISSION14_BANDIT_CAR4 speed_on_path_to 0.0

//////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT1)
wait 0
model.Load(#BANDIT1)
mload
end

$RNDM_HOUSE_WEAPON[34] = actor.Create(25,#BANDIT1,0.0,0.0,0.0)

while not model.Available(#BANDIT2)
wait 0
model.Load(#BANDIT2)
mload
end

$RNDM_HOUSE_WEAPON[35] = actor.Create(25,#BANDIT2,0.0,0.0,0.0)

while not model.Available(#BANDIT3)
wait 0
model.Load(#BANDIT3)
mload
end

$RNDM_HOUSE_WEAPON[36] = actor.Create(25,#BANDIT3,0.0,0.0,0.0)

while not model.Available(#BANDIT4)
wait 0
model.Load(#BANDIT4)
mload
end

$RNDM_HOUSE_WEAPON[37] = actor.Create(25,#BANDIT4,0.0,0.0,0.0)

//////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT5)
wait 0
model.Load(#BANDIT5)
mload
end 

$RNDM_HOUSE_WEAPON[38] = actor.Create(25,#BANDIT5,0.0,0.0,0.0)

while not model.Available(#BANDIT6)
wait 0
model.Load(#BANDIT6)
mload
end

$RNDM_HOUSE_WEAPON[39] = actor.Create(25,#BANDIT6,0.0,0.0,0.0)

while not model.Available(#BANDIT7)
wait 0
model.Load(#BANDIT7)
mload
end

$RNDM_HOUSE_WEAPON[40] = actor.Create(25,#BANDIT7,0.0,0.0,0.0)

while not model.Available(#BANDIT8)
wait 0
model.Load(#BANDIT8)
mload
end

$RNDM_HOUSE_WEAPON[41] = actor.Create(25,#BANDIT8,0.0,0.0,0.0)

//////////////////////////////////////////////////////////////////

for 0@ = 34 to 41
081A: set_actor $RNDM_HOUSE_WEAPON[0@] weapon_skill_to 2       
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[0@],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[0@] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[0@] decision_maker_to $DEC_PEOPLE
008B: 1@ = $MISSION15_BANDITS_HP // (int)
1@ *= 2
actor.Health($RNDM_HOUSE_WEAPON[0@]) = 1@
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[0@]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[0@] 371
actor.SetImmunities($RNDM_HOUSE_WEAPON[0@],1,1,1,1,1)
09F4: set_actor $RNDM_HOUSE_WEAPON[0@] ignore_height_difference_following_nodes 1
0648: unknown_actor $RNDM_HOUSE_WEAPON[0@] task_set 150.0 // float

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[0@],30,9999)
08C6: set_actor $RNDM_HOUSE_WEAPON[0@] stay_on_bike 1
end

wait 100

$PHRASES_OFF_FLAG = 1

036A: put_actor $RNDM_HOUSE_WEAPON[34] in_car MISSION14_BANDIT_CAR1
0430: put_actor $RNDM_HOUSE_WEAPON[35] into_car MISSION14_BANDIT_CAR1 passenger_seat 0

036A: put_actor $RNDM_HOUSE_WEAPON[36] in_car MISSION14_BANDIT_CAR2
0430: put_actor $RNDM_HOUSE_WEAPON[37] into_car MISSION14_BANDIT_CAR2 passenger_seat 0

036A: put_actor $RNDM_HOUSE_WEAPON[38] in_car MISSION14_BANDIT_CAR3
0430: put_actor $RNDM_HOUSE_WEAPON[39] into_car MISSION14_BANDIT_CAR3 passenger_seat 0

036A: put_actor $RNDM_HOUSE_WEAPON[40] in_car MISSION14_BANDIT_CAR4
0430: put_actor $RNDM_HOUSE_WEAPON[41] into_car MISSION14_BANDIT_CAR4 passenger_seat 0

for 0@ = 34 to 41
0085: 1@ = 0@ // (int)
1@ -= 34
$BANDIT_MARKER[1@] = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[0@])
marker.SetIconSize($BANDIT_MARKER[1@],2)
create_thread @ANT_PRE $RNDM_HOUSE_WEAPON[0@]
end

v$OBJECTIVE = "GAME614"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
HARDCORE_DANGER_FLAG_SCRIPTED = 1

06FD: set_car MISSION14_BANDIT_CAR1 speed_on_path_to 1.0

121@ = 0
122@ = 0
123@ = 0

110@ = 0
111@ = 0
112@ = 0
113@ = 0

v$ST_DIALOG[0] = "MQ_123"
v$ST_DIALOG[1] = "MQ_124"
v$ST_DIALOG[2] = "MQ_125"
$DIALOG_COUNT = 2
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2
$PHRASES_OFF_FLAG = 1

///////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 1
$MUSIC_ASSHOLE = Audiostream.Load("AUDIO\SOUNDS\QUESTS\Q2\Q2C.wav")
Audiostream.PerformAction($MUSIC_ASSHOLE, PLAY)
Audiostream.Loop($MUSIC_ASSHOLE, 1)
Audiostream.Volume($MUSIC_ASSHOLE) = 0.0

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

//////////////////////////////////////////////////////////////////

008B: MQ2_ALLOW_HEADSHOOT_PRE = $ALLOW_HEADSHOOT // (int)
$ALLOW_HEADSHOOT = -2

repeat
wait 0

/////////////////////////////////////////////////////
103@ = 0
for 0@ = 34 to 41

if
8184:   actor $RNDM_HOUSE_WEAPON[0@] health < 1
then
103@ += 1
if
130@ == 7
    then    
    $ALLOW_HEADSHOOT = -1
    end
end

0085: 1@ = 0@ // (int)
1@ -= 34

if and
075C:   marker $BANDIT_MARKER[1@] enabled
8184:   actor $RNDM_HOUSE_WEAPON[0@] health < 1
then
marker.Disable($BANDIT_MARKER[1@])
gosub @Q3_DEATH_PHRASE
end

end
/////////////////////////////////////////////////////

if
103@ == 7
    then
    
    /////////////////////////////////////////////////////
    
    for 0@ = 34 to 41
    
    0085: 1@ = 0@ // (int)
    1@ -= 34
    
    if
    075C:   marker $BANDIT_MARKER[1@] enabled
    then
    0085: 104@ = 0@ // (int)
    end
    
    end
    
    /////////////////////////////////////////////////////
    
    if
    8184:   actor $RNDM_HOUSE_WEAPON[104@] health < $MISSION15_BANDITS_HP
        then
        0085: 1@ = 104@ // (int)
        1@ -= 34
        marker.Disable($BANDIT_MARKER[1@])
        103@ = 8
        actor.SetImmunities($RNDM_HOUSE_WEAPON[104@],1,1,1,1,1)
        0792: disembark_instantly_actor $RNDM_HOUSE_WEAPON[104@]
        05BB: AS_actor $RNDM_HOUSE_WEAPON[104@] fall_down 0 time_on_ground 99999999
        0332: set_actor $RNDM_HOUSE_WEAPON[104@] bleeding 1
        0489: set_actor $RNDM_HOUSE_WEAPON[104@] muted 1
        end
    
    end

//for 0@ = 34 to 41
//gosub @MISSION31_ATTACK_SYSTEM
//end

random_int 11@ 0 5
random_int 0@ 34 41
gosub @MISSION31_TEAMMATES_ATTACK_PEOPLE1

if and
121@ == 0
32@ > 500
    then
    06FD: set_car MISSION14_BANDIT_CAR2 speed_on_path_to 1.0
    121@ = 1
    end
    
if and
122@ == 0
32@ > 1000
    then
    06FD: set_car MISSION14_BANDIT_CAR3 speed_on_path_to 1.0
    122@ = 1
    end
    
if and
123@ == 0
32@ > 1500
    then
    06FD: set_car MISSION14_BANDIT_CAR4 speed_on_path_to 1.0
    123@ = 1
    end
    
02E3: 0@ = car MISSION14_BANDIT_CAR1 speed    
if and
110@ == 0
0@ < 2.0
32@ > 5000
    then
    068B: set_car MISSION14_BANDIT_CAR1 all_disembark
    110@ = 1        
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[1]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[34] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[2]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[35] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    actor.SetImmunities($RNDM_HOUSE_WEAPON[34],0,0,0,0,0)
    actor.SetImmunities($RNDM_HOUSE_WEAPON[35],0,0,0,0,0)
    $PHRASES_OFF_FLAG = 0
    05EC: release_car MISSION14_BANDIT_CAR1 from_path
    end
    
02E3: 0@ = car MISSION14_BANDIT_CAR2 speed    
if and
111@ == 0
121@ == 1
0@ < 2.0
32@ > 5000
    then
    068B: set_car MISSION14_BANDIT_CAR2 all_disembark
    111@ = 1
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[3]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[36] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[4]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[37] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    actor.SetImmunities($RNDM_HOUSE_WEAPON[36],0,0,0,0,0)
    actor.SetImmunities($RNDM_HOUSE_WEAPON[37],0,0,0,0,0)
    $PHRASES_OFF_FLAG = 0
    05EC: release_car MISSION14_BANDIT_CAR2 from_path
    end
    
02E3: 0@ = car MISSION14_BANDIT_CAR3 speed    
if and
112@ == 0
122@ == 1
0@ < 2.0
32@ > 5000
    then
    068B: set_car MISSION14_BANDIT_CAR3 all_disembark
    112@ = 1
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[5]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[38] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2792.2957 -1429.8921 36.0938 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[6]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[39] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    actor.SetImmunities($RNDM_HOUSE_WEAPON[38],0,0,0,0,0)
    actor.SetImmunities($RNDM_HOUSE_WEAPON[39],0,0,0,0,0)
    $PHRASES_OFF_FLAG = 0
    05EC: release_car MISSION14_BANDIT_CAR3 from_path
    end
    
02E3: 0@ = car MISSION14_BANDIT_CAR4 speed    
if and
113@ == 0
123@ == 1
0@ < 2.0
32@ > 5000
    then
    068B: set_car MISSION14_BANDIT_CAR4 all_disembark
    113@ = 1
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2789.4507 -1471.3329 36.6573 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[7]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[40] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    0615: define_AS_pack_begin 0@
    0633: AS_actor -1 exit_car
    0637: AS_actor -1 goto 2789.4507 -1471.3329 36.6573 mode 6 turn_radius 1.0 stop_radius 5.0 look_at_actor $CAMP_ACTOR[7]
    0616: define_AS_pack_end 0@
    0618: assign_actor $RNDM_HOUSE_WEAPON[41] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@
    
    actor.SetImmunities($RNDM_HOUSE_WEAPON[40],0,0,0,0,0)
    actor.SetImmunities($RNDM_HOUSE_WEAPON[41],0,0,0,0,0)
    $PHRASES_OFF_FLAG = 0
    05EC: release_car MISSION14_BANDIT_CAR4 from_path
    end                            

if and
0184:   actor $CAMP_ACTOR[0] health > 0
0184:   actor $CAMP_ACTOR[1] health > 0
0184:   actor $CAMP_ACTOR[2] health > 0
0184:   actor $CAMP_ACTOR[3] health > 0
0184:   actor $CAMP_ACTOR[4] health > 0
0184:   actor $CAMP_ACTOR[5] health > 0
0184:   actor $CAMP_ACTOR[6] health > 0
0184:   actor $CAMP_ACTOR[7] health > 0 
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

until 103@ == 8

$QUEST_READY_FLAG = 69

v$OBJECTIVE = "DUMMY"
HARDCORE_DANGER_FLAG_SCRIPTED = 0

for 0@ = 0 to 7
0792: disembark_instantly_actor $CAMP_ACTOR[0@]
end

fade 0 500
$HUD_REMOVE = 1
wait 500

008A: $ALLOW_HEADSHOOT = MQ2_ALLOW_HEADSHOOT_PRE // (int)
actor.PutAt($RNDM_HOUSE_WEAPON[104@],2791.0789, -1464.1454, 36.0938)
wait 500

fade 1 500
$HUD_REMOVE = 0
wait 500

v$ST_DIALOG[0] = "MQ_135"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

wait 1000

actor.StorePos($RNDM_HOUSE_WEAPON[104@],25@,26@,27@)

07A3: AS_actor $CAMP_ACTOR[2] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[104@] wait_radius_between 4.35 and 4.45

32@ = 0

/////////////////////////////////////////////////////////////////////

repeat
wait 0

//0AD1: show_formatted_text_highpriority "ASS LOOP NEXT LEVEL, %d" time 2000 32@

if and
0184:   actor $CAMP_ACTOR[0] health > 0
0184:   actor $CAMP_ACTOR[1] health > 0
0184:   actor $CAMP_ACTOR[2] health > 0
0184:   actor $CAMP_ACTOR[3] health > 0
0184:   actor $CAMP_ACTOR[4] health > 0
0184:   actor $CAMP_ACTOR[5] health > 0
0184:   actor $CAMP_ACTOR[6] health > 0
0184:   actor $CAMP_ACTOR[7] health > 0 
jf @MAIN_QUEST2_FAILED_DEAD1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if and
02A0:   actor $CAMP_ACTOR[2] stopped
32@ > 1000
80EF: not  actor $CAMP_ACTOR[2] sphere 0 near_point 25@ 26@ radius 4.5 4.5 stopped
    then
    32@ = 0
    07A3: AS_actor $CAMP_ACTOR[2] run_to_and_follow_actor $RNDM_HOUSE_WEAPON[104@] wait_radius_between 4.35 and 4.45
    wait 200
    end

until 00EF:   actor $CAMP_ACTOR[2] sphere 0 near_point 25@ 26@ radius 4.5 4.5 stopped

///////////////////////////////////////////////////////////////////////////////////////

0635: AS_actor $CAMP_ACTOR[2] aim_at_actor $RNDM_HOUSE_WEAPON[104@] 99000 ms

wait 500

v$ST_DIALOG[0] = "MQ_126"
v$ST_DIALOG[1] = "MQ_127"
v$ST_DIALOG[2] = "MQ_128"
v$ST_DIALOG[3] = "MQ_129"
v$ST_DIALOG[4] = "MQ_130"
v$ST_DIALOG[5] = "MQ_131"
v$ST_DIALOG[6] = "MQ_132"
$DIALOG_COUNT = 6
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

32@ = 0

repeat
wait 0

if and
$DIALOG_NOT_SKIP == 1
32@ > 3000
    then
    $DIALOG_NOT_SKIP = 0
    end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

until $DIALOG_END == 1

wait 500

0829: actor $RNDM_HOUSE_WEAPON[104@] perform_animation "FLOOR_hit" IFP_file "PED" rate 4.0 time 0 and_dies

0AF1: write_int 2 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
:Q2_AFTER_BANDIT_ATTACK_JUMP

wait 500

0639: AS_actor $CAMP_ACTOR[2] rotate_to_actor PLAYER_ACTOR

fade 0 500
$HUD_REMOVE = 1
wait 1000

actor.PutAtNoOffset($CAMP_ACTOR[2],2792.2385, -1428.0647, 36.0938)
actor.Angle($CAMP_ACTOR[2]) = 178.9574
0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2792.2637 -1429.8915 36.0938
actor.PutAtNoOffset(PLAYER_ACTOR,2792.2637, -1429.8915, 36.0938)
actor.Angle(PLAYER_ACTOR) = 358.8479
camera.Restore_WithJumpCut()
create_thread @REFR_3D

wait 1000

$QUEST_READY_FLAG = 30

$CAMP_SPOTTED_FLAG = 1
$TALK_SIMULATE = 1
$PHRASES_OFF_FLAG = 1

fade 1 500
$HUD_REMOVE = 1
wait 500

repeat
wait 0
if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD
until $QUEST_READY_FLAG == 31

32@ = 0

$PHRASES_OFF_FLAG = 1
$QUEST_READY_FLAG = 30

///////////////////////////////////////////////////////////////////////////////////////

wait 500

fade 0 500
$HUD_REMOVE = 1
wait 500

$SAVESTATUS = 1
WEATHER_SYS_IDLE_FLAG = 1
if
BRIGHT_ATMOSPHERE == 1
then
$WEATHER_LOCK_NUMBER = 0
else
$WEATHER_LOCK_NUMBER = 4
end
create_thread @WTH_LCK
PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0

wait 500

for 0@ = 23 to 39

if
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
then
actor.DestroyInstantly($RNDM_HOUSE_WEAPON[0@])
actor.RemoveReferences($RNDM_HOUSE_WEAPON[0@])
$RNDM_HOUSE_WEAPON[0@] = -69 
end

end

car.RemoveReferences(MISSION14_BANDIT_CAR1)
car.RemoveReferences(MISSION14_BANDIT_CAR2)
car.RemoveReferences(MISSION14_BANDIT_CAR3)
car.RemoveReferences(MISSION14_BANDIT_CAR4)

repeat
wait 0

if
BRIGHT_ATMOSPHERE == 1
then
set_weather 0
end

until 856D: not  actor $CAMP_ACTOR[3] defined

$CAMP_ACTOR3_X[1] = 2815.6936
$CAMP_ACTOR3_Y[1] = -1366.8728
$CAMP_ACTOR3_Z[1] = 24.0884
$CAMP_ACTOR3_A[1] = 3.5714

gosub @MAIN_QUEST_2_ACTOR_CREATE

wait 500

$SAVESTATUS = 0

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 1
$MUSIC_ASSHOLE = Audiostream.Load("AUDIO\SOUNDS\QUESTS\Q2\Q2D.wav")
Audiostream.PerformAction($MUSIC_ASSHOLE, PLAY)
Audiostream.Loop($MUSIC_ASSHOLE, 1)
Audiostream.Volume($MUSIC_ASSHOLE) = 0.0

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

///////////////////////////////////////////////////////////

0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2792.8975 -1451.955 36.0854
actor.PutAtNoOffset(PLAYER_ACTOR,2792.8975, -1451.955, 36.0854)
actor.Angle(PLAYER_ACTOR) = 216.2309

///////////////////////////////////////////////////////////////////////////////

:CAR_CREATE_MISSION31_8_PRE
if
model.Available(15420)
then

SUPPLY_QUEST_TRUCK = Car.Create(15420, 2790.2725, -1417.1448, 15.9324)
Car.Angle(SUPPLY_QUEST_TRUCK) = 254.6376

if
model.Available(15420)
then
//model.Destroy(15420)
end

else
model.Load(15420)
mload
wait 0
jump to @CAR_CREATE_MISSION31_8_PRE
end

0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 25.0 
0A97: 22@ = car SUPPLY_QUEST_TRUCK struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2
Car.RemoveReferences(SUPPLY_QUEST_TRUCK)
036A: put_actor PLAYER_ACTOR in_car SUPPLY_QUEST_TRUCK
0430: put_actor MAIN_QUEST2_ACTOR into_car SUPPLY_QUEST_TRUCK passenger_seat 0
text.ClearAll()
text.RemoveTextBox()

///////////////////////////////////////////////////////////////////////////////

camera.Restore_WithJumpCut()
create_thread @REFR_3D

wait 1000

$HUD_REMOVE = 0
fade 1 500
wait 500

v$OBJECTIVE = "GAME616"
if
REALISM_MODE == 1
then
v$OBJECTIVE = "GRME616"
end

0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
018A: MISSION_CHECKPOINT = create_checkpoint_at 2238.1873 -2279.4036 13.5469

///////////////////////////////////////////////////////////////////

repeat
wait 0

if
056E:   car SUPPLY_QUEST_TRUCK defined
then

if
not car.Wrecked(SUPPLY_QUEST_TRUCK)
jf @MAIN_QUEST2_FAILED_BIKE

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
not actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    $DIALOG_PAUSE = 1
    marker.Disable(MISSION_CHECKPOINT)
    v$OBJECTIVE = "GAME666"
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    
    MISSION_CHECKPOINT = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
    07E0: set_marker MISSION_CHECKPOINT type_to 1
    
    ///////////////////////////////////////////////////////////////////
    
    while true
    wait 0
    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @MAIN_QUEST2_FAILED_PLAYER_DIED
    if
    $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
    jf @MAIN_QUEST2_FAILED_AGRO
    if
    803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
    jf @MAIN_QUEST2_FAILED_LDEAD
    
    if
    0184:   actor MAIN_QUEST2_ACTOR health > 0
    jf @MAIN_QUEST2_FAILED_DEAD2
    
    if
    056E:   car SUPPLY_QUEST_TRUCK defined
        then
        if
        actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)   
            then
            marker.Disable(MISSION_CHECKPOINT)
            v$OBJECTIVE = "GAME616"
            if
            REALISM_MODE == 1
            then
            v$OBJECTIVE = "GRME616"
            end
            0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
            $SOUNDS_VOLUME3 *= 0.5
            Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
            Audiostream.Loop($MENU_SCIFI_SOUND, 0)
            Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
            018A: MISSION_CHECKPOINT = create_checkpoint_at 2238.1873 -2279.4036 13.5469
            $DIALOG_PAUSE = 0
            break
            end
        else
        jump to @MAIN_QUEST2_FAILED_BIKE
        end
    
    end
    
    ///////////////////////////////////////////////////////////////////
    
    end
else
jump to @MAIN_QUEST2_FAILED_BIKE
end

if
875C: not  marker MISSION_CHECKPOINT enabled
then
018A: MISSION_CHECKPOINT = create_checkpoint_at 2238.1873 -2279.4036 13.5469
end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
00FE:   actor PLAYER_ACTOR sphere 0 in_sphere 2238.1873 -2279.4036 13.5469 radius 180.0 180.0 2.0
    then
    break
    end
    
if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if
8104: not  actor PLAYER_ACTOR near_actor MAIN_QUEST2_ACTOR radius 100.0 100.0 50.0 sphere 0
    then
    $DIALOG_PAUSE = 1
    v$OBJECTIVE = "GAME589"
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    marker.Disable(MISSION_CHECKPOINT)
    
    MISSION_CHECKPOINT = marker.CreateAboveActor(MAIN_QUEST2_ACTOR)
    07E0: set_marker MISSION_CHECKPOINT type_to 1
    
    while true
    wait 0
    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @MAIN_QUEST2_FAILED_PLAYER_DIED
    if
    $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
    jf @MAIN_QUEST2_FAILED_AGRO
    if
    803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
    jf @MAIN_QUEST2_FAILED_LDEAD
    
    if
    0184:   actor MAIN_QUEST2_ACTOR health > 0
    jf @MAIN_QUEST2_FAILED_DEAD2
    
    if or
    8184:   actor MAIN_QUEST2_ACTOR health < 1
    0104:   actor PLAYER_ACTOR near_actor MAIN_QUEST2_ACTOR radius 100.0 100.0 50.0 sphere 0
        then
        break
        end
    
    end
    
    $DIALOG_PAUSE = 0    
    marker.Disable(MISSION_CHECKPOINT)    
    v$OBJECTIVE = "GAME616"
    if
    REALISM_MODE == 1
    then
    v$OBJECTIVE = "GRME616"
    end
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    018A: MISSION_CHECKPOINT = create_checkpoint_at 2238.1873 -2279.4036 13.5469    
        
    end     
 
until false

///////////////////////////////////////////////////////////////////

v$ST_DIALOG[0] = "MQ_136"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

marker.Disable(MISSION_CHECKPOINT)
HARDCORE_DANGER_FLAG_SCRIPTED = 1

///////////////////////////////////////////////////////////////////////////////////////////////////////

while not model.Available(9201)
wait 0
model.Load(9201)
mload
end

$RNDM_HOUSE_WEAPON[34] = actor.Create(25,9201,2212.4731, -2285.3162, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[34]) = 177.7767

while not model.Available(#BANDIT2)
wait 0
model.Load(#BANDIT2)
mload
end

$RNDM_HOUSE_WEAPON[35] = actor.Create(25,#BANDIT2,2219.8049, -2294.6526, 16.7309)
actor.Angle($RNDM_HOUSE_WEAPON[35]) = 20.5779

while not model.Available(#BANDIT3)
wait 0
model.Load(#BANDIT3)
mload
end

$RNDM_HOUSE_WEAPON[36] = actor.Create(25,#BANDIT3,2221.7336, -2278.9343, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[36]) = 221.5514

while not model.Available(#BANDIT4)
wait 0
model.Load(#BANDIT4)
mload
end

$RNDM_HOUSE_WEAPON[37] = actor.Create(25,#BANDIT4,2231.3557, -2268.3, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[37]) = 189.1864

//////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT5)
wait 0
model.Load(#BANDIT5)
mload
end 

$RNDM_HOUSE_WEAPON[38] = actor.Create(25,#BANDIT5,2250.0281, -2278.2856, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[38]) = 109.9117

while not model.Available(#BANDIT6)
wait 0
model.Load(#BANDIT6)
mload
end

$RNDM_HOUSE_WEAPON[39] = actor.Create(25,#BANDIT6,2243.0168, -2256.4153, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[39]) = 154.3519

while not model.Available(#BANDIT7)
wait 0
model.Load(#BANDIT7)
mload
end

$RNDM_HOUSE_WEAPON[40] = actor.Create(25,#BANDIT7,2253.1387, -2252.3005, 15.1506)
actor.Angle($RNDM_HOUSE_WEAPON[40]) = 274.0114

while not model.Available(#BANDIT8)
wait 0
model.Load(#BANDIT8)
mload
end

$RNDM_HOUSE_WEAPON[41] = actor.Create(25,#BANDIT8,2266.1292, -2267.1316, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[41]) = 10.5253

//////////////////////////////////////////////////////////////////

for 0@ = 34 to 41
081A: set_actor $RNDM_HOUSE_WEAPON[0@] weapon_skill_to 2       
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[0@],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[0@] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[0@] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[0@]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[0@]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[0@] 371

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[0@],30,9999)
08C6: set_actor $RNDM_HOUSE_WEAPON[0@] stay_on_bike 1
end

wait 100

for 0@ = 34 to 41
0085: 1@ = 0@ // (int)
1@ -= 34
$BANDIT_MARKER[1@] = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[0@])
marker.SetIconSize($BANDIT_MARKER[1@],2)
create_thread @ANT_PRE $RNDM_HOUSE_WEAPON[0@]
end

v$OBJECTIVE = "GAME614"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

repeat
wait 0

if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    if
    not car.Wrecked(SUPPLY_QUEST_TRUCK)
    jf @MAIN_QUEST2_FAILED_BIKE
else
jump to @MAIN_QUEST2_FAILED_BIKE
end

for 0@ = 34 to 41

0085: 1@ = 0@ // (int)
1@ -= 34

if and
075C:   marker $BANDIT_MARKER[1@] enabled
8184:   actor $RNDM_HOUSE_WEAPON[0@] health < 1
then
marker.Disable($BANDIT_MARKER[1@])
gosub @Q3_DEATH_PHRASE
end

end

for 0@ = 31 to 41
gosub @MISSION31_ATTACK_SYSTEM
end

random_int 11@ 0 5
random_int 0@ 31 41
gosub @MISSION31_TEAMMATES_ATTACK_PEOPLE1

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if and
8184:   actor $RNDM_HOUSE_WEAPON[34] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[35] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[36] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[37] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[38] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[39] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[40] health < 1
8184:   actor $RNDM_HOUSE_WEAPON[41] health < 1
    then
    break
    end

until false

///////////////////////////////////////////////////////////////////////////////////////////////////////

for 0@ = 11 to 18

0085: 1@ = 0@ // (int)
1@ -= 11

if
075C:   marker $BANDIT_MARKER[1@] enabled
then
marker.Disable($BANDIT_MARKER[1@])
end

end

v$OBJECTIVE = "DUMMY"

player.CanMove(PLAYER_CHAR,false)
0E09: mark_car_as_needed SUPPLY_QUEST_TRUCK

fade 0 500
$HUD_REMOVE = 1
wait 500

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

0AF1: write_int 3 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT"
:Q2_CHASE_JUMP

car.PutAt(SUPPLY_QUEST_TRUCK,2208.5029, -2289.511, 14.4448)
car.Angle(SUPPLY_QUEST_TRUCK) = 30.4873

0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2212.7485 -2293.386 14.7647
actor.PutAtNoOffset(PLAYER_ACTOR,2212.7485, -2293.386, 14.7647)
actor.Angle(PLAYER_ACTOR) = 124.6138
camera.Restore_WithJumpCut()

0395: clear_area 0 at 2212.7485 -2293.386 14.7647 radius 500.0

wait 1000

player.CanMove(PLAYER_CHAR,true)
create_thread @3D_REFR
fade 1 500
$HUD_REMOVE = 0
wait 500
Car.RemoveReferences(SUPPLY_QUEST_TRUCK)

v$ST_DIALOG[0] = "MQ_490"
v$ST_DIALOG[1] = "MQ_491"
v$ST_DIALOG[2] = "MQ_492"
$DIALOG_COUNT = 2
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

repeat
wait 0

if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    if
    not car.Wrecked(SUPPLY_QUEST_TRUCK)
    jf @MAIN_QUEST2_FAILED_BIKE
else
jump to @MAIN_QUEST2_FAILED_BIKE
end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

until $DIALOG_END == 1

:CAR_CREATE_MISSION31_7
if
model.Available(#PCJ600)
then

$MISSION_CAR1 = Car.Create(#PCJ600, 2163.3132, -2248.0894, 13.3157)
Car.Angle($MISSION_CAR1) = 225.4677

if
model.Available(#PCJ600)
then
//model.Destroy(#PCJ600)
end

else
model.Load(#PCJ600)
mload
wait 0
jump to @CAR_CREATE_MISSION31_7
end

0229: set_car $MISSION_CAR1 primary_color_to $BANDITS_CAR_COLOR1 secondary_color_to $BANDITS_CAR_COLOR2
car.SetImmunities($MISSION_CAR1,1,0,0,0,0)

//////////////////////////////////////////////////////////////////

while not model.Available(12799)
wait 0
model.Load(12799)
mload
end

$RNDM_HOUSE_WEAPON[42] = actor.Create(25,12799,2266.1292, -2267.1316, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[42]) = 10.5253

//////////////////////////////////////////////////////////////////

081A: set_actor $RNDM_HOUSE_WEAPON[42] weapon_skill_to 2       
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[42],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[42] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[42] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[42]) = 1000
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[42]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[42] 371

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[42],30,9999)
08C6: set_actor $RNDM_HOUSE_WEAPON[42] stay_on_bike 1
actor.SetImmunities($RNDM_HOUSE_WEAPON[42],1,1,1,1,1)
036A: put_actor $RNDM_HOUSE_WEAPON[42] in_car $MISSION_CAR1

//////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 1
$MUSIC_ASSHOLE = Audiostream.Load("AUDIO\SOUNDS\QUESTS\Q2\Q2E.wav")
Audiostream.PerformAction($MUSIC_ASSHOLE, PLAY)
Audiostream.Loop($MUSIC_ASSHOLE, 1)
Audiostream.Volume($MUSIC_ASSHOLE) = 0.0

/////////////////////Плавное нарастание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int) 
0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1 

////////////////////////////////////////////////////////

$SHIT_FUCK = Audiostream.Load3d("AUDIO\SOUNDS\QUESTS\moto.mp3")
Audiostream.LinkToCar($SHIT_FUCK,$MISSION_CAR1)
Audiostream.PerformAction($SHIT_FUCK, PLAY)
Audiostream.Loop($SHIT_FUCK, 0)
0089: 0@ = $SOUNDS_VOLUME // (float)
0@ *= 30.0
Audiostream.Volume($SHIT_FUCK) = 0@

$NOTSPAWN_CARS = 1
    
repeat
wait 0
07C0: load_path 990
until 07C1:   path 990 available
    
05EB: assign_car $MISSION_CAR1 to_path 990

wait 500
$MISSION19_PATH_SPEED = 1.10
$M19_RADIUS_JAMES_SPEED_UP *= 0.55
06FD: set_car $MISSION_CAR1 speed_on_path_to 0.05

v$ST_DIALOG[0] = "MQ_493"
v$ST_DIALOG[1] = "MQ_494"
v$ST_DIALOG[2] = "MQ_495"
v$ST_DIALOG[3] = "MQ_496"
$DIALOG_COUNT = 3
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

//////////////////////////////////////////////////////////////////

JAMES_LOST_RADIUS = 200.0

32@ = 0
100@ = 0

v$OBJECTIVE = "GAME667"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
MISSION_MARKER = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
07E0: set_marker MISSION_MARKER type_to 1

//////////////////////////////////////////////////////////////////

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD
    
if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    if
    not car.Wrecked(SUPPLY_QUEST_TRUCK)
    jf @MAIN_QUEST2_FAILED_BIKE
    if
    actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
        then
        marker.Disable(MISSION_MARKER)
        break
        end
    else
    jump to @MAIN_QUEST2_FAILED_BIKE
    end
    
if
0364:   actor PLAYER_ACTOR spotted_actor $RNDM_HOUSE_WEAPON[42]
then
32@ = 5001
end    

if and
100@ == 0
32@ > 5000
    then
    100@ = 1
    06FD: set_car $MISSION_CAR1 speed_on_path_to $MISSION19_PATH_SPEED
    create_thread @CAR_SP2 0 SUPPLY_QUEST_TRUCK
    end
    
until false

$END_DIALOG_INST = 1

//////////////////////////////////////////////////////////////////

if and
89DE: not  actor PLAYER_ACTOR entering_car
not actor.InCar(MAIN_QUEST2_ACTOR,SUPPLY_QUEST_TRUCK)
then
$HUD_REMOVE = 1
fade 0 500
wait 500
0430: put_actor MAIN_QUEST2_ACTOR into_car SUPPLY_QUEST_TRUCK passenger_seat 0
wait 100
$HUD_REMOVE = 0
fade 1 500
wait 500
end

v$OBJECTIVE = "GAME617"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
MISSION_MARKER = marker.CreateAboveActor($RNDM_HOUSE_WEAPON[42])
marker.SetIconSize(MISSION_MARKER,2)

//////////////////////////////////////////////////////////////////

32@ = 0

repeat
wait 0

if
$CHEATS_ON == 1
then
0683: attach_car SUPPLY_QUEST_TRUCK to_car $MISSION_CAR1 with_offset 0.0 -10.0 0.0 rotation 0.0 0.0 0.0
end

if and
32@ > 1000
100@ == 1
    then
    32@ = 0
    0713: actor MAIN_QUEST2_ACTOR driveby_actor $RNDM_HOUSE_WEAPON[42] car -1 point 0.0 0.0 0.0 radius 3000.0 8 1 firing_rate 100
    end
    
if and
100@ == 0
0364:   actor PLAYER_ACTOR spotted_actor $RNDM_HOUSE_WEAPON[42]
then
32@ = 5001
end    

if and
100@ == 0
32@ > 5000
    then
    100@ = 1
    06FD: set_car $MISSION_CAR1 speed_on_path_to $MISSION19_PATH_SPEED
    create_thread @CAR_SP2 0 SUPPLY_QUEST_TRUCK
    end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if or
00F2:   actor $RNDM_HOUSE_WEAPON[42] near_actor PLAYER_ACTOR radius JAMES_LOST_RADIUS JAMES_LOST_RADIUS sphere 0
02CB:   actor $RNDM_HOUSE_WEAPON[42] bounding_sphere_visible   
jf @MAIN_QUEST2_FAILED_DISTANCE

02E3: 0@ = car $MISSION_CAR1 speed
if
100@ == 0
then
0@ = 5.0
end

until 0@ < 2.0

05EC: release_car $MISSION_CAR1 from_path
020B: explode_car $MISSION_CAR1
//05BE: AS_actor $RNDM_HOUSE_WEAPON[42] die

$NOTSPAWN_CARS = 0

//////////////////////////////////////////////////////////////////

repeat
wait 0

if
actor.Driving(PLAYER_ACTOR)
    then
    28@ = actor.CurrentCar(PLAYER_ACTOR)
    end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if and
00F2:   actor PLAYER_ACTOR near_actor $RNDM_HOUSE_WEAPON[42] radius 20.0 20.0 sphere 0
02CB:   actor $RNDM_HOUSE_WEAPON[42] bounding_sphere_visible
0364:   actor PLAYER_ACTOR spotted_actor $RNDM_HOUSE_WEAPON[42]   
    then
    break
    end

until false

player.CanMove(PLAYER_CHAR,false)
//0221: set_player PLAYER_CHAR apply_brakes_to_car 1
0A8C: write_memory 0x6BE94E size 2 value 33807 virtual_protect 1 //CBike
0A8C: write_memory 0x6BE950 size 2 value 166 virtual_protect 1 //CBike
06C9: remove_actor MAIN_QUEST2_ACTOR from_group

if
COOP_ACTIVE_FLAG == 1
then
0EA1: disable_second_player_restore_camera 1
COOP_ACTOR = -69
wait 0

repeat
wait 0
until 8800: not  in_two_players_mode

0430: put_actor MAIN_QUEST2_ACTOR into_car 28@ passenger_seat 0
end

wait 1000
0633: AS_actor PLAYER_ACTOR exit_car
0633: AS_actor MAIN_QUEST2_ACTOR exit_car
player.CanMove(PLAYER_CHAR,true)
//0221: set_player PLAYER_CHAR apply_brakes_to_car 0
0A8C: write_memory 0x6BE94E size 2 value 42985 virtual_protect 1 //CBike
0A8C: write_memory 0x6BE950 size 2 value 0 virtual_protect 1 //CBike
audiostream.Release($SHIT_FUCK)

//////////////////////////////////////////////////////////////////

v$OBJECTIVE = "DUMMY"

v$ST_DIALOG[0] = "MQ_139"
$DIALOG_COUNT = 0
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

wait 1000

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    

0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0

$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

wait 1

while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end

///////////////////////////////////////////////////////////

MAIN_QUEST_MUSIC_FLAG = 0

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

until not actor.InCar(MAIN_QUEST2_ACTOR,28@)

01B9: set_actor MAIN_QUEST2_ACTOR armed_weapon_to 24

//////////////////////////////////////////////////////////////////

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

until $DIALOG_END == 1

//////////////////////////////////////////////////////////////////

actor.StorePos($RNDM_HOUSE_WEAPON[42],25@,26@,27@)
0668: AS_actor MAIN_QUEST2_ACTOR rotate_and_shoot_at 25@ 26@ 27@ 2500 ms

v$ST_DIALOG[0] = "MQ_140"
v$ST_DIALOG[1] = "MQ_141"
$DIALOG_COUNT = 1
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

//////////////////////////////////////////////////////////////////

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

until $DIALOG_END == 1

HARDCORE_DANGER_FLAG_SCRIPTED = 0

marker.Disable(MISSION_MARKER)
0631: put_actor MAIN_QUEST2_ACTOR in_group PLAYER_GROUP

if
COOP_ACTIVE_FLAG == 1
then
0EA0: set_actor_second_player MAIN_QUEST2_ACTOR enable_camera 1 separate_cars 0
0084: COOP_ACTOR = MAIN_QUEST2_ACTOR // (int)
end

$WEATHER_LOCK_OFF_FLAG = 1

//////////////////////////////////////////////////////////////////

wait 500

v$ST_DIALOG[0] = "MQ_142"
v$ST_DIALOG[1] = "MQ_143"
$DIALOG_COUNT = 1
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

until $DIALOG_END == 1

v$OBJECTIVE = "GAME668"
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
MISSION_MARKER = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
07E0: set_marker MISSION_MARKER type_to 1

//////////////////////////////////////////////////////////////////

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD
    
if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if
056E:   car SUPPLY_QUEST_TRUCK defined
    then
    if
    not car.Wrecked(SUPPLY_QUEST_TRUCK)
    jf @MAIN_QUEST2_FAILED_BIKE
    if
    actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
        then
        marker.Disable(MISSION_MARKER)
        break
        end
    else
    jump to @MAIN_QUEST2_FAILED_BIKE
    end
    
until false

//////////////////////////////////////////////////////////////////

if and
89DE: not  actor PLAYER_ACTOR entering_car
not actor.InCar(MAIN_QUEST2_ACTOR,SUPPLY_QUEST_TRUCK)
then
$HUD_REMOVE = 1
fade 0 500
wait 500
0430: put_actor MAIN_QUEST2_ACTOR into_car SUPPLY_QUEST_TRUCK passenger_seat 0
wait 100
$HUD_REMOVE = 0
fade 1 500
wait 500
end

//////////////////////////////////////////////////////////////////

018A: MISSION_CHECKPOINT = create_checkpoint_at 2813.2024 -1473.9805 16.3121
03BC: MISSION_SPHERE = create_sphere_at 2813.2024 -1473.9805 16.3121 radius 2.0
v$OBJECTIVE = "GAME594"
if
REALISM_MODE == 1
then
v$OBJECTIVE = "GRME594"
end
0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
$SOUNDS_VOLUME3 *= 0.5
Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
Audiostream.Loop($MENU_SCIFI_SOUND, 0)
Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)

repeat
wait 0

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
056E:   car SUPPLY_QUEST_TRUCK defined
then

if
not car.Wrecked(SUPPLY_QUEST_TRUCK)
jf @MAIN_QUEST2_FAILED_BIKE

if
not actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)
    then
    
    $DIALOG_PAUSE = 1
    v$OBJECTIVE = "GAME666"
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    marker.Disable(MISSION_CHECKPOINT)
    03BD: destroy_sphere MISSION_SPHERE    
        
    MISSION_CHECKPOINT = marker.CreateAboveCar(SUPPLY_QUEST_TRUCK)
    07E0: set_marker MISSION_CHECKPOINT type_to 1
    
    ///////////////////////////////////////////////////////////////////
    
    while true
    wait 0
    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @MAIN_QUEST2_FAILED_PLAYER_DIED
    if
    $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
    jf @MAIN_QUEST2_FAILED_AGRO
    if
    803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
    jf @MAIN_QUEST2_FAILED_LDEAD
    
    if
    0184:   actor MAIN_QUEST2_ACTOR health > 0
    jf @MAIN_QUEST2_FAILED_DEAD2
    
    if
    056E:   car SUPPLY_QUEST_TRUCK defined
        then
        if
        actor.InCar(PLAYER_ACTOR,SUPPLY_QUEST_TRUCK)   
            then
            $DIALOG_PAUSE = 0    
            marker.Disable(MISSION_CHECKPOINT)    
            018A: MISSION_CHECKPOINT = create_checkpoint_at 2813.2024 -1473.9805 16.3121
            03BC: MISSION_SPHERE = create_sphere_at 2813.2024 -1473.9805 16.3121 radius 2.0
            v$OBJECTIVE = "GAME594"
            if
            REALISM_MODE == 1
            then
            v$OBJECTIVE = "GRME594"
            end
            0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
            $SOUNDS_VOLUME3 *= 0.5
            Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
            Audiostream.Loop($MENU_SCIFI_SOUND, 0)
            Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)            
            break
            end
        else
        jump to @MAIN_QUEST2_FAILED_BIKE
        end
    
    end
    
    ///////////////////////////////////////////////////////////////////
    
    end
else
jump to @MAIN_QUEST2_FAILED_BIKE
end

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if
8104: not  actor PLAYER_ACTOR near_actor MAIN_QUEST2_ACTOR radius 100.0 100.0 50.0 sphere 0
    then
    
    $DIALOG_PAUSE = 1
    v$OBJECTIVE = "GAME589"
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)
    marker.Disable(MISSION_CHECKPOINT)
    03BD: destroy_sphere MISSION_SPHERE
    
    MISSION_CHECKPOINT = marker.CreateAboveActor(MAIN_QUEST2_ACTOR)
    07E0: set_marker MISSION_CHECKPOINT type_to 1
    
    while true
    wait 0
    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @MAIN_QUEST2_FAILED_PLAYER_DIED
    if
    $CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
    jf @MAIN_QUEST2_FAILED_AGRO
    if
    803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
    jf @MAIN_QUEST2_FAILED_LDEAD
    
    if
    0184:   actor MAIN_QUEST2_ACTOR health > 0
    jf @MAIN_QUEST2_FAILED_DEAD2
    
    if or
    8184:   actor MAIN_QUEST2_ACTOR health < 1
    0104:   actor PLAYER_ACTOR near_actor MAIN_QUEST2_ACTOR radius 100.0 100.0 50.0 sphere 0
        then
        break
        end
    
    end
    
    $DIALOG_PAUSE = 0    
    marker.Disable(MISSION_CHECKPOINT)    
    018A: MISSION_CHECKPOINT = create_checkpoint_at 2813.2024 -1473.9805 16.3121
    03BC: MISSION_SPHERE = create_sphere_at 2813.2024 -1473.9805 16.3121 radius 2.0
    v$OBJECTIVE = "GAME594"
    if
    REALISM_MODE == 1
    then
    v$OBJECTIVE = "GRME594"
    end
    0086: $SOUNDS_VOLUME3 = $SOUNDS_VOLUME // (float)
    $SOUNDS_VOLUME3 *= 0.5
    Audiostream.Volume($MENU_SCIFI_SOUND) = $SOUNDS_VOLUME3 
    Audiostream.Loop($MENU_SCIFI_SOUND, 0)
    Audiostream.PerformAction($MENU_SCIFI_SOUND, PLAY)    
        
    end

if
875C: not  marker MISSION_CHECKPOINT enabled
then
018A: MISSION_CHECKPOINT = create_checkpoint_at 2813.2024 -1473.9805 16.3121
end

if
not actor.Dead(PLAYER_ACTOR)
jf @MAIN_QUEST2_FAILED_PLAYER_DIED
if
$CAMP_AGRED_FLAG[$QUEST_CAMP_NUMBER] == 0
jf @MAIN_QUEST2_FAILED_AGRO
if
803A: not  LEADER_DIED_FLAG == $QUEST_CAMP_NUMBER // (int)
jf @MAIN_QUEST2_FAILED_LDEAD

if
0184:   actor MAIN_QUEST2_ACTOR health > 0
jf @MAIN_QUEST2_FAILED_DEAD2

if and
00EC:   actor PLAYER_ACTOR sphere 0 near_point 2813.2024 -1473.9805 16.3121 radius 2.5 2.5
00EC:   actor MAIN_QUEST2_ACTOR sphere 0 near_point 2813.2024 -1473.9805 16.3121 radius 4.5 4.5
    then
    break
    end

until false

v$OBJECTIVE = "DUMMY"

marker.Disable(MISSION_CHECKPOINT)
03BD: destroy_sphere MISSION_SPHERE
player.CanMove(PLAYER_CHAR,false)
//0221: set_player PLAYER_CHAR apply_brakes_to_car 1
0A8C: write_memory 0x6BE94E size 2 value 33807 virtual_protect 1 //CBike
0A8C: write_memory 0x6BE950 size 2 value 166 virtual_protect 1 //CBike

fade 0 500
$HUD_REMOVE = 1
wait 1500

//0221: set_player PLAYER_CHAR apply_brakes_to_car 0
0A8C: write_memory 0x6BE94E size 2 value 42985 virtual_protect 1 //CBike
0A8C: write_memory 0x6BE950 size 2 value 0 virtual_protect 1 //CBike

$SAVESTATUS = 1

if
COOP_ACTIVE_FLAG == 1
then
0EA1: disable_second_player_restore_camera 1
COOP_ACTOR = -69
end

actor.DestroyInstantly(MAIN_QUEST2_ACTOR)

$CAMP_ACTOR3_X[1] = 2792.2607
$CAMP_ACTOR3_Y[1] = -1428.0647
$CAMP_ACTOR3_Z[1] = 36.0938
$CAMP_ACTOR3_A[1] = 179.8599

repeat
wait 0
until 856D: not  actor $CAMP_ACTOR[3] defined

$SAVESTATUS = 0
$QUEST_READY_FLAG = 1
create_thread @MNQ_RSP $QUEST_CAMP_NUMBER

repeat
wait 0
until 056D:   actor $CAMP_ACTOR[3] defined

0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2792.2686 -1429.8867 36.0938
actor.PutAtNoOffset(PLAYER_ACTOR,2792.2686, -1429.8867, 36.0938)
actor.Angle(PLAYER_ACTOR) = 0.5056
camera.Restore_WithJumpCut()
create_thread @REFR_3D

if
056E:   car SUPPLY_QUEST_TRUCK defined
then
//car.PutAt(SUPPLY_QUEST_TRUCK,2797.7354, -1437.5569, 35.7884)
0EB4: set_car_coordinates_simple SUPPLY_QUEST_TRUCK position 2808.2656 -1466.0591 35.7595
car.Angle(SUPPLY_QUEST_TRUCK) = 137.7232
SUPPLY_QUEST_TRUCK = -69
end

:MQ2_END_JUMP

$TALK_SIMULATE = 1
$CAMP_SPOTTED_FLAG = 1

repeat
wait 0
until $QUEST_TYPE == -1

marker.Disable(MISSION_CHECKPOINT)

v$OBJECTIVE = "DUMMY"
$ONMISSION = 0
$NOTSPAWN_ETC = 0
$SPECIAL_INFECTED_NOT_SPAWN_FLAG = 0
$SURVIVORS_DONT_SPAWN_FLAG = 0
CAMP_DONT_SAY_HELLO_FLAG = 0
0AF1: write_int 0 to_ini_file "data\survival.set" section "SCR" key "MQ2_CHECKPOINT" 
MAIN_QUEST_TEAMMATES_REMOVE_FLAG = 2
create_thread @MQTMBK
PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
jump to @ASSUDALENIE_KODA2829ASS_2  

:ASSKOD_PROVALA2829ASS_2 
mission_cleanup     
return 

:ASSUDALENIE_KODA2829ASS_2
$BANDITS_DONT_ATTACK_PLAYER_FLAG = 0
PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
$NOTSPAWN_CARS = 0

if
075C:   marker MISSION_CHECKPOINT enabled
then
marker.Disable(MISSION_CHECKPOINT)
end
    
mission_cleanup    
return

:MAIN_QUEST2_FAILED_AGRO

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL5"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_AGRO2

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL39"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_DEAD1

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL40"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_DEAD2

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL41"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_LDEAD

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL41"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_DISTANCE

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL42"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_BIKE

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 250
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD

///////////////////////////////////////////////////////////

BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
text.ClearAll()
v$FAILED_TEXT = "MS_FL49"
create_thread @GMV_OVR
mission_cleanup    
return

:MAIN_QUEST2_FAILED_PLAYER_DIED

/////////////////////Плавное затухание/////////////////////

$MUSIC_FADE_NUMBER += 1
if
$MUSIC_FADE_NUMBER > 4
    then
    $MUSIC_FADE_NUMBER = 0 
    end    
        
0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_ASSHOLE // (int)
$MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = 0.0
        
$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 2000
$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 0  
$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
create_thread @MUS_FAD
        
wait 1
        
while $MUSIC_FADE_ENDED[$MUSIC_FADE_NUMBER] == 0
wait 0
end
    
MAIN_QUEST_MUSIC_FLAG = 0

text.ClearAll()
BLACK_POLOSKI_ON = 1
$MUSIC_TURN_OFF_FLAG = 1
v$FAILED_TEXT = "MS_FL80"
create_thread @GMV_OVR

return

:MISSION31_ATTACK_SYSTEM

if
856D: not  actor $RNDM_HOUSE_WEAPON[0@] defined
then
return
end

if
8184:   actor $RNDM_HOUSE_WEAPON[0@] health < 1
then
return
end       

if
$VAGINA_FLAG[0@] == 1
    then
    $VAGINA_TIME[0@] += 1
    end
    
if
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
then
gosub @Q2_PHRASES
end            

/////////////////Поиск цели бойцом///////////////////// 

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
$VAGINA_FLAG[0@] == 0  
    then    
    gosub @MISSION31_ATTACK_SYSTEM_PLAYER_CHECK
    random_int 2@ 0 30
    if and
    2@ == 15
    19@ == 1
        then
        if or
        0364:  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor PLAYER_ACTOR  
        0364:  actor PLAYER_ACTOR spotted_actor $RNDM_HOUSE_WEAPON[0@]     
        051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
        00F2:  actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius 55.0 55.0 sphere 0
            then
            if and
            $ACTOR_DEAD == 0    
            $SPECTATING_FLAG == 0 
            00F2:  actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius 220.0 220.0 sphere 0
                then      
                
                if    
                051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
                then
                054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
                0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
                end
                 
                008B: $VAGINA[0@] = PLAYER_ACTOR // (int)                
                $VAGINA_FLAG[0@] = 1
                $VAGINA_TIME[0@] = 0                    
                gosub @MISSION31_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST                                                             
                end
            end   
        else   
        gosub @MISSION31_ATTACK_SYSTEM_TARGET_FIND
        if
        25@ == 1
            then    
            gosub @MISSION31_ATTACK_SYSTEM_TARGET_CHECK        
            if and
            not actor.Dead($VAGINA[0@])            
            803A: not  $VAGINA[0@] == $RNDM_HOUSE_WEAPON[0@] // (int) 
            19@ == 1                 
                then
                if or
                0364:  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $VAGINA[0@]
                0364:  actor $VAGINA[0@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
                    then                         
                    $VAGINA_FLAG[0@] = 1
                    $VAGINA_TIME[0@] = 0                        
                    gosub @MISSION31_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST    
                    end                                                                                  
                end 
            end
        end               
    end

/////////////////Проверка на бездействие бойца если цель найдена/////////////////////     
     
if
0184:   actor $RNDM_HOUSE_WEAPON[0@] health > 0 
    then
    if
    $VAGINA_FLAG[0@] == 1
        then
        if
        056D:   actor $VAGINA[0@] defined
            then
            gosub @MISSION31_ATTACK_SYSTEM_FIRING_CHECK
            if and
            19@ == 0
            actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "idle_stance"
            00F2:   actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius 220.0 220.0 sphere 0
            82E0: not  actor $RNDM_HOUSE_WEAPON[0@] firing_weapon 
                then 
                gosub @MISSION31_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST  
                end
            end
        end
     end 
     
/////////////////Проверка на наличие цели атаки///////////////////// 

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
$VAGINA_FLAG[0@] == 1 
    then
    if
    056D:   actor $VAGINA[0@] defined
        then 
        if or
        8184:   actor $VAGINA[0@] health < 1  
        80F2: not  actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius 230.0 230.0 sphere 0
        $VAGINA_TIME[0@] > 300        
            then 
            $VAGINA_FLAG[0@] = 0
            $VAGINA_TIME[0@] = 0  
            end
        else
        $VAGINA_FLAG[0@] = 0
        $VAGINA_TIME[0@] = 0
        end
    end             

return

/////////////////////////////////////////////////////////////////////////////////

:MISSION31_ATTACK_SYSTEM_TARGET_FIND

25@ = 0
random_int 1@ 77 96

0084: $VAGINA[0@] = $CREATURE[1@] // (int)

if and
056D:   actor $VAGINA[0@] defined
not 1@ == PLAYER_CREATURE_NUMBER
    then      
    if
    00F2:   actor $RNDM_HOUSE_WEAPON[0@] near_actor $VAGINA[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
        then 
        25@ = 1
        end
    end

return

/////////////////////////////////////////////////////////////////////////////////

:MISSION31_ATTACK_SYSTEM_PLAYER_CHECK

19@ = 0

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 11@      
    
if
11@ == 25
    then
    19@ = 0
    
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
    then
    19@ = 0
    else
    19@ = 1
    end
    
    return
    end


return

/////////////////////////////////////////////////////////////////////////////////   

:MISSION31_ATTACK_SYSTEM_TARGET_CHECK

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 11@ 

if
11@ == 26
    then
    19@ = 0
    089F: get_actor $VAGINA[0@] pedtype_to 12@ 
    
    if or
    12@ == 23
    12@ == 25
    12@ == 27
    12@ == 28
    12@ == 29  
    then
    19@ = 1
    else
    19@ = 0
    end
    
    return
    end    
    
if
11@ == 25
    then
    19@ = 0
    
    089F: get_actor $VAGINA[0@] pedtype_to 12@ 
    
    if or
    12@ == 23 
    12@ == 27
    12@ == 26 
    12@ == 28
    12@ == 29
    then
    19@ = 1
    else
    19@ = 0
    end
    
    return
    end

return

///////////////////////////////////////////////////////////////////////////////// 

:MISSION31_ATTACK_SYSTEM_CHECK_ATTACK_TARGET_EXSIST 

if or
02E0:   actor $RNDM_HOUSE_WEAPON[0@] firing_weapon 
8364: not  actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $VAGINA[0@]
    then
    return
    end

if 
$VAGINA_FLAG[0@] == 1
    then 
    if
    056D:   actor $VAGINA[0@] defined
        then            
        0687: clear_actor $RNDM_HOUSE_WEAPON[0@] task
        wait 100
        if
        056D:   actor $VAGINA[0@] defined 
            then                           
            05E2: AS_actor $RNDM_HOUSE_WEAPON[0@] kill_actor $VAGINA[0@]                               
            return           
            end
        end
    end   
    
return      

/////////////////////////////////////////////////////////////////////////////////        

:MISSION31_ATTACK_SYSTEM_FIRING_CHECK
19@ = 0

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_fire_2hands"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_fire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_fire" 
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2  

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "FLAME_fire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RocketFire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "WEAPON_sniper" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "WEAPON_throw"
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2  
     
if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_crouchfire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_crouchfire" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_crouchfire"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_crouchfire" 
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_reload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_reload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_reload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_load" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "gas_cwr"
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2

if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "colt45_crouchreload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "python_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "shotgun_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "buddy_crouchreload" 
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "UZI_crouchreload"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "RIFLE_crouchload" 
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2 
if and
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_BWD"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_FWD"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_L"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GunMove_R"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "Gun_2_IDLE"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GUN_BUTT"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "GUN_BUTT_crouch"
not actor.Animation($RNDM_HOUSE_WEAPON[0@]) == "Gun_stand" 
jf @MISSION31_ATTACK_SYSTEM_FIRING_CHECK2
  
return

:MISSION31_ATTACK_SYSTEM_FIRING_CHECK2
19@ = 1
return

:MISSION31_TEAMMATES_ATTACK_PEOPLE1

if
856D: not  actor $RNDM_HOUSE_WEAPON[0@] defined
then
return
end

if or
$SAVESTATUS == 1
$SAVESTATUS_TRUE == 1
then
return
end  

092B: 3@ = group PLAYER_GROUP member 11@

if
07D6:   3@ == COOP_ACTOR // @ == $ (int)
then
return
end 

if
056D:  actor 3@ defined
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN

if
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN    

if
056D:   actor 3@ defined
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN 

if and 
not actor.Driving(PLAYER_ACTOR)
$RANDOM_CAR_FLAG == 0  
89DE:   actor 3@ entering_car  
80DF:   actor 3@ in_a_car
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if or
0364:   actor 3@ spotted_actor $RNDM_HOUSE_WEAPON[0@]
0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor 3@
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
00F2:   actor 3@ near_actor $RNDM_HOUSE_WEAPON[0@] radius $AI_FIND_RADIUS1 $AI_FIND_RADIUS1 sphere 0
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
$HUNTER_ON_PLAYER == 0
$PEOPLE_DONT_ATTACK == 0
$COMMAND_STAY_IN_CAR == 0
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
not actor.Animation(3@) == "FLOOR_hit"
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if
$HUNTER_ON_GROUP == 0
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if
044B:   actor 3@ on_foot
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if
82E0: not actor 3@ firing_weapon
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "colt45_fire_2hands"
not actor.Animation(3@) == "python_fire" 
not actor.Animation(3@) == "shotgun_fire" 
not actor.Animation(3@) == "buddy_fire" 
not actor.Animation(3@) == "UZI_fire"
not actor.Animation(3@) == "RIFLE_fire" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN  
if and
not actor.Animation(3@) == "FLAME_fire" 
not actor.Animation(3@) == "RocketFire" 
not actor.Animation(3@) == "WEAPON_sniper" 
not actor.Animation(3@) == "WEAPON_throw"   
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN       
if and
not actor.Animation(3@) == "colt45_crouchfire"
not actor.Animation(3@) == "python_crouchfire" 
not actor.Animation(3@) == "shotgun_crouchfire" 
not actor.Animation(3@) == "buddy_crouchfire" 
not actor.Animation(3@) == "UZI_crouchfire"
not actor.Animation(3@) == "RIFLE_crouchfire" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_reload"
not actor.Animation(3@) == "python_reload" 
not actor.Animation(3@) == "shotgun_reload" 
not actor.Animation(3@) == "buddy_reload" 
not actor.Animation(3@) == "UZI_reload"
not actor.Animation(3@) == "RIFLE_load" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "colt45_crouchreload"
not actor.Animation(3@) == "python_crouchreload" 
not actor.Animation(3@) == "shotgun_crouchreload" 
not actor.Animation(3@) == "buddy_crouchreload" 
not actor.Animation(3@) == "UZI_crouchreload"
not actor.Animation(3@) == "RIFLE_crouchload" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN   
if and
not actor.Animation(3@) == "GunMove_BWD"
not actor.Animation(3@) == "GunMove_FWD"
not actor.Animation(3@) == "GunMove_L"
not actor.Animation(3@) == "GunMove_R"
not actor.Animation(3@) == "Gun_2_IDLE"
not actor.Animation(3@) == "GUN_BUTT"
not actor.Animation(3@) == "GUN_BUTT_crouch"
not actor.Animation(3@) == "Gun_stand" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
if and
not actor.Animation(3@) == "CLIMB_idle"
not actor.Animation(3@) == "CLIMB_jump"
not actor.Animation(3@) == "CLIMB_jump2fall"
not actor.Animation(3@) == "CLIMB_jump_B"
not actor.Animation(3@) == "CLIMB_Pull"
not actor.Animation(3@) == "CLIMB_Stand"
not actor.Animation(3@) == "CLIMB_Stand_finish" 
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
05C1: AS_actor 3@ speak_from_audio_table $PEOPLE_ZOMBIE_ATTACK_AUDIO_TABLE
if
056D:   actor 3@ defined
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN 
if and
not actor.Driving(PLAYER_ACTOR)
89DE:   actor PLAYER_ACTOR entering_car
80DF:   actor PLAYER_ACTOR in_a_car
80DF:   actor 3@ in_a_car
not actor.Dead(3@)
not actor.Dead($RNDM_HOUSE_WEAPON[0@])
jf @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
0647: AS_actor 3@ clear_look_task
05B9: AS_actor 3@ stay_idle 50 ms 
wait 50
if
056D:   actor 3@ defined  
then
05E2: AS_actor 3@ kill_actor $RNDM_HOUSE_WEAPON[0@]
end
jump @MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN

:MISSION31_TEAMMATES_ATTACK_PEOPLE_BEGIN
return

:MAIN_QUEST2_NOTE_SOUND_PLAY

random_int 16@ 0 to 5 

if
16@ == 0
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll1.mp3") 
end
    
if
16@ == 1
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll2.mp3") 
end
    
if
16@ == 2
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll3.mp3") 
end
    
if
16@ == 3
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll4.mp3") 
end
    
if
16@ == 4
then
14@ = Audiostream.Load("AUDIO\SOUNDS\PageScroll5.mp3") 
end
       
Audiostream.PerformAction(14@, PLAY)
Audiostream.Volume(14@) = $SOUNDS_VOLUME

return

:MAIN_QUEST_2_ACTOR_CREATE

while not model.Available(12786)
wait 0
model.Load(12786)
mload
end

MAIN_QUEST2_ACTOR = actor.Create($TEAMMATES_PED_TYPE,12786,2789.8123, -1448.4749, 36.0895)
actor.Angle(MAIN_QUEST2_ACTOR) = 220.4007
     
0D10: set_actor MAIN_QUEST2_ACTOR alpha 255 // IF and SET
    
create_thread @PED_BKP MAIN_QUEST2_ACTOR 371

0781: get_weapon_with_ID 87 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo(MAIN_QUEST2_ACTOR,87,99999)

0781: get_weapon_with_ID 24 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo(MAIN_QUEST2_ACTOR,24,99999)

actor.Health(MAIN_QUEST2_ACTOR) = 1000

0D10: set_actor MAIN_QUEST2_ACTOR alpha 255 // IF and SET
09F4: set_actor MAIN_QUEST2_ACTOR ignore_height_difference_following_nodes $Z_IGNORE_HEIGHT     
Actor.SetWalkStyle(MAIN_QUEST2_ACTOR, "SURV1")
0446: set_actor MAIN_QUEST2_ACTOR dismemberment_possible 0
060B: set_actor MAIN_QUEST2_ACTOR decision_maker_to $DEC_PEOPLE
07DD: set_actor MAIN_QUEST2_ACTOR attack_rate 50 // previously known as temper_to
081A: set_actor MAIN_QUEST2_ACTOR weapon_skill_to 2  
060F: set_actor MAIN_QUEST2_ACTOR melee_accuracy_to 999.0
0946: set_actor MAIN_QUEST2_ACTOR actions_uninterupted_by_weapon_fire 1

if
UNITED_MAP == 0
then
04D8: set_actor MAIN_QUEST2_ACTOR drowns_in_water 0 
end

09B5: set_actor MAIN_QUEST2_ACTOR signal_after_kill 0  
0A96: 0@ = actor MAIN_QUEST2_ACTOR struct
0A8E: 0@ = 0@ + 1376
0A8C: write_memory 0@ size 4 value $SURVIVORS_ROTATE_SPEED virtual_protect 1

08AF: set_actor MAIN_QUEST2_ACTOR max_health_to $SURVIVER_MAX_HEALTH
Actor.WeaponAccuracy(MAIN_QUEST2_ACTOR) = $SURV_ACCURACY

0631: put_actor MAIN_QUEST2_ACTOR in_group PLAYER_GROUP

if
COOP_ACTIVE_FLAG == 1
then
0EA0: set_actor_second_player MAIN_QUEST2_ACTOR enable_camera 1 separate_cars 0
0084: COOP_ACTOR = MAIN_QUEST2_ACTOR // (int)
end

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DEAD_BANDITS2

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH26_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DEAD_ARMY2

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH14_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH15_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH16_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH27_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH28_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH93_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH94_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "2PH91_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "2PH92_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_ATTACK_ZONE_BANDITS

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH30_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:Q2RANDOM_DIALOG_ATTACK_ZONE_ARMY

for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH18_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////  

:Q2RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH32_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH33_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH34_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH34_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH35_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH36_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH20_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH21_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH22_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH22_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then   
    1@ += 1 
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH23_"
0AD3: v$PHRASE2 = format "%d" 20@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

/////////////////////////////////////////////////////////////////////////////////

:Q2RANDOM_DIALOG_HUNTER2_ZONE_ARMY
    
for 1@ = 0 to 200

06D1: v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 1@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

09FD: get_gxt_string v$PHRASE3 width_to 31@

if
not 31@ == 0
    then    
    1@ += 1
    random_int 20@ 0 1@
    end

end  

06D1: v$PHRASE1 = "PH24_"
0AD3: v$PHRASE2 = format "%d" 0@
098B: v$PHRASE3 = v$PHRASE1 + v$PHRASE2

return

:Q2_PHRASES

$ZONE_PAIN_TIMER += 1
$ZONE_ATTACK_TIMER += 1
$ZONE_TANK_TIMER += 1
$ZONE_HUNTER_TIMER += 1
$ZONE_HUNTER2_TIMER += 1
$ZONE_WITCH_TIMER += 1
$ZONE_CHARGER_TIMER += 1

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 1@
if
not 1@ == 25
then
return
end

if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
    then
    04DD: 3@ = actor $RNDM_HOUSE_WEAPON[0@] armour
    if and
    001C:   $ZONE_HUNTER_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    3@ == 1
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then           
        
        $ZONE_HUNTER_TIMER = 0
        random_int random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER2_TIMER_MIN ZONE_HUNTER2_TIMER_MAX        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 27
        then
        gosub @Q2RANDOM_DIALOG_HUNTER2_ZONE_ARMY
        else
        gosub @Q2RANDOM_DIALOG_HUNTER2_ZONE_BANDITS
        end                           
                    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer  
                    
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.  
        end            
    end          

////////////////////////////////////////////////Голос про танка////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $TANK[2@] defined  
    then   
    if and
    001C:   $ZONE_TANK_TIMER > $ZONE_TANK_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($TANK[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $TANK[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $TANK[2@]   
        0364:   actor $TANK[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_TANK_TIMER = 0
            random_int random_int $ZONE_TANK_TIMER2 ZONE_TANK_TIMER_MIN ZONE_TANK_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @Q2RANDOM_DIALOG_TANK_NEAR_ZONE_ARMY
            else
            gosub @Q2RANDOM_DIALOG_TANK_NEAR_ZONE_BANDITS
            end                       
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end   
     
////////////////////////////////////////////////Голос про охотника////////////////////////////////////////////////   

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $HUNTER[2@] defined  
    then    
    if and
    001C:   $ZONE_HUNTER2_TIMER > $ZONE_HUNTER2_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($HUNTER[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $HUNTER[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $HUNTER[2@]   
        0364:   actor $HUNTER[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_HUNTER2_TIMER = 0
            random_int $ZONE_HUNTER2_TIMER2 ZONE_HUNTER_TIMER_MIN ZONE_HUNTER_TIMER_MAX                                
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @Q2RANDOM_DIALOG_HUNTER_NEAR_ZONE_ARMY
            else
            gosub @Q2RANDOM_DIALOG_HUNTER_NEAR_ZONE_BANDITS
            end                 
                                
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end            
     
////////////////////////////////////////////////Голос про ведьму////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $WITCH[2@] defined  
    then             
    if and
    001C:   $ZONE_WITCH_TIMER > $ZONE_WITCH_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($WITCH[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $WITCH[02@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $WITCH[2@]   
        0364:   actor $WITCH[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_WITCH_TIMER = 0
            random_int random_int $ZONE_WITCH_TIMER2 ZONE_WITCH_TIMER_MIN ZONE_WITCH_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @Q2RANDOM_DIALOG_WITCH_NEAR_ZONE_ARMY
            else
            gosub @Q2RANDOM_DIALOG_WITCH_NEAR_ZONE_BANDITS
            end        
                                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
            end        
         end    
     end          
     
////////////////////////////////////////////////Голос про громилу////////////////////////////////////////////////      

random_int 2@ 0 to 19

if and
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined  
056D:   actor $CHARGER[2@] defined  
    then          
    if and
    001C:   $ZONE_CHARGER_TIMER > $ZONE_CHARGER_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    not actor.Dead($CHARGER[2@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0  
    0104:   actor $CHARGER[2@] near_actor $RNDM_HOUSE_WEAPON[0@] radius 100.0 100.0 100.0 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0      
        then
        if or
        0364:   actor $RNDM_HOUSE_WEAPON[0@] spotted_actor $CHARGER[2@]   
        0364:   actor $CHARGER[2@] spotted_actor $RNDM_HOUSE_WEAPON[0@]
            then
        
            $ZONE_CHARGER_TIMER = 0
            random_int random_int $ZONE_CHARGER_TIMER2 ZONE_CHARGER_TIMER_MIN ZONE_CHARGER_TIMER_MAX                    
            089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
            if
            2@ == 27
            then
            gosub @Q2RANDOM_DIALOG_CHARGER_NEAR_ZONE_ARMY
            else
            gosub @Q2RANDOM_DIALOG_CHARGER_NEAR_ZONE_BANDITS
            end               
        
                        
            09FD: get_gxt_string v$PHRASE3 width_to 3@
            0093: 3@ = integer 3@ to_float
            3@ *= 8.0
            0092: 3@ = float 3@ to_integer  
                        
            00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00. 
            end        
         end    
     end 
     
if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then      
    if and
    001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    051A:   actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        gosub @Q2_FUCKCHECK
        
        if
        1@ == 1
        jf @Q2_OHMYDOG
        
        2@ = 0
        1@ = 0        

        if or
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 0
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 46
        then
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
        2@ = 1
        1@ = 1            
        else
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        054E: clear_actor $RNDM_HOUSE_WEAPON[0@] damage
        2@ = 1
        1@ = 0
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS_FRIENDLY
        else
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY_FRIENDLY
        end                        
          
        else                        
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_BANDITS_FRIENDLY
        else
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY_FRIENDLY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        
        jump to @Q2_OHMYDOG2
        
        end            

        end
    end 
    
:Q2_OHMYDOG            
     
////////////////////////////////////////////                                 

if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then      
    if and
    001C:   $ZONE_PAIN_TIMER > $ZONE_PAIN_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0 
        then
        
        2@ = 0
        1@ = 0
        
        ///////////////////////
        
        for 4@ = 22 to 34
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 70 to MAX_WEAPON_NUM_NORMAL
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 111 to 121
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 136 to 151
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 165 to 183
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////
        
        for 4@ = 195 to 213
        
        if
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 4@
        then
        2@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        end
        
        ///////////////////////        
        
        if and 
        031D:   actor $RNDM_HOUSE_WEAPON[0@] hit_by_weapon 0
        851A: not  actor $RNDM_HOUSE_WEAPON[0@] damaged_by_actor PLAYER_ACTOR
        then
        
        2@ = 1
        1@ = 1
        0467: clear_actor $RNDM_HOUSE_WEAPON[0@] last_weapon_damage
        end
        
        if
        2@ == 1
        then
        
        $ZONE_PAIN_TIMER = 0
        random_int $ZONE_PAIN_TIMER2 ZONE_PAIN_TIMER_MIN ZONE_PAIN_TIMER_MAX
        
        if
        1@ == 0
        then
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_BANDITS
        else
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_WEAPON_ZONE_ARMY
        end                        
          
        else                        
        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        else
        gosub @Q2RANDOM_DIALOG_DAMAGED_BY_ZOMBIES_ZONE_ARMY
        end        
        
        end 
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        end            

        end
    end   
    
:Q2_OHMYDOG2          
    
if 
056D:   actor $RNDM_HOUSE_WEAPON[0@] defined
    then
    if and
    001C:   $ZONE_ATTACK_TIMER > $ZONE_ATTACK_TIMER2 // (int)
    not actor.Dead($RNDM_HOUSE_WEAPON[0@])
    0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0 
    02E0:   actor $RNDM_HOUSE_WEAPON[0@] firing_weapon
    $SPECTATING_FLAG == 0
    $SCREWHUD_FLAG == 0
    $PHRASES_OFF_FLAG == 0
        then
        
        $ZONE_ATTACK_TIMER = 0
        random_int $ZONE_ATTACK_TIMER2 ZONE_ATTACK_TIMER_MIN ZONE_ATTACK_TIMER_MAX        
        089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
        
        if
        2@ == 25
        then
        gosub @Q2RANDOM_DIALOG_ATTACK_ZONE_BANDITS
        else
        gosub @Q2RANDOM_DIALOG_ATTACK_ZONE_ARMY
        end                     
    
        09FD: get_gxt_string v$PHRASE3 width_to 3@
        0093: 3@ = integer 3@ to_float
        3@ *= 8.0
        0092: 3@ = float 3@ to_integer
        text.ClearAll()  
            
        00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.
        end            
    end            
    
return

:Q2_FUCKCHECK

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@

1@ = 0

if 
2@ == 25
    then
    if or
    $PLAYER_BANDIT_SIDE == 1
    $BANDITS_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end
        
if 
2@ == 27
    then
    if or
    $PLAYER_ARMY_SIDE == 1
    $ARMY_DONT_ATTACK_PLAYER_FLAG == 1
        then
        1@ = 1
        end
    end

return

:Q3_DEATH_PHRASE

0A96: 3@ = actor $RNDM_HOUSE_WEAPON[0@] struct
3@ += 0x754
0A8D: 1@ = read_memory 3@ size 4 virtual_protect 0
2@ = 0    
0ECE: get_time_char_is_dead $RNDM_HOUSE_WEAPON[0@] store_to 2@
    
if and
0104:   actor $RNDM_HOUSE_WEAPON[0@] near_actor PLAYER_ACTOR radius DEAD_TALK_RADIUS DEAD_TALK_RADIUS DEAD_TALK_RADIUS_Z 0
89A8: not  actor $RNDM_HOUSE_WEAPON[0@] headshoted
$SPECTATING_FLAG == 0
$SCREWHUD_FLAG == 0
$PHRASES_OFF_FLAG == 0
not 1@ == 0x02
2@ > 500 
then

089F: get_actor $RNDM_HOUSE_WEAPON[0@] pedtype_to 2@
    
if
2@ == 25
then
gosub @Q2RANDOM_DIALOG_DEAD_BANDITS2        
else
gosub @Q2RANDOM_DIALOG_DEAD_ARMY2    
end   
        
09FD: get_gxt_string v$PHRASE3 width_to 3@
0093: 3@ = integer 3@ to_float
3@ *= 8.0
0092: 3@ = float 3@ to_integer
text.ClearAll()  
                
00BC: show_text_highpriority GXT v$PHRASE3 time 3@ flag 1  // ~s~Come back between 9:00 and 17:00.

end    

return

:Q2_CHASE_JUMP_PRE

$CAMP_SPOTTED_FLAG = 1
$PHRASES_OFF_FLAG = 1
$QUEST_READY_FLAG = 30

$SAVESTATUS = 1
WEATHER_SYS_IDLE_FLAG = 0
$WEATHER_LOCK_NUMBER = 0
create_thread @WTH_LCK

repeat
wait 0

if
BRIGHT_ATMOSPHERE == 1
then
set_weather 0
end

until 856D: not  actor $CAMP_ACTOR[3] defined

$CAMP_ACTOR3_X[1] = 2815.6936
$CAMP_ACTOR3_Y[1] = -1366.8728
$CAMP_ACTOR3_Z[1] = 24.0884
$CAMP_ACTOR3_A[1] = 3.5714

gosub @MAIN_QUEST_2_ACTOR_CREATE

wait 500

$SAVESTATUS = 0

0362: remove_actor PLAYER_ACTOR from_car_and_place_at 2792.8975 -1451.955 36.0854
actor.PutAtNoOffset(PLAYER_ACTOR,2792.8975, -1451.955, 36.0854)
actor.Angle(PLAYER_ACTOR) = 216.2309

///////////////////////////////////////////////////////////////////////////////

:CAR_CREATE_MISSION31_8
if
model.Available(15420)
then

SUPPLY_QUEST_TRUCK = Car.Create(15420, 2790.2725, -1417.1448, 15.9324)
Car.Angle(SUPPLY_QUEST_TRUCK) = 254.6376

if
model.Available(15420)
then
//model.Destroy(15420)
end

else
model.Load(15420)
mload
wait 0
jump to @CAR_CREATE_MISSION31_8
end

0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 9 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 4 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 1 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
24@ = 25.0 
0A97: 22@ = car SUPPLY_QUEST_TRUCK struct 
0A8E: 23@ = 22@ + 5 // int 
0A8C: write_memory 23@ size 4 value 24@ virtual_protect 0 
08C3: clear 12@ bit 1 
08C3: clear 12@ bit 2 
0A97: 11@ = car SUPPLY_QUEST_TRUCK struct 
11@ += 18 
0A8D: 12@ = read_memory 11@ size 1 virtual_protect 0 
08BD: set 12@ bit 2 
0A8C: write_memory 11@ size 1 value 12@ virtual_protect 0 
08C3: clear 12@ bit 2
036A: put_actor PLAYER_ACTOR in_car SUPPLY_QUEST_TRUCK
0430: put_actor MAIN_QUEST2_ACTOR into_car SUPPLY_QUEST_TRUCK passenger_seat 0
text.ClearAll()
text.RemoveTextBox()

///////////////////////////////////////////////////////////////////////////////

camera.Restore_WithJumpCut()
create_thread @REFR_3D

wait 1000

///////////////////////////////////////////////////////////////////////////////////////////////////////

while not model.Available(9201)
wait 0
model.Load(9201)
mload
end

$RNDM_HOUSE_WEAPON[34] = actor.Create(25,9201,2212.4731, -2285.3162, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[34]) = 177.7767

while not model.Available(#BANDIT2)
wait 0
model.Load(#BANDIT2)
mload
end

$RNDM_HOUSE_WEAPON[35] = actor.Create(25,#BANDIT2,2219.8049, -2294.6526, 16.7309)
actor.Angle($RNDM_HOUSE_WEAPON[35]) = 20.5779

while not model.Available(#BANDIT3)
wait 0
model.Load(#BANDIT3)
mload
end

$RNDM_HOUSE_WEAPON[36] = actor.Create(25,#BANDIT3,2221.9658, -2278.8491, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[36]) = 221.4799

while not model.Available(#BANDIT4)
wait 0
model.Load(#BANDIT4)
mload
end

$RNDM_HOUSE_WEAPON[37] = actor.Create(25,#BANDIT4,2231.3557, -2268.3, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[37]) = 189.1864

//////////////////////////////////////////////////////////////////

while not model.Available(#BANDIT5)
wait 0
model.Load(#BANDIT5)
mload
end 

$RNDM_HOUSE_WEAPON[38] = actor.Create(25,#BANDIT5,2250.0281, -2278.2856, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[38]) = 109.9117

while not model.Available(#BANDIT6)
wait 0
model.Load(#BANDIT6)
mload
end

$RNDM_HOUSE_WEAPON[39] = actor.Create(25,#BANDIT6,2243.0168, -2256.4153, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[39]) = 154.3519

while not model.Available(#BANDIT7)
wait 0
model.Load(#BANDIT7)
mload
end

$RNDM_HOUSE_WEAPON[40] = actor.Create(25,#BANDIT7,2253.1387, -2252.3005, 15.1506)
actor.Angle($RNDM_HOUSE_WEAPON[40]) = 274.0114

while not model.Available(#BANDIT8)
wait 0
model.Load(#BANDIT8)
mload
end

$RNDM_HOUSE_WEAPON[41] = actor.Create(25,#BANDIT8,2266.1292, -2267.1316, 14.7647)
actor.Angle($RNDM_HOUSE_WEAPON[41]) = 10.5253

//////////////////////////////////////////////////////////////////

for 0@ = 34 to 41
081A: set_actor $RNDM_HOUSE_WEAPON[0@] weapon_skill_to 2       
actor.SetWalkStyle($RNDM_HOUSE_WEAPON[0@],"GANG1")
0446: set_actor $RNDM_HOUSE_WEAPON[0@] dismemberment_possible 0
060B: set_actor $RNDM_HOUSE_WEAPON[0@] decision_maker_to $DEC_PEOPLE
actor.Health($RNDM_HOUSE_WEAPON[0@]) = $MISSION15_BANDITS_HP
actor.WeaponAccuracy($RNDM_HOUSE_WEAPON[0@]) = $MISSION15_BANDITS_ACCURACY
create_thread @PED_BKP $RNDM_HOUSE_WEAPON[0@] 371

0781: get_weapon_with_ID 30 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo($RNDM_HOUSE_WEAPON[0@],30,9999)
08C6: set_actor $RNDM_HOUSE_WEAPON[0@] stay_on_bike 1
end

wait 100

for 0@ = 34 to 41
0085: 1@ = 0@ // (int)
1@ -= 34
05BE: AS_actor $RNDM_HOUSE_WEAPON[0@] die
end

return