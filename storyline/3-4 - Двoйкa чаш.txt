const
TERRY_FP2_HOUSEBOMJ = $VERSUS_PEOPLE[1]
end

:TERRYT2
thread 'TERRYT2' 

0629: change_integer_stat 258 to -3 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1  
$SAVE_MISSION_START_FLAG = 1  

repeat
wait 0    
fade 0 0 
until $ONMISSION == 0   

Actor.PutAtNoOffset(PLAYER_ACTOR, 2680.3191, -640.857, 88.3581)
Actor.Angle(PLAYER_ACTOR) = 180.9381
camera.Restore_WithJumpCut()
create_thread @3D_REFR

create_thread @PTL_TXT
wait $GAME_SAVE_WAIT_TIME 
$PREPARING_TEXT_OFF = 1 
wait 10  
$PLAYER_HEALTH = actor.Health(PLAYER_ACTOR)

0A8D: 0@ = read_memory 6393978 size 4 virtual_protect 1 
0A8D: 1@ = read_memory 6393982 size 1 virtual_protect 1 

wait 1 

0A8C: write_memory 6393978 size 4 value -1869574000 virtual_protect 1 
0A8C: write_memory 6393982 size 1 value 144 virtual_protect 1 

065C: release_decision_maker $DEC_PEOPLE 
wait 10
03D8: show_save_screen 

wait 2 
0A8C: write_memory 6393978 size 4 value 0@ virtual_protect 1 
0A8C: write_memory 6393982 size 1 value 1@ virtual_protect 1 
   
repeat
wait 0
fade 0 0 
$SAVESTATUS = 1
$SAVESTATUS_TRUE = 1
until 03D9:   save_done

player.CanMove(PLAYER_CHAR) = false
fade 0 0

repeat
wait 0
until $SAVESTATUS == 0

camera.Restore_WithJumpCut()       
fade 0 0              

while $SAVING_DELAY == 1
wait 0
fade 0 0 
end

MAIN_QUEST_MUSIC_FLAG = 1
wait 1000

if 
2@ == 1
then
create_thread @NO_WAY 1
CANT_CAPTURE_SHIT = 2
end

while true
wait 0
$END_FADING_MUSIC_FAST = 1

if and
$MUSIC_FADE_ENDED[0] == 1
$MUSIC_FADE_ENDED[1] == 1
$MUSIC_FADE_ENDED[2] == 1
$MUSIC_FADE_ENDED[3] == 1
$MUSIC_FADE_ENDED[4] == 1
then
$END_FADING_MUSIC_FAST = 0
break
end

end

$MUSIC_MISSION = Audiostream.Load("audio\sounds\music\usher_music\freeplay2.mp3")
Audiostream.PerformAction($MUSIC_MISSION, PLAY)
Audiostream.Loop($MUSIC_MISSION, 1)
Audiostream.Volume($MUSIC_MISSION) = VERO_TIPA_VOLUME

/////////////////////Плавное нарастание/////////////////////
//
//$MUSIC_FADE_NUMBER += 1
//if
//$MUSIC_FADE_NUMBER > 4
//    then
//    $MUSIC_FADE_NUMBER = 0 
//    end    
//
//0084: $MUSIC_FADE1[$MUSIC_FADE_NUMBER] = $MUSIC_MISSION // (int) 
//0086: $MUSIC_FADE_END_VOLUME[$MUSIC_FADE_NUMBER] = $MUSIC_VOLUME // (float) 
//
//$MUSIC_FADE_TIME[$MUSIC_FADE_NUMBER] = 1000
//$MUSIC_FADE_FLAG[$MUSIC_FADE_NUMBER] = 1  
//$MUSIC_FADE_COUNT[$MUSIC_FADE_NUMBER] = 1 
//create_thread @MUS_FAD
//
//wait 1 
250A: SET_AUDIO_STREAM_TYPE $MUSIC_MISSION type 2 
2504: SET_AUDIO_STREAM_VOLUME_WITH_TRANSITION $MUSIC_MISSION volume $MUSIC_VOLUME time 1000

////////////////////////////////////////////////////////

$PREPARING_TEXT_OFF = 0
PLAYER_NO_ITEMS_FLAG = 0
create_thread @PED_BKP PLAYER_ACTOR 371

if
8491: not  actor PLAYER_ACTOR has_weapon 151
then

0781: get_weapon_with_ID 151 model_to 0@

while not model.Available(0@)
wait 0
model.Load(0@)
mload
end

actor.GiveWeaponAndAmmo(PLAYER_ACTOR,151,1)
01B9: set_actor PLAYER_ACTOR armed_weapon_to 0

end

USHER_STORY_CREATE_NICOLS_FLAG = 1
USHER_STORY_FEATRUES_LOCKED = -3

0459: end_thread_named 'ARMY_SP'
0459: end_thread_named 'BNDT_SP'
0459: end_thread_named 'FRMR_SP'
0459: end_thread_named 'SWAT_SP'
0459: end_thread_named 'C_MENU'

TERRY_THREAD_QUEST_MARKER = Marker.CreateIconWithoutSphere(43, 2132.073, -2278.9604, 20.6719)

0AF1: write_int 3 to_ini_file "saves/ZACM.set" section "SCR" key "FS3"

$SAVESTATUS = 0
$SPECIAL_INFECTED_NOT_SPAWN_FLAG = 1
Actor.PutAtNoOffset(PLAYER_ACTOR, 2128.3748, -2287.2561, 13.4527)
Actor.Angle(PLAYER_ACTOR) = 45.6357
camera.Restore_WithJumpCut()
create_thread @3D_REFR

if
LATEST_CAR_SLOT_USED == -1
then
gosub @TERRY_THREAD_CREATE_VICTORIA
create_thread @C_MENU 1
SUPPLY_QUEST_TRUCK = -1

$CAR_SAVE_BANKA_COUNT[LATEST_CAR_SLOT_USED] = 5
$CAR_SAVE_HEAL_COUNT[LATEST_CAR_SLOT_USED] = 4
$CAR_SAVE_BINT_COUNT[LATEST_CAR_SLOT_USED] = 4
0AD3: 4@s = format "CR%d" LATEST_CAR_SLOT_USED
0AF1: write_int 88 to_ini_file "data\survival.set" section 4@s key "WEP_SLOT1_ID"
0AF1: write_int 240 to_ini_file "data\survival.set" section 4@s key "WEP_SLOT1_AMMO"
0AF1: write_int 18 to_ini_file "data\survival.set" section 4@s key "WEP_SLOT2_ID"
0AF1: write_int 5 to_ini_file "data\survival.set" section 4@s key "WEP_SLOT2_AMMO"
$RADIO = 1

repeat
wait 0
until 056E:   car $USED_CAR[LATEST_CAR_SLOT_USED] defined

end

$QUEST_READY_FLAG = -114

$CAMP_SPOTTED_FLAG = 1
$CAMP_SPOTTED_FLAG_SAVE = 0 

0318: set_latest_mission_passed 'STRB89'
Text.ShowStyled('STRB89', 3000, 2) 

v$OBJECTIVE = "STRB93"

fade 1 2000
create_thread @3D_REFR
$HUD_REMOVE = 0
player.CanMove(PLAYER_CHAR,true)

PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
$PHRASES_OFF_FLAG = 0

repeat
wait 0

if and
0E3E: is_button_just_pressed 0 button 17
$CHEATS_ON == 1  
8EEA: not locate_char_distance_to_coordinates PLAYER_ACTOR pos 2124.8506 -2275.9316 20.6719 radius 5.0 
    then        
    actor.PutAtNoOffset(PLAYER_ACTOR,2124.8506, -2275.9316, 20.6719)
    actor.Angle(PLAYER_ACTOR) = 70.3342
    camera.Restore_WithJumpCut()
    create_thread @3D_REFR                     
    end     

gosub @INFECTED_AREA_TERRY_TALK_CHECK 
gosub @FREEPLAY_SAVE_CHECK

if
not $CAMP_NUMBER == 8
then
if
not BASE_TEAMMATE_AGRED == 1
jf @TERRY_THREAD_FAILED_AGRO
end
        
if or
803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
$ENTERED_CAMP_NUMBER == -1
jf @TERRY_THREAD_FAILED_LDEAD 
if
$SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
jf @TERRY_THREAD_FAILED_KETER_WRECKED   
if
not actor.Dead(PLAYER_ACTOR)
jf @TERRY_THREAD_FAILED_PLAYER_DEAD
if
056D:   actor $SURVIVER[0] defined
then                 
if 
not actor.Dead($SURVIVER[0]) 
jf @TERRY_THREAD_FAILED_TERRY_DEAD
end

if and
$QUEST_READY_FLAG == -112 
$PHRASES_OFF_FLAG == 0
    then
    break
    end

until false

v$OBJECTIVE = "DUMMY"

$ALLOW_RANDOM_SURVIVERS = 1
$RANDOM_PEOPLE_SPAWN_FLAG = 1
CARL_SPAWN_FLAG = 0
MIKE_SPAWN_FLAG = 2
$FREND_NUMBER = 0
$SURVIVOR_ALLOW_SPAWN[0] = 1
$DELETE_TEAMMATES = 0
0459: end_thread_named 'SURVVER'
create_thread @SURVVER
$HELP_INST_FLAG = 1
CUSTOM_MODE_NO_TEAMMATES_DEATHS = 1
  
$PEOPLE_SPAWN_ON_COORD = 1        
$PEOPLE_X = 2117.8726  
$PEOPLE_Y = -2275.8674
$PEOPLE_Z = 20.676

repeat
wait 0
until 056D:   actor $SURVIVER[0] defined 

repeat
wait 0                                                
until 06EE:   actor $SURVIVER[0] in_group PLAYER_GROUP

0615: define_AS_pack_begin 0@
05D3: AS_actor -1 goto_point 2118.3445 -2275.4883 20.676 mode 7 time 5000 ms // versionA
05D3: AS_actor -1 goto_point 2120.3472 -2273.6362 20.6719 mode 7 time 5000 ms // versionA
0616: define_AS_pack_end 0@
0618: assign_actor $SURVIVER[0] to_AS_pack 0@
061B: remove_references_to_AS_pack 0@

repeat
wait 0
until $PANEL_OPEN == 0

fade 1 500
$HUD_REMOVE = 0
wait 500

CAMP_LEADER_DONT_SAY_BYE_FLAG = 0

TEAM1_SKIN = 1
06D1: v$SURVIVOR_PROLOUGE[0] = "STRB63" // v$ = string
$SURV1_TEAM_TIME = 13200
ZAME_SKIN1_CUSTOM_NAME = 1
0ADE: 0@ = text_by_GXT_entry "N_9199"
0AD3: TEAM1_NAME = format "%s" 0@

0AE0: remove_dynamic_GXT_entry "F_NAME1"
0ADF: add_dynamic_GXT_entry "F_NAME1" text TEAM1_NAME

$RANDOM_PEOPLE_SPAWN_FLAG = 0
//create_thread @TERRY_D

repeat
wait 0

if
02A0:   actor $SURVIVER[0] stopped
    then
    
    0615: define_AS_pack_begin 0@
    05D3: AS_actor -1 goto_point 2118.3445 -2275.4883 20.676 mode 7 time 5000 ms // versionA
    05D3: AS_actor -1 goto_point 2120.3472 -2273.6362 20.6719 mode 7 time 5000 ms // versionA
    0616: define_AS_pack_end 0@
    0618: assign_actor $SURVIVER[0] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@    
    
    wait 1000
    
    end

until 0364:   actor PLAYER_ACTOR spotted_actor $SURVIVER[0]

wait 1000
0631: put_actor $SURVIVER[0] in_group PLAYER_GROUP

v$ST_DIALOG[0] = "STR348"
v$ST_DIALOG[1] = "STR349"
v$ST_DIALOG[2] = "STR350"
v$ST_DIALOG[3] = "STR351"
v$ST_DIALOG[4] = "STRY351"
v$ST_DIALOG[5] = "STRY352"
$DIALOG_COUNT = 5
$DIALOG_NOT_SKIP = 1
create_thread @DG_SYS2
PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
CAMP_DONT_SAY_HELLO_FLAG = 1
$PHRASES_OFF_FLAG = 1

repeat
wait 0
gosub @FREEPLAY_DIALOG_DANGER_CHECK

if
056D:   actor $SURVIVER[0] defined
then
if or
8EE4: not locate_char_distance_to_char $SURVIVER[0] char PLAYER_ACTOR radius 30.0
$SAVESTATUS_TRUE == 1
$SAVING_DELAY == 1
    then
    0@ = 1
    end
end        
    
if and
0@ == 1 
$DIALOG_PAUSE == 0
    then
    $DIALOG_PAUSE = 1
    end
    
if and
0@ == 0 
$DIALOG_PAUSE == 1
    then
    $DIALOG_PAUSE = 0
    end

gosub @INFECTED_AREA_TERRY_TALK_CHECK 
gosub @FREEPLAY_SAVE_CHECK

if
not $CAMP_NUMBER == 8
then
if
not BASE_TEAMMATE_AGRED == 1
jf @TERRY_THREAD_FAILED_AGRO  
end
      
if or
803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
$ENTERED_CAMP_NUMBER == -1
jf @TERRY_THREAD_FAILED_LDEAD 
if
$SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
jf @TERRY_THREAD_FAILED_KETER_WRECKED   
if
not actor.Dead(PLAYER_ACTOR)
jf @TERRY_THREAD_FAILED_PLAYER_DEAD
if
056D:   actor $SURVIVER[0] defined
then                 
if 
not actor.Dead($SURVIVER[0]) 
jf @TERRY_THREAD_FAILED_TERRY_DEAD
end           

until $DIALOG_END == 1

PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0 
CAMP_DONT_SAY_HELLO_FLAG = 0
$PHRASES_OFF_FLAG = 0
v$OBJECTIVE = "STRB64"
32@ = 0
TERRY_THREAD_CURRENT_DIALOG_INDEX = 0

while true
wait 0

gosub @FREEPLAY_DIALOG_DANGER_CHECK

if
056D:   actor $SURVIVER[0] defined
then
if or
8EE4: not locate_char_distance_to_char $SURVIVER[0] char PLAYER_ACTOR radius 30.0
$SAVESTATUS_TRUE == 1
$SAVING_DELAY == 1
    then
    0@ = 1
    end
end        
    
if and
0@ == 1 
$DIALOG_PAUSE == 0
    then
    $DIALOG_PAUSE = 1
    end
    
if and
0@ == 0 
$DIALOG_PAUSE == 1
    then
    $DIALOG_PAUSE = 0
    end    

gosub @INFECTED_AREA_TERRY_TALK_CHECK 
gosub @FREEPLAY_SAVE_CHECK

if
not $CAMP_NUMBER == 8
then
if
not BASE_TEAMMATE_AGRED == 1
jf @TERRY_THREAD_FAILED_AGRO 
end
       
if or
803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
$ENTERED_CAMP_NUMBER == -1
jf @TERRY_THREAD_FAILED_LDEAD 
if
$SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
jf @TERRY_THREAD_FAILED_KETER_WRECKED   
if
not actor.Dead(PLAYER_ACTOR)
jf @TERRY_THREAD_FAILED_PLAYER_DEAD  
if
056D:   actor $SURVIVER[0] defined
then               
if 
not actor.Dead($SURVIVER[0]) 
jf @TERRY_THREAD_FAILED_TERRY_DEAD
end
        
if and
$CHEATS_ON == 1
$DIALOG_END == 1
0E3D: is_key_just_pressed 81
    then
    32@ = 99999999
    0AD1: show_formatted_text_highpriority "TERRY_THREAD_CURRENT_DIALOG_INDEX is ~n~%d" time 1000 TERRY_THREAD_CURRENT_DIALOG_INDEX
    wait 1000
    end
    
if
$CHEATS_ON == 1
    then
    if
    0ADC:   test_cheat "SKIP"
        then
        $CHEAT_CODE_ACTIVATED = 1
        $END_DIALOG_INST = 1
        wait 0
        TERRY_THREAD_CURRENT_DIALOG_INDEX = 7
        32@ = 99999999
        end
    end  
    
if
$CHEATS_ON == 1
    then
    if
    0ADC:   test_cheat "SKI2"
        then
        $CHEAT_CODE_ACTIVATED = 1
        $END_DIALOG_INST = 1
        wait 0
        TERRY_THREAD_CURRENT_DIALOG_INDEX = 6
        32@ = 99999999
        jump to @SKI2_JUMP
        end
    end        

if
056D:   actor $SURVIVER[0] defined
then
if and
80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
not $INT_ENTERING_FLAG == 1
    then
            
    if or
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 5
    then   
    marker.Disable(MISSION_CHECKPOINT)
    0A41: destroy_entrance_marker MISSION_MARKER
    end
    
    if
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 8
    then
    marker.Disable(TERRY_THREAD_QUEST_MARKER)
    end
    
    $DIALOG_PAUSE = 1
    
    MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
    07E0: set_marker MISSION_MARKER type_to 1
    
    v$OBJECTIVE = "STRB65"
    
    while 80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
    wait 0    
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO
    end    
    
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end    
        
    end
    
    marker.Disable(MISSION_MARKER)
    if or
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 5
    then
    018A: MISSION_CHECKPOINT = create_checkpoint_at 1089.881592 -1158.222290 24.328125
    0A40: MISSION_MARKER = create_entrance_marker_at 1089.881592 -1158.222290 24.328125 color 14
    end 
    
    if
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 8
    then
    TERRY_THREAD_QUEST_MARKER = marker.CreateIconAndSphere2(95, 2123.7444, -2275.5356, 20.6719)
    end
    
    if
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
    then       
    v$OBJECTIVE = "STRB83" 
    else    
    if
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 5
        then
        v$OBJECTIVE = "STRB92"
        else 
        if
        TERRY_THREAD_CURRENT_DIALOG_INDEX == 8
            then
            v$OBJECTIVE = "STRB66"
            else
            v$OBJECTIVE = "STRB64"
            end
        end    
    end
    
    $DIALOG_PAUSE = 0     
       
    end
end    

////////////////////////Первый диалог (КДЗ пидорасы)////////////////////////

if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 0
32@ > 10000
0@ == 0
    then
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 1
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY419"
    v$ST_DIALOG[1] = "STRY420"
    v$ST_DIALOG[2] = "STRY421"
    v$ST_DIALOG[3] = "STRY422"
    v$ST_DIALOG[4] = "STRY423"
    v$ST_DIALOG[5] = "STRY424"
    v$ST_DIALOG[6] = "STRY425"
    v$ST_DIALOG[7] = "STRY426"
    v$ST_DIALOG[8] = "STRY427"
    v$ST_DIALOG[9] = "STRY428"
    v$ST_DIALOG[10] = "STRY429"
    v$ST_DIALOG[11] = "STRY430"
    $DIALOG_COUNT = 11
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    end
    
if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 1
$DIALOG_END == 1
    then
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 2
    32@ = 0
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
    CAMP_DONT_SAY_HELLO_FLAG = 0
    $PHRASES_OFF_FLAG = 0   
    else
    if and
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 1
    $DIALOG_END == 0
        then
        PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
        CAMP_DONT_SAY_HELLO_FLAG = 1
        $PHRASES_OFF_FLAG = 1
        end 
    end
    
////////////////////////Второй диалог (про ма-а-а-аленькое дельцо)////////////////////////

if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 2
32@ > 30000
0@ == 0
    then
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 3
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY369"
    v$ST_DIALOG[1] = "STRY370"
    v$ST_DIALOG[2] = "STRY371"
    v$ST_DIALOG[3] = "STRY372"
    v$ST_DIALOG[4] = "STRY373"
    v$ST_DIALOG[5] = "STRY374"
    v$ST_DIALOG[6] = "STRY375"
    v$ST_DIALOG[7] = "STRY376"
    v$ST_DIALOG[8] = "STRY377"
    v$ST_DIALOG[9] = "STRY378"
    v$ST_DIALOG[10] = "STRY379"
    v$ST_DIALOG[11] = "STRY380"
    $DIALOG_COUNT = 11
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    end
    
if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 3
$DIALOG_END == 1
    then
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 4
    32@ = 0
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
    CAMP_DONT_SAY_HELLO_FLAG = 0
    $PHRASES_OFF_FLAG = 0
    v$OBJECTIVE = "STRB83"
    018A: MISSION_CHECKPOINT = create_checkpoint_at 1089.881592 -1158.222290 24.328125
    0A40: MISSION_MARKER = create_entrance_marker_at 1089.881592 -1158.222290 24.328125 color 14
    if
    SHOW_HINTS_FLAG == 1
    then
    text.ShowTextBox('HINT51')
    end
    
    else
    if and
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 3
    $DIALOG_END == 0
        then
        PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
        CAMP_DONT_SAY_HELLO_FLAG = 1
        $PHRASES_OFF_FLAG = 1
        end
    end
    
if and
0EEA: locate_char_distance_to_coordinates PLAYER_ACTOR pos 1089.881592 -1158.222290 23.828125 radius 20.0
TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
    then                
            
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY382"
    $DIALOG_COUNT = 0
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0 
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 5   
    v$OBJECTIVE = "STRB92" 
        
    else
    
    if and
    0E3E: is_button_just_pressed 0 button 17
    $CHEATS_ON == 1
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
        then
        actor.PutAtNoOffset(PLAYER_ACTOR,1089.907, -1151.8778, 23.6562)
        actor.Angle(PLAYER_ACTOR) = 179.2086
        camera.Restore_WithJumpCut()
        create_thread @3D_REFR
        $END_DIALOG_INST = 1
             
        0781: get_weapon_with_ID 73 model_to 1@
    
        while not model.Available(1@)
        wait 0
        model.Load(1@)
        mload
        end
         
        Actor.GiveWeaponAndAmmo(PLAYER_ACTOR, 73, 60)
        
        end     
    
    end  
    
////////////////////////Заход в дом, бомжара, фотоаппарат, выход назад на улицу////////////////////////

if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 5
00EC:   actor PLAYER_ACTOR sphere 0 near_point 1089.881592 -1158.222290 radius 1.0 1.0
    then
    
    0776: create_objects_in_object_group "usher_h"
    player.CanMove(PLAYER_CHAR) = false
    
    INT_ZOMBIE_OFF_FADING_AND_SHIT_FLAG = 1
    
    fade 0 500
    $HUD_REMOVE = 1
    wait 500
    
    marker.Disable(MISSION_CHECKPOINT)
    0A41: destroy_entrance_marker MISSION_MARKER    
    v$OBJECTIVE = "DUMMY"
        
    $SAVESTATUS = 1
    $END_DIALOG_INST = 1
    text.ClearAll()
    text.RemoveTextBox()
    select_interior 1
    0860: link_actor PLAYER_ACTOR to_interior 1
    04F9: set_sky_color 1 fade 0
    actor.PutAtNoOffset(PLAYER_ACTOR,1085.6791, -1167.608, 6.5703)
    actor.Angle(PLAYER_ACTOR) = 182.546
    camera.Restore_WithJumpCut()
    create_thread @REFR_3D
    FUCK_YOU_IM_IN_INTERIOR = 1   
    wait 1000
    gosub @TERRY_THREAD2_HOUSEBOMJ_ACTOR_CREATE
    
    fade 1 500
    $HUD_REMOVE = 0
    player.CanMove(PLAYER_CHAR) = true
    wait 500        
    
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 6
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY383"    
    $DIALOG_COUNT = 0
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    $DIALOG_PAUSE = 0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO  
    end
      
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until $DIALOG_END == 1
    
    if
    SHOW_HINTS_FLAG == 1
    then
    text.ShowTextBox('HINT53')
    end
    
    0350: set_actor TERRY_FP2_HOUSEBOMJ maintain_position_when_attacked 0
    0816: set_actor TERRY_FP2_HOUSEBOMJ dont_chase_victim 0
    04EB: AS_actor TERRY_FP2_HOUSEBOMJ crouch 0
    0634: AS_actor TERRY_FP2_HOUSEBOMJ attack_using_weapon_actor PLAYER_ACTOR flags 4 perform_actions_after_time 0 chance_of_action 100
    
    v$OBJECTIVE = "STRB85"
    MISSION_MARKER = marker.CreateAboveActor(TERRY_FP2_HOUSEBOMJ)
    018B: set_marker MISSION_MARKER radar_mode 1
    
    0@ = 0
    1@ = 0
    2@ = 0
    3@ = 0
    
    repeat
    wait 0
    
    if and
    0364:   actor $SURVIVER[0] spotted_actor TERRY_FP2_HOUSEBOMJ
    0@ == 0
        then
        0@ = 1
        05E2: AS_actor $SURVIVER[0] kill_actor TERRY_FP2_HOUSEBOMJ
        end
    
    if and
    0364:   actor TERRY_FP2_HOUSEBOMJ spotted_actor $SURVIVER[0]
    1@ == 0
        then
        1@ = 0
        05E2: AS_actor TERRY_FP2_HOUSEBOMJ kill_actor $SURVIVER[0]
        end
        
    if and
    051A:   actor $SURVIVER[0] damaged_by_actor TERRY_FP2_HOUSEBOMJ
    2@ == 0
        then
        2@ = 1
        05E2: AS_actor $SURVIVER[0] kill_actor TERRY_FP2_HOUSEBOMJ
        end
    
    if and
    051A:   actor TERRY_FP2_HOUSEBOMJ damaged_by_actor $SURVIVER[0]
    3@ == 0
        then
        3@ = 1
        05E2: AS_actor TERRY_FP2_HOUSEBOMJ kill_actor $SURVIVER[0]
        end    
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO
    end
        
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until actor.Dead(TERRY_FP2_HOUSEBOMJ)
    
    v$OBJECTIVE = "DUMMY"
    marker.Disable(MISSION_MARKER)
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY384"
    v$ST_DIALOG[1] = "STRY385"
    $DIALOG_COUNT = 1
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until $DIALOG_END == 1
    
    v$OBJECTIVE = "STRB86"  
    
    032B: 22@ = create_weapon_pickup #CAMERA type 3 ammo 28 at 1088.4359 -1174.9744 6.5778
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO
    end
        
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until pickup.Picked_up(22@)
    
    01B9: set_actor PLAYER_ACTOR armed_weapon_to 43
    
    v$OBJECTIVE = "DUMMY"            
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY386"
    v$ST_DIALOG[1] = "STRY387"
    v$ST_DIALOG[2] = "STRY388"
    v$ST_DIALOG[3] = "STRY389"
    v$ST_DIALOG[4] = "STRY390"
    v$ST_DIALOG[5] = "STRY391"
    v$ST_DIALOG[6] = "STRY392"
    $DIALOG_COUNT = 6
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until $DIALOG_END == 1
    
    v$OBJECTIVE = "STRB19"
    018A: MISSION_CHECKPOINT = create_checkpoint_at 1085.6707 -1166.9359 6.9778
    0A40: MISSION_MARKER = create_entrance_marker_at 1085.6707 -1166.9359 6.9778 color 14
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until 00EC:   actor PLAYER_ACTOR sphere 0 near_point 1085.6707 -1166.9359 radius 1.0 1.0                             
    
    fade 0 500
    $HUD_REMOVE = 1
    player.CanMove(PLAYER_CHAR) = false
    wait 500
    
    actor.DestroyInstantly(TERRY_FP2_HOUSEBOMJ)
    marker.Disable(MISSION_CHECKPOINT)
    0A41: destroy_entrance_marker MISSION_MARKER    
    v$OBJECTIVE = "DUMMY"
            
    $END_DIALOG_INST = 1
    text.ClearAll()
    text.RemoveTextBox()
    select_interior 0
    0860: link_actor PLAYER_ACTOR to_interior 0
    04FA: reset_sky_colors_with_fade 0
    actor.PutAtNoOffset(PLAYER_ACTOR,1089.8816, -1158.2223, 23.8281)
    actor.Angle(PLAYER_ACTOR) = 359.1612
    camera.Restore_WithJumpCut()
    create_thread @REFR_3D   
    wait 1000              
    
    fade 1 500 
    $HUD_REMOVE = 0
    player.CanMove(PLAYER_CHAR) = true
    wait 500  
    
    INT_ZOMBIE_OFF_FADING_AND_SHIT_FLAG = 0
    FUCK_YOU_IM_IN_INTERIOR = 0
    
    :SKI2_JUMP
    
    v$OBJECTIVE = "STRB87"
    018A: MISSION_CHECKPOINT = create_checkpoint_at 909.719299 -1792.071167 13.379362
    03BC: MISSION_SPHERE = create_sphere_at 909.719299 -1792.071167 13.379362 radius 2.0
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY393"
    v$ST_DIALOG[1] = "STRY394"
    v$ST_DIALOG[2] = "STRY395"
    v$ST_DIALOG[3] = "STRY396"
    v$ST_DIALOG[4] = "STRY402"
    v$ST_DIALOG[5] = "STRY403"
    v$ST_DIALOG[6] = "STRY404"
    v$ST_DIALOG[7] = "STRY405"
    v$ST_DIALOG[8] = "STRY406"
    $DIALOG_COUNT = 8
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    30@ = 0
    
    repeat
    wait 0
    
    if
    056D:   actor $SURVIVER[0] defined
    then
    if and
    80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
    not $INT_ENTERING_FLAG == 1
        then
                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        
        $DIALOG_PAUSE = 1
        
        MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
        07E0: set_marker MISSION_MARKER type_to 1
        
        v$OBJECTIVE = "STRB65"
        
        while 80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
        wait 0    
        
        if
        not $CAMP_NUMBER == 8
        then
        if
        not BASE_TEAMMATE_AGRED == 1
        jf @TERRY_THREAD_FAILED_AGRO  
        end  
        
        if or
        803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
        $ENTERED_CAMP_NUMBER == -1
        jf @TERRY_THREAD_FAILED_LDEAD 
        if
        $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
        jf @TERRY_THREAD_FAILED_KETER_WRECKED   
        if
        not actor.Dead(PLAYER_ACTOR)
        jf @TERRY_THREAD_FAILED_PLAYER_DEAD
        if
        056D:   actor $SURVIVER[0] defined
        then                 
        if 
        not actor.Dead($SURVIVER[0]) 
        jf @TERRY_THREAD_FAILED_TERRY_DEAD  
        end    
            
        end
        
        marker.Disable(MISSION_MARKER)
        v$OBJECTIVE = "STRB87"
        018A: MISSION_CHECKPOINT = create_checkpoint_at 909.719299 -1792.071167 13.379362
        03BC: MISSION_SPHERE = create_sphere_at 909.719299 -1792.071167 13.379362 radius 2.0    
        
        $DIALOG_PAUSE = 0     
           
        end
    end    
    
    if and
    0E3E: is_button_just_pressed 0 button 17
    $CHEATS_ON == 1
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
        then
        actor.PutAtNoOffset(PLAYER_ACTOR,909.4442, -1790.6958, 13.2576)
        camera.Restore_WithJumpCut()
        create_thread @3D_REFR
        $END_DIALOG_INST = 1                     
        end 
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO
    end
        
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD 
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED   
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    if
    00F1:   actor PLAYER_ACTOR sphere 0 near_point 909.719299 -1792.071167 radius 2.0 2.0 stopped_in_car
        then                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        0221: set_player PLAYER_CHAR apply_brakes_to_car 1
        $DIALOG_NOT_SKIP = 0
        player.CanMove(PLAYER_CHAR,false)
        
        repeat
        wait 0
        until $DIALOG_END == 1
        
        30@ = 1
        
        break
        
        end
    
    until $DIALOG_END == 1
    
    if
    SHOW_HINTS_FLAG == 1
    then
    v$OBJECTIVE = "STRB90"
    end        
    
    if
    SHOW_HINTS_FLAG == 1
    then
    0A92: create_custom_thread "terryfp2.terry"
    end
    
    while true
    wait 0
    
    if and
    0E3E: is_button_just_pressed 0 button 17
    $CHEATS_ON == 1
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 4
        then
        actor.PutAtNoOffset(PLAYER_ACTOR,909.4442, -1790.6958, 13.2576)
        camera.Restore_WithJumpCut()
        create_thread @3D_REFR
        $END_DIALOG_INST = 1                     
        end
    
    if
    056D:   actor $SURVIVER[0] defined
    then
    if and
    80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
    not $INT_ENTERING_FLAG == 1
        then
                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        
        $DIALOG_PAUSE = 1
        
        MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
        07E0: set_marker MISSION_MARKER type_to 1
        
        v$OBJECTIVE = "STRB65"
        
        while 80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
        wait 0    
        
        if
        not $CAMP_NUMBER == 8
        then
        if
        not BASE_TEAMMATE_AGRED == 1
        jf @TERRY_THREAD_FAILED_AGRO   
        end
         
        if or
        803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
        $ENTERED_CAMP_NUMBER == -1
        jf @TERRY_THREAD_FAILED_LDEAD
        if
        $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
        jf @TERRY_THREAD_FAILED_KETER_WRECKED    
        if
        not actor.Dead(PLAYER_ACTOR)
        jf @TERRY_THREAD_FAILED_PLAYER_DEAD
        if
        056D:   actor $SURVIVER[0] defined
        then                 
        if 
        not actor.Dead($SURVIVER[0]) 
        jf @TERRY_THREAD_FAILED_TERRY_DEAD  
        end    
            
        end
        
        marker.Disable(MISSION_MARKER)
        v$OBJECTIVE = "STRB90"
        018A: MISSION_CHECKPOINT = create_checkpoint_at 909.719299 -1792.071167 13.379362
        03BC: MISSION_SPHERE = create_sphere_at 909.719299 -1792.071167 13.379362 radius 2.0    
        
        $DIALOG_PAUSE = 0     
           
        end
    end       
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD 
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED   
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    if
    SHOW_HINTS_FLAG == 1
    then
    text.ShowH('HINT49',10,1)
    else
    break
    end
    
    0AAA: 0@ = thread 'TFP2SVD' pointer
    if
    0@ == 0
        then  
        break
        end
        
    end
    
    v$OBJECTIVE = "DUMMY"
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY407"
    v$ST_DIALOG[1] = "STRY408"
    $DIALOG_COUNT = 1
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    
    repeat
    wait 0    
    
    if
    056D:   actor $SURVIVER[0] defined
    then
    if and
    80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
    not $INT_ENTERING_FLAG == 1
        then
                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        
        $DIALOG_PAUSE = 1
        
        MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
        07E0: set_marker MISSION_MARKER type_to 1
        
        v$OBJECTIVE = "STRB65"
        
        while 80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
        wait 0    
        
        if
        not $CAMP_NUMBER == 8
        then
        if
        not BASE_TEAMMATE_AGRED == 1
        jf @TERRY_THREAD_FAILED_AGRO 
        end 
          
        if or
        803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
        $ENTERED_CAMP_NUMBER == -1
        jf @TERRY_THREAD_FAILED_LDEAD 
        if
        $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
        jf @TERRY_THREAD_FAILED_KETER_WRECKED   
        if
        not actor.Dead(PLAYER_ACTOR)
        jf @TERRY_THREAD_FAILED_PLAYER_DEAD
        if
        056D:   actor $SURVIVER[0] defined
        then                 
        if 
        not actor.Dead($SURVIVER[0]) 
        jf @TERRY_THREAD_FAILED_TERRY_DEAD  
        end    
            
        end
        
        marker.Disable(MISSION_MARKER)
        v$OBJECTIVE = "STRB87"
        018A: MISSION_CHECKPOINT = create_checkpoint_at 909.719299 -1792.071167 13.379362
        03BC: MISSION_SPHERE = create_sphere_at 909.719299 -1792.071167 13.379362 radius 2.0    
        
        $DIALOG_PAUSE = 0     
           
        end
    end 
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO  
    end
      
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD 
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED   
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
      
    until $DIALOG_END == 1
    
    if
    30@ == 0
    then
    
    v$OBJECTIVE = "STRB87"
    
    repeat
    wait 0
    
    if
    056D:   actor $SURVIVER[0] defined
    then
    if and
    80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
    not $INT_ENTERING_FLAG == 1
        then
                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        
        $DIALOG_PAUSE = 1
        
        MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
        07E0: set_marker MISSION_MARKER type_to 1
        
        v$OBJECTIVE = "STRB65"
        
        while 80F2: not  actor $SURVIVER[0] near_actor PLAYER_ACTOR radius 100.0 100.0 0  
        wait 0    
        
        if
        not $CAMP_NUMBER == 8
        then
        if
        not BASE_TEAMMATE_AGRED == 1
        jf @TERRY_THREAD_FAILED_AGRO  
        end
          
        if or
        803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
        $ENTERED_CAMP_NUMBER == -1
        jf @TERRY_THREAD_FAILED_LDEAD
        if
        $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
        jf @TERRY_THREAD_FAILED_KETER_WRECKED    
        if
        not actor.Dead(PLAYER_ACTOR)
        jf @TERRY_THREAD_FAILED_PLAYER_DEAD
        if
        056D:   actor $SURVIVER[0] defined
        then                 
        if 
        not actor.Dead($SURVIVER[0]) 
        jf @TERRY_THREAD_FAILED_TERRY_DEAD  
        end    
            
        end
        
        marker.Disable(MISSION_MARKER)
        v$OBJECTIVE = "STRB87"
        018A: MISSION_CHECKPOINT = create_checkpoint_at 909.719299 -1792.071167 13.379362
        03BC: MISSION_SPHERE = create_sphere_at 909.719299 -1792.071167 13.379362 radius 2.0    
        
        $DIALOG_PAUSE = 0     
           
        end
    end
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO  
    end
      
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD  
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED  
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    if
    00F1:   actor PLAYER_ACTOR sphere 0 near_point 909.719299 -1792.071167 radius 2.0 2.0 stopped_in_car
        then                         
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        0221: set_player PLAYER_CHAR apply_brakes_to_car 1               
        break        
        end
    
    until false
    
    end
    
    v$OBJECTIVE = "DUMMY"       
     
    1@ = actor.CurrentCar(PLAYER_ACTOR)
    068B: set_car 1@ all_disembark
    0221: set_player PLAYER_CHAR apply_brakes_to_car 0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO   
    end
     
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    if and
    not actor.InCar(PLAYER_ACTOR,1@)
    not actor.InCar($SURVIVER[0],1@)
        then
        break
        end
    
    until false
    
    player.CanMove(PLAYER_CHAR,true)             
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY409"
    v$ST_DIALOG[1] = "STRY410"
    v$ST_DIALOG[2] = "STRY411"
    $DIALOG_COUNT = 2
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    
    repeat
    wait 0    
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO   
    end
     
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED    
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
       
    until $DIALOG_END == 1
    
    while not animation.Available("on_lookers")
    wait 0
    animation.Load("on_lookers")
    end
    
    $NOT_ALLOW_COMMANDS = 1
           
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    
    actor.PutAtNoOffset($SURVIVER[0],912.816345, -1807.664063, 25.640638)
    actor.Angle($SURVIVER[0]) = 343.311432  
    0792: disembark_instantly_actor $SURVIVER[0]
    05B9: AS_actor $SURVIVER[0] stay_idle 1000 ms      
    
    wait 500
            
    0615: define_AS_pack_begin 0@
    0812: AS_actor -1 perform_animation "wave_in" IFP "on_lookers" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 time 830  // versionB
    0812: AS_actor -1 perform_animation "wave_loop" IFP "on_lookers" framedelta 4.0 loopA 1 lockX 0 lockY 0 lockF 0 time 999999999  // versionB
    0616: define_AS_pack_end 0@
    0618: assign_actor $SURVIVER[0] to_AS_pack 0@
    061B: remove_references_to_AS_pack 0@    
    
    fade 1 250
    $HUD_REMOVE = 0
    wait 250    
    
    v$OBJECTIVE = "STRB91"
    018A: MISSION_CHECKPOINT = create_checkpoint_at 926.225281 -1757.615112 13.546878
    03BC: MISSION_SPHERE = create_sphere_at 926.225281 -1757.615112 13.546878 radius 1.0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD 
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED   
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    if
    00EC:   actor PLAYER_ACTOR sphere 0 near_point 926.225281 -1757.615112 radius 1.0 1.0
        then                 
        marker.Disable(MISSION_CHECKPOINT)
        03BD: destroy_sphere MISSION_SPHERE
        break
        end
    
    until false
    
    MISSION_MARKER = marker.CreateAboveActor($SURVIVER[0])
    07E0: set_marker MISSION_MARKER type_to 1
    
    v$OBJECTIVE = "STRB88"
    
    5@ = object.Create(1208,913.2186, -1805.6366, 25.8239)
    object.SetImmunities(5@,1,1,1,1,1)
    0382: set_object 5@ collision_detection 0
    0750: set_object 5@ visibility 0
    
    repeat
    wait 0
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD 
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED   
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until 0833:   object 5@ photographed 
    
    object.Destroy(5@)
    
    v$OBJECTIVE = "DUMMY"
    marker.Disable(MISSION_MARKER)  
    
    0812: AS_actor $SURVIVER[0] perform_animation "wave_out" IFP "on_lookers" framedelta 4.0 loopA 0 lockX 0 lockY 0 lockF 0 time 830  // versionB
    wait 830
                  
    fade 0 250
    $HUD_REMOVE = 1
    wait 250
    
    0A96: 0@ = actor PLAYER_ACTOR struct
    0AA5: call 0x043F1F0 num_params 1 pop 0 0@ //CEntryExit::WarpGangWithPlayer
    $NOT_ALLOW_COMMANDS = 0
    
    wait 1000    
    fade 1 250
    $HUD_REMOVE = 0
    wait 250
    
    $END_DIALOG_INST = 1
    wait 0
    v$ST_DIALOG[0] = "STRY412"
    v$ST_DIALOG[1] = "STRY413"
    v$ST_DIALOG[2] = "STRY414"    
    v$ST_DIALOG[3] = "STR414"
    v$ST_DIALOG[4] = "STR415"
    v$ST_DIALOG[5] = "STR416"
    v$ST_DIALOG[6] = "STR417"
    v$ST_DIALOG[7] = "STR418"
    v$ST_DIALOG[8] = "STR419"    
    v$ST_DIALOG[9] = "STRY415"
    v$ST_DIALOG[10] = "STRY416"
    v$ST_DIALOG[11] = "STRY417"
    v$ST_DIALOG[12] = "STRY418"
    $DIALOG_COUNT = 12
    $DIALOG_NOT_SKIP = 1
    create_thread @DG_SYS2
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
    CAMP_DONT_SAY_HELLO_FLAG = 1
    $PHRASES_OFF_FLAG = 1
    wait 0
    
    repeat
    wait 0       
    
    if
    not $CAMP_NUMBER == 8
    then
    if
    not BASE_TEAMMATE_AGRED == 1
    jf @TERRY_THREAD_FAILED_AGRO 
    end
       
    if or
    803A: not  LEADER_DIED_FLAG == $ENTERED_CAMP_NUMBER // (int)
    $ENTERED_CAMP_NUMBER == -1
    jf @TERRY_THREAD_FAILED_LDEAD  
    if
    $SAVE_CAR_CREATED[LATEST_CAR_SLOT_USED] == 1
    jf @TERRY_THREAD_FAILED_KETER_WRECKED  
    if
    not actor.Dead(PLAYER_ACTOR)
    jf @TERRY_THREAD_FAILED_PLAYER_DEAD
    if
    056D:   actor $SURVIVER[0] defined
    then                 
    if 
    not actor.Dead($SURVIVER[0]) 
    jf @TERRY_THREAD_FAILED_TERRY_DEAD  
    end
    
    until $DIALOG_END == 1
    
    0555: remove_weapon 43 from_actor PLAYER_ACTOR
    
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
    CAMP_DONT_SAY_HELLO_FLAG = 0
    $PHRASES_OFF_FLAG = 0
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 7
    $SAVESTATUS = 0   
    
    end
    
if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 7
$DIALOG_END == 1
    then
    TERRY_THREAD_CURRENT_DIALOG_INDEX = 8
    v$OBJECTIVE = "STRB66"    
    marker.Disable(TERRY_THREAD_QUEST_MARKER)
    TERRY_THREAD_QUEST_MARKER = marker.CreateIconAndSphere2(95, 2123.7444, -2275.5356, 20.6719)
    $QUEST_READY_FLAG = -115
    32@ = 0
    PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 0
    CAMP_DONT_SAY_HELLO_FLAG = 0
    $PHRASES_OFF_FLAG = 0
    else
    if and
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 7
    $DIALOG_END == 0
        then
        PLAYER_CANT_SPEAK_WITH_LEADER_FLAG = 1
        CAMP_DONT_SAY_HELLO_FLAG = 1
        $PHRASES_OFF_FLAG = 1
        end
    end 
    
if and
TERRY_THREAD_CURRENT_DIALOG_INDEX == 8
PLAY_TALK_ACTOR < 1
    then
    if and
    0E3E: is_button_just_pressed 0 button 17
    $CHEATS_ON == 1
        then
        actor.PutAtNoOffset(PLAYER_ACTOR,2124.1841, -2275.676, 20.6719)
        actor.Angle(PLAYER_ACTOR) = 71.8286
        camera.Restore_WithJumpCut()
        create_thread @3D_REFR
        $END_DIALOG_INST = 1
        end
    else
    if and
    TERRY_THREAD_CURRENT_DIALOG_INDEX == 8
    PLAY_TALK_ACTOR > 0
    075C:   marker TERRY_THREAD_QUEST_MARKER enabled
        then
        marker.Disable(TERRY_THREAD_QUEST_MARKER)
        end
    end                                  

end

end_thread

:TERRY_THREAD2_HOUSEBOMJ_ACTOR_CREATE

while not model.Available(1197)
wait 0
model.Load(1197)
mload
end

TERRY_FP2_HOUSEBOMJ = actor.Create(29,1197,1087.9114,  -1182.3827, 6.5778)
actor.Angle(TERRY_FP2_HOUSEBOMJ) = 37.2117
0860: link_actor TERRY_FP2_HOUSEBOMJ to_interior 1
     
0D10: set_actor TERRY_FP2_HOUSEBOMJ alpha 255 // IF and SET
    
create_thread @PED_BKP TERRY_FP2_HOUSEBOMJ 371
create_thread @ANT_PRE TERRY_FP2_HOUSEBOMJ

0781: get_weapon_with_ID 73 model_to 1@

while not model.Available(1@)
wait 0
model.Load(1@)
mload
end

actor.GiveWeaponAndAmmo(TERRY_FP2_HOUSEBOMJ,73,99999)

actor.Health(TERRY_FP2_HOUSEBOMJ) = 1000

0D10: set_actor TERRY_FP2_HOUSEBOMJ alpha 255 // IF and SET
09F4: set_actor TERRY_FP2_HOUSEBOMJ ignore_height_difference_following_nodes $Z_IGNORE_HEIGHT     
Actor.SetWalkStyle(TERRY_FP2_HOUSEBOMJ, "SURV1")
0446: set_actor TERRY_FP2_HOUSEBOMJ dismemberment_possible 0
060B: set_actor TERRY_FP2_HOUSEBOMJ decision_maker_to $DEC_PEOPLE
07DD: set_actor TERRY_FP2_HOUSEBOMJ attack_rate 50 // previously known as temper_to
081A: set_actor TERRY_FP2_HOUSEBOMJ weapon_skill_to 2  
060F: set_actor TERRY_FP2_HOUSEBOMJ melee_accuracy_to 999.0
0946: set_actor TERRY_FP2_HOUSEBOMJ actions_uninterupted_by_weapon_fire 1

if
UNITED_MAP == 0
then
04D8: set_actor TERRY_FP2_HOUSEBOMJ drowns_in_water 0 
end

09B5: set_actor TERRY_FP2_HOUSEBOMJ signal_after_kill 0  
0A96: 0@ = actor TERRY_FP2_HOUSEBOMJ struct
0A8E: 0@ = 0@ + 1376
0A8C: write_memory 0@ size 4 value $SURVIVORS_ROTATE_SPEED virtual_protect 1

08AF: set_actor TERRY_FP2_HOUSEBOMJ max_health_to $SURVIVER_MAX_HEALTH
Actor.WeaponAccuracy(TERRY_FP2_HOUSEBOMJ) = $SURV_ACCURACY

04EB: AS_actor TERRY_FP2_HOUSEBOMJ crouch 1

return